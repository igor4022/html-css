// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  define(IteratorPrototype, iteratorSymbol, function () {
    return this;
  });

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = GeneratorFunctionPrototype;
  define(Gp, "constructor", GeneratorFunctionPrototype);
  define(GeneratorFunctionPrototype, "constructor", GeneratorFunction);
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
    return this;
  });
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  define(Gp, iteratorSymbol, function() {
    return this;
  });

  define(Gp, "toString", function() {
    return "[object Generator]";
  });

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, in modern engines
  // we can explicitly access globalThis. In older engines we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}

"use strict";var _regeneratorRuntime=_interopRequireDefault(regeneratorRuntime);function _arrayLikeToArray(_,ce){(ce==null||ce>_.length)&&(ce=_.length);for(var Ie=0,Vr=new Array(ce);Ie<ce;Ie++)Vr[Ie]=_[Ie];return Vr}function _arrayWithHoles(_){if(Array.isArray(_))return _}function _arrayWithoutHoles(_){if(Array.isArray(_))return _arrayLikeToArray(_)}function _assertThisInitialized(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function _classCallCheck(_,ce){if(!(_ instanceof ce))throw new TypeError("Cannot call a class as a function")}function isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(_){return!1}}function _construct(_,ce,Ie){return isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(xi,xo,an){var Wi=[null];Wi.push.apply(Wi,xo);var li=Function.bind.apply(xi,Wi),ed=new li;return an&&_setPrototypeOf(ed,an.prototype),ed},_construct.apply(null,arguments)}function _defineProperties(_,ce){for(var Ie=0;Ie<ce.length;Ie++){var Vr=ce[Ie];Vr.enumerable=Vr.enumerable||!1,Vr.configurable=!0,"value"in Vr&&(Vr.writable=!0),Object.defineProperty(_,Vr.key,Vr)}}function _createClass(_,ce,Ie){return ce&&_defineProperties(_.prototype,ce),Ie&&_defineProperties(_,Ie),_}function _defineProperty(_,ce,Ie){return ce in _?Object.defineProperty(_,ce,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):_[ce]=Ie,_}function _get(_,ce,Ie){return typeof Reflect!="undefined"&&Reflect.get?_get=Reflect.get:_get=function(xi,xo,an){var Wi=_superPropBase(xi,xo);if(Wi){var li=Object.getOwnPropertyDescriptor(Wi,xo);return li.get?li.get.call(an):li.value}},_get(_,ce,Ie||_)}function _getPrototypeOf(_){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)},_getPrototypeOf(_)}function _inherits(_,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(ce&&ce.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),ce&&_setPrototypeOf(_,ce)}function _instanceof(_,ce){return ce!=null&&typeof Symbol!="undefined"&&ce[Symbol.hasInstance]?!!ce[Symbol.hasInstance](_):_ instanceof ce}function _interopRequireDefault(_){return _&&_.__esModule?_:{default:_}}function _isNativeFunction(_){return Function.toString.call(_).indexOf("[native code]")!==-1}function _iterableToArray(_){if(typeof Symbol!="undefined"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function _iterableToArrayLimit(_,ce){var Ie=_==null?null:typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(Ie!=null){var Vr=[],xi=!0,xo=!1,an,Wi;try{for(Ie=Ie.call(_);!(xi=(an=Ie.next()).done)&&(Vr.push(an.value),!(ce&&Vr.length===ce));xi=!0);}catch(li){xo=!0,Wi=li}finally{try{!xi&&Ie.return!=null&&Ie.return()}finally{if(xo)throw Wi}}return Vr}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possibleConstructorReturn(_,ce){return ce&&(_typeof(ce)==="object"||typeof ce=="function")?ce:_assertThisInitialized(_)}function _setPrototypeOf(_,ce){return _setPrototypeOf=Object.setPrototypeOf||function(Vr,xi){return Vr.__proto__=xi,Vr},_setPrototypeOf(_,ce)}function _slicedToArray(_,ce){return _arrayWithHoles(_)||_iterableToArrayLimit(_,ce)||_unsupportedIterableToArray(_,ce)||_nonIterableRest()}function _superPropBase(_,ce){for(;!Object.prototype.hasOwnProperty.call(_,ce)&&(_=_getPrototypeOf(_),_!==null););return _}function _taggedTemplateLiteral(_,ce){return ce||(ce=_.slice(0)),Object.freeze(Object.defineProperties(_,{raw:{value:Object.freeze(ce)}}))}function _toConsumableArray(_){return _arrayWithoutHoles(_)||_iterableToArray(_)||_unsupportedIterableToArray(_)||_nonIterableSpread()}var _typeof=function(_){"@swc/helpers - typeof";return _&&typeof Symbol!="undefined"&&_.constructor===Symbol?"symbol":typeof _};function _unsupportedIterableToArray(_,ce){if(_){if(typeof _=="string")return _arrayLikeToArray(_,ce);var Ie=Object.prototype.toString.call(_).slice(8,-1);if(Ie==="Object"&&_.constructor&&(Ie=_.constructor.name),Ie==="Map"||Ie==="Set")return Array.from(Ie);if(Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie))return _arrayLikeToArray(_,ce)}}function _wrapNativeSuper(_){var ce=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(Vr){if(Vr===null||!_isNativeFunction(Vr))return Vr;if(typeof Vr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ce!="undefined"){if(ce.has(Vr))return ce.get(Vr);ce.set(Vr,xi)}function xi(){return _construct(Vr,arguments,_getPrototypeOf(this).constructor)}return xi.prototype=Object.create(Vr.prototype,{constructor:{value:xi,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(xi,Vr)},_wrapNativeSuper(_)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_){return!1}}function _createSuper(_){var ce=_isNativeReflectConstruct();return function(){var Vr=_getPrototypeOf(_),xi;if(ce){var xo=_getPrototypeOf(this).constructor;xi=Reflect.construct(Vr,arguments,xo)}else xi=Vr.apply(this,arguments);return _possibleConstructorReturn(this,xi)}}function _templateObject(){var _=_taggedTemplateLiteral(["List settings"]);return _templateObject=function(){return _},_}function _templateObject1(){var _=_taggedTemplateLiteral(["\n      <iaux-userlist-settings\n        .userList=","\n        .userListsService=","\n        @listModalClosed=","\n        @userListError=","\n        @userListSaving=","\n        @userListSaved=","\n      ></iaux-userlist-settings>\n    "]);return _templateObject1=function(){return _},_}function _templateObject2(){var _=_taggedTemplateLiteral(['\n      <div class="','">\n        <svg\n          viewBox="0 0 120 120"\n          preserveAspectRatio="none"\n          version="1.1"\n          xmlns="http://www.w3.org/2000/svg"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          aria-labelledby="indicatorTitle indicatorDescription"\n        >\n          <title id="indicatorTitle">Activity Indicator</title>\n          <desc id="indicatorDescription">\n            A rotating activity indicator with three dots in the middle.\n          </desc>\n          <g\n            id="icons/check-ring---squared"\n            stroke="none"\n            stroke-width="1"\n            fill="none"\n            fill-rule="evenodd"\n          >\n            <path\n              id="completed-ring"\n              class="loaded-indicator"\n              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"\n            ></path>\n            <polygon\n              id="check"\n              class="loaded-indicator"\n              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "\n              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"\n            ></polygon>\n            <path\n              id="activity-ring"\n              class="activity-indicator"\n              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"\n            ></path>\n            <g\n              id="activity-dots"\n              class="activity-indicator"\n              transform="translate(40.000000, 55.000000)"\n            >\n              <circle id="left-dot" cx="5" cy="5" r="5"></circle>\n              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>\n              <circle id="right-dot" cx="35" cy="5" r="5"></circle>\n            </g>\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject2=function(){return _},_}function _templateObject3(){var _=_taggedTemplateLiteral(["var(--activityIndicatorCheckmarkColor, #31A481)"]);return _templateObject3=function(){return _},_}function _templateObject4(){var _=_taggedTemplateLiteral(["var(--activityIndicatorCompletedRingColor, #31A481)"]);return _templateObject4=function(){return _},_}function _templateObject5(){var _=_taggedTemplateLiteral(["var(--activityIndicatorLoadingRingColor, #333333)"]);return _templateObject5=function(){return _},_}function _templateObject6(){var _=_taggedTemplateLiteral(["var(--activityIndicatorLoadingDotColor, #333333)"]);return _templateObject6=function(){return _},_}function _templateObject7(){var _=_taggedTemplateLiteral(["\n      #completed-ring {\n        fill: ",";\n      }\n\n      #check {\n        fill: ",";\n      }\n\n      #activity-ring {\n        fill: ",";\n      }\n\n      #activity-dots {\n        fill: ",";\n      }\n\n      .activity-indicator {\n        opacity: 0;\n        transition: opacity 0.25s ease-out;\n      }\n\n      .processing .activity-indicator {\n        opacity: 1;\n      }\n\n      .loaded-indicator {\n        opacity: 1;\n        transition: opacity 0.25s ease-out;\n      }\n\n      .processing .loaded-indicator {\n        opacity: 0;\n      }\n\n      .image {\n        border: 1px solid red;\n        display: inline-block;\n      }\n\n      .processing #activity-ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n      }\n\n      .processing #left-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.2s;\n      }\n\n      .processing #middle-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.4s;\n      }\n\n      .processing #right-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.6s;\n      }\n\n      @keyframes rotate {\n        0% {\n          transform: rotate(-360deg);\n        }\n        100% {\n          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */\n          transform: rotate(0deg);\n        }\n      }\n\n      @keyframes dot {\n        0% {\n          opacity: 0;\n        }\n        25% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    "]);return _templateObject7=function(){return _},_}function _templateObject8(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject8=function(){return _},_}function _templateObject9(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject9=function(){return _},_}function _templateObject10(){var _=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" class="fill-color">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use class="fill-color" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" class="fill-color">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject10=function(){return _},_}function _templateObject11(){var _=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject11=function(){return _},_}function _templateObject12(){var _=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject12=function(){return _},_}function _templateObject13(){var _=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject13=function(){return _},_}function _templateObject14(){var _=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject14=function(){return _},_}function _templateObject15(){var _=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject15=function(){return _},_}function _templateObject16(){var _=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject16=function(){return _},_}function _templateObject17(){var _=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        @click=',"\n        @keydown=","\n      >\n        <ia-icon-close></ia-icon-close>\n      </button>\n    "]);return _templateObject17=function(){return _},_}function _templateObject18(){var _=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject18=function(){return _},_}function _templateObject19(){var _=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject19=function(){return _},_}function _templateObject20(){var _=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject20=function(){return _},_}function _templateObject21(){var _=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject21=function(){return _},_}function _templateObject22(){var _=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject22=function(){return _},_}function _templateObject23(){var _=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject23=function(){return _},_}function _templateObject24(){var _=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject24=function(){return _},_}function _templateObject25(){var _=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject25=function(){return _},_}function _templateObject26(){var _=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject26=function(){return _},_}function _templateObject27(){var _=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject27=function(){return _},_}function _templateObject28(){var _=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject28=function(){return _},_}function _templateObject29(){var _=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject29=function(){return _},_}function _templateObject30(){var _=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject30=function(){return _},_}function _templateObject31(){var _=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject31=function(){return _},_}function _templateObject32(){var _=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject32=function(){return _},_}function _templateObject33(){var _=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject33=function(){return _},_}function _templateObject34(){var _=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject34=function(){return _},_}function _templateObject35(){var _=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject35=function(){return _},_}function _templateObject36(){var _=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="-1"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject36=function(){return _},_}function _templateObject37(){var _=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject37=function(){return _},_}function _templateObject38(){var _=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject38=function(){return _},_}function _templateObject39(){var _=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject39=function(){return _},_}function _templateObject40(){var _=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject40=function(){return _},_}function _templateObject41(){var _=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject41=function(){return _},_}function _templateObject42(){var _=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject42=function(){return _},_}function _templateObject43(){var _=_taggedTemplateLiteral([' <div class="title">',"</div> "]);return _templateObject43=function(){return _},_}function _templateObject44(){var _=_taggedTemplateLiteral(['\n      <div class="container ','">\n        <div class="badge-container">\n          <div class="badge">','</div>\n        </div>\n        <div class="content-container">\n          ','\n          <div class="content">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    ']);return _templateObject44=function(){return _},_}function _templateObject45(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeTransition, 0.25s ease-out)"]);return _templateObject45=function(){return _},_}function _templateObject46(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeMargin, 1rem)"]);return _templateObject46=function(){return _},_}function _templateObject47(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeBackgroundColor, #333)"]);return _templateObject47=function(){return _},_}function _templateObject48(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeRadius, 1.2rem)"]);return _templateObject48=function(){return _},_}function _templateObject49(){var _=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject49=function(){return _},_}function _templateObject50(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeFontSize, 1.8rem)"]);return _templateObject50=function(){return _},_}function _templateObject51(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeFontWeight, bold)"]);return _templateObject51=function(){return _},_}function _templateObject52(){var _=_taggedTemplateLiteral(["var(--formSectionBadgeFontColor, #fff)"]);return _templateObject52=function(){return _},_}function _templateObject53(){var _=_taggedTemplateLiteral(["var(--formSectionTitleFontSize, 1.8rem)"]);return _templateObject53=function(){return _},_}function _templateObject54(){var _=_taggedTemplateLiteral(["var(--formSectionTitleFontWeight, bold)"]);return _templateObject54=function(){return _},_}function _templateObject55(){var _=_taggedTemplateLiteral(["var(--formSectionContentBackgroundColor, transparent)"]);return _templateObject55=function(){return _},_}function _templateObject56(){var _=_taggedTemplateLiteral(["var(--formSectionTextColor, #333)"]);return _templateObject56=function(){return _},_}function _templateObject57(){var _=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject57=function(){return _},_}function _templateObject58(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        background-color: ",";\n        color: ",";\n      }\n      .container {\n        position: relative;\n        padding: 0.5rem;\n      }\n\n      .content-container {\n        position: relative;\n        left: calc("," + ",");\n        width: calc(100% - ("," + ","));\n        transition: ",";\n        z-index: 1;\n      }\n\n      .hidebadge .content-container {\n        left: 0;\n        width: 100%;\n      }\n\n      .hidebadge .badge-container {\n        display: none;\n      }\n\n      .hidebadgeleavespacing .badge {\n        display: none;\n      }\n\n      .badge-container {\n        position: absolute;\n        width: ",";\n      }\n\n      .badge {\n        background-color: ",";\n        color: ",";\n        width: ",";\n        height: ",";\n        border-radius: ",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-weight: ",";\n        font-size: ",";\n      }\n\n      .title {\n        line-height: ",";\n        margin-bottom: 0.5rem;\n        font-size: ",";\n        font-weight: ",";\n      }\n    "]);return _templateObject58=function(){return _},_}function _templateObject59(){var _=_taggedTemplateLiteral(['<slot name="edit-donation-amount-title"></slot>']);return _templateObject59=function(){return _},_}function _templateObject60(){var _=_taggedTemplateLiteral(['<li class="custom-amount">',"</li>"]);return _templateObject60=function(){return _},_}function _templateObject61(){var _=_taggedTemplateLiteral([' <div class="checkbox-options">\n              ',"\n              ","\n            </div>"]);return _templateObject61=function(){return _},_}function _templateObject62(){var _=_taggedTemplateLiteral(["\n      ",'\n\n      <donation-form-section\n        sectionBadge="','"\n        headline=',"\n        badgeMode=","\n      >\n        ",'\n        <ul class="amount-selector">\n          ',"\n          ",'\n        </ul>\n\n        <div class="errors">',"</div>\n\n        ","\n      </donation-form-section>\n    "]);return _templateObject62=function(){return _},_}function _templateObject63(){var _=_taggedTemplateLiteral(['\n      <donation-form-section\n        sectionBadge="1"\n        headline="Choose a frequency"\n        badgeMode=','\n      >\n        <ul class="frequency-selector">\n          ',"\n        </ul>\n      </donation-form-section>\n    "]);return _templateObject63=function(){return _},_}function _templateObject64(){var _=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="make-this-monthly"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="make-this-monthly"> Make this monthly </label>\n      </div>\n    ']);return _templateObject64=function(){return _},_}function _templateObject65(){var _=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="cover-fees"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="cover-fees"> '," </label>\n      </div>\n    "]);return _templateObject65=function(){return _},_}function _templateObject66(){var _=_taggedTemplateLiteral([" I'll generously add "," to cover fees. "]);return _templateObject66=function(){return _},_}function _templateObject67(){var _=_taggedTemplateLiteral(["\n      <li>\n        ","\n      </li>\n\n      <li>\n        ","\n      </li>\n    "]);return _templateObject67=function(){return _},_}function _templateObject68(){var _=_taggedTemplateLiteral(["\n          <li>\n            ","\n          </li>\n        "]);return _templateObject68=function(){return _},_}function _templateObject69(){var _=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject69=function(){return _},_}function _templateObject70(){var _=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=',"\n          value=","\n          id=",'\n          tabindex="0"\n          .checked=',"\n          @change=","\n          @click=","\n        />\n        <label for=","> "," </label>\n      </div>\n    "]);return _templateObject70=function(){return _},_}function _templateObject71(){var _=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=','\n          value="custom"\n          id="custom-amount-button"\n          tabindex="0"\n          @change=','\n        />\n\n        <label for="custom-amount-button">\n          <span class="custom-amount-text">Custom: $</span\n          ><input\n            type="text"\n            id="custom-amount-input"\n            tabindex="-1"\n            value=',"\n            @input=","\n            @keydown=","\n            @focus=","\n          />\n        </label>\n      </div>\n    "]);return _templateObject71=function(){return _},_}function _templateObject72(){var _=_taggedTemplateLiteral(['\n          To make a donation of $10,000 or more, please contact our philanthropy\n          department at\n          <a href="mailto:donations@archive.org">donations@archive.org</a>\n        ']);return _templateObject72=function(){return _},_}function _templateObject73(){var _=_taggedTemplateLiteral([" Please select an amount (minimum $1) "]);return _templateObject73=function(){return _},_}function _templateObject74(){var _=_taggedTemplateLiteral([" Please enter a valid donation amount "]);return _templateObject74=function(){return _},_}function _templateObject75(){var _=_taggedTemplateLiteral(["var(--paymentButtonBorderColor, #333)"]);return _templateObject75=function(){return _},_}function _templateObject76(){var _=_taggedTemplateLiteral(["var(--paymentButtonGridGap, 1rem)"]);return _templateObject76=function(){return _},_}function _templateObject77(){var _=_taggedTemplateLiteral(["var(--paymentButtonFontSize, 1.6rem)"]);return _templateObject77=function(){return _},_}function _templateObject78(){var _=_taggedTemplateLiteral(["var(--paymentButtonFontColor, #000)"]);return _templateObject78=function(){return _},_}function _templateObject79(){var _=_taggedTemplateLiteral(["var(--paymentButtonSelectedFontColor, #000)"]);return _templateObject79=function(){return _},_}function _templateObject80(){var _=_taggedTemplateLiteral(["var(--paymentButtonSelectedColor, #f9bf3b)"]);return _templateObject80=function(){return _},_}function _templateObject81(){var _=_taggedTemplateLiteral(["var(--paymentButtonFocusedOutlineColor, #7fb3f9)"]);return _templateObject81=function(){return _},_}function _templateObject82(){var _=_taggedTemplateLiteral(["var(--paymentButtonColor, #fff)"]);return _templateObject82=function(){return _},_}function _templateObject83(){var _=_taggedTemplateLiteral(["var(--coverFeesFontSize, 1.2rem)"]);return _templateObject83=function(){return _},_}function _templateObject84(){var _=_taggedTemplateLiteral(["var(--coverFeesFontWeight, bold)"]);return _templateObject84=function(){return _},_}function _templateObject85(){var _=_taggedTemplateLiteral(["var(--customAmountWidth, 4rem)"]);return _templateObject85=function(){return _},_}function _templateObject86(){var _=_taggedTemplateLiteral(["var(--inputFieldFontColor, #333)"]);return _templateObject86=function(){return _},_}function _templateObject87(){var _=_taggedTemplateLiteral(["var(--inputBorder, 1px solid #d9d9d9)"]);return _templateObject87=function(){return _},_}function _templateObject88(){var _=_taggedTemplateLiteral(["var(--paymentSelectorAmountColumnCount, 5)"]);return _templateObject88=function(){return _},_}function _templateObject89(){var _=_taggedTemplateLiteral(["var(--paymentSelectorCustomAmountColSpan, 3)"]);return _templateObject89=function(){return _},_}function _templateObject90(){var _=_taggedTemplateLiteral(["\n      :host {\n        --formSectionContentBackgroundColor: var(\n          --editFormBgColor,\n          transparent\n        );\n        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);\n        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);\n        --formSectionTextColor: var(--editFormTextColor, #333);\n      }\n      .errors {\n        color: red;\n        font-size: 1.4rem;\n        margin-top: 0.5rem;\n      }\n\n      ul {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        display: grid;\n        grid-gap: ",";\n      }\n\n      li {\n        margin: 0;\n        padding: 0;\n        display: inline-block;\n      }\n\n      .frequency-selector {\n        grid-template-columns: repeat(2, 1fr);\n      }\n\n      .amount-selector {\n        grid-template-columns: repeat(",", 1fr);\n      }\n\n      .custom-amount {\n        grid-column: span ",";\n      }\n\n      .selection-button {\n        height: 3rem;\n      }\n\n      .selection-button label {\n        padding: 0 0.3rem;\n        display: flex;\n        cursor: pointer;\n        text-align: center;\n        font-size: ",";\n        font-weight: bold;\n        border: 1px solid ",";\n        border-radius: 5px;\n        background-color: #ccc;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n      }\n\n      label[for='custom-amount-button'] {\n        padding: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .custom-amount-text {\n        white-space: nowrap;\n        margin-right: 0.5rem;\n      }\n\n      input[type='radio'] {\n        opacity: 0;\n        width: 0;\n        height: 0;\n        position: absolute;\n      }\n\n      input[type='radio'] + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:checked + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:focus + label {\n        outline: 2px solid ",";\n      }\n\n      .checkbox-options {\n        margin-top: 1rem;\n      }\n\n      .checkbox-option-container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .checkbox-option-container input {\n        width: 2rem;\n      }\n\n      .checkbox-option-container label {\n        font-size: ",";\n        font-weight: ",";\n        flex: 1;\n      }\n\n      #custom-amount-input {\n        width: ",";\n        font-size: 1.6rem;\n        font-weight: bold;\n        color: ",";\n        padding: 0.1rem;\n        border: ",";\n        appearance: none;\n        -moz-appearance: none;\n        -webkit-appearance: none;\n      }\n    "]);return _templateObject90=function(){return _},_}function _templateObject91(){var _=_taggedTemplateLiteral([' <div class="donate-goal">',"</div> "]);return _templateObject91=function(){return _},_}function _templateObject92(){var _=_taggedTemplateLiteral(['\n      <div\n        class="container"\n        role="progressbar"\n        aria-valuemin="0"\n        aria-valuemax="','"\n        aria-valuenow="','"\n        aria-valuetext="','"\n      >\n        <div class="thermometer-message-container">\n          <div class="thermometer-container">\n            <div\n              class="thermometer-background ','"\n            >\n              <div\n                class="thermometer-fill"\n                style="width: ','%"\n              >\n                ',"\n              </div>\n              ","\n            </div>\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject92=function(){return _},_}function _templateObject93(){var _=_taggedTemplateLiteral(["",""]);return _templateObject93=function(){return _},_}function _templateObject94(){var _=_taggedTemplateLiteral(['\n          <div class="thermometer-value">',"</div>\n        "]);return _templateObject94=function(){return _},_}function _templateObject95(){var _=_taggedTemplateLiteral(["var(--bannerThermometerHeight, 20px)"]);return _templateObject95=function(){return _},_}function _templateObject96(){var _=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueLeftColor, #fff)"]);return _templateObject96=function(){return _},_}function _templateObject97(){var _=_taggedTemplateLiteral(["var(--bannerThermometerProgressColor, #23765D)"]);return _templateObject97=function(){return _},_}function _templateObject98(){var _=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueRightColor, ",")"]);return _templateObject98=function(){return _},_}function _templateObject99(){var _=_taggedTemplateLiteral(["var(--bannerThermometerBackgroundColor, #B8F5E2)"]);return _templateObject99=function(){return _},_}function _templateObject100(){var _=_taggedTemplateLiteral(["var(--bannerThermometerBorder, 1px solid ",")"]);return _templateObject100=function(){return _},_}function _templateObject101(){var _=_taggedTemplateLiteral(["var(--bannerThermometerBorderRadius, calc("," / 2))"]);return _templateObject101=function(){return _},_}function _templateObject102(){var _=_taggedTemplateLiteral(["var(--bannerThermometerGoalMessagePadding, 0 10px)"]);return _templateObject102=function(){return _},_}function _templateObject103(){var _=_taggedTemplateLiteral(["var(--bannerThermometerGoalValueColor, #2c2c2c)"]);return _templateObject103=function(){return _},_}function _templateObject104(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .container {\n        height: 100%;\n      }\n\n      .thermometer-message-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-container {\n        height: 100%;\n        flex: 1;\n      }\n\n      .thermometer-background {\n        background-color: ",";\n        padding: 0;\n        height: 100%;\n        border-radius: ",";\n        border: ",";\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-fill {\n        background-color: ",";\n        text-align: right;\n        height: 100%;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n      }\n\n      .thermometer-value {\n        font-weight: bold;\n      }\n\n      .value-left .thermometer-value {\n        color: ",";\n        padding: 0 0.5rem 0 1rem;\n      }\n\n      .value-right .thermometer-value {\n        color: ",";\n        padding: 0 1rem 0 0.5rem;\n      }\n\n      .donate-goal {\n        text-align: left;\n        padding: ",";\n        text-transform: uppercase;\n        font-weight: bold;\n        color: ",";\n      }\n    "]);return _templateObject104=function(){return _},_}function _templateObject105(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="tocTitleID tocDescID"\n>\n  <title id="tocTitleID">Table of contents icon</title>\n  <desc id="tocDescID">An illustration of three text list items</desc>\n  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>\n</svg>\n']);return _templateObject105=function(){return _},_}function _templateObject106(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject106=function(){return _},_}function _templateObject107(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="ellipsesTitleID ellipsesDescID"\n>\n  <title id="ellipsesTitleID">Ellipses icon</title>\n  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>\n  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject107=function(){return _},_}function _templateObject108(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject108=function(){return _},_}function _templateObject109(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 18 18"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"\n>\n  <title id="collapseSidebarTitleID">Collapse sidebar</title>\n  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>\n  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />\n</svg>\n']);return _templateObject109=function(){return _},_}function _templateObject110(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject110=function(){return _},_}function _templateObject111(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="shareTitleID shareDescID"\n>\n  <title id="shareTitleID">Share icon</title>\n  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>\n  <g class="fill-color">\n    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>\n  </g>\n</svg>\n']);return _templateObject111=function(){return _},_}function _templateObject112(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject112=function(){return _},_}function _templateObject113(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">\n  <title id="twitterTitleID">Twitter icon</title>\n  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>\n  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />\n</svg>\n']);return _templateObject113=function(){return _},_}function _templateObject114(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject114=function(){return _},_}function _templateObject115(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">\n  <title id="facebookTitleID">Facebook icon</title>\n  <desc id="facebookDescID">A lowercase f</desc>\n  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />\n</svg>\n']);return _templateObject115=function(){return _},_}function _templateObject116(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject116=function(){return _},_}function _templateObject117(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">\n  <title id="tumblrTitleID">Tumblr icon</title>\n  <desc id="tumblrDescID">A lowercase letter t</desc>\n  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />\n</svg>\n']);return _templateObject117=function(){return _},_}function _templateObject118(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject118=function(){return _},_}function _templateObject119(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">\n  <title id="pinterestTitleID">Pinterest icon</title>\n  <desc id="pinterestDescID">A stylized letter p</desc>\n  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />\n</svg>\n']);return _templateObject119=function(){return _},_}function _templateObject120(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject120=function(){return _},_}function _templateObject121(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">\n  <title id="emailTitleID">Email icon</title>\n  <desc id="emailDescID">An illustration of an envelope</desc>\n  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />\n</svg>\n']);return _templateObject121=function(){return _},_}function _templateObject122(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject122=function(){return _},_}function _templateObject123(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">\n  <title id="linkTitleID">Link icon</title>\n  <desc id="linkDescID">Two chain links linked together</desc>\n  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />\n</svg>\n']);return _templateObject123=function(){return _},_}function _templateObject124(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject124=function(){return _},_}function _templateObject125(){var _=_taggedTemplateLiteral(["42px"]);return _templateObject125=function(){return _},_}function _templateObject126(){var _=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject126=function(){return _},_}function _templateObject127(){var _=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject127=function(){return _},_}function _templateObject128(){var _=_taggedTemplateLiteral(["\n  .main {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n\n  .animate {\n    transition: transform "," ease-out;\n  }\n\n  .menu {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: ",";\n    padding: 0.5rem 0.5rem 0 0;\n    box-sizing: border-box;\n    font-size: 1.4rem;\n    color: var(--primaryTextColor);\n    background: var(--menuSliderBg);\n    transform: translateX(calc("," * -1));\n  }\n\n  .menu > button.close {\n    right: 0.7rem;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  header {\n    margin: 0 0 0.5rem 0;\n  }\n\n  header * {\n    margin: 0;\n    display: inline-block;\n  }\n  header button {\n    cursor: pointer;\n  }\n\n  header.with-secondary-action .details {\n    width: 80%;\n  }\n\n  header .details {\n    font-weight: bold;\n    width: 88%;\n  }\n\n  header .custom-action > *,\n  button.close {\n    padding: 0;\n    background-color: transparent;\n    border: 0;\n    --iconWidth: var(--menuSliderHeaderIconWidth);\n    --iconHeight: var(--menuSliderHeaderIconHeight);\n  }\n\n  header .custom-action,\n  button.close {\n    position: absolute;\n  }\n  button.close {\n    right: 0.5rem;\n  }\n\n  button.close * {\n    float: right;\n  }\n\n  .content {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: ",";\n    z-index: 1;\n    transform: translateX(calc("," * -1));\n    transition: transform "," ease-out;\n    background: var(--activeButtonBg);\n    border-right: 0.2rem solid;\n    border-color: var(--subpanelRightBorderColor);\n    padding: 0.5rem 0 0 0.5rem;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .open {\n    transform: translateX(0);\n  }\n\n  .menu-list {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    background: var(--menuSliderBg);\n  }\n  .menu-list li {\n    margin-bottom: 0.2rem;\n  }\n\n  .content > section {\n    overflow: auto;\n    overscroll-behavior: contain;\n  }\n"]);return _templateObject128=function(){return _},_}function _templateObject129(){var _=_taggedTemplateLiteral(["\n  a {\n    display: inline-block;\n    text-decoration: none;\n  }\n\n  .menu-item {\n    display: inline-flex;\n    width: 100%;\n    padding: 0;\n    font-size: 1.6rem;\n    text-align: left;\n    background: transparent;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n  }\n\n  button.menu-item {\n    -webkit-appearance: none;\n    appearance: none;\n    border-radius: 0;\n  }\n\n  .label {\n    display: var(--menuButtonLabelDisplay, none);\n    padding: 0;\n    font-weight: 400;\n    color: var(--primaryTextColor);\n    text-align: left;\n    vertical-align: middle;\n    margin-left: 1rem;\n  }\n\n  .menu-details {\n    color: var(--primaryTextColor);\n    display: inline-block;\n    margin-left: 0.5rem;\n    font-style: italic;\n    font-size: 1.5rem;\n  }\n\n  .menu-item > .icon {\n    position: relative;\n    display: inline-flex;\n    z-index: 2;\n    min-width: 4.2rem;\n    max-width: 4.2rem;\n    height: 4.2rem;\n    vertical-align: middle;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n\n  .menu-item.selected .icon {\n    background-color: var(--activeButtonBg);\n    border-radius: 1rem 0 0 1rem;\n  }\n\n  .icon .fill-color {\n    fill: #999;\n  }\n\n  .icon.active .fill-color {\n    fill: #fff;\n  }\n"]);return _templateObject129=function(){return _},_}function _templateObject130(){var _=_taggedTemplateLiteral(['\n      <span class="icon ','"> ',' </span>\n      <span class="label">','</span>\n      <span class="menu-details">',"</span>\n    "]);return _templateObject130=function(){return _},_}function _templateObject131(){var _=_taggedTemplateLiteral(['\n      <a\n        href="','"\n        class="menu-item ','"\n        @click=',"\n        >","</a\n      >\n    "]);return _templateObject131=function(){return _},_}function _templateObject132(){var _=_taggedTemplateLiteral(['\n      <button class="menu-item ','" @click=',">\n        ","\n      </button>\n    "]);return _templateObject132=function(){return _},_}function _templateObject133(){var _=_taggedTemplateLiteral([""]);return _templateObject133=function(){return _},_}function _templateObject134(){var _=_taggedTemplateLiteral(["\n        <li>\n          <menu-button\n            @menuTypeSelected=","\n            .icon=","\n            .label=","\n            .menuDetails=","\n            .buttonId=","\n            .selected=","\n            .followable=","\n            .href=","\n          ></menu-button>\n        </li>\n      "]);return _templateObject134=function(){return _},_}function _templateObject135(){var _=_taggedTemplateLiteral(['<span class="custom-action">',"</span>"]);return _templateObject135=function(){return _},_}function _templateObject136(){var _=_taggedTemplateLiteral(['\n      <header class="','">\n        <div class="details">\n          <h3>','</h3>\n          <span class="extra-details">',"</span>\n        </div>\n        "," ","\n      </header>\n    "]);return _templateObject136=function(){return _},_}function _templateObject137(){var _=_taggedTemplateLiteral(['\n      <button\n        class="close"\n        aria-label="Close this menu"\n        @click=',"\n      >\n        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>\n      </button>\n    "]);return _templateObject137=function(){return _},_}function _templateObject138(){var _=_taggedTemplateLiteral(['\n      <div class="main">\n        <div class="menu ','">\n          ','\n          <ul class="menu-list">\n            ','\n          </ul>\n          <div\n            class="content ','"\n            @menuTypeSelected=',"\n          >\n            ",'\n            <section>\n              <div class="selected-menu">',"</div>\n            </section>\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject138=function(){return _},_}function _templateObject139(){var _=_taggedTemplateLiteral(['\n      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">\n        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>\n        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>\n        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>\n      </g>\n    ']);return _templateObject139=function(){return _},_}function _templateObject140(){var _=_taggedTemplateLiteral(['\n    <svg\n      height="100"\n      viewBox="0 0 100 100"\n      width="100"\n      xmlns="http://www.w3.org/2000/svg"\n      aria-labelledby="item-loading"\n    >\n      <title id="item-loading">Currently loading viewer.</title>\n      <desc>Please wait while we load theater.</desc>\n      <g fill="#333" fill-rule="evenodd" class="book-icon">\n        ','\n        <path\n          class="ring"\n          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"\n          fill-rule="nonzero"\n        />\n      </g>\n    </svg>\n    ']);return _templateObject140=function(){return _},_}function _templateObject141(){var _=_taggedTemplateLiteral(["<h2>","</h2>"]);return _templateObject141=function(){return _},_}function _templateObject142(){var _=_taggedTemplateLiteral(['\n      <div class="place-holder">\n        '," ","\n        <h3>Loading viewer</h3>\n      </div>\n    "]);return _templateObject142=function(){return _},_}function _templateObject143(){var _=_taggedTemplateLiteral(["\n      .place-holder {\n        width: 30%;\n        margin: auto;\n        text-align: center;\n        color: var(--primaryTextColor);\n      }\n\n      .place-holder {\n        position: relative;\n      }\n\n      .place-holder svg {\n        display: block;\n        width: 60%;\n        max-width: 100px;\n        height: auto;\n        margin: auto;\n      }\n\n      svg * {\n        fill: var(--primaryTextColor);\n      }\n\n      svg .ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n        display: block; // transform won't work on inline style\n      }\n\n      @keyframes rotate {\n        0% {\n          -moz-transform: rotate(-360deg);\n          -webkit-transform: rotate(-360deg);\n          transform: rotate(-360deg);\n        }\n      }\n    "]);return _templateObject143=function(){return _},_}function _templateObject144(){var _=_taggedTemplateLiteral(["\n      <section>\n        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>\n        <p>\n          This item does not appear to have any files that can be experienced on\n          Archive.org. <br />\n          Please download files in this item to interact with them on your\n          computer.\n        </p>\n        <a href=",">Show all files</a>\n      </section>\n    "]);return _templateObject144=function(){return _},_}function _templateObject145(){var _=_taggedTemplateLiteral(["\n      :host {\n        color: var(--primaryTextColor, #fff);\n        text-align: center;\n      }\n      section {\n        width: 100%;\n        margin: 5%;\n        padding: 0 5%;\n      }\n      p {\n        font-size: 1.4rem;\n      }\n      a {\n        color: var(--primaryTextColor, #fff);\n        background-color: rgb(25, 72, 128);\n        min-height: 35px;\n        cursor: pointer;\n        line-height: normal;\n        border-radius: 0.4rem;\n        text-align: center;\n        vertical-align: middle;\n        font-size: 1.4rem;\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        display: inline-block;\n        padding: 0.85rem 1.2rem;\n        border: 1px solid rgb(197, 209, 223);\n        white-space: nowrap;\n        appearance: auto;\n        box-sizing: border-box;\n        user-select: none;\n        text-decoration: none;\n      }\n    "]);return _templateObject145=function(){return _},_}function _templateObject146(){var _=_taggedTemplateLiteral(['\n      <div class="loading-area">\n        <div class="loading-view">\n          <ia-itemnav-loader\n            .loaderMessage=',"\n          ></ia-itemnav-loader>\n        </div>\n      </div>\n    "]);return _templateObject146=function(){return _},_}function _templateObject147(){var _=_taggedTemplateLiteral(['\n      <div id="frame" class=','>\n        <slot\n          name="header"\n          style=',"\n          @slotchange=",'\n        ></slot>\n        <div class="menu-and-reader">\n          ','\n          <div id="reader" class=',">\n            ","\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject147=function(){return _},_}function _templateObject148(){var _=_taggedTemplateLiteral(["<ia-no-theater-available\n      .identifier=","\n      @loadingStateUpdated=","\n    ></ia-no-theater-available>"]);return _templateObject148=function(){return _},_}function _templateObject149(){var _=_taggedTemplateLiteral(['\n      <div slot="main" style=','>\n        <slot\n          name="main"\n          @slotchange=',"\n        ></slot>\n      </div>\n    "]);return _templateObject149=function(){return _},_}function _templateObject150(){var _=_taggedTemplateLiteral(['\n      <button\n        class="toggle-menu"\n        @click=','\n        title="Toggle theater side panels"\n      >\n        <div>\n          <ia-icon-ellipses\n            style="width: var(--iconWidth); height: var(--iconHeight);"\n          ></ia-icon-ellipses>\n        </div>\n      </button>\n    ']);return _templateObject150=function(){return _},_}function _templateObject151(){var _=_taggedTemplateLiteral(['\n      <nav>\n        <div class="minimized">'," ",'</div>\n        <div id="menu" class=',">\n          <ia-menu-slider\n            .menus=","\n            .selectedMenu=","\n            @menuTypeSelected=","\n            @menuSliderClosed=","\n            manuallyHandleClose\n            open\n          ></ia-menu-slider>\n        </div>\n      </nav>\n    "]);return _templateObject151=function(){return _},_}function _templateObject152(){var _=_taggedTemplateLiteral(["",""]);return _templateObject152=function(){return _},_}function _templateObject153(){var _=_taggedTemplateLiteral(['\n        <button class="shortcut ','" @click="','">\n          ',"\n        </button>\n      "]);return _templateObject153=function(){return _},_}function _templateObject154(){var _=_taggedTemplateLiteral(['<div class="shortcuts">',"</div>"]);return _templateObject154=function(){return _},_}function _templateObject155(){var _=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject155=function(){return _},_}function _templateObject156(){var _=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject156=function(){return _},_}function _templateObject157(){var _=_taggedTemplateLiteral(["transform "," ease-out"]);return _templateObject157=function(){return _},_}function _templateObject158(){var _=_taggedTemplateLiteral(["var(--theaterMenuMargin, 42px)"]);return _templateObject158=function(){return _},_}function _templateObject159(){var _=_taggedTemplateLiteral(["var(--theaterBgColor, #000)"]);return _templateObject159=function(){return _},_}function _templateObject160(){var _=_taggedTemplateLiteral(["\n      :host,\n      #frame,\n      .menu-and-reader {\n        position: relative;\n        overflow: hidden;\n        display: block;\n      }\n\n      :host,\n      #frame,\n      .loading-area,\n      .loading-view {\n        min-height: inherit;\n        height: inherit;\n      }\n\n      slot {\n        display: block;\n        width: 100%;\n      }\n\n      slot * {\n        display: block;\n        height: inherit;\n      }\n\n      #frame {\n        background-color: ",";\n        color-scheme: dark;\n        display: flex;\n        flex-direction: column;\n      }\n\n      #frame.fullscreen {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 9;\n      }\n\n      .loading-view {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .loading-area {\n        width: 100%;\n      }\n\n      ia-itemnav-loader {\n        display: block;\n        width: 100%;\n      }\n\n      .hidden {\n        display: none !important;\n      }\n\n      button {\n        cursor: pointer;\n        padding: 0;\n        border: 0;\n      }\n\n      .menu-and-reader {\n        position: relative;\n        display: flex;\n        flex: 1;\n      }\n\n      nav button {\n        background: none;\n      }\n\n      nav .minimized {\n        background: rgba(0, 0, 0, 0.7);\n        padding-top: 6px;\n        position: absolute;\n        width: ",";\n        z-index: 2;\n        left: 0;\n        border-bottom-right-radius: 5%;\n      }\n\n      nav .minimized button {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin-bottom: 0.2rem;\n        margin: auto;\n        display: inline-flex;\n        vertical-align: middle;\n        -webkit-box-align: center;\n        align-items: center;\n        -webkit-box-pack: center;\n        justify-content: center;\n        width: ",";\n        height: ",";\n      }\n\n      nav .minimized button.toggle-menu > * {\n        border: 2px solid var(--iconStrokeColor);\n        border-radius: var(--iconWidth);\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin: auto;\n      }\n\n      ia-icon-ellipses {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n      }\n\n      #menu {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 3;\n        overflow: hidden;\n        transform: translateX(-",");\n        width: ",";\n        transform: translateX(calc("," * -1));\n        transition: ",";\n      }\n\n      #reader {\n        position: relative;\n        z-index: 1;\n        transform: translateX(0);\n        width: 100%;\n        display: flex;\n      }\n\n      #reader > * {\n        width: 100%;\n        display: flex;\n        flex: 1;\n      }\n\n      .open.overlay #reader {\n        transition: none;\n      }\n\n      .open #menu {\n        width: ",";\n        transform: translateX(0);\n        transition: ",";\n      }\n\n      .open.shift #reader {\n        width: calc(100% - ",");\n        margin-left: ",";\n        transition: ",";\n      }\n    "]);return _templateObject160=function(){return _},_}function _templateObject161(){var _=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject161=function(){return _},_}function _templateObject162(){var _=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject162=function(){return _},_}function _templateObject163(){var _=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject163=function(){return _},_}function _templateObject164(){var _=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject164=function(){return _},_}function _templateObject165(){var _=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject165=function(){return _},_}function _templateObject166(){var _=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject166=function(){return _},_}function _templateObject167(){var _=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject167=function(){return _},_}function _templateObject168(){var _=_taggedTemplateLiteral([' <a class="share-option" href="','" target="_blank">\n              '," ","\n            </a>"]);return _templateObject168=function(){return _},_}function _templateObject169(){var _=_taggedTemplateLiteral(["\n      ","\n      <main>\n        ",'\n        <details>\n          <summary class="share-option">\n            <ia-icon-link></ia-icon-link>\n            Get an embeddable link\n          </summary>\n          <div class="embed">\n            <h4>Embed</h4>\n            <div class="code" @click=',">\n              <textarea readonly>",'</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <h4>\n              Embed for wordpress.com hosted blogs and archive.org item\n              &lt;description&gt; tags\n            </h4>\n            <div class="code" @click=',">\n              <textarea readonly>","</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <p>\n              Want more?\n              <a href=","\n                >Advanced embedding details, examples, and help</a\n              >!\n            </p>\n          </div>\n        </details>\n      </main>\n    "]);return _templateObject169=function(){return _},_}function _templateObject170(){var _=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject170=function(){return _},_}function _templateObject171(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      main {\n        padding: 1rem 0;\n      }\n\n      .share-option {\n        display: block;\n        padding: 0.5rem 0;\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n        cursor: pointer;\n      }\n\n      .share-option > * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      /* Hide the triangle that appears on details tags */\n      summary::marker {\n        content: '';\n      }\n\n      summary::-webkit-details-marker {\n        display: none;\n      }\n\n      .embed {\n        padding-right: 5px;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject171=function(){return _},_}function _templateObject172(){var _=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject172=function(){return _},_}function _templateObject173(){var _=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject173=function(){return _},_}function _templateObject174(){var _=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject174=function(){return _},_}function _templateObject175(){var _=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject175=function(){return _},_}function _templateObject176(){var _=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject176=function(){return _},_}function _templateObject177(){var _=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject177=function(){return _},_}function _templateObject178(){var _=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject178=function(){return _},_}function _templateObject179(){var _=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject179=function(){return _},_}function _templateObject180(){var _=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject180=function(){return _},_}function _templateObject181(){var _=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject181=function(){return _},_}function _templateObject182(){var _=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject182=function(){return _},_}function _templateObject183(){var _=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject183=function(){return _},_}function _templateObject184(){var _=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject184=function(){return _},_}function _templateObject185(){var _=_taggedTemplateLiteral([" "," "]);return _templateObject185=function(){return _},_}function _templateObject186(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject186=function(){return _},_}function _templateObject187(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject187=function(){return _},_}function _templateObject188(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject188=function(){return _},_}function _templateObject189(){var _=_taggedTemplateLiteral(['\n<svg\n  class="ia-logo"\n  viewBox="0 0 27 30"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="logoTitleID logoDescID"\n>\n  <title id="logoTitleID">Internet Archive logo</title>\n  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <mask id="mask-2" class="fill-color">\n      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n    </mask>\n    <use class="fill-color" xlink:href="#path-1"></use>\n    <g mask="url(#mask-2)" class="fill-color">\n      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n    </g>\n  </g>\n</svg>\n']);return _templateObject189=function(){return _},_}function _templateObject190(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject190=function(){return _},_}function _templateObject191(){var _=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject191=function(){return _},_}function _templateObject192(){var _=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject192=function(){return _},_}function _templateObject193(){var _=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject193=function(){return _},_}function _templateObject194(){var _=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject194=function(){return _},_}function _templateObject195(){var _=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject195=function(){return _},_}function _templateObject196(){var _=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject196=function(){return _},_}function _templateObject197(){var _=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        tabindex="0"\n        @click=',"\n      >\n        ","\n      </button>\n    "]);return _templateObject197=function(){return _},_}function _templateObject198(){var _=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject198=function(){return _},_}function _templateObject199(){var _=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject199=function(){return _},_}function _templateObject200(){var _=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject200=function(){return _},_}function _templateObject201(){var _=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject201=function(){return _},_}function _templateObject202(){var _=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject202=function(){return _},_}function _templateObject203(){var _=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject203=function(){return _},_}function _templateObject204(){var _=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject204=function(){return _},_}function _templateObject205(){var _=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject205=function(){return _},_}function _templateObject206(){var _=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject206=function(){return _},_}function _templateObject207(){var _=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject207=function(){return _},_}function _templateObject208(){var _=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject208=function(){return _},_}function _templateObject209(){var _=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject209=function(){return _},_}function _templateObject210(){var _=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject210=function(){return _},_}function _templateObject211(){var _=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject211=function(){return _},_}function _templateObject212(){var _=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject212=function(){return _},_}function _templateObject213(){var _=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject213=function(){return _},_}function _templateObject214(){var _=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject214=function(){return _},_}function _templateObject215(){var _=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject215=function(){return _},_}function _templateObject216(){var _=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="0"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject216=function(){return _},_}function _templateObject217(){var _=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject217=function(){return _},_}function _templateObject218(){var _=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject218=function(){return _},_}function _templateObject219(){var _=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject219=function(){return _},_}function _templateObject220(){var _=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject220=function(){return _},_}function _templateObject221(){var _=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject221=function(){return _},_}function _templateObject222(){var _=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject222=function(){return _},_}function _templateObject223(){var _=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject223=function(){return _},_}function _templateObject224(){var _=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject224=function(){return _},_}function _templateObject225(){var _=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject225=function(){return _},_}function _templateObject226(){var _=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject226=function(){return _},_}function _templateObject227(){var _=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject227=function(){return _},_}function _templateObject228(){var _=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject228=function(){return _},_}function _templateObject229(){var _=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject229=function(){return _},_}function _templateObject230(){var _=_taggedTemplateLiteral([' <a class="share-option" href="','" target="_blank">\n              '," ","\n            </a>"]);return _templateObject230=function(){return _},_}function _templateObject231(){var _=_taggedTemplateLiteral(["\n      ","\n      <main>\n        ",'\n        <details>\n          <summary class="share-option">\n            <ia-icon-link></ia-icon-link>\n            Get an embeddable link\n          </summary>\n          <div class="embed">\n            <h4>Embed</h4>\n            <div class="code" @click=',">\n              <textarea readonly>",'</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <h4>\n              Embed for wordpress.com hosted blogs and archive.org item\n              &lt;description&gt; tags\n            </h4>\n            <div class="code" @click=',">\n              <textarea readonly>","</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <p>\n              Want more?\n              <a href=","\n                >Advanced embedding details, examples, and help</a\n              >!\n            </p>\n          </div>\n        </details>\n      </main>\n    "]);return _templateObject231=function(){return _},_}function _templateObject232(){var _=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject232=function(){return _},_}function _templateObject233(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      main {\n        padding: 1rem 0;\n      }\n\n      .share-option {\n        display: block;\n        padding: 0.5rem 0;\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n        cursor: pointer;\n      }\n\n      .share-option > * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      /* Hide the triangle that appears on details tags */\n      summary::marker {\n        content: '';\n      }\n\n      summary::-webkit-details-marker {\n        display: none;\n      }\n\n      .embed {\n        padding-right: 5px;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject233=function(){return _},_}function _templateObject234(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="downloadTitleID downloadDescID"\n>\n  <title id="downloadTitleID">Download icon</title>\n  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>\n  <g class="fill-color">\n\n    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>\n  </g>\n</svg>\n']);return _templateObject234=function(){return _},_}function _templateObject235(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject235=function(){return _},_}function _templateObject236(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="searchTitleID searchDescID"\n>\n  <title id="searchTitleID">Search icon</title>\n  <desc id="searchDescID">Search for something.</desc>\n  <path\n    class="fill-color"\n    fill="none"\n    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />\n</svg>\n']);return _templateObject236=function(){return _},_}function _templateObject237(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject237=function(){return _},_}function _templateObject238(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      #hollow,\n      #plus,\n      #minus {\n        display: none;\n      }\n\n      .hollow #filled,\n      .plus #filled,\n      .minus #filled {\n        display: none;\n      }\n\n      .hollow #hollow,\n      .plus #hollow,\n      .minus #hollow {\n        display: block;\n      }\n\n      .plus #plus {\n        display: block;\n      }\n\n      .minus #minus {\n        display: block;\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject238=function(){return _},_}function _templateObject239(){var _=_taggedTemplateLiteral(["\n      <div class=",'>\n        <svg\n          height="24"\n          viewBox="0 0 16 24"\n          width="16"\n          xmlns="http://www.w3.org/2000/svg"\n          aria-labelledby="bookmarkTitleID bookmarDescID"\n        >\n          <title id="bookmarkTitleID">Bookmark icon</title>\n          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>\n          <path\n            id="filled"\n            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"\n            class="fill-color"\n            fill-rule="evenodd"\n          />\n          <g class="fill-color" fill-rule="evenodd">\n            <path\n              id="hollow"\n              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"\n            />\n            <path\n              id="plus"\n              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"\n              fill-rule="nonzero"\n            />\n            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject239=function(){return _},_}function _templateObject240(){var _=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject240=function(){return _},_}function _templateObject241(){var _=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject241=function(){return _},_}function _templateObject242(){var _=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject242=function(){return _},_}function _templateObject243(){var _=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject243=function(){return _},_}function _templateObject244(){var _=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject244=function(){return _},_}function _templateObject245(){var _=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject245=function(){return _},_}function _templateObject246(){var _=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject246=function(){return _},_}function _templateObject247(){var _=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject247=function(){return _},_}function _templateObject248(){var _=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject248=function(){return _},_}function _templateObject249(){var _=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject249=function(){return _},_}function _templateObject250(){var _=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject250=function(){return _},_}function _templateObject251(){var _=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject251=function(){return _},_}function _templateObject252(){var _=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject252=function(){return _},_}function _templateObject253(){var _=_taggedTemplateLiteral([" "," "]);return _templateObject253=function(){return _},_}function _templateObject254(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject254=function(){return _},_}function _templateObject255(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"\n>\n  <title id="visualAdjustmentTitleID">Visual adjustment</title>\n  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>\n  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />\n</svg>\n']);return _templateObject255=function(){return _},_}function _templateObject256(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject256=function(){return _},_}function _templateObject257(){var _=_taggedTemplateLiteral(['\n<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>\n']);return _templateObject257=function(){return _},_}function _templateObject258(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject258=function(){return _},_}function _templateObject259(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-minusTitleID magnify-minusDescID"\n>\n  <title id="magnify-minusTitleID">Zoom out</title>\n  <desc id="magnify-minusDescID">Take a look further.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>\n  </g>\n</svg>\n']);return _templateObject259=function(){return _},_}function _templateObject260(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject260=function(){return _},_}function _templateObject261(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-plusTitleID magnify-plusDescID"\n>\n  <title id="magnify-plusTitleID">Zoom in</title>\n  <desc id="magnify-plusDescID">Take a look closer.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>\n  </g>\n</svg>\n']);return _templateObject261=function(){return _},_}function _templateObject262(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject262=function(){return _},_}function _templateObject263(){var _=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"]);return _templateObject263=function(){return _},_}function _templateObject264(){var _=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="]);return _templateObject264=function(){return _},_}function _templateObject265(){var _=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    color: var(--primaryTextColor);\n    line-height: normal;\n    border-radius: .4rem;\n    text-align: center;\n    vertical-align: middle;\n    font-size: 1.4rem;\n    font-family: inherit;\n    display: inline-block;\n    padding: .6rem 1.2rem;\n    border: 1px solid transparent;\n\n    white-space: nowrap;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n\n  .ia-button.link,\n  .ia-button.external {\n    min-height: unset;\n    text-decoration: none;\n  }\n\n  .ia-button:disabled,\n  .ia-button.disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  \n  .ia-button.slim {\n    padding: 0;\n  }\n\n  .ia-button.primary {\n    background-color: var(--primaryCTAFill);\n    border-color: var(--primaryCTABorder);\n  }\n\n  .ia-button.cancel {\n    background-color: var(--primaryErrorCTAFill);\n    border-color: var(--primaryErrorCTABorder);\n  }\n\n  .ia-button.external {\n    background: var(--secondaryCTAFill);\n    border-color: var(--secondaryCTABorder);\n  }\n"]);return _templateObject265=function(){return _},_}function _templateObject266(){var _=_taggedTemplateLiteral(["<p>("," result",")</p>"]);return _templateObject266=function(){return _},_}function _templateObject267(){var _=_taggedTemplateLiteral(["<header>\n      <h3>Search inside</h3>\n      ","\n    </header>"]);return _templateObject267=function(){return _},_}function _templateObject268(){var _=_taggedTemplateLiteral(['\n      <input name="all_files" id="all_files" type="checkbox" />\n      <label class="checkbox" for="all_files">Search all files</label>\n    ']);return _templateObject268=function(){return _},_}function _templateObject269(){var _=_taggedTemplateLiteral(['\n      <div class="loading">\n        <ia-activity-indicator mode="processing"></ia-activity-indicator>\n        <p>Searching</p>\n        <button class="ia-button external cancel-search" @click=',">Cancel</button>\n      </div>\n    "]);return _templateObject269=function(){return _},_}function _templateObject270(){var _=_taggedTemplateLiteral(['<img src="','" />']);return _templateObject270=function(){return _},_}function _templateObject271(){var _=_taggedTemplateLiteral(["\n            <li @click=",">\n              ","\n              <h4>",'</h4>\n              <p class="page-num">Page ',"</p>\n              <p>","</p>\n            </li>\n          "]);return _templateObject271=function(){return _},_}function _templateObject272(){var _=_taggedTemplateLiteral(['\n      <ul class="results ','">\n        ',"\n      </ul>\n    "]);return _templateObject272=function(){return _},_}function _templateObject273(){var _=_taggedTemplateLiteral(['\n      <form action="" method="get" @submit=',">\n        <fieldset>\n          ",'\n          <input\n            type="search"\n            name="query"\n            alt="Search inside this book."\n            @keyup=',"\n            @search=","\n            .value=","\n          />\n        </fieldset>\n      </form>\n    "]);return _templateObject273=function(){return _},_}function _templateObject274(){var _=_taggedTemplateLiteral(['\n      <p class="error-message">',"</p>\n    "]);return _templateObject274=function(){return _},_}function _templateObject275(){var _=_taggedTemplateLiteral(['<p class="search-cta"><em>Please enter text to search for</em></p>']);return _templateObject275=function(){return _},_}function _templateObject276(){var _=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <div class="results-container">\n        ',"\n        ","\n        ","\n        ","\n      </div>\n    "]);return _templateObject276=function(){return _},_}function _templateObject277(){var _=_taggedTemplateLiteral(["var(--searchResultText, #adaedc)"]);return _templateObject277=function(){return _},_}function _templateObject278(){var _=_taggedTemplateLiteral(["var(--searchResultBg, #272958)"]);return _templateObject278=function(){return _},_}function _templateObject279(){var _=_taggedTemplateLiteral(["var(--searchResultBorder, #adaedc)"]);return _templateObject279=function(){return _},_}function _templateObject280(){var _=_taggedTemplateLiteral(["(--tertiaryBGColor, #333)"]);return _templateObject280=function(){return _},_}function _templateObject281(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 1rem 2rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      mark {\n        padding: 0 .2rem;\n        color: ",";\n        background: ",";\n        border: 1px solid ",';\n        border-radius: 2px;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 2rem;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem 0 0;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n\n      fieldset {\n        padding: 0 0 1rem 0;\n        border: none;\n      }\n\n      [type="checkbox"] {\n        display: none;\n      }\n\n      label {\n        display: block;\n        text-align: center;\n      }\n\n      label.checkbox {\n        padding-bottom: .5rem;\n        font-size: 1.6rem;\n        line-height: 150%;\n        vertical-align: middle;\n      }\n\n      label.checkbox:after {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: .7rem;\n        content: "";\n        border-radius: 2px;\n      }\n      :checked + label.checkbox:after {\n        background-image: url(\'','\');\n      }\n\n      label.checkbox[for="all_files"]:after {\n        background: ',' 50% 50% no-repeat;\n        border: 1px solid var(--primaryTextColor);\n      }\n\n      [type="search"] {\n        color: var(--primaryTextColor);\n        border: 1px solid var(--primaryTextColor);\n        -webkit-appearance: textfield;\n        width: 100%;\n        height: 3rem;\n        padding: 0 1.5rem;\n        box-sizing: border-box;\n        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;\n        border-radius: 1.5rem;\n        background: transparent;\n      }\n      [type="search"]:focus {\n        outline: none;\n      }\n      [type="search"]::-webkit-search-cancel-button {\n        width: 18px;\n        height: 18px;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-mask: url(\'',"') 0 0 no-repeat;\n        mask: url('","') 0 0 no-repeat;\n        -webkit-mask-size: 100%;\n        mask-size: 100%;\n        background: #fff;\n      }\n\n      p.page-num {\n        font-weight: bold;\n        padding-bottom: 0;\n      }\n\n      p.search-cta {\n        text-align: center;\n      }\n\n      .results-container {\n        padding-bottom: 2rem;\n      }\n\n      ul {\n        padding: 0 0 2rem 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      ul.show-image li {\n        display: grid;\n      }\n\n      li {\n        cursor: pointer;\n        grid-template-columns: 30px 1fr;\n        grid-gap: 0 .5rem;\n      }\n\n      li img {\n        display: block;\n        width: 100%;\n      }\n\n      li h4 {\n        grid-column: 2 / 3;\n        padding: 0 0 2rem 0;\n        margin: 0;\n        font-weight: normal;\n      }\n\n      li p {\n        grid-column: 2 / 3;\n        padding: 0 0 1.5rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      .loading {\n        text-align: center;\n      }\n\n      .loading p {\n        padding: 0 0 1rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      ia-activity-indicator {\n        display: block;\n        width: 40px;\n        height: 40px;\n        margin: 0 auto;\n      }\n    "]);return _templateObject281=function(){return _},_}function _templateObject282(){var _=_taggedTemplateLiteral(["("," ",")"]);return _templateObject282=function(){return _},_}function _templateObject283(){var _=_taggedTemplateLiteral(['<p class="error">',"</p>"]);return _templateObject283=function(){return _},_}function _templateObject284(){var _=_taggedTemplateLiteral(["\n    <ia-book-search-results\n      .query=","\n      .results=","\n      .errorMessage=","\n      ?queryInProgress=","\n      ?renderSearchAllFiles=","\n      @resultSelected=","\n      @bookSearchInitiated=","\n      @bookSearchResultsCleared=","\n      @bookSearchCanceled=","\n    ></ia-book-search-results>\n  "]);return _templateObject284=function(){return _},_}function _templateObject285(){var _=_taggedTemplateLiteral(['<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>']);return _templateObject285=function(){return _},_}function _templateObject286(){var _=_taggedTemplateLiteral(["<p>"," format","</p>"]);return _templateObject286=function(){return _},_}function _templateObject287(){var _=_taggedTemplateLiteral([""]);return _templateObject287=function(){return _},_}function _templateObject288(){var _=_taggedTemplateLiteral(["<h2>These files will expire in "," days.</h2>"]);return _templateObject288=function(){return _},_}function _templateObject289(){var _=_taggedTemplateLiteral([""]);return _templateObject289=function(){return _},_}function _templateObject290(){var _=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject290=function(){return _},_}function _templateObject291(){var _=_taggedTemplateLiteral([""]);return _templateObject291=function(){return _},_}function _templateObject292(){var _=_taggedTemplateLiteral(['\n        <li>\n          <a class="ia-button link primary" href="','">Get ',"</a>\n          ","\n        </li>\n      "]);return _templateObject292=function(){return _},_}function _templateObject293(){var _=_taggedTemplateLiteral(["\n      <header>\n        <h3>Downloadable files</h3>\n        ","\n      </header>\n    "]);return _templateObject293=function(){return _},_}function _templateObject294(){var _=_taggedTemplateLiteral(['\n    <p>For LCP downloads, make sure you have LCP software such as <a href="https://thorium.edrlab.org/" rel="noopener noreferrer nofollow" target="_blank">Thorium (desktop)</a>, <a href="https://apps.apple.com/us/app/cantook-by-aldiko/id1476410111" rel="noopener noreferrer nofollow" target="_blank">Cantook (iOS)</a> or <a href="https://play.google.com/store/apps/details?id=com.aldiko.android" rel="noopener noreferrer nofollow" target="_blank">Cantook (Android)</a> installed on your device.</p>\n  ']);return _templateObject294=function(){return _},_}function _templateObject295(){var _=_taggedTemplateLiteral(["\n      ","\n      ","\n      <ul>","</ul>\n      ","\n    "]);return _templateObject295=function(){return _},_}function _templateObject296(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      a.close ia-icon {\n        --iconWidth: 18px;\n        --iconHeight: 18px;\n      }\n      a.close {\n        justify-self: end;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n      header div {\n        display: flex;\n        align-items: baseline;\n      }      \n\n      h2 {\n        font-size: 1.6rem;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.4rem;\n      }\n\n      ul {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      p {\n        margin: .3rem 0 0 0;\n      }\n\n      li,\n      ul + p {\n        padding-bottom: 1.2rem;\n        font-size: 1.2rem;\n        line-height: 140%;\n      }\n    "]);return _templateObject296=function(){return _},_}function _templateObject297(){var _=_taggedTemplateLiteral(["<ia-book-downloads .downloads=","></ia-book-downloads>"]);return _templateObject297=function(){return _},_}function _templateObject298(){var _=_taggedTemplateLiteral(['<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>']);return _templateObject298=function(){return _},_}function _templateObject299(){var _=_taggedTemplateLiteral(["\n      <div class=",'>\n        <input\n          type="range"\n          name="','_range"\n          min=',"\n          max=","\n          step=","\n          .value=","\n          @input=","\n          @change=","\n        />\n        <p>","%</p>\n      </div>\n    "]);return _templateObject299=function(){return _},_}function _templateObject300(){var _=_taggedTemplateLiteral(['<li>\n      <label for="','">\n        <span class="name">','</span>\n        <input\n          type="checkbox"\n          name="','"\n          id="','"\n          @change=',"\n          ?checked=",'\n        />\n        <span class="icon"></span>\n      </label>\n      ',"\n    </li>"]);return _templateObject300=function(){return _},_}function _templateObject301(){var _=_taggedTemplateLiteral(["<p>("," active)</p>"]);return _templateObject301=function(){return _},_}function _templateObject302(){var _=_taggedTemplateLiteral(["<header>\n      <h3>Visual adjustments</h3>\n      ","\n    </header>"]);return _templateObject302=function(){return _},_}function _templateObject303(){var _=_taggedTemplateLiteral(['\n      <h4>Adjust zoom</h4>\n      <button class="zoom_out" @click=',' title="zoom out">\n        <ia-icon-magnify-minus></ia-icon-magnify-minus>\n      </button>\n      <button class="zoom_in" @click=',' title="zoom in">\n        <ia-icon-magnify-plus></ia-icon-magnify-plus>\n      </button>\n    ']);return _templateObject303=function(){return _},_}function _templateObject304(){var _=_taggedTemplateLiteral(["\n      ","\n      <ul>\n        ","\n      </ul>\n      ","\n    "]);return _templateObject304=function(){return _},_}function _templateObject305(){var _=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      height: 100%;\n      overflow-y: auto;\n      font-size: 1.4rem;\n      box-sizing: border-box;\n    }\n\n    header {\n      display: flex;\n      align-items: baseline;\n    }\n\n    h3 {\n      padding: 0;\n      margin: 0 1rem 0 0;\n      font-size: 1.6rem;\n    }\n\n    header p {\n      padding: 0;\n      margin: 0;\n      font-size: 1.2rem;\n      font-weight: bold;\n      font-style: italic;\n    }\n\n    ul {\n      padding: 1rem 2rem 0 0;\n      list-style: none;\n      margin-top: 0;\n    }\n\n    [type="checkbox"] {\n      display: none;\n    }\n\n    label {\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      font-size: 1.4rem;\n      font-weight: bold;\n      line-height: 150%;\n      vertical-align: middle;\n    }\n\n    .icon {\n      display: inline-block;\n      width: 14px;\n      height: 14px;\n      margin-left: .7rem;\n      border: 1px solid var(--primaryTextColor);\n      border-radius: 2px;\n      background: var(--activeButtonBg) 50% 50% no-repeat;\n    }\n    :checked + .icon {\n      background-image: url(\'',"');\n    }\n\n    .range {\n      display: none;\n      padding-top: .5rem;\n    }\n    .range.visible {\n      display: flex;\n    }\n\n    .range p {\n      margin-left: 1rem;\n    }\n\n    h4 {\n      padding: 1rem 0;\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    button {\n      -webkit-appearance: none;\n      appearance: none;\n      border: none;\n      border-radius: 0;\n      background: transparent;\n      outline: none;\n      cursor: pointer;\n      --iconFillColor: var(--primaryTextColor);\n      --iconStrokeColor: var(--primaryTextColor);\n      height: 4rem;\n      width: 4rem;\n    }\n\n    button * {\n      display: inline-block;\n    }"]);return _templateObject305=function(){return _},_}function _templateObject306(){var _=_taggedTemplateLiteral(['<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>']);return _templateObject306=function(){return _},_}function _templateObject307(){var _=_taggedTemplateLiteral(["\n      <ia-book-visual-adjustments\n        .options=","\n        @visualAdjustmentOptionChanged=","\n        @visualAdjustmentZoomIn=","\n        @visualAdjustmentZoomOut=","\n      ></ia-book-visual-adjustments>\n    "]);return _templateObject307=function(){return _},_}function _templateObject308(){var _=_taggedTemplateLiteral(['\n      div {\n        display: flex;\n        justify-content: center;\n        padding-top: 2rem;\n      }\n\n      button {\n        appearance: none;\n        padding: 0.5rem 1rem;\n        margin: 0 .5rem;\n        box-sizing: border-box;\n        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n        color: var(--primaryTextColor);\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n        background: var(--primaryCTAFill);\n      }\n\n      .delete {\n        background: var(--primaryErrorCTAFill);\n      }\n    ']);return _templateObject308=function(){return _},_}function _templateObject309(){var _=_taggedTemplateLiteral(['\n      <div>\n        <button class="delete" @click=',">Delete</button>\n        <button @click=",">Cancel</button>\n      </div>\n    "]);return _templateObject309=function(){return _},_}function _templateObject310(){var _=_taggedTemplateLiteral(["\n      button {\n        -webkit-appearance: none;\n        appearance: none;\n        outline: 0;\n        border: none;\n        padding: 0;\n        height: 4rem;\n        width: 4rem;\n        background: transparent;\n        cursor: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\"), pointer;\n        position: relative;\n      }\n      button > * {\n        display: block;\n        position: absolute;\n        top: 0.2rem;\n      }\n      button.left > * {\n        left: 0.2rem;\n      }\n\n      button.right > * {\n        right: 0.2rem;\n      }\n    "]);return _templateObject310=function(){return _},_}function _templateObject311(){var _=_taggedTemplateLiteral(["\n      <button title="," @click="," class=",">\n        <icon-bookmark state=","></icon-bookmark>\n      </button>\n    "]);return _templateObject311=function(){return _},_}function _templateObject312(){var _=_taggedTemplateLiteral(['\n      <p>A free account is required to save and access bookmarks.</p>\n      <a class="ia-button link primary" href="','">Log in</a>\n    ']);return _templateObject312=function(){return _},_}function _templateObject313(){var _=_taggedTemplateLiteral(["\n      .bookmarks {\n        height: 100%;\n        overflow: hidden;\n        padding-bottom: 20px;\n      }\n\n      .list ia-bookmark-edit {\n        display: none;\n      }\n\n      .edit ia-bookmarks-list {\n        display: none;\n      }\n    "]);return _templateObject313=function(){return _},_}function _templateObject314(){var _=_taggedTemplateLiteral(["\n        <bookmark-button\n          @bookmarkButtonClicked=","\n          state=","\n          side=","\n        ></bookmark-button>"]);return _templateObject314=function(){return _},_}function _templateObject315(){var _=_taggedTemplateLiteral(["\n      <delete-modal-actions\n        .deleteAction=","\n        .cancelAction=","\n        .pageID=","\n      ></delete-modal-actions>\n    "]);return _templateObject315=function(){return _},_}function _templateObject316(){var _=_taggedTemplateLiteral(['\n      <button\n        class="ia-button primary"\n        tabindex="-1"\n        ?disabled=',"\n        @click=",">\n        Add bookmark\n      </button>\n    "]);return _templateObject316=function(){return _},_}function _templateObject317(){var _=_taggedTemplateLiteral(["\n      <ia-bookmarks-list\n        @bookmarkEdited=","\n        @bookmarkSelected=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        .editedBookmark=","\n        .bookmarks=","\n        .activeBookmarkID=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=",">\n      </ia-bookmarks-list>\n    "]);return _templateObject317=function(){return _},_}function _templateObject318(){var _=_taggedTemplateLiteral(["<p>Please use 1up or 2up view modes to add bookmark.</p>"]);return _templateObject318=function(){return _},_}function _templateObject319(){var _=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject319=function(){return _},_}function _templateObject320(){var _=_taggedTemplateLiteral(["<bookmarks-login\n        @click=","\n        .url=","></bookmarks-login>"]);return _templateObject320=function(){return _},_}function _templateObject321(){var _=_taggedTemplateLiteral(['\n      <section class="bookmarks">\n      ',"\n      </section>\n    "]);return _templateObject321=function(){return _},_}function _templateObject322(){var _=_taggedTemplateLiteral(["\n  .blue {\n    --iconFillColor: var(--blueBookmarkColor, #0023f5);\n  }\n\n  .red {\n    --iconFillColor: var(--redBookmarkColor, #eb3223);\n  }\n\n  .green {\n    --iconFillColor: var(--greenBookmarkColor, #75ef4c);\n  }\n"]);return _templateObject322=function(){return _},_}function _templateObject323(){var _=_taggedTemplateLiteral(["<header>\n      <h3>Edit Bookmark</h3>\n    </header>"]);return _templateObject323=function(){return _},_}function _templateObject324(){var _=_taggedTemplateLiteral(['\n      <li>\n        <input type="radio" name="color" id="color_','" .value='," @change="," ?checked=",'>\n        <label for="color_','">\n          <icon-bookmark class=',"></icon-bookmark>\n        </label>\n      </li>\n    "]);return _templateObject324=function(){return _},_}function _templateObject325(){var _=_taggedTemplateLiteral(['\n      <div class="bookmark">\n        <img src='," />\n        <h4>Page ","</h4>\n      </div>\n    "]);return _templateObject325=function(){return _},_}function _templateObject326(){var _=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <form action="" method="put" @submit=','>\n        <fieldset>\n          <label for="note">Note <small>(optional)</small></label>\n          <textarea rows="4" cols="80" name="note" id="note" @change=',">",'</textarea>\n          <label for="color">Bookmark color</label>\n          <ul>\n            ','\n          </ul>\n          <div class="actions">\n            <button type="button" class="ia-button cancel" @click=','>Delete</button>\n            <input class="ia-button" type="submit" value="Save">\n          </div>\n        </fieldset>\n      </form>\n    ']);return _templateObject326=function(){return _},_}function _templateObject327(){var _=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      padding: 0 1rem 2rem 1rem;\n      color: var(--primaryTextColor);\n    }\n\n    small {\n      font-style: italic;\n    }\n\n    .bookmark {\n      display: grid;\n      grid-template-columns: 37px 1fr;\n      grid-gap: 0 1rem;\n      align-items: center;\n    }\n\n    h4 {\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    fieldset {\n      padding: 2rem 0 0 0;\n      border: none;\n    }\n\n    label {\n      display: block;\n      font-weight: bold;\n    }\n\n    p {\n      padding: 0;\n      margin: .5rem 0;\n      font-size: 1.2rem;\n      line-height: 120%;\n    }\n\n    textarea {\n      width: 100%;\n      margin-bottom: 2rem;\n      box-sizing: border-box;\n      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n      resize: vertical;\n    }\n\n    ul {\n      display: grid;\n      grid-template-columns: repeat(3, auto);\n      grid-gap: 0 2rem;\n      justify-content: start;\n      padding: 1rem 0 0 0;\n      margin: 0 0 2rem 0;\n      list-style: none;\n    }\n\n    li input {\n      display: none;\n    }\n\n    li label {\n      display: block;\n      min-width: 50px;\n      padding-top: .4rem;\n      text-align: center;\n      border: 1px solid transparent;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    li input:checked + label {\n      border-color: var(--primaryTextColor);\n    }\n\n    input[type="submit"] {\n      background: var(--primaryCTAFill);\n      border-color: var(--primaryCTABorder);\n    }\n\n    button {\n      background: var(--primaryErrorCTAFill);\n      border-color: var(--primaryErrorCTABorder);\n    }\n\n    .button {\n      -webkit-appearance: none;\n      appearance: none;\n      padding: .5rem 1rem;\n      box-sizing: border-box;\n      color: var(--primaryTextColor);\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    .actions {\n      display: grid;\n      grid-template-columns: auto auto;\n      grid-gap: 0 1rem;\n      justify-items: stretch;\n    }\n    ']);return _templateObject327=function(){return _},_}function _templateObject328(){var _=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject328=function(){return _},_}function _templateObject329(){var _=_taggedTemplateLiteral(["\n      <li\n        @click=",'\n        tabindex="0"\n        data-pageIndex=','\n      >\n        <div class="separator"></div>\n        <div class="content ','">\n          <button\n            class="edit"\n            @click=','\n            title="Edit this bookmark"\n          >\n            <ia-icon-edit-pencil></ia-icon-edit-pencil>\n          </button>\n          <h4>\n            <icon-bookmark class=',"></icon-bookmark>\n            <span> Page ","</span>\n          </h4>\n          ","\n          ","\n        </div>\n      </li>\n    "]);return _templateObject329=function(){return _},_}function _templateObject330(){var _=_taggedTemplateLiteral(["\n      <ia-bookmark-edit\n        .bookmark=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=","\n        .showBookmark=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        @bookmarkColorChanged=","\n      ></ia-bookmark-edit>\n    "]);return _templateObject330=function(){return _},_}function _templateObject331(){var _=_taggedTemplateLiteral(["<small>(",")</small>"]);return _templateObject331=function(){return _},_}function _templateObject332(){var _=_taggedTemplateLiteral(["<header>\n      <h3>\n        Bookmarks\n        ","\n      </h3>\n    </header>"]);return _templateObject332=function(){return _},_}function _templateObject333(){var _=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject333=function(){return _},_}function _templateObject334(){var _=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject334=function(){return _},_}function _templateObject335(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      icon-bookmark {\n        width: 16px;\n        height: 24px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      small {\n        font-style: italic;\n      }\n\n      h4 {\n        margin: 0;\n        font-size: 1.4rem;\n      }\n      h4 * {\n        display: inline-block;\n      }\n      h4 icon-bookmark {\n        vertical-align: bottom;\n      }\n      h4 span {\n        vertical-align: top;\n        padding-top: 1%;\n      }\n\n      p {\n        padding: 0;\n        margin: 5px 0 0 0;\n        width: 98%;\n        overflow-wrap: break-word;\n      }\n\n      ia-bookmark-edit {\n        margin: 5px 5px 3px 6px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n      ul > li:first-child .separator {\n        display: none;\n      }\n      li {\n        cursor: pointer;\n        outline: none;\n        position: relative;\n      }\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: .2rem 0 .4rem .2rem;\n      }\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n      li button.edit {\n        padding: 5px 2px 0 0;\n        background: transparent;\n        cursor: pointer;\n        height: 40px;\n        width: 40px;\n        position: absolute;\n        right: 2px;\n        top: 2px;\n        text-align: right;\n        -webkit-appearance: none;\n        appearance: none;\n        outline: none;\n        box-sizing: border-box;\n        border: none;\n      }\n      li button.edit > * {\n        display: block;\n        height: 100%;\n        width: 100%;\n      }\n    "]);return _templateObject335=function(){return _},_}function _templateObject336(){var _=_taggedTemplateLiteral(['<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>']);return _templateObject336=function(){return _},_}function _templateObject337(){var _=_taggedTemplateLiteral(["",""]);return _templateObject337=function(){return _},_}function _templateObject338(){var _=_taggedTemplateLiteral(["<iaux-in-share-panel\n      .identifier=","\n      .type=","\n      .creator=","\n      .description=","\n      .baseHost=","\n      .fileSubPrefix=","\n    ></iaux-in-share-panel>"]);return _templateObject338=function(){return _},_}function _templateObject339(){var _=_taggedTemplateLiteral(["",""]);return _templateObject339=function(){return _},_}function _templateObject340(){var _=_taggedTemplateLiteral(['\n  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject340=function(){return _},_}function _templateObject341(){var _=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        title="Exit fullscreen view"\n      >',"</button>\n    "]);return _templateObject341=function(){return _},_}function _templateObject342(){var _=_taggedTemplateLiteral(['<img class="cover-img" src=',' alt="cover image for ','">']);return _templateObject342=function(){return _},_}function _templateObject343(){var _=_taggedTemplateLiteral(['<div class="placeholder">',"</div>"]);return _templateObject343=function(){return _},_}function _templateObject344(){var _=_taggedTemplateLiteral(['<slot name="main"></slot>']);return _templateObject344=function(){return _},_}function _templateObject345(){var _=_taggedTemplateLiteral(['<div id="book-navigator__root">\n      ',"\n      ","\n    </div>\n  "]);return _templateObject345=function(){return _},_}function _templateObject346(){var _=_taggedTemplateLiteral(["\n    :host,\n    #book-navigator__root,\n    slot,\n    slot > * {\n      display: block;\n      height: inherit;\n      width: inherit;\n    }\n    .placeholder {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      margin: 5%;\n    }\n    .cover-img {\n      max-height: 300px;\n    }\n  "]);return _templateObject346=function(){return _},_}function _templateObject347(){var _=_taggedTemplateLiteral(['\n      <div class="main-component">\n        <iaux-item-navigator\n          ?viewportInFullscreen=',"\n          .basehost=","\n          .item=","\n          .modal=","\n          .loaded=","\n          .sharedObserver=","\n          ?signedIn=","\n          .menuShortcuts=","\n          .menuContents=","\n          .openMenu=",'\n        >\n          <div slot="header">\n            <slot name="header"></slot>\n          </div>\n          <div slot="main">\n            <book-navigator\n              .modal=',"\n              .baseHost=","\n              .itemMD=","\n              ?signedIn=","\n              ?sideMenuOpen=","\n              .sharedObserver=","\n              @ViewportInFullScreen=","\n              @loadingStateUpdated=","\n              @updateSideMenu=","\n              @menuUpdated=","\n              @menuShortcutsUpdated=",'\n            >\n              <div slot="main">\n                <slot name="main"></slot>\n              </div>\n            </book-navigator>\n          </div>\n        </iaux-item-navigator>\n      </div>\n    ']);return _templateObject347=function(){return _},_}function _templateObject348(){var _=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        --primaryBGColor: var(--black, #000);\n        --secondaryBGColor: #222;\n        --tertiaryBGColor: #333;\n        --primaryTextColor: var(--white, #fff);\n        --primaryCTAFill: #194880;\n        --primaryCTABorder: #c5d1df;\n        --secondaryCTAFill: #333;\n        --secondaryCTABorder: #999;\n        --primaryErrorCTAFill: #e51c26;\n        --primaryErrorCTABorder: #f8c6c8;\n        background-color: var(--primaryBGColor);\n        position: relative;\n      }\n\n      :host([fullscreen]),\n      iaux-item-navigator[viewportinfullscreen] {\n        position: fixed;\n        inset: 0;\n        height: 100%;\n        min-height: unset;\n      }\n\n      .main-component {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        display: flex;\n        width: 100%;\n      }\n\n      slot {\n        display: block;\n        flex: 1;\n      }\n\n      iaux-item-navigator {\n        min-height: var(--br-height, inherit);\n        height: var(--br-height, inherit);\n        display: block;\n        width: 100%;\n        color: var(--primaryTextColor);\n        --menuButtonLabelDisplay: block;\n        --menuWidth: 320px;\n        --menuSliderBg: var(--secondaryBGColor);\n        --activeButtonBg: var(--tertiaryBGColor);\n        --subpanelRightBorderColor: var(--secondaryCTABorder);\n        --animationTiming: 100ms;\n        --iconFillColor: var(--primaryTextColor);\n        --iconStrokeColor: var(--primaryTextColor);\n        --menuSliderHeaderIconHeight: 2rem;\n        --menuSliderHeaderIconWidth: 2rem;\n        --iconWidth: 2.4rem;\n        --iconHeight: 2.4rem;\n        --shareLinkColor: var(--primaryTextColor);\n        --shareIconBorder: var(--primaryTextColor);\n        --shareIconBg: var(--secondaryBGColor);\n        --activityIndicatorLoadingDotColor: var(--primaryTextColor);\n        --activityIndicatorLoadingRingColor: var(--primaryTextColor);\n      }\n    ']);return _templateObject348=function(){return _},_}function _templateObject349(){var _=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="audioTitleID audioDescID"\n>\n  <title id="audioTitleID">Audio icon</title>\n  <desc id="audioDescID">An illustration of an audio speaker.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(10, 8)" class="fill-color">\n      <path\n        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"\n      ></path>\n      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>\n    </g>\n  </g>\n</svg>\n']);return _templateObject349=function(){return _},_}function _templateObject350(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject350=function(){return _},_}function _templateObject351(){var _=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject351=function(){return _},_}function _templateObject352(){var _=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject352=function(){return _},_}function _templateObject353(){var _=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject353=function(){return _},_}function _templateObject354(){var _=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n      fill=""></path>\n  </svg>']);return _templateObject354=function(){return _},_}function _templateObject355(){var _=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill=""></path>\n  </svg>']);return _templateObject355=function(){return _},_}function _templateObject356(){var _=_taggedTemplateLiteral(['<span class="caret">',"</span>"]);return _templateObject356=function(){return _},_}function _templateObject357(){var _=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button @click=',' class="click-main">\n          <span class="cta sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n      </div>\n    "]);return _templateObject357=function(){return _},_}function _templateObject358(){var _=_taggedTemplateLiteral(["\n    :host {\n      display: inline;\n      color: var(--dropdownTextColor, #fff);\n    }\n\n    svg.caret-up-svg,\n    svg.caret-down-svg {\n      fill: var(--dropdownCaretColor, #fff);\n      vertical-align: middle;\n    }\n\n    button.click-main {\n      background: transparent;\n      color: inherit;\n      border: none;\n      cursor: pointer;\n      outline: inherit;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: row;\n      padding-left: 0;\n    }\n\n    button slot {\n      padding-right: 5px;\n      display: inline-block;\n    }\n\n    .ia-dropdown-group {\n      width: inherit;\n      height: inherit;\n      position: relative;\n    }\n\n    .sr-only {\n      border: 0 !important;\n      clip: rect(1px, 1px, 1px, 1px) !important;\n      -webkit-clip-path: inset(50%) !important;\n      clip-path: inset(50%) !important;\n      height: 1px !important;\n      margin: -1px !important;\n      overflow: hidden !important;\n      padding: 0 !important;\n      position: absolute !important;\n      width: 1px !important;\n      white-space: nowrap !important;\n    }\n\n    .caret svg {\n      height: var(--caretHeight, 10px);\n      width: var(--caretWidth, 20px);\n    }\n\n    ul {\n      z-index: var(--dropdownListZIndex, 1);\n    }\n\n    ul.dropdown-main.closed {\n      visibility: hidden;\n      height: 1px;\n      width: 1px;\n    }\n\n    ul.dropdown-main {\n      position: absolute;\n      list-style: none;\n      margin: 5px 0 0 0;\n      padding: 0;\n      color: var(--dropdownTextColor, #fff);\n      border-radius: 4px;\n      border: 1px solid var(--dropdownBorderColor, #fff);\n    }\n\n    ul.dropdown-main {\n      background: var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li:hover:first-child {\n      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n    }\n\n    ul.dropdown-main li:hover:last-child {\n      border-bottom-color: var(\n        --dropdownHoverBgColor,\n        rgba(255, 255, 255, 0.3)\n      );\n    }\n\n    ul.dropdown-main li:hover:not(:first-child) {\n      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n    ul.dropdown-main li:hover:not(:last-child) {\n      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n\n    ul.dropdown-main li.selected:last-child {\n      border-bottom-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected:first-child {\n      border-top-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected > * {\n      background-color: var(--dropdownSelectedBgColor, #fff);\n      color: var(--dropdownSelectedTextColor, #2c2c2c);\n    }\n\n    ul.dropdown-main li:hover {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n      list-style: none;\n      cursor: pointer;\n    }\n\n    ul.dropdown-main li:hover > * {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n    }\n\n    ul.dropdown-main li {\n      background: var(--dropdownBgColor, #333);\n      list-style: none;\n      height: 30px;\n      cursor: pointer;\n      border-bottom: 0.5px solid var(--dropdownBgColor, #333);\n      border-top: 0.5px solid var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li button {\n      background: none;\n      color: inherit;\n      border: none;\n      font: inherit;\n      cursor: pointer;\n      outline: inherit;\n    }\n\n    ul.dropdown-main li a {\n      text-decoration: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li:first-child {\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n    }\n\n    ul.dropdown-main li:last-child {\n      border-bottom-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n    }\n\n    /* cover the list with the label */\n    ul.dropdown-main li > * > :first-child {\n      margin: 0;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n      padding: 5px 10px;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li > * {\n      width: 100%;\n      height: inherit;\n      color: var(--dropdownTextColor, #fff);\n      background: transparent;\n      padding: 0;\n    }\n  "]);return _templateObject358=function(){return _},_}function _templateObject359(){var _=_taggedTemplateLiteral(['\n  <svg\n    height="12"\n    viewBox="0 0 12 12"\n    width="12"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="closeCircleTitleID closeCircleDescID"\n  >\n    <title id="closeCircleTitleID">Close circle icon</title>\n    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>\n    <path\n      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"\n      class="fill-color"\n      fill-rule="evenodd"\n    />\n  </svg>\n']);return _templateObject359=function(){return _},_}function _templateObject360(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor, #999);\n      }\n    "]);return _templateObject360=function(){return _},_}function _templateObject361(){var _=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject361=function(){return _},_}function _templateObject362(){var _=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n  "]);return _templateObject362=function(){return _},_}function _templateObject363(){var _=_taggedTemplateLiteral(["\n  section#radio {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  #radio #selector-title {\n    margin-right: 5px;\n  }\n\n  #radio ul {\n    display: inline-block;\n  }\n\n  #radio ul {\n    border-radius: 50px;\n    display: inline-flex;\n    align-content: flex-start;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #radio li {\n    border: 1px solid #fff;\n  }\n\n  #radio li:first-child {\n    border-top-left-radius: 50px;\n    border-bottom-left-radius: 50px;\n    padding-left: 5px;\n  }\n  #radio li:first-child ia-icon-label {\n    margin-left: 5px;\n  }\n\n  #radio li:last-child {\n    border-top-right-radius: 50px;\n    border-bottom-right-radius: 50px;\n    padding-right: 10px;\n    padding-left: 5px;\n  }\n\n  #radio li:last-child ia-icon-label {\n    margin-right: 5px;\n  }\n\n  #radio li:not(:last-child) {\n    border-right: none;\n    padding-right: 5px;\n    padding-left: 5px;\n  }\n\n  /* Demarcate when hovering next to selected channel */\n  #radio li > ia-icon-label {\n    height: 30px;\n    padding: 5px;\n    box-sizing: border-box;\n  }\n  /* End demarcation */\n"]);return _templateObject363=function(){return _},_}function _templateObject364(){var _=_taggedTemplateLiteral(['<img\n    class="ia"\n    src="https://archive.org/images/music-theater/internet-archive.svg"\n    alt="Internet Archive logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject364=function(){return _},_}function _templateObject365(){var _=_taggedTemplateLiteral(['<img\n    class="ia-beta"\n    src="https://archive.org/images/music-theater/streaming.svg"\n    alt="Internet Archive beta player logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject365=function(){return _},_}function _templateObject366(){var _=_taggedTemplateLiteral(['<img\n    class="spotify"\n    src="https://archive.org/images/music-theater/spotify.svg"\n    alt="Spotify logo"\n    style="display: block;"\n  />']);return _templateObject366=function(){return _},_}function _templateObject367(){var _=_taggedTemplateLiteral(['<img\n    class="webamp"\n    src="https://archive.org/images/music-theater/webamp.svg"\n    alt="webamp logo"\n    style="height: 20px;"\n  />']);return _templateObject367=function(){return _},_}function _templateObject368(){var _=_taggedTemplateLiteral(['<img\n    class="youtube"\n    src="https://archive.org/images/music-theater/youtube.svg"\n    alt="youtube logo"\n    style="height: 20px; width: 20px; display: block;"\n  />']);return _templateObject368=function(){return _},_}function _templateObject369(){var _=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject369=function(){return _},_}function _templateObject370(){var _=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject370=function(){return _},_}function _templateObject371(){var _=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject371=function(){return _},_}function _templateObject372(){var _=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>Webamp</span>\n    </ia-icon-label>\n  "]);return _templateObject372=function(){return _},_}function _templateObject373(){var _=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject373=function(){return _},_}function _templateObject374(){var _=_taggedTemplateLiteral(["\n    <a href="," @click=",">","</button>\n  "]);return _templateObject374=function(){return _},_}function _templateObject375(){var _=_taggedTemplateLiteral(["\n    <button @click=",' class="ia">\n      ',"\n    </button>\n  "]);return _templateObject375=function(){return _},_}function _templateObject376(){var _=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="ia-beta"\n>\n  ',"\n</button>"]);return _templateObject376=function(){return _},_}function _templateObject377(){var _=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="sp"\n>\n  ',"\n</button>"]);return _templateObject377=function(){return _},_}function _templateObject378(){var _=_taggedTemplateLiteral(["\n    <a href="," @click=",' class="wa">',"</button>\n  "]);return _templateObject378=function(){return _},_}function _templateObject379(){var _=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="yt"\n>\n  ',"\n</button>"]);return _templateObject379=function(){return _},_}function _templateObject380(){var _=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject380=function(){return _},_}function _templateObject381(){var _=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject381=function(){return _},_}function _templateObject382(){var _=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject382=function(){return _},_}function _templateObject383(){var _=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject383=function(){return _},_}function _templateObject384(){var _=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject384=function(){return _},_}function _templateObject385(){var _=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject385=function(){return _},_}function _templateObject386(){var _=_taggedTemplateLiteral(["\n      <ia-dropdown\n        displayCaret\n        .options=","\n        .selectedOption=","\n        class=",'\n      >\n        <span slot="dropdown-label">',"</span>\n      </ia-dropdown>\n    "]);return _templateObject386=function(){return _},_}function _templateObject387(){var _=_taggedTemplateLiteral(['\n      <div id="selector-title"><h4>Play from:</h4></div>\n      <div>\n        <ul>\n          '," ","\n          ","\n          ","\n          ","\n        </ul>\n      </div>\n    "]);return _templateObject387=function(){return _},_}function _templateObject388(){var _=_taggedTemplateLiteral(["\n      <section\n        id=",'\n        class="'," ",'"\n      >\n        ',"\n      </section>\n    "]);return _templateObject388=function(){return _},_}function _templateObject389(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      :host(:focus) {\n        outline: none;\n      }\n\n      section.radio ul,\n      section.radio h4 {\n        color: #fff;\n      }\n\n      section.radio.light h4 {\n        color: #222;\n      }\n\n      ia-dropdown.light {\n        --channel-selector-dropdown-text-color: #222;\n        color: var(--channel-selector-dropdown-text-color, #222);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);\n      }\n\n      ia-dropdown {\n        --dropdownBgColor: #333;\n        --dropdownHoverBgColor: #474747;\n        color: var(--channel-selector-dropdown-text-color, #fff);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);\n      }\n\n      ia-dropdown.light img.ia,\n      ia-dropdown.light img.ia-beta,\n      ia-dropdown.light img.webamp {\n        filter: invert(1);\n      }\n\n      h4 {\n        margin: 0;\n      }\n\n      a:link,\n      a:visited,\n      a:active,\n      a {\n        color: inherit;\n        text-decoration: none;\n      }\n\n      button {\n        color: inherit;\n        background: none;\n        border: none;\n        padding: 0;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n        margin: 0;\n      }\n\n      li > *,\n      #dropdown .selected-option {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-content: center;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n      }\n\n      li:hover {\n        background-color: var(--channel-selector-hover-bg-color, #474747);\n      }\n\n      li.selected {\n        background-color: #fff;\n        color: #2c2c2c;\n      }\n\n      ul,\n      li {\n        list-style-type: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      li {\n        display: flex;\n        height: 30px;\n        background-color: #333;\n      }\n\n      #dropdown .close,\n      .sr-only {\n        width: 1px;\n        height: 1px;\n        padding: 0px;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0px, 0px, 0px, 0px);\n        border: 0px;\n        display: block;\n      }\n\n      #radio .selected-option {\n        display: none;\n      }\n\n      li a.ia {\n        display: flex;\n      }\n\n      *[slot='dropdown-label'] img {\n        height: 30px !important;\n        width: 30px !important;\n        display: block;\n      }\n    "]);return _templateObject389=function(){return _},_}function _templateObject390(){var _=_taggedTemplateLiteral(['\n      <div class="no-image">\n        <ia-icon-audio class=',"></ia-icon-audio>\n      </div>\n    "]);return _templateObject390=function(){return _},_}function _templateObject391(){var _=_taggedTemplateLiteral(["\n    ia-icon-audio {\n      margin: auto;\n      display: block;\n      height: var(--imageHeight, 100%);\n      width: var(--imageWidth, 100%);\n      opacity: 0.8;\n    }\n    :host {\n      height: 100%;\n      width: 100%;\n    }\n\n    ia-icon-audio {\n      border: 1px solid #fff8;\n    }\n\n    ia-icon-audio.grad0 {\n      background: linear-gradient(\n        hsl(300, 80%, 55%),\n        hsl(330, 80%, 33%) 35%,\n        hsl(330, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad1 {\n      background: linear-gradient(\n        hsl(200, 80%, 55%),\n        hsl(230, 80%, 33%) 35%,\n        hsl(230, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad2 {\n      background: linear-gradient(\n        hsl(160, 80%, 55%),\n        hsl(190, 80%, 33%) 35%,\n        hsl(190, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad3 {\n      background: linear-gradient(\n        hsl(250, 80%, 55%),\n        hsl(280, 80%, 33%) 35%,\n        hsl(280, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad4 {\n      background: linear-gradient(\n        hsl(280, 80%, 55%),\n        hsl(310, 80%, 33%) 35%,\n        hsl(310, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad5 {\n      background: linear-gradient(\n        hsl(340, 80%, 55%),\n        hsl(0, 80%, 33%) 35%,\n        hsl(0, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n  "]);return _templateObject391=function(){return _},_}function _templateObject392(){var _=_taggedTemplateLiteral(['\n  <svg\n    id="more-inside-icon"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 100 100"\n  >\n    <path\n      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"\n      fill-rule="evenodd"\n      class="fill-color"\n    />\n  </svg>\n']);return _templateObject392=function(){return _},_}function _templateObject393(){var _=_taggedTemplateLiteral(['\n        <div class="no-images">\n          <iamusic-noimage .iaIdentifier=',"\n            >no image available</iamusic-noimage\n          >\n        </div>\n      "]);return _templateObject393=function(){return _},_}function _templateObject394(){var _=_taggedTemplateLiteral(["\n      <div\n        class=",'\n      >\n        <div class="flip-card-inner">\n          <div class="flip-card-front">','</div>\n          <div class="flip-card-back">',"</div>\n        </div>\n      </div>\n    "]);return _templateObject394=function(){return _},_}function _templateObject395(){var _=_taggedTemplateLiteral(["\n      <div class=",'>\n        <button\n          id="close-photo-viewer"\n          @click=','\n        >\n          <span class="sr-only">Click to close Photo Viewer.</span>\n          <ia-icon-close-circle></ia-icon-close-circle>\n        </button>\n        <ia-bookreader\n          .item=',"\n          .baseHost=","\n          .signedIn=",'\n          ><div slot="main"><slot name="main"></slot></div\n        ></ia-bookreader>\n      </div>\n    ']);return _templateObject395=function(){return _},_}function _templateObject396(){var _=_taggedTemplateLiteral(['\n      <div class="cover-art">\n        <button\n          class="click-for-photos"\n          @click=',"\n        >\n          <img\n            src=","\n            alt=","\n            @load=",'\n          />\n          <span class="sr-only">See all photos for ','</span>\n          <div id="see-more-cta">\n            <p><span>See more</span> <span>',"</span></p>\n          </div>\n        </button>\n      </div>\n    "]);return _templateObject396=function(){return _},_}function _templateObject397(){var _=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    :host[fullscreenactive],\n    .flip-card.fullscreenActive {\n      position: absolute;\n      inset: 0;\n      height: var(--linerNotesFullscreenHeight, 100vh);\n    }\n\n    div.no-images {\n      display: flex;\n      height: inherit;\n    }\n    div.no-images * {\n      --iconFillColor: white;\n      --iconHeight: 250px;\n      --iconWidth: 250px;\n      margin: auto;\n    }\n\n    ia-icon-texts {\n      height: 50px;\n      width: 50px;\n      --iconFillColor: white;\n      display: block;\n    }\n\n    button {\n      cursor: pointer;\n      border: 1px solid transparent;\n      background-color: transparent;\n    }\n\n    .cover-art,\n    button.click-for-photos {\n      height: inherit;\n      position: relative;\n      padding: 0;\n    }\n\n    button.click-for-photos {\n      display: flex;\n      margin: auto;\n      min-height: 30%;\n      min-width: 25%;\n    }\n\n    button.click-for-photos img {\n      display: block;\n      overflow: hidden;\n      object-fit: contain;\n      object-position: top;\n      max-width: 100%;\n      margin-top: 18px;\n      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);\n    }\n\n    button.click-for-photos ia-icon-texts,\n    button#close-photo-viewer {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n\n    button span.sr-only {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      top: 0;\n      left: 0;\n      visibility: hidden;\n    }\n\n    button#close-photo-viewer {\n      border: none;\n      z-index: 2;\n      padding: 0;\n    }\n\n    button#close-photo-viewer ia-icon-close-circle {\n      display: block;\n      padding: 10px;\n      --iconHeight: 20px;\n      --iconWidth: 20px;\n      --iconFillColor: #fff;\n    }\n\n    .flip-card {\n      width: 100%;\n      height: 100%;\n      perspective: 1000px;\n    }\n\n    .flip-card-inner {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      transition: transform 0.6s;\n      transform-style: preserve-3d;\n    }\n\n    .flip-card.show-back .flip-card-inner {\n      transform: rotateY(180deg);\n    }\n\n    .flip-card.show-back .flip-card-front .cover-art {\n      transition: height 0.5s;\n      height: 100%;\n      visibility: hidden;\n    }\n\n    .flip-card-front,\n    .flip-card-back {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: transparent;\n      -webkit-backface-visibility: hidden;\n      backface-visibility: hidden;\n    }\n\n    .flip-card-back {\n      transform: rotateY(180deg);\n    }\n\n    .photo-viewer-container {\n      height: inherit;\n    }\n\n    ia-bookreader {\n      display: block;\n      background-color: transparent;\n    }\n\n    /* see more cta */\n    .flip-card #see-more-cta {\n      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;\n      font-weight: bold;\n      font-size: 14px;\n      align-self: end;\n      margin: 0;\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n    .flip-card #see-more-cta p {\n      display: inline-block;\n      margin: 0;\n      width: 90px;\n    }\n    .flip-card #see-more-cta svg {\n      position: absolute;\n      width: 16px;\n      margin-left: 0px;\n      top: 0;\n      right: 0;\n      margin-top: -2px;\n    }\n\n    .flip-card #see-more-cta {\n      color: white;\n    }\n    .flip-card #see-more-cta .fill-color {\n      fill: white;\n    }\n\n    .flip-card.light #see-more-cta {\n      color: #222;\n    }\n    .flip-card.light #see-more-cta .fill-color {\n      fill: #222;\n    }\n  "]);return _templateObject397=function(){return _},_}function _templateObject398(){var _=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="200"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="YouTube Player"\n      ></iframe>\n    ']);return _templateObject398=function(){return _},_}function _templateObject399(){var _=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject399=function(){return _},_}function _templateObject400(){var _=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="80"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="Spotify Player"\n      ></iframe>\n    ']);return _templateObject400=function(){return _},_}function _templateObject401(){var _=_taggedTemplateLiteral(["<h3>Invalid Spotify URI: ","</h3>"]);return _templateObject401=function(){return _},_}function _templateObject402(){var _=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject402=function(){return _},_}function _templateObject403(){var _=_taggedTemplateLiteral(["\n          <spotify-player .iaUrn=","></spotify-player>\n        "]);return _templateObject403=function(){return _},_}function _templateObject404(){var _=_taggedTemplateLiteral(["\n          <youtube-player .iaUrn=","></youtube-player>\n        "]);return _templateObject404=function(){return _},_}function _templateObject405(){var _=_taggedTemplateLiteral(["<iaux-photo-viewer\n            noimageavailable\n            .itemIdentifier=","></iaux-photo-viewer>"]);return _templateObject405=function(){return _},_}function _templateObject406(){var _=_taggedTemplateLiteral(["<iaux-photo-viewer\n            ?noimageavailable=","\n            class=","\n            .backgroundTheme=","\n            .baseHost=","\n            .itemIdentifier=","\n            .itemMD=","\n            .signedIn=","\n            .linerNotesManifest=","\n            .lightDomHook=","\n            .sharedRO=","\n            @fullscreenOpened=","\n            @fullscreenClosed=","\n            @showingAllPhotos=","\n            @coverImageLoaded=",'\n          >\n            <div slot="main" class="main">\n              <slot name="main"></slot>\n            </div>\n          </iaux-photo-viewer>']);return _templateObject406=function(){return _},_}function _templateObject407(){var _=_taggedTemplateLiteral(['<div class="image"><slot name="image"></slot></div>']);return _templateObject407=function(){return _},_}function _templateObject408(){var _=_taggedTemplateLiteral(['\n      <section\n        id="music-theater"\n        class=',"\n      >\n        <channel-selector\n          .backgroundTheme=","\n          webamp\n          .youtube=","\n          .spotify=","\n          .url=","\n          .selected=","\n          @channelChange=","\n          .displayStyle=","\n        ></channel-selector>\n        ","\n        ",'\n        <div class="player">\n          <div id="ext-channels-section">\n            <externalchannels-player\n                .album=',"\n                selectedChannel=","\n                .playerApi=","\n                @externalChannelsPlayerLoaded=","\n                @externalChannelsSelectedTrack=",'\n              ></external-channels-player>\n          </div>\n          <slot class="player"></slot>\n        </div>\n      </section>\n    ']);return _templateObject408=function(){return _},_}function _templateObject409(){var _=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        /* petabox styling is very sticky for outlines, let\'s remove */\n        outline: none !important;\n        font-size: 16px;\n        height: 100%;\n        min-height: inherit;\n        --imageWidth: 350px;\n        --imageHeight: 350px;\n      }\n\n      :host[bgtheme="dark"],\n      #music-theater.dark {\n        color: white;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .linerNotesFullscreen channel-selector {\n        visibility: hidden;\n      }\n\n      channel-selector {\n        z-index: 1;\n        position: relative;\n      }\n\n      channel-selector[displaystyle="dropdown"] {\n        padding-left: 5px;\n        padding-bottom: 10px;\n        padding-top: 10px;\n        z-index: 3;\n        display: inline-block;\n        position: absolute;\n        top: 0;\n      }\n\n      #music-theater.dropdown {\n        margin-top: 5px;\n      }\n\n      @media(max-width: 768px) {\n        #music-theater.one-col.hasimage slot[name="image"],\n        #music-theater.one-col.hasimage iaux-photo-viewer {\n          overflow: hidden;\n          height: 268px;\n          margin-top: 20px;\n        }\n\n        #music-theater.one-col.noimageavailable channel-selector {\n          position: absolute;\n        }\n\n        #music-theater.one-col.noimageavailable iaux-photo-viewer {\n          overflow: hidden;\n          --imageHeight: 190px;\n          --imageWidth: 190px;\n          --linerNotesHeight: 200px;\n          height: 200px !important;\n          padding-top: 10px;\n        }\n\n        #music-theater.one-col slot.player {\n          padding: 0 5px;\n        }\n      }\n\n      @media(min-width: 1201px) {\n        #music-theater.two-col {\n          margin: 10px auto;\n        }\n      }\n\n      #music-theater.two-col {\n        display: grid;\n        grid-template-columns: 0.7fr 1.3fr;\n        grid-template-rows: 0.2fr;\n        gap: 0;\n        column-gap: 0;\n        grid-template-areas: "image channel-selector" "image player";\n        column-gap: 20px;\n        margin: 10px 30px;\n      }\n\n      #music-theater.two-col .image,\n      #music-theater.two-col iaux-photo-viewer {\n        grid-area: image;\n        z-index: 2;\n        max-height: var(--linerNotesInTheaterHeight, 100%);\n        margin-top: 10px;\n        height: auto;\n      }\n      #music-theater.two-col .player {\n        grid-area: player;\n      }\n      #music-theater.two-col channel-selector[displaystyle="radio"] {\n        grid-area: channel-selector;\n      }\n\n      @media(min-width: 768px) and (max-width: 1200px) {\n        #music-theater.two-col.hasimage {\n          grid-template-columns: 1fr 1fr;\n        }\n      }\n\n      slot {\n        display: block;\n      }\n\n      slot[name="image"] {\n        max-height: 400px;\n        display: block;\n        max-width: 100%;\n        height: inherit;\n        object-fit: contain;\n        position: relative;\n      }\n\n      div#ext-channels-section {\n        margin-top: 5px;\n      }\n    ']);return _templateObject409=function(){return _},_}function _templateObject410(){var _=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject410=function(){return _},_}function _templateObject411(){var _=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject411=function(){return _},_}function _templateObject412(){var _=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject412=function(){return _},_}function _templateObject413(){var _=_taggedTemplateLiteral(['\n      <div class="container">\n        ','\n\n        <div\n          class="scroll-container"\n          id="scroll-container"\n          @wheel=',"\n          @touchmove=",'\n        >\n          <div class="col time">\n            ','\n          </div>\n\n          <div class="col">\n            ',"\n            ","\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject413=function(){return _},_}function _templateObject414(){var _=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        class="auto-scroll-button ','"\n      >\n        Scroll text with audio\n      </button>\n    ']);return _templateObject414=function(){return _},_}function _templateObject415(){var _=_taggedTemplateLiteral(['\n      <div class="time-display" style="top: ','px">\n        <duration-formatter .seconds=',"> </duration-formatter>\n      </div>\n    "]);return _templateObject415=function(){return _},_}function _templateObject416(){var _=_taggedTemplateLiteral(["\n      <transcript-entry\n        .entry=","\n        ?isSelected=","\n        ?isActive=","\n        ?isSearchResult=","\n        ?isMusicEntry=",'\n        isClickable="true"\n        data-search-result-index=',"\n        data-identifier=","\n        @click=","\n      >\n      </transcript-entry>\n    "]);return _templateObject416=function(){return _},_}function _templateObject417(){var _=_taggedTemplateLiteral(["\n      "," ","\n    "]);return _templateObject417=function(){return _},_}function _templateObject418(){var _=_taggedTemplateLiteral(['\n      <div class="top context-overlay" style="height: ','px"></div>\n    ']);return _templateObject418=function(){return _},_}function _templateObject419(){var _=_taggedTemplateLiteral(['\n      <div class="bottom context-overlay" style="height: ','px"></div>\n    ']);return _templateObject419=function(){return _},_}function _templateObject420(){var _=_taggedTemplateLiteral(["var(--transcriptHeight, 200px)"]);return _templateObject420=function(){return _},_}function _templateObject421(){var _=_taggedTemplateLiteral(["var(--timeFontSize, 1em)"]);return _templateObject421=function(){return _},_}function _templateObject422(){var _=_taggedTemplateLiteral(["var(--timeLineHeight, 1em)"]);return _templateObject422=function(){return _},_}function _templateObject423(){var _=_taggedTemplateLiteral(["var(--timeColor, white)"]);return _templateObject423=function(){return _},_}function _templateObject424(){var _=_taggedTemplateLiteral(["var(--timeColumnWidth, 3rem)"]);return _templateObject424=function(){return _},_}function _templateObject425(){var _=_taggedTemplateLiteral(["var(--timeDisplay, block)"]);return _templateObject425=function(){return _},_}function _templateObject426(){var _=_taggedTemplateLiteral(["var(--autoScrollButtonFontColor, black)"]);return _templateObject426=function(){return _},_}function _templateObject427(){var _=_taggedTemplateLiteral(["var(--autoScrollButtonBackgroundColor, white)"]);return _templateObject427=function(){return _},_}function _templateObject428(){var _=_taggedTemplateLiteral(["var(--autoScrollButtonWidth, 12rem)"]);return _templateObject428=function(){return _},_}function _templateObject429(){var _=_taggedTemplateLiteral(["var(--autoScrollButtonFontSize, 1em)"]);return _templateObject429=function(){return _},_}function _templateObject430(){var _=_taggedTemplateLiteral(["var(--transcriptNormalTextColor, gray)"]);return _templateObject430=function(){return _},_}function _templateObject431(){var _=_taggedTemplateLiteral(["var(--transcriptActiveTextColor, white)"]);return _templateObject431=function(){return _},_}function _templateObject432(){var _=_taggedTemplateLiteral(["var(--transcriptHoverTextColor, silver)"]);return _templateObject432=function(){return _},_}function _templateObject433(){var _=_taggedTemplateLiteral(["var(--transcriptMusicNormalTextColor, gray)"]);return _templateObject433=function(){return _},_}function _templateObject434(){var _=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, white)"]);return _templateObject434=function(){return _},_}function _templateObject435(){var _=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, silver)"]);return _templateObject435=function(){return _},_}function _templateObject436(){var _=_taggedTemplateLiteral(["var(--transcriptSearchResultInactiveBorderColor, gray)"]);return _templateObject436=function(){return _},_}function _templateObject437(){var _=_taggedTemplateLiteral(["var(--transcriptSearchResultActiveBorderColor, green)"]);return _templateObject437=function(){return _},_}function _templateObject438(){var _=_taggedTemplateLiteral(["\n      :host {\n        color: ",";\n      }\n\n      .container {\n        position: relative;\n      }\n\n      .auto-scroll-button.hidden {\n        display: none;\n      }\n\n      .auto-scroll-button {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 1rem;\n        margin: auto;\n        width: ",";\n        border-radius: 1em;\n        border: 0;\n        display: inline-block;\n        color: ",";\n        background-color: ",";\n        font-size: ",";\n        z-index: 10;\n      }\n\n      .context-overlay {\n        position: absolute;\n        left: 0;\n        width: 100%;\n        height: 0;\n        z-index: -1;\n      }\n\n      .context-overlay.top {\n        top: 0;\n        border-bottom: 1px solid green;\n      }\n\n      .context-overlay.bottom {\n        bottom: 0;\n        border-top: 1px solid green;\n      }\n\n      .time {\n        display: ",";\n        flex: 0 0 ",";\n        color: ",";\n        position: relative;\n      }\n\n      .time-display {\n        position: absolute;\n        top: 0;\n        font-size: ",";\n        line-height: ",";\n        transition: top 1s;\n      }\n\n      .scroll-container {\n        display: flex;\n        overflow-y: auto;\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n        height: ",";\n      }\n\n      .scroll-container::-webkit-scrollbar {\n        display: none;\n      }\n\n      transcript-entry {\n        cursor: pointer;\n      }\n\n      transcript-entry:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry] {\n        color: ",";\n        display: block;\n        font-style: italic;\n      }\n\n      transcript-entry[ismusicentry]:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry][isactive] {\n        color: ",";\n      }\n\n      transcript-entry[isactive] {\n        color: ",";\n      }\n\n      transcript-entry[issearchresult] {\n        display: inline-block; /* without this, the outline adds an extra space to the right of the text */\n        padding: 0 5px;\n        position: relative;\n      }\n\n      transcript-entry[issearchresult]:after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 2px solid ",";\n        border-radius: 5px;\n      }\n\n      transcript-entry[issearchresult][isselected]:after {\n        border: 2px solid ",";\n      }\n    "]);return _templateObject438=function(){return _},_}function _templateObject439(){var _=_taggedTemplateLiteral([""]);return _templateObject439=function(){return _},_}function _templateObject440(){var _=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject440=function(){return _},_}function _templateObject441(){var _=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject441=function(){return _},_}function _templateObject442(){var _=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject442=function(){return _},_}function _templateObject443(){var _=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject443=function(){return _},_}function _templateObject444(){var _=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject444=function(){return _},_}function _templateObject445(){var _=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject445=function(){return _},_}function _templateObject446(){var _=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject446=function(){return _},_}function _templateObject447(){var _=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject447=function(){return _},_}function _templateObject448(){var _=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject448=function(){return _},_}function _templateObject449(){var _=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject449=function(){return _},_}function _templateObject450(){var _=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject450=function(){return _},_}function _templateObject451(){var _=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject451=function(){return _},_}function _templateObject452(){var _=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject452=function(){return _},_}function _templateObject453(){var _=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject453=function(){return _},_}function _templateObject454(){var _=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject454=function(){return _},_}function _templateObject455(){var _=_taggedTemplateLiteral(['\n<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n  <title id="linkTitleID">Get more information</title>\n  <desc id="linkDescID">Informative icon</desc>\n    <path d="m0 0h100v100h-100z" fill="#000"/>\n    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>\n</svg>\n']);return _templateObject455=function(){return _},_}function _templateObject456(){var _=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject456=function(){return _},_}function _templateObject457(){var _=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject457=function(){return _},_}function _templateObject458(){var _=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject458=function(){return _},_}function _templateObject459(){var _=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject459=function(){return _},_}function _templateObject460(){var _=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject460=function(){return _},_}function _templateObject461(){var _=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject461=function(){return _},_}function _templateObject462(){var _=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject462=function(){return _},_}function _templateObject463(){var _=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject463=function(){return _},_}function _templateObject464(){var _=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject464=function(){return _},_}function _templateObject465(){var _=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject465=function(){return _},_}function _templateObject466(){var _=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject466=function(){return _},_}function _templateObject467(){var _=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject467=function(){return _},_}function _templateObject468(){var _=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject468=function(){return _},_}function _templateObject469(){var _=_taggedTemplateLiteral(["#ee8950"]);return _templateObject469=function(){return _},_}function _templateObject470(){var _=_taggedTemplateLiteral(["#ec7939"]);return _templateObject470=function(){return _},_}function _templateObject471(){var _=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 1rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject471=function(){return _},_}function _templateObject472(){var _=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject472=function(){return _},_}function _templateObject473(){var _=_taggedTemplateLiteral(["var(--primaryBGColor, #000)"]);return _templateObject473=function(){return _},_}function _templateObject474(){var _=_taggedTemplateLiteral(["var(--iaBookActionsDropdownBGColor, #2d2d2d)"]);return _templateObject474=function(){return _},_}function _templateObject475(){var _=_taggedTemplateLiteral(["\n  :host {\n    display: inline-flex;\n    height: 3.5rem;\n    padding: 1rem 0;\n  }\n  .actiongroup {\n    display: flex;\n    margin-right: 10px;\n  }\n  .action-buttons {\n    display: inline-flex;\n    align-items: center;\n  }\n  .action-buttons .ia-button {\n    margin: 0;\n    height: 3.5rem;\n    padding: 0 2rem;\n  }\n  .action-buttons .desktop {\n    background-color: ",";\n    border-radius: 10px;\n  }\n  .action-buttons .desktop.purchase {\n    margin-left: 5px;\n  }\n  .action-buttons .mobile.purchase.dark {\n    padding-left: 0;\n  }\n  .primary {\n    background-color: ",";\n    margin-right: 4px;\n  }\n  .primary,\n  .secondary {\n    position: relative;\n    border-radius: 5px;\n  }\n  .primary .initial {\n    border-radius: 4px 0 0 4px;\n    margin-right: 0;\n  }\n  .primary svg {\n    vertical-align: middle;\n  }\n\n  .secondary .ia-button.purchase {\n    padding: 2px 10px 2px 35px;\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n  }\n  .secondary .ia-button.exit-admin {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  .dropdown-content {\n    position: absolute;\n    min-width: 14rem;\n    margin: 0;\n    padding: 0;\n    background: ",";\n    border-radius: 4px;\n    border: 1px solid var(--primaryCTABorder);\n    top: 3.4rem;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%);\n  }\n  .dropdown-content li {\n    color: ",";\n    list-style: none;\n    height: 3rem;\n  }\n  .dropdown-content .ia-button {\n    background: none;\n    color: ",";\n    border: none;\n    box-sizing: border-box;\n    width: 100%;\n    text-align: left;\n    height: 3rem;\n    position: relative;\n    padding: 0.6rem 1.2rem;\n    margin: 0;\n  }\n  .dropdown-content .ia-button:is(:focus-visible, :hover) {\n    background: unset;\n  }\n  .dropdown-content li .ia-button {\n    border-radius: 0;\n  }\n  .dropdown-content li .ia-button:hover {\n    background: ",";\n    color: rgb(45, 45, 45);\n  }\n  .dropdown-content li:first-child .ia-button {\n    border-radius: 0.3rem 0.3rem 0 0;\n  }\n  .dropdown-content li:last-child .ia-button {\n    border-radius: 0;\n    border-radius: 0 0 0.3rem 0.3rem;\n  }\n  .dropdown-content .purchase:hover svg g {\n    fill: black;\n  }\n  .dropdown-content .purchase {\n    padding-left: 35px;\n    margin: 0;\n  }\n  .dropdown-content .purchase small {\n    display: initial;\n    font-size: 1.4rem;\n  }\n\n  .ia-button.down-arrow {\n    border-radius: 0 0.4rem 0.4rem 0;\n    padding: 0 0.6rem;\n    margin-left: 0;\n  }\n  .actionloader {\n    vertical-align: middle;\n    visibility: hidden;\n    padding: 0.9rem 0.2rem;\n  }\n  .close {\n    display: none;\n  }\n  .open {\n    display: block;\n    z-index: 2;\n  }\n  .visible {\n    display: inline-block;\n  }\n  .btn:hover,\n  .dropdown:hover .btn {\n    background-color: ",";\n  }\n  a {\n    text-decoration: none;\n  }\n  .purchase small {\n    display: block;\n    font-size: 1rem;\n  }\n  .purchase svg {\n    position: absolute;\n    left: 10px;\n    top: 20%;\n  }\n  .unavailable {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n  .disabled {\n    opacity: 0.8;\n    pointer-events: none;\n    visibility: visible;\n  }\n"]);return _templateObject475=function(){return _},_}function _templateObject476(){var _=_taggedTemplateLiteral(['<svg\n  height="20"\n  viewBox="0 0 75 75"\n  width="20"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">\n    <path\n      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"\n    />\n    <path\n      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"\n    />\n    <path\n      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"\n    />\n    <path\n      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"\n    />\n  </g>\n</svg>']);return _templateObject476=function(){return _},_}function _templateObject477(){var _=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject477=function(){return _},_}function _templateObject478(){var _=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject478=function(){return _},_}function _templateObject479(){var _=_taggedTemplateLiteral(['\n      <div\n        class="','"\n      >\n        ','\n        <section class="action-buttons primary">\n          ','\n        </section>\n        <section class="action-buttons secondary">\n          ',"\n        </section>\n      </div>\n    "]);return _templateObject479=function(){return _},_}function _templateObject480(){var _=_taggedTemplateLiteral(["\n      ",'\n      <button\n        class="ia-button ',' down-arrow"\n        @click=',"\n      >\n        ",'\n      </button>\n\n      <ul class="dropdown-content ','">\n        ',"\n      </ul>\n    "]);return _templateObject480=function(){return _},_}function _templateObject481(){var _=_taggedTemplateLiteral(['<span class="'," ",'">\n      <a\n        class="ia-button '," ",'"\n        href="','"\n        target=',"\n        @click=","\n      >\n        "," ","\n        <small>","</small>\n      </a>\n    </span>"]);return _templateObject481=function(){return _},_}function _templateObject482(){var _=_taggedTemplateLiteral(['<button\n      class="ia-button '," ",'"\n      @click=',"\n    >\n      ","\n    </button>"]);return _templateObject482=function(){return _},_}function _templateObject483(){var _=_taggedTemplateLiteral(["<li>","</li>"]);return _templateObject483=function(){return _},_}function _templateObject484(){var _=_taggedTemplateLiteral(['<img\n      class="','"\n      alt=""\n      src="','"\n    />']);return _templateObject484=function(){return _},_}function _templateObject485(){var _=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    width="26"\n    height="26"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject485=function(){return _},_}function _templateObject486(){var _=_taggedTemplateLiteral(['\n      <a\n        class="embed-link"\n        @click=','\n        href="/details/','"\n      >\n        <span>','</span>\n        <span class="title">',"</span>\n      </a>\n    "]);return _templateObject486=function(){return _},_}function _templateObject487(){var _=_taggedTemplateLiteral(["\n      :host {\n        padding: 0 10px;\n        height: 3.4rem;\n        display: flex;\n      }\n      .embed-link {\n        display: inline-flex;\n        align-items: center;\n        text-decoration: none;\n        color: var(--primaryTextColor, #fff);\n        font-size: 1.4rem;\n      }\n      .embed-link .title {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        text-align: left;\n        line-height: initial;\n      }\n      .embed-link svg {\n        margin-right: 0.5rem;\n        display: block;\n      }\n      .embed-link:hover {\n        text-decoration: underline;\n      }\n    "]);return _templateObject487=function(){return _},_}function _templateObject488(){var _=_taggedTemplateLiteral(['\n      <span class="variable-texts ','">',"</span>\n    "]);return _templateObject488=function(){return _},_}function _templateObject489(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: inline-block;\n      }\n      .variable-texts {\n        margin-right: 10px;\n        vertical-align: middle;\n        font-size: 1.7rem;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject489=function(){return _},_}function _templateObject490(){var _=_taggedTemplateLiteral(['\n      <a\n        class="more-info-icon ','"\n        href=','\n        target="_blank"\n        title="Get more info on borrowing from The Lending Library"\n        data-event-click-tracking="BookReader|BrowsableMoreInfo"\n      >\n        <ia-icon-info></ia-icon-info>\n      </a>\n    ']);return _templateObject490=function(){return _},_}function _templateObject491(){var _=_taggedTemplateLiteral(["",""]);return _templateObject491=function(){return _},_}function _templateObject492(){var _=_taggedTemplateLiteral(["\n      ia-icon-info {\n        display: inline-block;\n        width: 18px;\n        height: 20px;\n        vertical-align: middle;\n        --iconFillColor: white;\n      }\n      .more-info-icon img {\n        width: 24px;\n        height: 24px;\n        vertical-align: middle;\n        background: white;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject492=function(){return _},_}function _templateObject493(){var _=_taggedTemplateLiteral(['\n      <button\n        id="timer-counter"\n        class=',"\n        @click=",'\n        role="timer"\n      >\n        <span>',' - </span>\n        <span class="second">','</span>\n        <span class="sr-only">'," left</span>\n      </button>\n    "]);return _templateObject493=function(){return _},_}function _templateObject494(){var _=_taggedTemplateLiteral(["\n      :host {\n        right: 0;\n        margin-right: 10px;\n        position: absolute;\n      }\n\n      .sr-only {\n        position: absolute;\n        left: -9999px;\n        width: 1px;\n        height: 1px;\n        margin: 0;\n        padding: 0;\n        border: none;\n        overflow: hidden;\n      }\n\n      button#timer-counter {\n        cursor: pointer;\n      }\n\n      .hide {\n        opacity: 0;\n      }\n\n      .show {\n        opacity: 1;\n      }\n    "]);return _templateObject494=function(){return _},_}function _templateObject495(){var _=_taggedTemplateLiteral(['<br />\n      <div\n        id="book-action-bar-custom-buttons"\n        style="display:flex;justify-content:center;"\n      >\n        <button\n          style="'," ",'"\n          @click=','\n        >\n          Keep reading\n        </button>\n        <button\n          style="'," ",'"\n          @click=',"\n        >\n          Return the book\n        </button>\n      </div> "]);return _templateObject495=function(){return _},_}function _templateObject496(){var _=_taggedTemplateLiteral(['<ia-activity-indicator\n                mode="processing"\n                style=',"\n              ></ia-activity-indicator>"]);return _templateObject496=function(){return _},_}function _templateObject497(){var _=_taggedTemplateLiteral(['<ia-activity-indicator\n                mode="processing"\n                style=',"\n              ></ia-activity-indicator>"]);return _templateObject497=function(){return _},_}function _templateObject498(){var _=_taggedTemplateLiteral(['<br />\n      <div\n        id="disabled-book-action-bar-custom-buttons"\n        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"\n      >\n        <button\n          disabled\n          style="'," ",'"\n        >\n          ','\n        </button>\n        <span\n          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"\n          >Renewing loan, one moment please.</span\n        >\n        <button\n          disabled\n          style="'," ",'"\n        >\n          ',"\n        </button>\n      </div> "]);return _templateObject498=function(){return _},_}function _templateObject499(){var _=_taggedTemplateLiteral(['<br />\n      <div style="text-align: center">\n        <button\n          style="'," ",'"\n          @click=',"\n        >\n          Okay\n        </button>\n      </div> "]);return _templateObject499=function(){return _},_}function _templateObject500(){var _=_taggedTemplateLiteral(['<section class="lending-wrapper">\n        ',"\n      </section>"]);return _templateObject500=function(){return _},_}function _templateObject501(){var _=_taggedTemplateLiteral(['<section class="lending-wrapper">\n      ',"\n    </section>"]);return _templateObject501=function(){return _},_}function _templateObject502(){var _=_taggedTemplateLiteral(["<book-title-bar\n      .identifier=","\n      .bookTitle=","\n    ></book-title-bar>"]);return _templateObject502=function(){return _},_}function _templateObject503(){var _=_taggedTemplateLiteral(["\n      <collapsible-action-group\n        .userid=","\n        .identifier=","\n        .primaryColor=","\n        .primaryActions=","\n        .secondaryActions=","\n        .width=","\n        .borrowType=","\n        .returnUrl=","\n        .localCache=","\n        .loanTotalTime=","\n        .loanRenewType=","\n        ?hasAdminAccess=","\n        ?disabled=","\n        ?autoRenew=","\n        ?autoReturn=","\n        ?returnNow=","\n        @loanAutoRenewed=","\n        @lendingActionError=","\n        @toggleActionGroup=","\n      >\n      </collapsible-action-group>\n      "," ","\n      <timer-countdown\n        .secondsLeftOnLoan=","\n      ></timer-countdown>\n    "]);return _templateObject503=function(){return _},_}function _templateObject504(){var _=_taggedTemplateLiteral(['<button\n        style="','"\n        @click=',"\n      >\n        refresh\n      </button>"]);return _templateObject504=function(){return _},_}function _templateObject505(){var _=_taggedTemplateLiteral([" Uh oh, something went wrong trying to access\n        this book.<br />\n        Please ",' to try again or send us an email to\n        <a\n          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ','"\n          >info@archive.org</a\n        ><br /><br />\n        <code>errorLog: ',"</code>"]);return _templateObject505=function(){return _},_}function _templateObject506(){var _=_taggedTemplateLiteral(["<info-icon iconClass=","></info-icon>"]);return _templateObject506=function(){return _},_}function _templateObject507(){var _=_taggedTemplateLiteral(["<text-group\n          textClass=","\n          .texts=","\n        >\n        </text-group>"]);return _templateObject507=function(){return _},_}function _templateObject508(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .lending-wrapper {\n        width: 100%;\n        margin: 0 auto;\n        background: var(--primaryBGColor, #000);\n        color: var(--primaryTextColor, #fff);\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n    "]);return _templateObject508=function(){return _},_}function _templateObject509(){var _=_taggedTemplateLiteral(['\n      div[slot="main"] {\n        height: inherit;\n        width: inherit;\n      }\n      ia-bookreader {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        width: 100%;\n      }\n    ']);return _templateObject509=function(){return _},_}function _templateObject510(){var _=_taggedTemplateLiteral(["\n      <ia-bookreader\n      .item=","\n      .baseHost=","\n      ?signedIn=",'\n      class="focus-on-child-only"\n      style="min-height: inherit;"\n      .sharedObserver=',"\n      .modal=","\n      @fullscreenStateUpdated=",'\n      >\n        <div slot="header">\n          <slot name="header"></slot>\n        </div>\n        <!--\n          This width is set via CSS, but is not working on older browsers\n          for some reason, resulting in black screen. So set explicitly.\n        -->\n        <div slot="main" style="width:100%">\n          <slot name="main"></slot>\n        </div>\n      </ia-bookreader>\n    ']);return _templateObject510=function(){return _},_}function _templateObject511(){var _=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n  fill=""></path>\n</svg>']);return _templateObject511=function(){return _},_}function _templateObject512(){var _=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\nfill=""></path>\n</svg>']);return _templateObject512=function(){return _},_}function _templateObject513(){var _=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject513=function(){return _},_}function _templateObject514(){var _=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject514=function(){return _},_}function _templateObject515(){var _=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject515=function(){return _},_}function _templateObject516(){var _=_taggedTemplateLiteral([""]);return _templateObject516=function(){return _},_}function _templateObject517(){var _=_taggedTemplateLiteral(['\n      <span\n        class="caret"\n        tabindex=',"\n        role=","\n        @click=","\n        @keydown=","\n      >\n        <span ?hidden=",' class="caret-up">\n          <slot name="caret-up">',"</slot>\n        </span>\n        <span ?hidden=",' class="caret-down">\n          <slot name="caret-down">',"</slot>\n        </span>\n      </span>\n    "]);return _templateObject517=function(){return _},_}function _templateObject518(){var _=_taggedTemplateLiteral(['<slot name="list"></slot>']);return _templateObject518=function(){return _},_}function _templateObject519(){var _=_taggedTemplateLiteral(["",""]);return _templateObject519=function(){return _},_}function _templateObject520(){var _=_taggedTemplateLiteral(['\n      <div\n        id="dropdown-backdrop"\n        @keyup=',"\n        @click=","\n      ></div>\n    "]);return _templateObject520=function(){return _},_}function _templateObject521(){var _=_taggedTemplateLiteral([""]);return _templateObject521=function(){return _},_}function _templateObject522(){var _=_taggedTemplateLiteral([""]);return _templateObject522=function(){return _},_}function _templateObject523(){var _=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button\n          class="click-main"\n          @click=',"\n          ?disabled=",'\n        >\n          <span class="sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n\n        ","\n      </div>\n    "]);return _templateObject523=function(){return _},_}function _templateObject524(){var _=_taggedTemplateLiteral(["var(--dropdownBorderWidth, 1px)"]);return _templateObject524=function(){return _},_}function _templateObject525(){var _=_taggedTemplateLiteral(["var(--dropdownBorderRadius, 4px)"]);return _templateObject525=function(){return _},_}function _templateObject526(){var _=_taggedTemplateLiteral(["var(--dropdownBorderColor, #fff)"]);return _templateObject526=function(){return _},_}function _templateObject527(){var _=_taggedTemplateLiteral(["var(--dropdownBgColor, #333)"]);return _templateObject527=function(){return _},_}function _templateObject528(){var _=_taggedTemplateLiteral(["var(--dropdownTextColor, #fff)"]);return _templateObject528=function(){return _},_}function _templateObject529(){var _=_taggedTemplateLiteral(["var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))"]);return _templateObject529=function(){return _},_}function _templateObject530(){var _=_taggedTemplateLiteral(["var(--dropdownSelectedBgColor, #fff)"]);return _templateObject530=function(){return _},_}function _templateObject531(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: inline;\n        color: ",";\n      }\n\n      svg.caret-up-svg,\n      svg.caret-down-svg,\n      ::slotted(svg.caret-up-svg),\n      ::slotted(svg.caret-down-svg) {\n        fill: var(--dropdownCaretColor, #fff);\n        vertical-align: middle;\n      }\n\n      button.click-main {\n        background: transparent;\n        color: inherit;\n        padding: var(--dropdownMainButtonPadding, 0px);\n        border: var(--dropdownMainButtonBorder, none);\n        border-radius: var(--dropdownMainButtonBorderRadius, none);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        align-content: center;\n        flex-wrap: nowrap;\n        flex-direction: var(--dropdownMainButtonFlexDirection, row);\n        z-index: var(--dropdownListZIndex, 2);\n      }\n\n      button.click-main:disabled {\n        pointer-events: none;\n        cursor: not-allowed;\n        opacity: 0.5;\n        /* Disable text selection on disabled button */\n        -webkit-user-select: none; /* Safari */\n        -ms-user-select: none; /* IE 10 and IE 11 */\n        user-select: none; /* Standard syntax */\n      }\n\n      button.click-main:hover {\n        background-color: var(--dropdownMainButtonHoverBgColor, inherit);\n      }\n\n      button.click-main:focus,\n      button.click-main:focus-visible {\n        background-color: var(--dropdownMainButtonFocusBgColor, inherit);\n      }\n\n      button.click-main:active {\n        background-color: var(--dropdownMainButtonActiveBgColor, inherit);\n      }\n\n      button slot[name='dropdown-label'] {\n        /* Set var to 0px for column layout */\n        padding-right: var(--buttonSlotPaddingRight, 5px);\n        display: inline-block;\n      }\n\n      .ia-dropdown-group {\n        width: inherit;\n        height: inherit;\n        position: relative;\n      }\n\n      .sr-only {\n        border: 0 !important;\n        clip: rect(1px, 1px, 1px, 1px) !important;\n        -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n        height: 1px !important;\n        margin: -1px !important;\n        overflow: hidden !important;\n        padding: 0 !important;\n        position: absolute !important;\n        width: 1px !important;\n        white-space: nowrap !important;\n        -webkit-user-select: none !important;\n        user-select: none !important;\n      }\n\n      .caret {\n        /* Maintain centered caret position but with a full-height clickable region */\n        display: flex;\n        align-self: stretch;\n        align-items: center;\n        padding: var(--caretPadding, 0px);\n      }\n\n      .caret svg {\n        height: var(--caretHeight, 10px);\n        width: var(--caretWidth, 20px);\n      }\n\n      #dropdown-backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        background-color: transparent;\n        z-index: 1;\n      }\n\n      ul {\n        z-index: var(--dropdownListZIndex, 2);\n      }\n\n      ul.dropdown-main.closed {\n        visibility: hidden;\n        height: 1px;\n        width: 1px;\n      }\n\n      ul.dropdown-main {\n        position: var(--dropdownListPosition, absolute);\n        list-style: none;\n        margin: var(--dropdownOffsetTop, 5px) 0 0 0;\n        padding: 0;\n        color: ",";\n        background: ",";\n\n        font-size: var(--dropdownFontSize, inherit);\n\n        border-top: var(--dropdownBorderTopWidth, ",");\n        border-right: var(--dropdownBorderRightWidth, ",");\n        border-bottom: var(--dropdownBorderBottomWidth, ",");\n        border-left: var(--dropdownBorderLeftWidth, ",");\n        /* Must be after border-width settings for specificity */\n        border-style: solid;\n        border-color: ",";\n\n        border-radius: var(\n            --dropdownBorderTopLeftRadius,\n            ","\n          )\n          var(--dropdownBorderTopRightRadius, ",")\n          var(--dropdownBorderBottomRightRadius, ",")\n          var(--dropdownBorderBottomLeftRadius, ",");\n\n        white-space: var(--dropdownWhiteSpace, normal);\n\n        /* Prevent top/bottom inner li from overlapping inner border */\n        overflow: hidden;\n      }\n\n      ul.dropdown-main li:hover {\n        background-color: ",";\n        color: var(--dropdownHoverTextColor, #fff);\n        list-style: none;\n        cursor: pointer;\n      }\n\n      ul.dropdown-main li:hover:first-child {\n        border-top-color: ",";\n      }\n\n      ul.dropdown-main li:hover:last-child {\n        border-bottom-color: ",";\n      }\n\n      ul.dropdown-main li:hover:not(:first-child) {\n        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n      }\n      ul.dropdown-main li:hover:not(:last-child) {\n        border-bottom: 0.5px solid\n          var(--dropdownHoverTopBottomBorderColor, #333);\n      }\n\n      ul.dropdown-main li.selected:last-child {\n        border-bottom-color: ",";\n      }\n\n      ul.dropdown-main li.selected:first-child {\n        border-top-color: ",";\n      }\n\n      ul.dropdown-main li:hover > *,\n      ul.dropdown-main li:focus-within > * {\n        background-color: ",";\n        color: var(--dropdownHoverTextColor, #fff);\n      }\n\n      ul.dropdown-main li.selected > * {\n        background-color: ",";\n        color: var(--dropdownSelectedTextColor, #2c2c2c);\n      }\n\n      ul.dropdown-main li {\n        background: ",";\n        list-style: none;\n        height: 30px;\n        cursor: pointer;\n        border-bottom: 0.5px solid ",";\n        border-top: 0.5px solid ",";\n      }\n\n      ul.dropdown-main li button {\n        background: none;\n        color: inherit;\n        border: none;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n      }\n\n      ul.dropdown-main li a {\n        text-decoration: none;\n        display: block;\n        box-sizing: border-box;\n      }\n\n      ul.dropdown-main li:first-child {\n        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);\n        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);\n      }\n\n      ul.dropdown-main li:last-child {\n        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);\n        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);\n      }\n\n      /* cover the list with the label */\n      ul.dropdown-main li > * > :first-child {\n        margin: 0;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        align-content: center;\n        flex-wrap: nowrap;\n        height: 100%;\n        padding: var(--dropdownItemPaddingTop, 5px)\n          var(--dropdownItemPaddingRight, 10px)\n          var(--dropdownItemPaddingBottom, 5px)\n          var(--dropdownItemPaddingLeft, 10px);\n        box-sizing: border-box;\n      }\n\n      ul.dropdown-main li > * {\n        width: 100%;\n        height: inherit;\n        color: ",";\n        background: transparent;\n        padding: 0;\n      }\n    "]);return _templateObject531=function(){return _},_}function _templateObject532(){var _=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject532=function(){return _},_}function _templateObject533(){var _=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: var(--iconLabelFlexDirection, row);\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      white-space: nowrap;\n      height: 100%;\n    }\n\n    /* https://css-tricks.com/flexbox-truncated-text/ */\n    ::slotted(div.truncate) {\n      display: flex;\n      width: var(--labelWidth, 100%);\n      text-align: left;\n      word-wrap: break-word; /* Important for long words! */\n      overflow: hidden;\n      text-overflow: ellipsis;\n      min-width: 0;\n    }\n\n    @supports not (-webkit-line-clamp: 2) {\n      ::slotted(div.truncate) {\n        min-width: 0;\n      }\n    }\n    @supports (-webkit-line-clamp: 2) {\n      ::slotted(div.truncate) {\n        min-width: 0;\n        display: -webkit-box;\n        overflow-wrap: break-word;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        /* Fixed line-height needed to fit unicode and emojis\n          https://stackoverflow.com/a/67807146\n        */\n        line-height: 1.2em;\n        /* max-height needed for Safari browser */\n        max-height: var(--labelTruncateHeight, 30px);\n        max-width: var(--labelWidth, 100%);\n      }\n    }\n  "]);return _templateObject533=function(){return _},_}function _templateObject534(){var _=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject534=function(){return _},_}function _templateObject535(){var _=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject535=function(){return _},_}function _templateObject536(){var _=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject536=function(){return _},_}function _templateObject537(){var _=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject537=function(){return _},_}function _templateObject538(){var _=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject538=function(){return _},_}function _templateObject539(){var _=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject539=function(){return _},_}function _templateObject540(){var _=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject540=function(){return _},_}function _templateObject541(){var _=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject541=function(){return _},_}function _templateObject542(){var _=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject542=function(){return _},_}function _templateObject543(){var _=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject543=function(){return _},_}function _templateObject544(){var _=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject544=function(){return _},_}function _templateObject545(){var _=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject545=function(){return _},_}function _templateObject546(){var _=_taggedTemplateLiteral(["#ee8950"]);return _templateObject546=function(){return _},_}function _templateObject547(){var _=_taggedTemplateLiteral(["#ec7939"]);return _templateObject547=function(){return _},_}function _templateObject548(){var _=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 3rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject548=function(){return _},_}function _templateObject549(){var _=_taggedTemplateLiteral(['\n      <section class="new-list">\n        <form id="user-list-form" @submit=','>\n          <div class="field">\n            <input type="hidden" id="id" .value=',' />\n            <label for="name">List name*</label>\n            <input\n              type="text"\n              id="name"\n              .value=','\n              required\n            />\n          </div>\n          <div class="field">\n            <label for="description">Description</label>\n            <textarea\n              id="description"\n              .value=','\n            ></textarea>\n          </div>\n          <div class="field">\n            <label for="private">Private list</label>\n            <input\n              type="checkbox"\n              id="private"\n              .checked="','"\n            />\n          </div>\n          <div class="footer field">\n            <button\n              type="button"\n              class="ia-button dark"\n              id="cancel"\n              @click=','\n            >\n              Cancel\n            </button>\n            <button\n              type="submit"\n              id="save-list-settings"\n              class="ia-button primary"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </section>\n    ']);return _templateObject549=function(){return _},_}function _templateObject550(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        padding: 15px 0 0 0;\n        font-size: 14px;\n        position: relative;\n      }\n\n      .field {\n        margin-bottom: 10px;\n        display: flex;\n        align-items: center;\n      }\n\n      label {\n        display: inline-block;\n        width: 90px;\n        text-align: left;\n        margin-right: 10px;\n        font-weight: 700;\n      }\n\n      input[type='text'],\n      textarea {\n        line-height: 20px;\n        padding: 5px;\n        border-radius: 5px;\n        width: 270px;\n        font-family: inherit;\n        font-size: inherit;\n        resize: none;\n        border-style: solid;\n        outline: none;\n        border-radius: 4px;\n        border-width: 1px;\n        border-color: #999;\n      }\n\n      input[type='checkbox'] {\n        cursor: pointer;\n        margin: 0;\n      }\n\n      label[for='private'] {\n        cursor: pointer;\n      }\n\n      .footer {\n        display: block;\n        text-align: center;\n        margin: 10px 0 0 0;\n      }\n\n      .ia-button {\n        display: initial;\n        padding: 0 15px;\n        height: 3.5rem;\n      }\n    "]);return _templateObject550=function(){return _},_}function _templateObject551(){var _=_taggedTemplateLiteral(['<svg\n      viewBox="0 0 100 100"\n      xmlns="http://www.w3.org/2000/svg"\n      >\n    <g fill="currentColor" fill-rule="nonzero">\n      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />\n      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />\n    </g>\n  </svg>']);return _templateObject551=function(){return _},_}function _templateObject552(){var _=_taggedTemplateLiteral(['<svg viewBox="0 0 100 100"\nxmlns="http://www.w3.org/2000/svg"\n>\n<path\n  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"\n  fill-rule="evenodd" fill="currentColor"\n/>\n</svg>']);return _templateObject552=function(){return _},_}function _templateObject553(){var _=_taggedTemplateLiteral([' <ia-icon-label>\n        <div slot="icon" class="icon-size">',"</div>\n        Create new list\n      </ia-icon-label>"]);return _templateObject553=function(){return _},_}function _templateObject554(){var _=_taggedTemplateLiteral(['\n      <ia-icon-label>\n        <div slot="icon" class="icon-size">\n          ','\n        </div>\n        <div class="truncate">',"</div>\n      </ia-icon-label>\n    "]);return _templateObject554=function(){return _},_}function _templateObject555(){var _=_taggedTemplateLiteral([' <li class="','">\n      ',"\n    </li>"]);return _templateObject555=function(){return _},_}function _templateObject556(){var _=_taggedTemplateLiteral(["\n      <button @click=",">\n        ","\n      </button>\n    "]);return _templateObject556=function(){return _},_}function _templateObject557(){var _=_taggedTemplateLiteral([" "," "]);return _templateObject557=function(){return _},_}function _templateObject558(){var _=_taggedTemplateLiteral(["\n      :host {\n        display: inline;\n        background-color: #fff;\n      }\n\n      li:hover {\n        list-style: none;\n        cursor: pointer;\n      }\n\n      li {\n        background: #fff;\n        list-style: none;\n        height: 30px;\n        cursor: pointer;\n        border-bottom: 1px #f1f1f1 solid;\n        color: #2c2c2c;\n        width: 140px;\n        text-overflow: ellipsis;\n      }\n\n      li button {\n        background: none;\n        color: inherit;\n        border: none;\n        font: inherit;\n        cursor: pointer;\n        width: 100%;\n        padding: 0px 10px;\n        font-size: 12px;\n        --iconLabelGutterWidth: 8px;\n        --iconWidth: 12px;\n        margin: 0;\n      }\n\n      /* cover the list with the label */\n      li > * > :first-child {\n        margin: 0;\n        display: inline-block;\n        height: 30px;\n        box-sizing: border-box;\n        text-align: left;\n        line-height: initial;\n      }\n\n      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX\n        foreground: #2c2c2c 44;\n        background: #fff;\n      */\n      button:hover {\n        /* 10% 234 */\n        background-color: #eaeaea;\n      }\n\n      button:focus,\n      button:focus-visible {\n        /* 20% 213 */\n        background-color: #d5d5d5;\n      }\n\n      button:active {\n        /* 30% 192 */\n        background-color: #c0c0c0;\n      }\n\n      .icon-size {\n        width: 12px;\n        height: 12px;\n      }\n    "]);return _templateObject558=function(){return _},_}function _templateObject559(){var _=_taggedTemplateLiteral(['<img\n  src="https://archive.org/images/loading.gif"\n  alt="Loading..."\n/>']);return _templateObject559=function(){return _},_}function _templateObject560(){var _=_taggedTemplateLiteral(['\n      <div slot="icon" class="icon-img">','</div>\n      <div class="label">Add to list</div>\n      <div class="label-sm">Lists</div>\n    ']);return _templateObject560=function(){return _},_}function _templateObject561(){var _=_taggedTemplateLiteral(['\n      <div class="label">User Lists<br />Load Error</div>\n      <div class="label-sm">Load<br />Error</div>\n    ']);return _templateObject561=function(){return _},_}function _templateObject562(){var _=_taggedTemplateLiteral(['\n      <div class="action-bar-text">\n        <ia-icon-label>\n          ',"\n        </ia-icon-label>\n      </div>\n    "]);return _templateObject562=function(){return _},_}function _templateObject563(){var _=_taggedTemplateLiteral(['\n      <item-user-lists\n        slot="list"\n        .itemId=',"\n        .lists=","\n        .userListsService=","\n        @addMember=","\n        @removeMember=","\n        @userListError=","\n        @listCreated=","\n      >\n      </item-user-lists>\n    "]);return _templateObject563=function(){return _},_}function _templateObject564(){var _=_taggedTemplateLiteral(['\n      <div class="list-container">\n        <ia-dropdown\n          class="list-dropdown"\n          ?isDisabled=',"\n          ?openViaCaret=","\n          ?isCustomList=","\n          ?closeOnEscape=","\n          ?closeOnBackdropClick=","\n          ?hasCustomClickHandler=","\n          @click=",'\n        >\n          <div class="list-title" slot="dropdown-label">\n            ',"\n          </div>\n          ","\n        </ia-dropdown>\n      </div>\n    "]);return _templateObject564=function(){return _},_}function _templateObject565(){var _=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    ia-icon-label {\n      cursor: pointer;\n      display: flex;\n    }\n\n    .icon-img {\n      height: 16px;\n      width: 16px;\n      padding-bottom: 3px;\n    }\n\n    div.list-title {\n      font-weight: 600;\n      color: #2c2c2c;\n    }\n\n    ia-dropdown {\n      --dropdownBgColor: #fff;\n      --dropdownItemPaddingRight: 0;\n      --dropdownItemPaddingLeft: 2px;\n      --dropdownBorderColor: #2c2c2c;\n      --dropdownBorderWidth: 2px;\n      --iconLabelGutterWidth: 4px;\n      --iconWidth: 10px;\n      --dropdownOffsetTop: 2px;\n      --buttonSlotPaddingRight: 0;\n      --dropdownMainButtonFlexDirection: column;\n      --dropdownMainButtonPadding: 6px 4px;\n      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);\n      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);\n      --iconLabelGutterWidth: 0;\n      --iconWidth: 16px;\n      --dropdownMainButtonBorder: 2px solid #2c2c2c;\n      --dropdownMainButtonBorderRadius: 3px;\n    }\n\n    .action-bar-text {\n      font-weight: normal;\n      -webkit-user-select: none;\n      user-select: none;\n      --iconLabelFlexDirection: column;\n      --iconLabelGutterWidth: 0;\n      --iconWidth: 16px;\n    }\n\n    /* inside button.click-main, classname from details.inc buttons */\n    @media (min-width: 985px) {\n      .action-bar-text .label-sm {\n        display: none;\n      }\n      .action-bar-text .label {\n        padding-bottom: 2px;\n        padding-top: 2px;\n      }\n    }\n\n    @media (max-width: 984px) {\n      .action-bar-text .label {\n        display: none;\n        padding-top: 2px;\n        padding-bottom: 0px;\n      }\n    }\n\n    .click-backdrop {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      z-index: 1;\n      background-color: transparent;\n    }\n  "]);return _templateObject565=function(){return _},_}(function(){var _=_regeneratorRuntime.default.mark(gd),ce=function(n,e,t){var o=t||{},l=o.noTrailing,s=l===void 0?!1:l,a=o.noLeading,r=a===void 0?!1:a,c=o.debounceMode,d=c===void 0?void 0:c,h,p=!1,v=0;function k(){h&&clearTimeout(h)}function x(A){var E=A||{},O=E.upcomingOnly,T=O===void 0?!1:O;k(),p=!T}function S(){for(var A=arguments.length,E=new Array(A),O=0;O<A;O++)E[O]=arguments[O];var T=this,b=Date.now()-v;if(p)return;function u(){v=Date.now(),e.apply(T,E)}function f(){h=void 0}!r&&d&&!h&&u(),k(),d===void 0&&b>n?r?(v=Date.now(),s||(h=setTimeout(d?f:u,n))):u():s!==!0&&(h=setTimeout(d?f:u,d===void 0?n-b:n))}return S.cancel=x,S},Ie=function(n,e,t,o){var l=arguments.length,s=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,o);else for(var r=n.length-1;r>=0;r--)(a=n[r])&&(s=(l<3?a(s):l>3?a(e,t,s):a(e,t))||s);return l>3&&s&&Object.defineProperty(e,t,s),s},Vr=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},xi=function(n,e,t,o){function l(s){return _instanceof(s,t)?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function r(h){try{d(o.next(h))}catch(p){a(p)}}function c(h){try{d(o.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):l(h.value).then(r,c)}d((o=o.apply(n,e||[])).next())})},xo=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return fp!==void 0?fp.createHTML(e):e},an=function(n){return function(e,t){return t!==void 0?lx(n,e,t):sx(n,e)}},Wi=function(n){return an(pi(ei({},n),{state:!0}))},li=function(n,e){return cx({descriptor:function(t){var o={get:function(){var a,r;return(r=(a=this.renderRoot)===null||a===void 0?void 0:a.querySelector(n))!==null&&r!==void 0?r:null},enumerable:!0,configurable:!0};if(e){var l=(typeof t=="undefined"?"undefined":_typeof(t))=="symbol"?Symbol():"__"+t;o.get=function(){var s,a;return this[l]===void 0&&(this[l]=(a=(s=this.renderRoot)===null||s===void 0?void 0:s.querySelector(n))!==null&&a!==void 0?a:null),this[l]}}return o}})},ed=function(){return _toConsumableArray(gd()).pop()},Ck=function(n){var e=Tp.get(n);return e||(e=window.getComputedStyle(n,null),Tp.set(n,e)),e},sT=function(n){if("checkVisibility"in n&&typeof n.checkVisibility=="function")return n.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});var e=Ck(n);return e.visibility!=="hidden"&&e.display!=="none"},lT=function(n){var e=Ck(n),t=e.overflowY,o=e.overflowX;return t==="scroll"||o==="scroll"?!0:t!=="auto"||o!=="auto"?!1:n.scrollHeight>n.clientHeight&&t==="auto"||n.scrollWidth>n.clientWidth&&o==="auto"},uT=function(n){var e=n.tagName.toLowerCase(),t=Number(n.getAttribute("tabindex"));return n.hasAttribute("tabindex")&&(isNaN(t)||t<=-1)||n.hasAttribute("disabled")||n.closest("[inert]")||e==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!sT(n)?!1:(e==="audio"||e==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(e)?!0:lT(n)},cT=function(n,e){var t;return((t=n.getRootNode({composed:!0}))===null||t===void 0?void 0:t.host)!==e},Ak=function(n){var e=new WeakMap,t=[];function o(l){if(_instanceof(l,Element)){if(l.hasAttribute("inert")||l.closest("[inert]")||e.has(l))return;e.set(l,!0),!t.includes(l)&&uT(l)&&t.push(l),_instanceof(l,HTMLSlotElement)&&cT(l,n)&&l.assignedElements({flatten:!0}).forEach(function(p){o(p)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}var s=!0,a=!1,r=void 0;try{for(var c=Array.from(l.children)[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;o(h)}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}}return o(n),t.sort(function(l,s){var a=Number(l.getAttribute("tabindex"))||0;return(Number(s.getAttribute("tabindex"))||0)-a})},dT=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var t=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<t.length;o++)if(t[o].slice(0,t[o].indexOf("="))===n){var l=t[o].slice(t[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},hT=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof n!="string")throw new Error("first arg should be a string");$(n).on("click",o,function(l){var s=e(l);return t==="callback"&&s?s:t==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},td=function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n},Xf=function(){ne(".row .tilebars").find(".results").parents(".row").each(function(n,e){var t=!1;ne(e).find(".results").each(function(o,l){ne(l).show().css({visibility:"hidden"}),t||(t=ne(l).offset()),ne(l).offset().top!==t.top?ne(l).hide():ne(l).css({visibility:"visible"})})})},Ok=function(n,e){var t=n.querySelector("output");t||(t=document.createElement("output"),t.setAttribute("role","alert"),n.appendChild(t)),t.textContent="",t.textContent=e},fT=function(n){var e=document.createElement("button");return e.type="button",e.textContent="Copy",e.title="Copy to clipboard",e.setAttribute("data-clipboard-target","#".concat(n.querySelector("input").id)),e},pT=function(n){n.querySelector("input")&&(n.appendChild(fT(n)),n.setAttribute("data-copyable-text-ready",""))},vT=function(){var n=new Od("[data-copyable-text] [data-clipboard-target]");n.on("success",function(e){var t=e.trigger.parentElement,o=t.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";Ok(t,o)}),n.on("error",function(e){var t=e.trigger.parentElement,o=t.getAttribute("data-copyable-text-error-message")||"Something went wrong.";Ok(t,o)})},mT=function(){var n=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");n.length<=0||Od.isSupported()&&(_toConsumableArray(n).forEach(pT),vT())},Ek=function(n,e){var t=n.querySelector(e);return t?t.value:""},gT=function(){On("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(function(n){var e=n.dataset.disabilityEligibilityType;n.addEventListener("submit",function(t){var o=Ek(n,".disability-eligibility-password"),l=Ek(n,".disability-eligibility-token"),s={type:e,password:o,token:l},a=/\?.*login=([^&]+)/,r=location.href.match(a),c;r&&(c=_slicedToArray(r,2),s.login=c[1]);var d=document.createElement("img");d.src="/images/loading.gif";var h=n.querySelector('input[type="submit"]').parentNode;h.appendChild(d),ne.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:s,success:function(p){if(p.status==="success"){alert("Success! Your eligibility has been verified.");return}if(p.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(p.status_code,", ").concat(p.message))},error:function(p,v,k){alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(v,", ").concat(k))},complete:function(){d.remove()}}),t.preventDefault()})})},Qr=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof n!="string")throw new Error("first arg should be a string");ne(n).on("click",o,function(l){var s=e(l);return t==="callback"&&s?s:t==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},Jf=function(n,e){for(var t=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<t.length;o++)if(t[o].slice(0,t[o].indexOf("="))===n){var l=t[o].slice(t[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},ha=function(n){for(var e="".concat(n).split("."),t=e[0],o=e.length>1?".".concat(e[1]):"",l=/(\d+)(\d{3})/;l.test(t);)t=t.replace(l,"$1,$2");return t+o},yT=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof n!="string")throw new Error("first arg should be a string");ne(n).on("change",function(o){var l=e(o);return t==="callback"&&l?l:t==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},bT=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof n!="string")throw new Error("first arg should be a string");ne(n).on("submit",function(o){var l=e(o);return t==="callback"&&l?l:t==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},wT=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;return function(){var s=this,a=arguments;function r(){var d;t||(d=n).apply.apply(d,[s].concat(_toConsumableArray(a))),o=null}if(o)clearTimeout(o);else if(t){var c;(c=n).apply.apply(c,[s].concat(_toConsumableArray(a)))}o=setTimeout(r,e)}},Ts=function(n,e){Object.keys(e).forEach(function(t){var o=t;jd&&t.search("animation")>-1&&(o=jd+t[0].toUpperCase()+t.substr(1)),n.style[o]=e[t]})},Tk=function(n){Ts(n,{display:"block"})},jk=function(n){Ts(n,{display:"none"})},_T=function(){var n=document.body,e=document.documentElement,t;return window.innerHeight?t=window.innerHeight:e&&e.clientHeight?t=e.clientHeight:n&&(t=n.clientHeight),t||0},kT=function(){var n=document.body,e=document.documentElement,t;return window.innerWidth?t=window.innerWidth:e&&e.clientWidth?t=e.clientWidth:n&&(t=n.clientWidth),t||0},xT=function(n,e){return e||(e=document.createElement("style"),document.body.appendChild(e)),e.textContent=n,e},nd=function(n){n&&n.parentNode&&n.parentNode.removeChild(n)},ST=function(n){return n===document.body},yo=function(n,e){n.classList.add(e)},Pk=function(n,e){n.classList.remove(e)},Ik=function(n,e){return n+Math.floor(Math.random()*(e-n))},Zf=function(n,e,t,o,l){return o+(l-o)*(n-e)/(t-e)},Mk=function(n,e,t){return Math.floor(Zf(n,0,Pd,e,t))},rd=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=0,l=e.decimal,s=e.errorOnInvalid,a=e.precision,r=e.fromCents,c=Md(a),d=typeof n=="number",h=_instanceof(n,Ho);if(h&&r)return n.intValue;if(d||h)o=h?n.value:n;else if(typeof n=="string"){var p=new RegExp("[^-\\d"+l+"]","g"),v=new RegExp("\\"+l,"g");o=n.replace(/\((.*)\)/,"-$1").replace(p,"").replace(v,"."),o=o||0}else{if(s)throw Error("Invalid Input");o=0}return r||(o*=c,o=o.toFixed(4)),t?tv(o):o},CT=function(n,e){var t=e.pattern,o=e.negativePattern,l=e.symbol,s=e.separator,a=e.decimal,r=e.groups,c=(""+n).replace(/^-/,"").split("."),d=c[0],h=c[1];return(n.value>=0?t:o).replace("!",l).replace("#",d.replace(r,"$1"+s)+(h?a+h:""))},Yt=function(n){var e,t,o;return typeof n=="object"?(e=n.hashFunction,t=n.expiring,o=n.tags):e=n,function(l,s,a){if(a.value!=null)a.value=Lk(a.value,e,t,o);else if(a.get!=null)a.get=Lk(a.get,e,t,o);else throw"Only put a Memoize() decorator on a method or get accessor."}},Lk=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,l=Symbol("__memoized_map__");return function(){for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];var c;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});var d=this[l],h=!0,p=!1,v=void 0;if(Array.isArray(o))try{for(var k=o[Symbol.iterator](),x;!(h=(x=k.next()).done);h=!0){var S=x.value;eh.has(S)?eh.get(S).push(d):eh.set(S,[d])}}catch(u){p=!0,v=u}finally{try{!h&&k.return!=null&&k.return()}finally{if(p)throw v}}if(e||a.length>0||t>0){var A;e===!0?A=a.map(function(u){return u.toString()}).join("!"):e?A=e.apply(this,a):A=a[0];var E="".concat(A,"__timestamp"),O=!1;if(t>0)if(!d.has(E))O=!0;else{var T=d.get(E);O=Date.now()-T>t}d.has(A)&&!O?c=d.get(A):(c=n.apply(this,a),d.set(A,c),t>0&&d.set(E,Date.now()))}else{var b=this;d.has(b)?c=d.get(b):(c=n.apply(this,a),d.set(b,c))}return c}},AT=function(n,e,t){if(typeof window.archive_analytics!="undefined"){var o={bookreader:"error",description:n,page:e,line:t};document.referrer==""?o.referrer="-":o.referrer=document.referrer,typeof br!="undefined"&&(o.itemid=br.bookId,o.subPrefix=br.subPrefix,o.server=br.server,o.bookPath=br.bookPath),archive_analytics.send_ping(o)}return!1},Rk=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Zm!==void 0?Zm.createHTML(e):e},Dk=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return yg!==void 0?yg.createHTML(e):e},$k=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Fg!==void 0?Fg.createHTML(e):e},OT=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},ET=function(n){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,new Promise(function(l,s){var a=new Image;a.onload=function(){return l(a)},a.onerror=s,a.src=n});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},e)}))},TT=function(n){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=this,o=[],s.next=4,Promise.all(n.map(function(a){return Bn(t,null,_regeneratorRuntime.default.mark(function r(){var c,d;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=1,p.next=4,ET(a.uri);case 4:c=p.sent,p.next=10;break;case 7:p.prev=7,p.t0=p.catch(1),c=new Image(300,300);case 10:console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",c,c.height,c.width),d=n.indexOf(a),o[d]=pi(ei({},a),{width:c.width,height:c.height});case 13:case"end":return p.stop()}},r,null,[[1,7]])}))}));case 4:return s.abrupt("return",(s.sent,o));case 5:case"end":return s.stop()}},e,this)}))},jT=function(n){return Bn(this,arguments,_regeneratorRuntime.default.mark(function e(t){var o,l,s,a,r,c,d,h,p,v,k,x,S,A;return _regeneratorRuntime.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=t.images,l=o===void 0?[]:o,s=t.itemIdentifier,a=s===void 0?"":s,r=t.itemTitle,c=r===void 0?"":r,d=t.baseHost,h=d===void 0?"archive.org":d,O.next=3,fetch("https://".concat(h,"/metadata/").concat(a,"/metadata")).then(function(T){return T.json()});case 3:if(O.t0=O.sent.result,O.t0){O.next=6;break}O.t0={};case 6:return p=O.t0,v=l.map(function(T,b){var u=b%2===1?"L":"R";return console.log("imgPath",T),{uri:"https://".concat(h,"/download/").concat(a).concat(T),leafNum:b,pageType:"Normal",pageSide:u}}),O.next=10,TT(v);case 10:return k=O.sent,x=[],k.forEach(function(T,b){if(b===0){x.push([T]);return}if(b%2===1){x.push([T]);return}b%2===0&&x[x.length-1].push(T)}),S=pi(ei(ei({},{bookId:a,bookPath:"/download/".concat(a),bookTitle:c,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:x}),OT()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),A={data:{streamOnly:!1,isRestricted:!1,id:a,subPrefix:a,bookUrl:"/details/".concat(a)},brOptions:S,metadata:p},O.abrupt("return",(console.log("**** MANIFEST _---",A,S),A));case 15:case"end":return O.stop()}},e)}))},Nk=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Py!==void 0?Py.createHTML(e):e},Bk=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Vy!==void 0?Vy.createHTML(e):e},Fk=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return i0!==void 0?i0.createHTML(e):e},PT=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},IT=function(n){var e,t=n.brOptions,o=ei(ei({},PT()),t),l=new window.BookReader(o),s=window.BookReader.prototype.getPageURI;l.getPageURI=function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=Math.pow(2,Math.floor(Math.log2(Math.max(1,c)))),p=s.call(l,r,h,d);return p+=p.indexOf("?")>-1?"&":"?",p="".concat(p,"scale=").concat(h,"&rotate=").concat(d),p},window.br=l;var a=(e=n==null?void 0:n.data)===null||e===void 0?void 0:e.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:a}})),l},Qf=function(){ne(".row .tilebars").find(".results").parents(".row").each(function(n,e){var t=!1;ne(e).find(".results").each(function(o,l){ne(l).show().css({visibility:"hidden"}),t||(t=ne(l).offset()),ne(l).offset().top!==t.top?ne(l).hide():ne(l).css({visibility:"visible"})})})},zk=function(n,e){if(!cf(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return x0!==void 0?x0.createHTML(e):e},MT=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(n);if(o.length<=e)return n;var l=o.slice(0,e).join(""),s=l.lastIndexOf(" ");return s>=0?t?n:"".concat(l.slice(0,s),"..."):"".concat(o.slice(0,e-2).join(""),"..")},LT=function(n){var e={};return Object.entries(n).map(function(t){e[t[1]]=t[0]}),e},Hk=function(){return location.hostname||location.host},ep=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;return e&&(t=n.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(t[1])*3600+Number(t[2])*60+Number(t[3])+Number("0.".concat(t[4])):(t=n.match(/^(\d+):(\d+):([\d+.]+)$/))?(t=t.map(function(o){return parseFloat(o)}),t[1]*3600+t[2]*60+t[3]):(t=n.match(/^(\d+):([\d+.]+)$/))?(t=t.map(function(o){return parseFloat(o)}),t[1]*60+t[2]):(t=n.match(/^([\d+.]+)$/))?parseFloat(t[1]):!1},RT=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,l=o?"".concat(location.origin,"/json/").concat(n,".json"):"https://archive.org/metadata/".concat(n).concat(e?"/".concat(e):""),r.next=4,fetch(l);case 4:return s=r.sent,r.abrupt("return",s.json());case 6:case"end":return r.stop()}},t)}))},El=function(n){return new Promise(function(e,t){n.oncomplete=n.onsuccess=function(){return e(n.result)},n.onabort=n.onerror=function(){return t(n.error)}})},DT=function(n,e){var t=indexedDB.open(n);t.onupgradeneeded=function(){return t.result.createObjectStore(e)};var o=El(t);return function(l,s){return o.then(function(a){return s(a.transaction(e,l).objectStore(e))})}},id=function(){return W_||(W_=DT("keyval-store","keyval")),W_},$T=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:id();return e("readonly",function(t){return El(t.get(n))})},NT=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:id();return t("readwrite",function(o){return o.put(e,n),El(o.transaction)})},BT=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:id();return e("readwrite",function(t){return t.delete(n),El(t.transaction)})},FT=function(n,e){return n.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},El(n.transaction)},zT=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:id();return n("readonly",function(e){if(e.getAllKeys)return El(e.getAllKeys());var t=[];return FT(e,function(o){return t.push(o.key)}).then(function(){return t})})},HT=function(n,e){return n.setMilliseconds(n.getMilliseconds()+e*1e3),n},js=function(n){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o,l,s,a,r,c,d,h,p,v,k,x;return _regeneratorRuntime.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return l=ei({action:null,identifier:"",success:function(){},error:function(){}},n),s="/services/loans/loan",a=window==null?void 0:window.location,r="loan token not found. please try again later.",c="This book is not available to borrow at this time. Please try again later.",d=["browse_book","borrow_book","create_token","renew_loan","return_loan"],h=((t=a==null?void 0:a.href)==null?void 0:t.indexOf("?error=true"))!==-1&&(a==null?void 0:a.hostname)!=="archive.org",p=["localhost","internetarchive.github.io"],v=!1,p.includes(a.hostname)&&(v=!0,s=a.href),k=new FormData,k.append("action",l.action),k.append("identifier",l.identifier),A.prev=5,x=this,A.next=9,fetch(s,{method:"POST",body:k}).then(function(E){return Bn(x,null,_regeneratorRuntime.default.mark(function O(){return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(h&&d.includes(l==null?void 0:l.action))){b.next=4;break}b.t0={success:!1,error:(l==null?void 0:l.action)==="create_token"?r:c},b.next=17;break;case 4:if(!v){b.next=15;break}if(!((l==null?void 0:l.action)=="renew_loan"||(l==null?void 0:l.action)=="return_loan")){b.next=11;break}return b.next=8,new Promise(function(u){return setTimeout(u,5e3)});case 8:b.t2=(b.sent,{success:!0,loan:{renewal:!0}}),b.next=12;break;case 11:b.t2={success:!0,message:"operation executed successfully!"};case 12:b.t1=b.t2,b.next=16;break;case 15:b.t1=E.json();case 16:b.t0=b.t1;case 17:return b.abrupt("return",b.t0);case 18:case"end":return b.stop()}},O)}))}).then(function(E){E!=null&&E.error?l==null||l.error(E):l==null||l.success(E)});case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(5),(o=window==null?void 0:window.Sentry)==null||o.captureException("".concat(na.actionsHandlerService," - Error: ").concat(A.t0));case 14:case"end":return A.stop()}},e,this,[[5,11]])}))},UT=function(n){return n&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},od=function(n,e,t,o,l,s){return document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+(t?"; expires=".concat(t.toUTCString()):"")+(l?"; domain=".concat(l):"")+(o?"; path=".concat(o):"")+(s?"; secure":""),!0},fa=function(n,e,t){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=n,this.bookId=e||"",this.postInitCB=t,this.tokenErrorMessage="no access token"},VT=function(){try{return document.cookie,!0}catch(n){return!1}},Uk=function(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return LE!==void 0?LE.createHTML(e):e},qT=function(n){var e=n.slice(0,4),t=n.slice(4,6),o=n.slice(6,8),l=n.slice(8,10),s=n.slice(10,12),a=n.slice(12,14);return"".concat(e,"-").concat(t,"-").concat(o,"T").concat(l,":").concat(s,":").concat(a,"Z")},WT=function(n){var e,t=[],o=!0,l=!1,s=void 0;try{for(var a=n[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;if(!((e=c.captures)===null||e===void 0)&&e.length){var d=encodeURIComponent(c.url),h="https://web.archive.org/web/".concat(c.captures[0],"/").concat(d);t.push({hit_type:"web_archive",fields:{url:c.url,capture_dates:c.captures.map(function(p){return qT(p)}),__href__:h}})}}}catch(p){l=!0,s=p}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}return t},YT=function(n){var e=[],t="";for(t in n)e.push(t);return e},tp=function(n){return n=JSON.stringify(n),!(typeof n!="string"||!/^\{[\s\S]*\}$/.test(n))},GT=function(n){return _instanceof(n,Array)},KT=function(n){return Array.prototype.slice.call(n)},XT=function(n,e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:l=this,s=document.querySelector("modal-manager"),s||(a=document.querySelector("body"),s=document.createElement("modal-manager"),a==null||a.appendChild(s)),r=function(){var h=s!=null?s:document.querySelector("modal-manager");h==null||h.showModal({config:new va,customModalContent:void 0,userClosedModalCallback:void 0}),h==null||h.closeModal(),s==null||s.removeAttribute("id")},s==null||s.setAttribute("id","create-user-list-modal"),s.showModal({config:new va({title:kt(_templateObject()),headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:function(){return r()},customModalContent:kt(_templateObject1(),{id:void 0,list_name:"",description:"",is_private:!1},n,function(){return r()},function(h){var p,v,k,x,S=(x=(v=(p=h.detail.error)===null||p===void 0?void 0:p.reason)!==null&&v!==void 0?v:(k=h.detail.error)===null||k===void 0?void 0:k.message)!==null&&x!==void 0?x:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",S)},function(){return Bn(l,null,_regeneratorRuntime.default.mark(function h(){return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:e==null||e();case 1:case"end":return v.stop()}},h)}))},function(h){return Bn(l,null,_regeneratorRuntime.default.mark(function p(){return _regeneratorRuntime.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,t==null?void 0:t(h.detail.id);case 2:r();case 3:case"end":return k.stop()}},p)}))})});case 5:case"end":return d.stop()}},o,this)}))},Vk=Object.defineProperty,JT=Object.defineProperties,ZT=Object.getOwnPropertyDescriptors,QT=Object.getOwnPropertyNames,ad=Object.getOwnPropertySymbols,qk=Object.prototype.hasOwnProperty,Wk=Object.prototype.propertyIsEnumerable,np=function(g,n){return(n=Symbol[g])?n:Symbol.for("Symbol."+g)},ji=Math.pow,Yk=function(g,n,e){return n in g?Vk(g,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):g[n]=e},ei=function(g,n){for(var e in n||(n={}))qk.call(n,e)&&Yk(g,e,n[e]);var t=!0,o=!1,l=void 0;if(ad)try{for(var s=ad(n)[Symbol.iterator](),a;!(t=(a=s.next()).done);t=!0){var e=a.value;Wk.call(n,e)&&Yk(g,e,n[e])}}catch(r){o=!0,l=r}finally{try{!t&&s.return!=null&&s.return()}finally{if(o)throw l}}return g},pi=function(g,n){return JT(g,ZT(n))},Ri=function(g,n){var e={};for(var t in g)qk.call(g,t)&&n.indexOf(t)<0&&(e[t]=g[t]);var o=!0,l=!1,s=void 0;if(g!=null&&ad)try{for(var a=ad(g)[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var t=r.value;n.indexOf(t)<0&&Wk.call(g,t)&&(e[t]=g[t])}}catch(c){l=!0,s=c}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}return e},Gt=function(g,n){return function(){return g&&(n=(0,g[QT(g)[0]])(g=0)),n}},bi=function(g,n){for(var e in n)Vk(g,e,{get:n[e],enumerable:!0})},Bn=function(g,n,e){return new Promise(function(t,o){var l=function(r){try{a(e.next(r))}catch(c){o(c)}},s=function(r){try{a(e.throw(r))}catch(c){o(c)}},a=function(r){return r.done?t(r.value):Promise.resolve(r.value).then(l,s)};a((e=e.apply(g,n)).next())})},ej=function(n,e){this[0]=n,this[1]=e},tj=function(g){var n=g[np("asyncIterator")],e=!1,t,o={};return n==null?(n=g[np("iterator")](),t=function(l){return o[l]=function(s){return n[l](s)}}):(n=n.call(g),t=function(l){return o[l]=function(s){if(e){if(e=!1,l==="throw")throw s;return s}return e=!0,{done:!1,value:new ej(new Promise(function(a){var r=n[l](s);if(!_instanceof(r,Object))throw TypeError("Object expected");a(r)}),1)}}}),o[np("iterator")]=function(){return o},t("next"),"throw"in n?t("throw"):o.throw=function(l){throw l},"return"in n&&t("return"),o},rp=Gt({"https-url:https://esm.archive.org/v135/throttle-debounce@5.0.2/esnext/throttle-debounce.mjs":function(){}}),Br=Gt({"https-url:https://esm.archive.org/v135/tslib@2.8.1/esnext/tslib.mjs":function(){}}),Bu,sd,ld,ip,op,Gk,zt,Kk,ap,Xk=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/css-tag.js":function(){Bu=window,sd=Bu.ShadowRoot&&(Bu.ShadyCSS===void 0||Bu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ld=Symbol(),ip=new WeakMap,op=function(){"use strict";function g(n,e,t){if(_classCallCheck(this,g),this._$cssResult$=!0,t!==ld)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=e}return _createClass(g,[{key:"styleSheet",get:function(){var e=this.o,t=this.t;if(sd&&e===void 0){var o=t!==void 0&&t.length===1;o&&(e=ip.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&ip.set(t,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),g}(),Gk=function(g){return new op(typeof g=="string"?g:g+"",void 0,ld)},zt=function(g){for(var n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];var o=g.length===1?g[0]:e.reduce(function(l,s,a){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(s)+g[a+1]},g[0]);return new op(o,g,ld)},Kk=function(g,n){sd?g.adoptedStyleSheets=n.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):n.forEach(function(e){var t=document.createElement("style"),o=Bu.litNonce;o!==void 0&&t.setAttribute("nonce",o),t.textContent=e.cssText,g.appendChild(t)})},ap=sd?function(g){return g}:function(g){return _instanceof(g,CSSStyleSheet)?function(n){var e="",t=!0,o=!1,l=void 0;try{for(var s=n.cssRules[Symbol.iterator](),a;!(t=(a=s.next()).done);t=!0){var r=a.value;e+=r.cssText}}catch(c){o=!0,l=c}finally{try{!t&&s.return!=null&&s.return()}finally{if(o)throw l}}return Gk(e)}(g):g}}}),sp,Fu,lp,Jk,up,ud,cp,cd,dd,Ps,dp=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/reactive-element.mjs":function(){Xk(),Xk(),Fu=window,lp=Fu.trustedTypes,Jk=lp?lp.emptyScript:"",up=Fu.reactiveElementPolyfillSupport,ud={toAttribute:function(n,e){switch(e){case Boolean:n=n?Jk:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute:function(n,e){var t=n;switch(e){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch(o){t=null}}return t}},cp=function(g,n){return n!==g&&(n==n||g==g)},cd={attribute:!0,type:String,converter:ud,reflect:!1,hasChanged:cp},dd="finalized",Ps=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t._$Ei=new Map,t.isUpdatePending=!1,t.hasUpdated=!1,t._$El=null,t._$Eu(),_possibleConstructorReturn(t)}return _createClass(e,[{key:"_$Eu",value:function(){var o=this,l;this._$E_=new Promise(function(s){return o.enableUpdating=s}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(l=this.constructor.h)===null||l===void 0||l.forEach(function(s){return s(o)})}},{key:"addController",value:function(o){var l,s;((l=this._$ES)!==null&&l!==void 0?l:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((s=o.hostConnected)===null||s===void 0||s.call(o))}},{key:"removeController",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(l,s){o.hasOwnProperty(s)&&(o._$Ei.set(s,o[s]),delete o[s])})}},{key:"createRenderRoot",value:function(){var o,l=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return Kk(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(l){var s;return(s=l.hostConnected)===null||s===void 0?void 0:s.call(l)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(l){var s;return(s=l.hostDisconnected)===null||s===void 0?void 0:s.call(l)})}},{key:"attributeChangedCallback",value:function(o,l,s){this._$AK(o,s)}},{key:"_$EO",value:function(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cd,a,r=this.constructor._$Ep(o,s);if(r!==void 0&&s.reflect===!0){var c=(((a=s.converter)===null||a===void 0?void 0:a.toAttribute)!==void 0?s.converter:ud).toAttribute(l,s.type);this._$El=o,c==null?this.removeAttribute(r):this.setAttribute(r,c),this._$El=null}}},{key:"_$AK",value:function(o,l){var s,a=this.constructor,r=a._$Ev.get(o);if(r!==void 0&&this._$El!==r){var c=a.getPropertyOptions(r),d=typeof c.converter=="function"?{fromAttribute:c.converter}:((s=c.converter)===null||s===void 0?void 0:s.fromAttribute)!==void 0?c.converter:ud;this._$El=r,this[r]=d.fromAttribute(l,c.type),this._$El=null}}},{key:"requestUpdate",value:function(o,l,s){var a=!0;o!==void 0&&(((s=s||this.constructor.getPropertyOptions(o)).hasChanged||cp)(this[o],l)?(this._$AL.has(o)||this._$AL.set(o,l),s.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,s))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.isUpdatePending=!0,a.prev=1,a.next=4,this._$E_;case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),Promise.reject(a.t0);case 9:if(l=this.scheduleUpdate(),a.t1=l!=null,!a.t1){a.next=14;break}return a.next=14,l;case 14:return a.abrupt("return",(a.t1&&a.sent,!this.isUpdatePending));case 15:case"end":return a.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,l;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,c){return o[c]=r}),this._$Ei=void 0);var s=!1,a=this._$AL;try{s=this.shouldUpdate(a),s?(this.willUpdate(a),(l=this._$ES)===null||l===void 0||l.forEach(function(r){var c;return(c=r.hostUpdate)===null||c===void 0?void 0:c.call(r)}),this.update(a)):this._$Ek()}catch(r){throw s=!1,this._$Ek(),r}s&&this._$AE(a)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.forEach(function(s){var a;return(a=s.hostUpdated)===null||a===void 0?void 0:a.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var l=this;this._$EC!==void 0&&(this._$EC.forEach(function(s,a){return l._$EO(a,l[a],s)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var l;this.finalize(),((l=this.h)!==null&&l!==void 0?l:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var l=[];return this.elementProperties.forEach(function(s,a){var r=o._$Ep(a,s);r!==void 0&&(o._$Ev.set(r,a),l.push(r))}),l}},{key:"createProperty",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cd;if(l.state&&(l.attribute=!1),this.finalize(),this.elementProperties.set(o,l),!l.noAccessor&&!this.prototype.hasOwnProperty(o)){var s=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,a=this.getPropertyDescriptor(o,s,l);a!==void 0&&Object.defineProperty(this.prototype,o,a)}}},{key:"getPropertyDescriptor",value:function(o,l,s){return{get:function(){return this[l]},set:function(r){var c=this[o];this[l]=r,this.requestUpdate(o,c,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||cd}},{key:"finalize",value:function(){if(this.hasOwnProperty(dd))return!1;this[dd]=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var l=this.properties,s=_toConsumableArray(Object.getOwnPropertyNames(l)).concat(_toConsumableArray(Object.getOwnPropertySymbols(l))),a=!0,r=!1,c=void 0;try{for(var d=s[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;this.createProperty(p,l[p])}}catch(v){r=!0,c=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var l=[];if(Array.isArray(o)){var s=new Set(o.flat(1/0).reverse()),a=!0,r=!1,c=void 0;try{for(var d=s[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;l.unshift(ap(p))}}catch(v){r=!0,c=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}else o!==void 0&&l.push(ap(o));return l}},{key:"_$Ep",value:function(o,l){var s=l.attribute;return s===!1?void 0:typeof s=="string"?s:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Ps[dd]=!0,Ps.elementProperties=new Map,Ps.elementStyles=[],Ps.shadowRootOptions={mode:"open"},up==null||up({ReactiveElement:Ps}),((sp=Fu.reactiveElementVersions)!==null&&sp!==void 0?sp:Fu.reactiveElementVersions=[]).push("1.6.3")}});function Tl(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===Ms)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=Pl(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=Tl(g,r._$AS(g,n.values),r,t)),n}var hp,zu,Is,fp,hd,pa,pp,Zk,$a,jl,Pl,vp,Qk,fd,Il,mp,gp,Na,yp,bp,wp,_p,kt,Mo,Ms,Yn,kp,Ba,ex,pd,tx,vd,Hu,nx,rx,ix,ox,ax,xp,Sp,md=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/lit-html.mjs":function(){zu=window,Is=zu.trustedTypes,fp=Is?Is.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,hd="$lit$",pa="lit$".concat((Math.random()+"").slice(9),"$"),pp="?"+pa,Zk="<".concat(pp,">"),$a=document,jl=function(){return $a.createComment("")},Pl=function(g){return g===null||typeof g!="object"&&typeof g!="function"},vp=Array.isArray,Qk=function(g){return vp(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},fd="[ 	\n\f\r]",Il=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,mp=/-->/g,gp=/>/g,Na=RegExp(">|".concat(fd,"(?:([^\\s\"'>=/]+)(").concat(fd,"*=").concat(fd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),yp=/'/g,bp=/"/g,wp=/^(?:script|style|textarea|title)$/i,_p=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},kt=_p(1),Mo=_p(2),Ms=Symbol.for("lit-noChange"),Yn=Symbol.for("lit-nothing"),kp=new WeakMap,Ba=$a.createTreeWalker($a,129,null,!1),ex=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=Il,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===Il?d[1]==="!--"?s=mp:d[1]!==void 0?s=gp:d[2]!==void 0?(wp.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=Na):d[3]!==void 0&&(s=Na):s===Na?d[0]===">"?(s=o!=null?o:Il,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?Na:d[3]==='"'?bp:yp):s===bp||s===yp?s=Na:s===mp||s===gp?s=Il:(s=Na,o=void 0);var v=s===Na&&g[a+1].startsWith("/>")?" ":"";l+=s===Il?r+Zk:h>=0?(t.push(c),r.slice(0,h)+hd+r.slice(h)+pa+v):r+pa+(h===-2?(t.push(void 0),a):v)}return[xo(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},pd=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(ex(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),Ba.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=Ba.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(hd)||u.startsWith(pa)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+hd).split(pa),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?nx:y[1]==="?"?ix:y[1]==="@"?ox:Hu})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(wp.test(l.tagName)){var Q=l.textContent.split(pa),W=Q.length-1;if(W>0){l.textContent=Is?Is.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],jl()),Ba.nextNode(),c.push({type:2,index:++s});l.append(Q[W],jl())}}}else if(l.nodeType===8)if(l.data===pp)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(pa,oe+1))!==-1;)c.push({type:7,index:s}),oe+=pa.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=$a.createElement("template");return o.innerHTML=e,o}}]),g}(),tx=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:$a).importNode(s,!0);Ba.currentNode=r;for(var c=Ba.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new vd(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new ax(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=Ba.nextNode(),d++)}return Ba.currentNode=$a,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),vd=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Yn,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Tl(this,e,t),Pl(e)?e===Yn||e==null||e===""?(this._$AH!==Yn&&this._$AR(),this._$AH=Yn):e!==this._$AH&&e!==Ms&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Qk(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Yn&&Pl(this._$AH)?this._$AA.nextSibling.data=e:this.$($a.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=pd.createElement(xo(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new tx(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=kp.get(e.strings);return t===void 0&&kp.set(e.strings,t=new pd(e)),t}},{key:"T",value:function(e){vp(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(jl()),this.k(jl()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),Hu=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Yn,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Yn}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=Tl(this,e,t,0),a=!Pl(e)||e!==this._$AH&&e!==Ms,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=Tl(this,r[o+c],t,c),d===Ms&&(d=this._$AH[c]),a||(a=!Pl(d)||d!==this._$AH[c]),d===Yn?e=Yn:e!==Yn&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Yn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),nx=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Yn?void 0:o}}]),e}(Hu),rx=Is?Is.emptyScript:"",ix=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Yn?this.element.setAttribute(this.name,rx):this.element.removeAttribute(this.name)}}]),e}(Hu),ox=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=Tl(this,o,l,0))!==null&&s!==void 0?s:Yn)!==Ms){var a=this._$AH,r=o===Yn&&a!==Yn||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Yn&&(a===Yn||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(Hu),ax=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Tl(this,e)}}]),g}(),xp=zu.litHtmlPolyfillSupport,xp==null||xp(pd,vd),((hp=zu.litHtmlVersions)!==null&&hp!==void 0?hp:zu.litHtmlVersions=[]).push("2.8.0"),Sp=function(g,n,e){var t,o,l=(t=e==null?void 0:e.renderBefore)!==null&&t!==void 0?t:n,s=l._$litPart$;if(s===void 0){var a=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=s=new vd(n.insertBefore(jl(),a),a,void 0,e!=null?e:{})}return s._$AI(g),s}}}),Cp,Ap,rr,Op,nj=Gt({"https-url:https://esm.archive.org/v135/lit-element@3.3.3/esnext/lit-element.js":function(){dp(),dp(),md(),md(),rr=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.renderOptions={host:_assertThisInitialized(t)},t._$Do=void 0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,s=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(l=this.renderOptions).renderBefore)!==null&&o!==void 0||(l.renderBefore=s.firstChild),s}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=Sp(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return Ms}}]),e}(Ps),rr.finalized=!0,rr._$litElement$=!0,(Cp=globalThis.litElementHydrateSupport)===null||Cp===void 0||Cp.call(globalThis,{LitElement:rr}),Op=globalThis.litElementPolyfillSupport,Op==null||Op({LitElement:rr}),((Ap=globalThis.litElementVersions)!==null&&Ap!==void 0?Ap:globalThis.litElementVersions=[]).push("3.3.3")}}),rj=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/is-server.js":function(){}}),Sn=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/lit.mjs":function(){dp(),md(),nj(),rj()}}),Jr,ij=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/custom-element.js":function(){Jr=function(g){return function(n){return typeof n=="function"?function(e,t){return customElements.define(e,t),t}(g,n):function(e,t){var o=t.kind,l=t.elements;return{kind:o,elements:l,finisher:function(a){customElements.define(e,a)}}}(g,n)}}}}),sx,lx,ux=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/property.js":function(){sx=function(g,n){return n.kind==="method"&&n.descriptor&&!("value"in n.descriptor)?pi(ei({},n),{finisher:function(t){t.createProperty(n.key,g)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:n.key,initializer:function(){typeof n.initializer=="function"&&(this[n.key]=n.initializer.call(this))},finisher:function(t){t.createProperty(n.key,g)}}},lx=function(g,n,e){n.constructor.createProperty(e,g)}}}),oj=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/state.js":function(){ux()}}),cx,Ml=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/base.js":function(){cx=function(g){var n=g.finisher,e=g.descriptor;return function(t,o){var l;if(o===void 0){var s=(l=t.originalKey)!==null&&l!==void 0?l:t.key,a=e!=null?{kind:"method",placement:"prototype",key:s,descriptor:e(t.key)}:pi(ei({},t),{key:s});return n!=null&&(a.finisher=function(c){n(c,s)}),a}{var r=t.constructor;e!==void 0&&Object.defineProperty(t,o,e(o)),n==null||n(r,o)}}}}}),aj=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/event-options.js":function(){Ml()}}),sj=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query.js":function(){Ml()}}),lj=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-all.js":function(){Ml()}}),uj=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-async.js":function(){Ml()}}),Ep,cj,dx=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-assigned-elements.js":function(){Ml(),cj=((Ep=window.HTMLSlotElement)===null||Ep===void 0?void 0:Ep.prototype.assignedElements)!=null?function(g,n){return g.assignedElements(n)}:function(g,n){return g.assignedNodes(n).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})}}}),dj=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-assigned-nodes.js":function(){Ml(),dx()}}),Wr=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/decorators.js":function(){ij(),ux(),oj(),aj(),sj(),lj(),uj(),dx(),dj()}}),hx,fx,Uu=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-activity-indicator@0.0.4/esnext/ia-activity-indicator.js":function(){Sn(),hx=Object.freeze({processing:"processing",complete:"complete"}),fx=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.mode=hx.processing,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject2(),this.mode)}}],[{key:"properties",get:function(){return{mode:{type:String}}}},{key:"styles",get:function(){var o=zt(_templateObject3()),l=zt(_templateObject4()),s=zt(_templateObject5()),a=zt(_templateObject6());return zt(_templateObject7(),l,o,s,a)}}]),e}(rr),window.customElements.define("ia-activity-indicator",fx)}}),px,vx,mx=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close@1.3.4/esnext/icon-close.mjs":function(){Sn(),Sn(),px=kt(_templateObject8()),vx=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return px}}],[{key:"styles",get:function(){return zt(_templateObject9())}}]),e}(rr),customElements.define("ia-icon-close",vx)}});function gd(){var g,n=arguments;return _regeneratorRuntime.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(g=n.length>0&&n[0]!==void 0?n[0]:document.activeElement,t.t0=g!=null,!t.t0){t.next=8;break}return t.next=5,g;case 5:if(t.t1="shadowRoot"in g&&g.shadowRoot&&g.shadowRoot.mode!=="closed",!t.t1){t.next=8;break}return t.delegateYield(tj(gd(g.shadowRoot.activeElement)),"t2",8);case 8:case"end":return t.stop()}},_)}var va,Tp,Ll,gx,yx,yd,Ls,bx,Rs,Vu=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/modal-manager@2.0.0/esnext/modal-manager.mjs":function(){Br(),Sn(),Wr(),Br(),Sn(),Wr(),Uu(),mx(),Sn(),rp(),va=function g(n){"use strict";_classCallCheck(this,g);var e,t,o,l,s,a,r;this.title=n==null?void 0:n.title,this.subtitle=n==null?void 0:n.subtitle,this.headline=n==null?void 0:n.headline,this.message=n==null?void 0:n.message,this.headerColor=(e=n==null?void 0:n.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(t=n==null?void 0:n.bodyColor)!==null&&t!==void 0?t:"#f5f5f7",this.showProcessingIndicator=(o=n==null?void 0:n.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(l=n==null?void 0:n.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(s=n==null?void 0:n.showCloseButton)!==null&&s!==void 0?s:!0,this.showHeaderLogo=(a=n==null?void 0:n.showHeaderLogo)!==null&&a!==void 0?a:!0,this.closeOnBackdropClick=(r=n==null?void 0:n.closeOnBackdropClick)!==null&&r!==void 0?r:!0},Tp=new WeakMap,Ll=[],gx=function(){"use strict";function g(n){var e=this;_classCallCheck(this,g),this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=function(){e.isActive()&&e.checkFocus()},this.handleKeyDown=function(t){var o=e,l;if(!(t.key!=="Tab"||e.isExternalActivated||!e.isActive())){var s=ed();if(e.previousFocus=s,!(e.previousFocus&&e.possiblyHasTabbableChildren(e.previousFocus))){t.shiftKey?e.tabDirection="backward":e.tabDirection="forward";var a=Ak(e.element),r=a.findIndex(function(p){return p===s});e.previousFocus=e.currentFocus;for(var c=e.tabDirection==="forward"?1:-1;;){r+c>=a.length?r=0:r+c<0?r=a.length-1:r+=c,e.previousFocus=e.currentFocus;var d=a[r];if(e.tabDirection==="backward"&&e.previousFocus&&e.possiblyHasTabbableChildren(e.previousFocus)||d&&e.possiblyHasTabbableChildren(d))return;t.preventDefault(),e.currentFocus=d,(l=e.currentFocus)===null||l===void 0||l.focus({preventScroll:!1});var h=_toConsumableArray(gd());if(h.includes(e.currentFocus)||!h.includes(e.previousFocus))break}setTimeout(function(){return o.checkFocus()})}}},this.handleKeyUp=function(){e.tabDirection="forward"},this.element=n,this.elementsWithTabbableControls=["iframe"]}return _createClass(g,[{key:"activate",value:function(){Ll.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"deactivate",value:function(){var e=this;Ll=Ll.filter(function(t){return t!==e.element}),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"isActive",value:function(){return Ll[Ll.length-1]===this.element}},{key:"activateExternal",value:function(){this.isExternalActivated=!0}},{key:"deactivateExternal",value:function(){this.isExternalActivated=!1}},{key:"checkFocus",value:function(){if(this.isActive()&&!this.isExternalActivated){var e=Ak(this.element);if(!this.element.matches(":focus-within")){var t=e[0],o=e[e.length-1],l=this.tabDirection==="forward"?t:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}},{key:"possiblyHasTabbableChildren",value:function(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}}]),g}(),yx=kt(_templateObject10()),yd=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.config=new va,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject16(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?kt(_templateObject11(),yx):Yn,this.config.title?kt(_templateObject12(),this.config.title):"",this.config.subtitle?kt(_templateObject13(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?kt(_templateObject14(),this.config.headline):"",this.config.message?kt(_templateObject15(),this.config.message):"")}},{key:"handleCloseButton",value:function(o){if(o.preventDefault(),!(o.type==="keydown"&&o.key!==" "&&o.key!=="Enter")){var l=new Event("closeButtonPressed");this.dispatchEvent(l)}}},{key:"closeButtonTemplate",get:function(){return kt(_templateObject17(),this.handleCloseButton,this.handleCloseButton)}}],[{key:"styles",get:function(){var o=zt(_templateObject18()),l=zt(_templateObject19()),s=zt(_templateObject20()),a=zt(_templateObject21()),r=zt(_templateObject22()),c=zt(_templateObject23()),d=zt(_templateObject24()),h=zt(_templateObject25()),p=zt(_templateObject26()),v=zt(_templateObject27()),k=zt(_templateObject28()),x=zt(_templateObject29()),S=zt(_templateObject30()),A=zt(_templateObject31()),E=zt(_templateObject32()),O=zt(_templateObject33()),T=zt(_templateObject34());return zt(_templateObject35(),l,l,s,c,s,s,a,d,v,A,k,E,s,s,a,h,p,r,p,x,O,S,T,o,o,o,o)}}]),e}(rr),Ie([an({type:Object})],yd.prototype,"config",void 0),yd=Ie([Jr("modal-template")],yd),function(g){g.Open="open",g.Closed="closed"}(Ls||(Ls={})),bx=function(){"use strict";function g(n){_classCallCheck(this,g),this.windowResizeThrottler=ce(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=n}return _createClass(g,[{key:"handleModeChange",value:function(e){switch(e){case Ls.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ls.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),g}(),Rs=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.mode=Ls.Closed,t.hostBridge=new bx(_assertThisInitialized(t)),t.modal=new gx(_assertThisInitialized(t)),t.closeOnBackdropClick=!0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"firstUpdated",value:function(){return xi(this,void 0,void 0,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=this,a.next=3,new Promise(function(r){return setTimeout(r,0)});case 3:this.closeOnBackdropClick&&this.addEventListener("keydown",function(r){r.key==="Escape"&&l.backdropClicked()});case 4:case"end":return a.stop()}},o,this)}))}},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),this.modal.deactivate()}},{key:"render",value:function(){return kt(_templateObject36(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Ls.Closed,this.customModalContent=void 0,this.modalTemplate.config=new va,this.modal.deactivate()}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return xi(this,void 0,void 0,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Ls.Open,a.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus(),this.modal.activate();case 9:case"end":return a.stop()}},l,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=zt(_templateObject37()),l=zt(_templateObject38()),s=zt(_templateObject39()),a=zt(_templateObject40()),r=zt(_templateObject41());return zt(_templateObject42(),o,l,r,s,a)}}]),e}(rr),Ie([an({type:String,reflect:!0})],Rs.prototype,"mode",void 0),Ie([an({type:Object})],Rs.prototype,"customModalContent",void 0),Ie([an({type:Object})],Rs.prototype,"hostBridge",void 0),Ie([li("modal-template")],Rs.prototype,"modalTemplate",void 0),Rs=Ie([Jr("modal-manager")],Rs)}}),wx={};bi(wx,{default:function(){return ne}});var _x,bd,kx,xx,Sx,Cx,Ax,Ox,wd,Ex,jp,Pp,Ip,Tx,ir,Mp,jx,ne,_d=Gt({"https-url:https://esm.archive.org/v135/jquery@3.6.1/esnext/jquery.mjs":function(){_x=Object.create,bd=Object.defineProperty,kx=Object.getOwnPropertyDescriptor,xx=Object.getOwnPropertyNames,Sx=Object.getPrototypeOf,Cx=Object.prototype.hasOwnProperty,Ax=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},Ox=function(n,e){for(var t in e)bd(n,t,{get:e[t],enumerable:!0})},wd=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!Cx.call(n,v)&&v!==t&&bd(n,v,{get:function(){return e[v]},enumerable:!(o=kx(e,v))||o.enumerable})},c=xx(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},Ex=function(n,e,t){return wd(n,e,"default"),t&&wd(t,e,"default")},jp=function(n,e,t){return t=n!=null?_x(Sx(n)):{},wd(e||!n||!n.__esModule?bd(t,"default",{value:n,enumerable:!0}):t,n)},Pp=Ax(function(n,e){(function(t,o){"use strict";typeof e=="object"&&typeof e.exports=="object"?e.exports=t.document?o(t,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return o(l)}:o(t)})((typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:n,function(t,o){"use strict";var l=function(j,V,ae){ae=ae||qt;var ke,Ye,Ke=ae.createElement("script");if(Ke.text=j,V)for(ke in Bt)Ye=V[ke]||V.getAttribute&&V.getAttribute(ke),Ye&&Ke.setAttribute(ke,Ye);ae.head.appendChild(Ke).parentNode.removeChild(Ke)},s=function(j){return j==null?j+"":typeof j=="object"||typeof j=="function"?$e[ze.call(j)]||"object":typeof j=="undefined"?"undefined":_typeof(j)},a=function(j){var V=!!j&&"length"in j&&j.length,ae=s(j);return dt(j)||$t(j)?!1:ae==="array"||V===0||typeof V=="number"&&V>0&&V-1 in j},r=function(j,V){return j.nodeName&&j.nodeName.toLowerCase()===V.toLowerCase()},c=function(j,V,ae){return dt(V)?Y.grep(j,function(ke,Ye){return!!V.call(ke,Ye,ke)!==ae}):V.nodeType?Y.grep(j,function(ke){return ke===V!==ae}):typeof V!="string"?Y.grep(j,function(ke){return Ge.call(V,ke)>-1!==ae}):Y.filter(V,j,ae)},d=function(j,V){for(;(j=j[V])&&j.nodeType!==1;);return j},h=function(j){var V={};return Y.each(j.match(se)||[],function(ae,ke){V[ke]=!0}),V},p=function(j){return j},v=function(j){throw j},k=function(j,V,ae,ke){var Ye;try{j&&dt(Ye=j.promise)?Ye.call(j).done(V).fail(ae):j&&dt(Ye=j.then)?Ye.call(j,V,ae):V.apply(void 0,[j].slice(ke))}catch(Ke){ae.apply(void 0,[Ke])}},x=function(j,V){return V.toUpperCase()},S=function(j){return j.replace(qe,"ms-").replace(We,x)},A=function(j){return j==="true"?!0:j==="false"?!1:j==="null"?null:j===+j+""?+j:Lt.test(j)?JSON.parse(j):j},E=function(j,V,ae){var ke;if(ae===void 0&&j.nodeType===1)if(ke="data-"+V.replace(Rt,"-$&").toLowerCase(),ae=j.getAttribute(ke),typeof ae=="string"){try{ae=A(ae)}catch(Ye){}Nt.set(j,V,ae)}else ae=void 0;return ae},O=function(j,V,ae,ke){var Ye,Ke,at=20,Wt=ke?function(){return ke.cur()}:function(){return Y.css(j,V,"")},Dt=Wt(),tn=ae&&ae[3]||(Y.cssNumber[V]?"":"px"),bn=j.nodeType&&(Y.cssNumber[V]||tn!=="px"&&+Dt)&&ln.exec(Y.css(j,V));if(bn&&bn[3]!==tn){for(Dt=Dt/2,tn=tn||bn[3],bn=+Dt||1;at--;)Y.style(j,V,bn+tn),(1-Ke)*(1-(Ke=Wt()/Dt||.5))<=0&&(at=0),bn=bn/Ke;bn=bn*2,Y.style(j,V,bn+tn),ae=ae||[]}return ae&&(bn=+bn||+Dt||0,Ye=ae[1]?bn+(ae[1]+1)*ae[2]:+ae[2],ke&&(ke.unit=tn,ke.start=bn,ke.end=Ye)),Ye},T=function(j){var V,ae=j.ownerDocument,ke=j.nodeName,Ye=ur[ke];return Ye||(V=ae.body.appendChild(ae.createElement(ke)),Ye=Y.css(V,"display"),V.parentNode.removeChild(V),Ye==="none"&&(Ye="block"),ur[ke]=Ye,Ye)},b=function(j,V){for(var ae,ke,Ye=[],Ke=0,at=j.length;Ke<at;Ke++)ke=j[Ke],ke.style&&(ae=ke.style.display,V?(ae==="none"&&(Ye[Ke]=It.get(ke,"display")||null,Ye[Ke]||(ke.style.display="")),ke.style.display===""&&Vt(ke)&&(Ye[Ke]=T(ke))):ae!=="none"&&(Ye[Ke]="none",It.set(ke,"display",ae)));for(Ke=0;Ke<at;Ke++)Ye[Ke]!=null&&(j[Ke].style.display=Ye[Ke]);return j},u=function(j,V){var ae;return _typeof(j.getElementsByTagName)<"u"?ae=j.getElementsByTagName(V||"*"):_typeof(j.querySelectorAll)<"u"?ae=j.querySelectorAll(V||"*"):ae=[],V===void 0||V&&r(j,V)?Y.merge([j],ae):ae},f=function(j,V){for(var ae=0,ke=j.length;ae<ke;ae++)It.set(j[ae],"globalEval",!V||It.get(V[ae],"globalEval"))},m=function(j,V,ae,ke,Ye){for(var Ke,at,Wt,Dt,tn,bn,Nn=V.createDocumentFragment(),Jt=[],X=0,L=j.length;X<L;X++)if(Ke=j[X],Ke||Ke===0)if(s(Ke)==="object")Y.merge(Jt,Ke.nodeType?[Ke]:Ke);else if(!fr.test(Ke))Jt.push(V.createTextNode(Ke));else{for(at=at||Nn.appendChild(V.createElement("div")),Wt=(tr.exec(Ke)||["",""])[1].toLowerCase(),Dt=Tn[Wt]||Tn._default,at.innerHTML=Dt[1]+Y.htmlPrefilter(Ke)+Dt[2],bn=Dt[0];bn--;)at=at.lastChild;Y.merge(Jt,at.childNodes),at=Nn.firstChild,at.textContent=""}for(Nn.textContent="",X=0;Ke=Jt[X++];){if(ke&&Y.inArray(Ke,ke)>-1){Ye&&Ye.push(Ke);continue}if(tn=Qt(Ke),at=u(Nn.appendChild(Ke),"script"),tn&&f(at),ae)for(bn=0;Ke=at[bn++];)en.test(Ke.type||"")&&ae.push(Ke)}return Nn},y=function(){return!0},w=function(){return!1},C=function(j,V){return j===M()==(V==="focus")},M=function(){try{return qt.activeElement}catch(j){}},I=function(j,V,ae){if(!ae){It.get(j,V)===void 0&&Y.event.add(j,V,y);return}It.set(j,V,!1),Y.event.add(j,V,{namespace:!1,handler:function(Ye){var Ke,at,Wt=It.get(this,V);if(Ye.isTrigger&1&&this[V]){if(Wt.length)(Y.event.special[V]||{}).delegateType&&Ye.stopPropagation();else if(Wt=Ue.call(arguments),It.set(this,V,Wt),Ke=ae(this,V),this[V](),at=It.get(this,V),Wt!==at||Ke?It.set(this,V,!1):at={},Wt!==at)return Ye.stopImmediatePropagation(),Ye.preventDefault(),at&&at.value}else Wt.length&&(It.set(this,V,{value:Y.event.trigger(Y.extend(Wt[0],Y.Event.prototype),Wt.slice(1),this)}),Ye.stopImmediatePropagation())}})},D=function(j,V){return r(j,"table")&&r(V.nodeType!==11?V:V.firstChild,"tr")&&Y(j).children("tbody")[0]||j},z=function(j){return j.type=(j.getAttribute("type")!==null)+"/"+j.type,j},Q=function(j){return(j.type||"").slice(0,5)==="true/"?j.type=j.type.slice(5):j.removeAttribute("type"),j},W=function(j,V){var ae,ke,Ye,Ke,at,Wt,Dt;if(V.nodeType===1){if(It.hasData(j)&&(Ke=It.get(j),Dt=Ke.events,Dt)){It.remove(V,"handle events");for(Ye in Dt)for(ae=0,ke=Dt[Ye].length;ae<ke;ae++)Y.event.add(V,Ye,Dt[Ye][ae])}Nt.hasData(j)&&(at=Nt.access(j),Wt=Y.extend({},at),Nt.set(V,Wt))}},me=function(j,V){var ae=V.nodeName.toLowerCase();ae==="input"&&Dn.test(j.type)?V.checked=j.checked:(ae==="input"||ae==="textarea")&&(V.defaultValue=j.defaultValue)},oe=function(j,V,ae){for(var ke,Ye=V?Y.filter(V,j):j,Ke=0;(ke=Ye[Ke])!=null;Ke++)!ae&&ke.nodeType===1&&Y.cleanData(u(ke)),ke.parentNode&&(ae&&Qt(ke)&&f(u(ke,"script")),ke.parentNode.removeChild(ke));return j},q=function(j,V,ae){var ke,Ye,Ke,at,Wt=yt.test(V),Dt=j.style;return ae=ae||gn(j),ae&&(at=ae.getPropertyValue(V)||ae[V],Wt&&(at=at.replace(ar,"$1")),at===""&&!Qt(j)&&(at=Y.style(j,V)),!Ze.pixelBoxStyles()&&At.test(at)&&$n.test(V)&&(ke=Dt.width,Ye=Dt.minWidth,Ke=Dt.maxWidth,Dt.minWidth=Dt.maxWidth=Dt.width=at,at=ae.width,Dt.width=ke,Dt.minWidth=Ye,Dt.maxWidth=Ke)),at!==void 0?at+"":at},ee=function(j,V){return{get:function(){if(j()){delete this.get;return}return(this.get=V).apply(this,arguments)}}},we=function(j){for(var V=j[0].toUpperCase()+j.slice(1),ae=Ar.length;ae--;)if(j=Ar[ae]+V,j in yi)return j},ie=function(j){var V=Y.cssProps[j]||ki[j];return V||(j in yi?j:ki[j]=we(j)||j)},le=function(j,V,ae){var ke=ln.exec(V);return ke?Math.max(0,ke[2]-(ae||0))+(ke[3]||"px"):V},ye=function(j,V,ae,ke,Ye,Ke){var at=V==="width"?1:0,Wt=0,Dt=0;if(ae===(ke?"border":"content"))return 0;for(;at<4;at+=2)ae==="margin"&&(Dt+=Y.css(j,ae+jt[at],!0,Ye)),ke?(ae==="content"&&(Dt-=Y.css(j,"padding"+jt[at],!0,Ye)),ae!=="margin"&&(Dt-=Y.css(j,"border"+jt[at]+"Width",!0,Ye))):(Dt+=Y.css(j,"padding"+jt[at],!0,Ye),ae!=="padding"?Dt+=Y.css(j,"border"+jt[at]+"Width",!0,Ye):Wt+=Y.css(j,"border"+jt[at]+"Width",!0,Ye));return!ke&&Ke>=0&&(Dt+=Math.max(0,Math.ceil(j["offset"+V[0].toUpperCase()+V.slice(1)]-Ke-Dt-Wt-.5))||0),Dt},Ee=function(j,V,ae){var ke=gn(j),Ye=!Ze.boxSizingReliable()||ae,Ke=Ye&&Y.css(j,"boxSizing",!1,ke)==="border-box",at=Ke,Wt=q(j,V,ke),Dt="offset"+V[0].toUpperCase()+V.slice(1);if(At.test(Wt)){if(!ae)return Wt;Wt="auto"}return(!Ze.boxSizingReliable()&&Ke||!Ze.reliableTrDimensions()&&r(j,"tr")||Wt==="auto"||!parseFloat(Wt)&&Y.css(j,"display",!1,ke)==="inline")&&j.getClientRects().length&&(Ke=Y.css(j,"boxSizing",!1,ke)==="border-box",at=Dt in j,at&&(Wt=j[Dt])),Wt=parseFloat(Wt)||0,Wt+ye(j,V,ae||(Ke?"border":"content"),at,ke,Wt)+"px"},fe=function(){return t.setTimeout(function(){un=void 0}),un=Date.now()},rt=function(j,V){var ae,ke=0,Ye={height:j};for(V=V?1:0;ke<4;ke+=2-V)ae=jt[ke],Ye["margin"+ae]=Ye["padding"+ae]=j;return V&&(Ye.opacity=Ye.width=j),Ye},ct=function(j,V,ae){for(var ke,Ye=(Ln.tweeners[V]||[]).concat(Ln.tweeners["*"]),Ke=0,at=Ye.length;Ke<at;Ke++)if(ke=Ye[Ke].call(ae,V,j))return ke},Ot=function(j,V,ae){var ke,Ye,Ke,at,Wt,Dt,tn,bn,Nn="width"in V||"height"in V,Jt=this,X={},L=j.style,N=j.nodeType&&Vt(j),F=It.get(j,"fxshow");ae.queue||(at=Y._queueHooks(j,"fx"),at.unqueued==null&&(at.unqueued=0,Wt=at.empty.fire,at.empty.fire=function(){at.unqueued||Wt()}),at.unqueued++,Jt.always(function(){Jt.always(function(){at.unqueued--,Y.queue(j,"fx").length||at.empty.fire()})}));for(ke in V)if(Ye=V[ke],Un.test(Ye)){if(delete V[ke],Ke=Ke||Ye==="toggle",Ye===(N?"hide":"show"))if(Ye==="show"&&F&&F[ke]!==void 0)N=!0;else continue;X[ke]=F&&F[ke]||Y.style(j,ke)}if(Dt=!Y.isEmptyObject(V),!(!Dt&&Y.isEmptyObject(X))){var G=function(ve){Dt||(F?"hidden"in F&&(N=F.hidden):F=It.access(j,"fxshow",{display:tn}),Ke&&(F.hidden=!N),N&&b([j],!0),Jt.done(function(){N||b([j]),It.remove(j,"fxshow");for(ve in X)Y.style(j,ve,X[ve])})),Dt=ct(N?F[ve]:0,ve,Jt),ve in F||(F[ve]=Dt.start,N&&(Dt.end=Dt.start,Dt.start=0))};Nn&&j.nodeType===1&&(ae.overflow=[L.overflow,L.overflowX,L.overflowY],tn=F&&F.display,tn==null&&(tn=It.get(j,"display")),bn=Y.css(j,"display"),bn==="none"&&(tn?bn=tn:(b([j],!0),tn=j.style.display||tn,bn=Y.css(j,"display"),b([j]))),(bn==="inline"||bn==="inline-block"&&tn!=null)&&Y.css(j,"float")==="none"&&(Dt||(Jt.done(function(){L.display=tn}),tn==null&&(bn=L.display,tn=bn==="none"?"":bn)),L.display="inline-block")),ae.overflow&&(L.overflow="hidden",Jt.always(function(){L.overflow=ae.overflow[0],L.overflowX=ae.overflow[1],L.overflowY=ae.overflow[2]})),Dt=!1;for(ke in X)G(ke)}},_t=function(j,V){var ae,ke,Ye,Ke,at;for(ae in j)if(ke=S(ae),Ye=V[ke],Ke=j[ae],Array.isArray(Ke)&&(Ye=Ke[1],Ke=j[ae]=Ke[0]),ae!==ke&&(j[ke]=Ke,delete j[ae]),at=Y.cssHooks[ke],at&&"expand"in at){Ke=at.expand(Ke),delete j[ke];for(ae in Ke)ae in j||(j[ae]=Ke[ae],V[ae]=Ye)}else V[ke]=Ye},De=function(j){var V=j.match(se)||[];return V.join(" ")},be=function(j){return j.getAttribute&&j.getAttribute("class")||""},Xe=function(j){return Array.isArray(j)?j:typeof j=="string"?j.match(se)||[]:[]},Ne=function(j){return function(V,ae){typeof V!="string"&&(ae=V,V="*");var ke,Ye=0,Ke=V.toLowerCase().match(se)||[];if(dt(ae))for(;ke=Ke[Ye++];)ke[0]==="+"?(ke=ke.slice(1)||"*",(j[ke]=j[ke]||[]).unshift(ae)):(j[ke]=j[ke]||[]).push(ae)}},Qe=function(j,V,ae,ke){var Ye={},Ke=j===ao;function at(Wt){var Dt;return Ye[Wt]=!0,Y.each(j[Wt]||[],function(tn,bn){var Nn=bn(V,ae,ke);if(typeof Nn=="string"&&!Ke&&!Ye[Nn])return V.dataTypes.unshift(Nn),at(Nn),!1;if(Ke)return!(Dt=Nn)}),Dt}return at(V.dataTypes[0])||!Ye["*"]&&at("*")},Me=function(j,V){var ae,ke,Ye=Y.ajaxSettings.flatOptions||{};for(ae in V)V[ae]!==void 0&&((Ye[ae]?j:ke||(ke={}))[ae]=V[ae]);return ke&&Y.extend(!0,j,ke),j},Ve=function(j,V,ae){for(var ke,Ye,Ke,at,Wt=j.contents,Dt=j.dataTypes;Dt[0]==="*";)Dt.shift(),ke===void 0&&(ke=j.mimeType||V.getResponseHeader("Content-Type"));if(ke){for(Ye in Wt)if(Wt[Ye]&&Wt[Ye].test(ke)){Dt.unshift(Ye);break}}if(Dt[0]in ae)Ke=Dt[0];else{for(Ye in ae){if(!Dt[0]||j.converters[Ye+" "+Dt[0]]){Ke=Ye;break}at||(at=Ye)}Ke=Ke||at}if(Ke)return Ke!==Dt[0]&&Dt.unshift(Ke),ae[Ke]},st=function(j,V,ae,ke){var Ye,Ke,at,Wt,Dt,tn={},bn=j.dataTypes.slice();if(bn[1])for(at in j.converters)tn[at.toLowerCase()]=j.converters[at];for(Ke=bn.shift();Ke;)if(j.responseFields[Ke]&&(ae[j.responseFields[Ke]]=V),!Dt&&ke&&j.dataFilter&&(V=j.dataFilter(V,j.dataType)),Dt=Ke,Ke=bn.shift(),Ke){if(Ke==="*")Ke=Dt;else if(Dt!=="*"&&Dt!==Ke){if(at=tn[Dt+" "+Ke]||tn["* "+Ke],!at){for(Ye in tn)if(Wt=Ye.split(" "),Wt[1]===Ke&&(at=tn[Dt+" "+Wt[0]]||tn["* "+Wt[0]],at)){at===!0?at=tn[Ye]:tn[Ye]!==!0&&(Ke=Wt[0],bn.unshift(Wt[1]));break}}if(at!==!0)if(at&&j.throws)V=at(V);else try{V=at(V)}catch(Nn){return{state:"parsererror",error:at?Nn:"No conversion from "+Dt+" to "+Ke}}}}return{state:"success",data:V}},gt=[],Mt=Object.getPrototypeOf,Ue=gt.slice,Be=gt.flat?function(j){return gt.flat.call(j)}:function(_e){return gt.concat.apply([],_e)},et=gt.push,Ge=gt.indexOf,$e={},ze=$e.toString,xt=$e.hasOwnProperty,bt=xt.toString,lt=bt.call(Object),Ze={},dt=function(j){return typeof j=="function"&&typeof j.nodeType!="number"&&typeof j.item!="function"},$t=function(j){return j!=null&&j===j.window},qt=t.document,Bt={type:!0,src:!0,nonce:!0,noModule:!0},ut="3.6.1",Y=function(_e,j){return new Y.fn.init(_e,j)};Y.fn=Y.prototype={jquery:ut,constructor:Y,length:0,toArray:function(){return Ue.call(this)},get:function(j){return j==null?Ue.call(this):j<0?this[j+this.length]:this[j]},pushStack:function(j){var V=Y.merge(this.constructor(),j);return V.prevObject=this,V},each:function(j){return Y.each(this,j)},map:function(j){return this.pushStack(Y.map(this,function(V,ae){return j.call(V,ae,V)}))},slice:function(){return this.pushStack(Ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Y.grep(this,function(j,V){return(V+1)%2}))},odd:function(){return this.pushStack(Y.grep(this,function(j,V){return V%2}))},eq:function(j){var V=this.length,ae=+j+(j<0?V:0);return this.pushStack(ae>=0&&ae<V?[this[ae]]:[])},end:function(){return this.prevObject||this.constructor()},push:et,sort:gt.sort,splice:gt.splice},Y.extend=Y.fn.extend=function(){var _e,j,V,ae,ke,Ye,Ke=arguments[0]||{},at=1,Wt=arguments.length,Dt=!1;for(typeof Ke=="boolean"&&(Dt=Ke,Ke=arguments[at]||{},at++),typeof Ke!="object"&&!dt(Ke)&&(Ke={}),at===Wt&&(Ke=this,at--);at<Wt;at++)if((_e=arguments[at])!=null)for(j in _e)ae=_e[j],!(j==="__proto__"||Ke===ae)&&(Dt&&ae&&(Y.isPlainObject(ae)||(ke=Array.isArray(ae)))?(V=Ke[j],ke&&!Array.isArray(V)?Ye=[]:!ke&&!Y.isPlainObject(V)?Ye={}:Ye=V,ke=!1,Ke[j]=Y.extend(Dt,Ye,ae)):ae!==void 0&&(Ke[j]=ae));return Ke},Y.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(j){throw new Error(j)},noop:function(){},isPlainObject:function(j){var V,ae;return!j||ze.call(j)!=="[object Object]"?!1:(V=Mt(j),V?(ae=xt.call(V,"constructor")&&V.constructor,typeof ae=="function"&&bt.call(ae)===lt):!0)},isEmptyObject:function(j){var V;for(V in j)return!1;return!0},globalEval:function(j,V,ae){l(j,{nonce:V&&V.nonce},ae)},each:function(j,V){var ae,ke=0;if(a(j))for(ae=j.length;ke<ae&&V.call(j[ke],ke,j[ke])!==!1;ke++);else for(ke in j)if(V.call(j[ke],ke,j[ke])===!1)break;return j},makeArray:function(j,V){var ae=V||[];return j!=null&&(a(Object(j))?Y.merge(ae,typeof j=="string"?[j]:j):et.call(ae,j)),ae},inArray:function(j,V,ae){return V==null?-1:Ge.call(V,j,ae)},merge:function(j,V){for(var ae=+V.length,ke=0,Ye=j.length;ke<ae;ke++)j[Ye++]=V[ke];return j.length=Ye,j},grep:function(j,V,ae){for(var ke,Ye=[],Ke=0,at=j.length,Wt=!ae;Ke<at;Ke++)ke=!V(j[Ke],Ke),ke!==Wt&&Ye.push(j[Ke]);return Ye},map:function(j,V,ae){var ke,Ye,Ke=0,at=[];if(a(j))for(ke=j.length;Ke<ke;Ke++)Ye=V(j[Ke],Ke,ae),Ye!=null&&at.push(Ye);else for(Ke in j)Ye=V(j[Ke],Ke,ae),Ye!=null&&at.push(Ye);return Be(at)},guid:1,support:Ze}),typeof Symbol=="function"&&(Y.fn[Symbol.iterator]=gt[Symbol.iterator]),Y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_e,j){$e["[object "+j+"]"]=j.toLowerCase()});var Kt=function(_e){var j=function(Ct,Ht,on,Mn){var kn,xn,jn,or,Xn,yr,Lr,$r=Ht&&Ht.ownerDocument,ti=Ht?Ht.nodeType:9;if(on=on||[],typeof Ct!="string"||!Ct||ti!==1&&ti!==9&&ti!==11)return on;if(!Mn&&(Pn(Ht),Ht=Ht||Vn,qn)){if(ti!==11&&(Xn=Lu.exec(Ct)))if(kn=Xn[1]){if(ti===9)if(jn=Ht.getElementById(kn)){if(jn.id===kn)return on.push(jn),on}else return on;else if($r&&(jn=$r.getElementById(kn))&&pr(Ht,jn)&&jn.id===kn)return on.push(jn),on}else{if(Xn[2])return St.apply(on,Ht.getElementsByTagName(Ct)),on;if((kn=Xn[3])&&Se.getElementsByClassName&&Ht.getElementsByClassName)return St.apply(on,Ht.getElementsByClassName(kn)),on}if(Se.qsa&&!Dr[Ct+" "]&&(!Kn||!Kn.test(Ct))&&(ti!==1||Ht.nodeName.toLowerCase()!=="object")){if(Lr=Ct,$r=Ht,ti===1&&(so.test(Ct)||La.test(Ct))){for($r=_l.test(Ct)&&bn(Ht.parentNode)||Ht,($r!==Ht||!Se.scope)&&((or=Ht.getAttribute("id"))?or=or.replace(kl,As):Ht.setAttribute("id",or=gr)),yr=fn(Ct),xn=yr.length;xn--;)yr[xn]=(or?"#"+or:":scope")+" "+Jt(yr[xn]);Lr=yr.join(",")}try{return St.apply(on,$r.querySelectorAll(Lr)),on}catch(ni){Dr(Ct,!0)}finally{or===gr&&Ht.removeAttribute("id")}}}return En(Ct.replace(zo,"$1"),Ht,on,Mn)},V=function(){var Ct=[];function Ht(on,Mn){return Ct.push(on+" ")>it.cacheLength&&delete Ht[Ct.shift()],Ht[on+" "]=Mn}return Ht},ae=function(Ct){return Ct[gr]=!0,Ct},ke=function(Ct){var Ht=Vn.createElement("fieldset");try{return!!Ct(Ht)}catch(on){return!1}finally{Ht.parentNode&&Ht.parentNode.removeChild(Ht),Ht=null}},Ye=function(Ct,Ht){for(var on=Ct.split("|"),Mn=on.length;Mn--;)it.attrHandle[on[Mn]]=Ht},Ke=function(Ct,Ht){var on=Ht&&Ct,Mn=on&&Ct.nodeType===1&&Ht.nodeType===1&&Ct.sourceIndex-Ht.sourceIndex;if(Mn)return Mn;if(on){for(;on=on.nextSibling;)if(on===Ht)return-1}return Ct?1:-1},at=function(Ct){return function(Ht){var on=Ht.nodeName.toLowerCase();return on==="input"&&Ht.type===Ct}},Wt=function(Ct){return function(Ht){var on=Ht.nodeName.toLowerCase();return(on==="input"||on==="button")&&Ht.type===Ct}},Dt=function(Ct){return function(Ht){return"form"in Ht?Ht.parentNode&&Ht.disabled===!1?"label"in Ht?"label"in Ht.parentNode?Ht.parentNode.disabled===Ct:Ht.disabled===Ct:Ht.isDisabled===Ct||Ht.isDisabled!==!Ct&&gk(Ht)===Ct:Ht.disabled===Ct:"label"in Ht?Ht.disabled===Ct:!1}},tn=function(Ct){return ae(function(Ht){return Ht=+Ht,ae(function(on,Mn){for(var kn,xn=Ct([],on.length,Ht),jn=xn.length;jn--;)on[kn=xn[jn]]&&(on[kn]=!(Mn[kn]=on[kn]))})})},bn=function(Ct){return Ct&&_typeof(Ct.getElementsByTagName)<"u"&&Ct},Nn=function(){},Jt=function(Ct){for(var Ht=0,on=Ct.length,Mn="";Ht<on;Ht++)Mn+=Ct[Ht].value;return Mn},X=function(Ct,Ht,on){var Mn=Ht.dir,kn=Ht.next,xn=kn||Mn,jn=on&&xn==="parentNode",or=Mr++;return Ht.first?function(Xn,yr,Lr){for(;Xn=Xn[Mn];)if(Xn.nodeType===1||jn)return Ct(Xn,yr,Lr);return!1}:function(Xn,yr,Lr){var $r,ti,ni,Fr=[Rr,or];if(Lr){for(;Xn=Xn[Mn];)if((Xn.nodeType===1||jn)&&Ct(Xn,yr,Lr))return!0}else for(;Xn=Xn[Mn];)if(Xn.nodeType===1||jn)if(ni=Xn[gr]||(Xn[gr]={}),ti=ni[Xn.uniqueID]||(ni[Xn.uniqueID]={}),kn&&kn===Xn.nodeName.toLowerCase())Xn=Xn[Mn]||Xn;else{if(($r=ti[xn])&&$r[0]===Rr&&$r[1]===or)return Fr[2]=$r[2];if(ti[xn]=Fr,Fr[2]=Ct(Xn,yr,Lr))return!0}return!1}},L=function(Ct){return Ct.length>1?function(Ht,on,Mn){for(var kn=Ct.length;kn--;)if(!Ct[kn](Ht,on,Mn))return!1;return!0}:Ct[0]},N=function(Ct,Ht,on){for(var Mn=0,kn=Ht.length;Mn<kn;Mn++)j(Ct,Ht[Mn],on);return on},F=function(Ct,Ht,on,Mn,kn){for(var xn,jn=[],or=0,Xn=Ct.length,yr=Ht!=null;or<Xn;or++)(xn=Ct[or])&&(!on||on(xn,Mn,kn))&&(jn.push(xn),yr&&Ht.push(or));return jn},G=function(Ct,Ht){var on=Ht.length>0,Mn=Ct.length>0,kn=function(jn,or,Xn,yr,Lr){var $r,ti,ni,Fr=0,hi="0",Zi=jn&&[],Xr=[],ua=Wn,Sl=jn||Mn&&it.find.TAG("*",Lr),Ra=Rr+=ua==null?1:Math.random()||.1,Qi=Sl.length;for(Lr&&(Wn=or==Vn||or||Lr);hi!==Qi&&($r=Sl[hi])!=null;hi++){if(Mn&&$r){for(ti=0,!or&&$r.ownerDocument!=Vn&&(Pn($r),Xn=!qn);ni=Ct[ti++];)if(ni($r,or||Vn,Xn)){yr.push($r);break}Lr&&(Rr=Ra)}on&&(($r=!ni&&$r)&&Fr--,jn&&Zi.push($r))}if(Fr+=hi,on&&hi!==Fr){for(ti=0;ni=Ht[ti++];)ni(Zi,Xr,or,Xn);if(jn){if(Fr>0)for(;hi--;)Zi[hi]||Xr[hi]||(Xr[hi]=wt.call(yr));Xr=F(Xr)}St.apply(yr,Xr),Lr&&!jn&&Xr.length>0&&Fr+Ht.length>1&&j.uniqueSort(yr)}return Lr&&(Rr=Ra,Wn=ua),Zi};return on?ae(kn):kn},ve,Se,it,Pt,ft,fn,cn,En,Wn,In,er,Pn,Vn,nr,qn,Kn,_r,jr,pr,gr="sizzle"+1*new Date,Cr=_e.document,Rr=0,Mr=0,Gr=V(),Kr=V(),Nr=V(),Dr=V(),Le=function(Ct,Ht){return Ct===Ht&&(er=!0),0},ge={}.hasOwnProperty,Oe=[],wt=Oe.pop,Et=Oe.push,St=Oe.push,vn=Oe.slice,Cn=function(Ct,Ht){for(var on=0,Mn=Ct.length;on<Mn;on++)if(Ct[on]===Ht)return on;return-1},Hn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Qn="[\\x20\\t\\r\\n\\f]",vr="(?:\\\\[\\da-fA-F]{1,6}"+Qn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Sr="\\["+Qn+"*("+vr+")(?:"+Qn+"*([*^$|!~]?=)"+Qn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vr+"))|)"+Qn+"*\\]",Fo=":("+vr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Sr+")*)|.*)\\)|)",Ma=new RegExp(Qn+"+","g"),zo=new RegExp("^"+Qn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Qn+"+$","g"),mo=new RegExp("^"+Qn+"*,"+Qn+"*"),La=new RegExp("^"+Qn+"*([>+~]|"+Qn+")"+Qn+"*"),so=new RegExp(Qn+"|>"),wl=new RegExp(Fo),oa=new RegExp("^"+vr+"$"),aa={ID:new RegExp("^#("+vr+")"),CLASS:new RegExp("^\\.("+vr+")"),TAG:new RegExp("^("+vr+"|[*])"),ATTR:new RegExp("^"+Sr),PSEUDO:new RegExp("^"+Fo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Qn+"*(even|odd|(([+-]|)(\\d*)n|)"+Qn+"*(?:([+-]|)"+Qn+"*(\\d+)|))"+Qn+"*\\)|)","i"),bool:new RegExp("^(?:"+Hn+")$","i"),needsContext:new RegExp("^"+Qn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Qn+"*((?:-\\d)?\\d*)"+Qn+"*\\)|)(?=[^-]|$)","i")},Io=/HTML$/i,Cs=/^(?:input|select|textarea|button)$/i,Li=/^h\d$/i,sa=/^[^{]+\{\s*\[native \w/,Lu=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_l=/[+~]/,ro=new RegExp("\\\\[\\da-fA-F]{1,6}"+Qn+"?|\\\\([^\\r\\n\\f])","g"),go=function(Ct,Ht){var on="0x"+Ct.slice(1)-65536;return Ht||(on<0?String.fromCharCode(on+65536):String.fromCharCode(on>>10|55296,on&1023|56320))},kl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,As=function(Ct,Ht){return Ht?Ct==="\0"?"\uFFFD":Ct.slice(0,-1)+"\\"+Ct.charCodeAt(Ct.length-1).toString(16)+" ":"\\"+Ct},xl=function(){Pn()},gk=X(function(dn){return dn.disabled===!0&&dn.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{St.apply(Oe=vn.call(Cr.childNodes),Cr.childNodes),Oe[Cr.childNodes.length].nodeType}catch(dn){St={apply:Oe.length?function(Ct,Ht){Et.apply(Ct,vn.call(Ht))}:function(Ct,Ht){for(var on=Ct.length,Mn=0;Ct[on++]=Ht[Mn++];);Ct.length=on-1}}}Se=j.support={},ft=j.isXML=function(Ct){var Ht=Ct&&Ct.namespaceURI,on=Ct&&(Ct.ownerDocument||Ct).documentElement;return!Io.test(Ht||on&&on.nodeName||"HTML")},Pn=j.setDocument=function(Ct){var Ht,on,Mn=Ct?Ct.ownerDocument||Ct:Cr;return Mn==Vn||Mn.nodeType!==9||!Mn.documentElement||(Vn=Mn,nr=Vn.documentElement,qn=!ft(Vn),Cr!=Vn&&(on=Vn.defaultView)&&on.top!==on&&(on.addEventListener?on.addEventListener("unload",xl,!1):on.attachEvent&&on.attachEvent("onunload",xl)),Se.scope=ke(function(kn){return nr.appendChild(kn).appendChild(Vn.createElement("div")),_typeof(kn.querySelectorAll)<"u"&&!kn.querySelectorAll(":scope fieldset div").length}),Se.attributes=ke(function(kn){return kn.className="i",!kn.getAttribute("className")}),Se.getElementsByTagName=ke(function(kn){return kn.appendChild(Vn.createComment("")),!kn.getElementsByTagName("*").length}),Se.getElementsByClassName=sa.test(Vn.getElementsByClassName),Se.getById=ke(function(kn){return nr.appendChild(kn).id=gr,!Vn.getElementsByName||!Vn.getElementsByName(gr).length}),Se.getById?(it.filter.ID=function(kn){var xn=kn.replace(ro,go);return function(jn){return jn.getAttribute("id")===xn}},it.find.ID=function(kn,xn){if(_typeof(xn.getElementById)<"u"&&qn){var jn=xn.getElementById(kn);return jn?[jn]:[]}}):(it.filter.ID=function(kn){var xn=kn.replace(ro,go);return function(jn){var or=_typeof(jn.getAttributeNode)<"u"&&jn.getAttributeNode("id");return or&&or.value===xn}},it.find.ID=function(kn,xn){if(_typeof(xn.getElementById)<"u"&&qn){var jn,or,Xn,yr=xn.getElementById(kn);if(yr){if(jn=yr.getAttributeNode("id"),jn&&jn.value===kn)return[yr];for(Xn=xn.getElementsByName(kn),or=0;yr=Xn[or++];)if(jn=yr.getAttributeNode("id"),jn&&jn.value===kn)return[yr]}return[]}}),it.find.TAG=Se.getElementsByTagName?function(kn,xn){if(_typeof(xn.getElementsByTagName)<"u")return xn.getElementsByTagName(kn);if(Se.qsa)return xn.querySelectorAll(kn)}:function(kn,xn){var jn,or=[],Xn=0,yr=xn.getElementsByTagName(kn);if(kn==="*"){for(;jn=yr[Xn++];)jn.nodeType===1&&or.push(jn);return or}return yr},it.find.CLASS=Se.getElementsByClassName&&function(kn,xn){if(_typeof(xn.getElementsByClassName)<"u"&&qn)return xn.getElementsByClassName(kn)},_r=[],Kn=[],(Se.qsa=sa.test(Vn.querySelectorAll))&&(ke(function(kn){var xn;nr.appendChild(kn).innerHTML="<a id='"+gr+"'></a><select id='"+gr+"-\r\\' msallowcapture=''><option selected=''></option></select>",kn.querySelectorAll("[msallowcapture^='']").length&&Kn.push("[*^$]="+Qn+"*(?:''|\"\")"),kn.querySelectorAll("[selected]").length||Kn.push("\\["+Qn+"*(?:value|"+Hn+")"),kn.querySelectorAll("[id~="+gr+"-]").length||Kn.push("~="),xn=Vn.createElement("input"),xn.setAttribute("name",""),kn.appendChild(xn),kn.querySelectorAll("[name='']").length||Kn.push("\\["+Qn+"*name"+Qn+"*="+Qn+"*(?:''|\"\")"),kn.querySelectorAll(":checked").length||Kn.push(":checked"),kn.querySelectorAll("a#"+gr+"+*").length||Kn.push(".#.+[+~]"),kn.querySelectorAll("\\\f"),Kn.push("[\\r\\n\\f]")}),ke(function(kn){kn.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var xn=Vn.createElement("input");xn.setAttribute("type","hidden"),kn.appendChild(xn).setAttribute("name","D"),kn.querySelectorAll("[name=d]").length&&Kn.push("name"+Qn+"*[*^$|!~]?="),kn.querySelectorAll(":enabled").length!==2&&Kn.push(":enabled",":disabled"),nr.appendChild(kn).disabled=!0,kn.querySelectorAll(":disabled").length!==2&&Kn.push(":enabled",":disabled"),kn.querySelectorAll("*,:x"),Kn.push(",.*:")})),(Se.matchesSelector=sa.test(jr=nr.matches||nr.webkitMatchesSelector||nr.mozMatchesSelector||nr.oMatchesSelector||nr.msMatchesSelector))&&ke(function(kn){Se.disconnectedMatch=jr.call(kn,"*"),jr.call(kn,"[s!='']:x"),_r.push("!=",Fo)}),Kn=Kn.length&&new RegExp(Kn.join("|")),_r=_r.length&&new RegExp(_r.join("|")),Ht=sa.test(nr.compareDocumentPosition),pr=Ht||sa.test(nr.contains)?function(xn,jn){var or=xn.nodeType===9?xn.documentElement:xn,Xn=jn&&jn.parentNode;return xn===Xn||!!(Xn&&Xn.nodeType===1&&(or.contains?or.contains(Xn):xn.compareDocumentPosition&&xn.compareDocumentPosition(Xn)&16))}:function(kn,xn){if(xn){for(;xn=xn.parentNode;)if(xn===kn)return!0}return!1},Le=Ht?function(xn,jn){if(xn===jn)return er=!0,0;var or=!xn.compareDocumentPosition-!jn.compareDocumentPosition;return or||(or=(xn.ownerDocument||xn)==(jn.ownerDocument||jn)?xn.compareDocumentPosition(jn):1,or&1||!Se.sortDetached&&jn.compareDocumentPosition(xn)===or?xn==Vn||xn.ownerDocument==Cr&&pr(Cr,xn)?-1:jn==Vn||jn.ownerDocument==Cr&&pr(Cr,jn)?1:In?Cn(In,xn)-Cn(In,jn):0:or&4?-1:1)}:function(kn,xn){if(kn===xn)return er=!0,0;var jn,or=0,Xn=kn.parentNode,yr=xn.parentNode,Lr=[kn],$r=[xn];if(!Xn||!yr)return kn==Vn?-1:xn==Vn?1:Xn?-1:yr?1:In?Cn(In,kn)-Cn(In,xn):0;if(Xn===yr)return Ke(kn,xn);for(jn=kn;jn=jn.parentNode;)Lr.unshift(jn);for(jn=xn;jn=jn.parentNode;)$r.unshift(jn);for(;Lr[or]===$r[or];)or++;return or?Ke(Lr[or],$r[or]):Lr[or]==Cr?-1:$r[or]==Cr?1:0}),Vn},j.matches=function(dn,Ct){return j(dn,null,null,Ct)},j.matchesSelector=function(dn,Ct){if(Pn(dn),Se.matchesSelector&&qn&&!Dr[Ct+" "]&&(!_r||!_r.test(Ct))&&(!Kn||!Kn.test(Ct)))try{var Ht=jr.call(dn,Ct);if(Ht||Se.disconnectedMatch||dn.document&&dn.document.nodeType!==11)return Ht}catch(on){Dr(Ct,!0)}return j(Ct,Vn,null,[dn]).length>0},j.contains=function(dn,Ct){return(dn.ownerDocument||dn)!=Vn&&Pn(dn),pr(dn,Ct)},j.attr=function(dn,Ct){(dn.ownerDocument||dn)!=Vn&&Pn(dn);var Ht=it.attrHandle[Ct.toLowerCase()],on=Ht&&ge.call(it.attrHandle,Ct.toLowerCase())?Ht(dn,Ct,!qn):void 0;return on!==void 0?on:Se.attributes||!qn?dn.getAttribute(Ct):(on=dn.getAttributeNode(Ct))&&on.specified?on.value:null},j.escape=function(dn){return(dn+"").replace(kl,As)},j.error=function(dn){throw new Error("Syntax error, unrecognized expression: "+dn)},j.uniqueSort=function(dn){var Ct,Ht=[],on=0,Mn=0;if(er=!Se.detectDuplicates,In=!Se.sortStable&&dn.slice(0),dn.sort(Le),er){for(;Ct=dn[Mn++];)Ct===dn[Mn]&&(on=Ht.push(Mn));for(;on--;)dn.splice(Ht[on],1)}return In=null,dn},Pt=j.getText=function(dn){var Ct,Ht="",on=0,Mn=dn.nodeType;if(Mn){if(Mn===1||Mn===9||Mn===11){if(typeof dn.textContent=="string")return dn.textContent;for(dn=dn.firstChild;dn;dn=dn.nextSibling)Ht+=Pt(dn)}else if(Mn===3||Mn===4)return dn.nodeValue}else for(;Ct=dn[on++];)Ht+=Pt(Ct);return Ht},it=j.selectors={cacheLength:50,createPseudo:ae,match:aa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ct){return Ct[1]=Ct[1].replace(ro,go),Ct[3]=(Ct[3]||Ct[4]||Ct[5]||"").replace(ro,go),Ct[2]==="~="&&(Ct[3]=" "+Ct[3]+" "),Ct.slice(0,4)},CHILD:function(Ct){return Ct[1]=Ct[1].toLowerCase(),Ct[1].slice(0,3)==="nth"?(Ct[3]||j.error(Ct[0]),Ct[4]=+(Ct[4]?Ct[5]+(Ct[6]||1):2*(Ct[3]==="even"||Ct[3]==="odd")),Ct[5]=+(Ct[7]+Ct[8]||Ct[3]==="odd")):Ct[3]&&j.error(Ct[0]),Ct},PSEUDO:function(Ct){var Ht,on=!Ct[6]&&Ct[2];return aa.CHILD.test(Ct[0])?null:(Ct[3]?Ct[2]=Ct[4]||Ct[5]||"":on&&wl.test(on)&&(Ht=fn(on,!0))&&(Ht=on.indexOf(")",on.length-Ht)-on.length)&&(Ct[0]=Ct[0].slice(0,Ht),Ct[2]=on.slice(0,Ht)),Ct.slice(0,3))}},filter:{TAG:function(Ct){var Ht=Ct.replace(ro,go).toLowerCase();return Ct==="*"?function(){return!0}:function(on){return on.nodeName&&on.nodeName.toLowerCase()===Ht}},CLASS:function(Ct){var Ht=Gr[Ct+" "];return Ht||(Ht=new RegExp("(^|"+Qn+")"+Ct+"("+Qn+"|$)"))&&Gr(Ct,function(on){return Ht.test(typeof on.className=="string"&&on.className||_typeof(on.getAttribute)<"u"&&on.getAttribute("class")||"")})},ATTR:function(Ct,Ht,on){return function(Mn){var kn=j.attr(Mn,Ct);return kn==null?Ht==="!=":Ht?(kn+="",Ht==="="?kn===on:Ht==="!="?kn!==on:Ht==="^="?on&&kn.indexOf(on)===0:Ht==="*="?on&&kn.indexOf(on)>-1:Ht==="$="?on&&kn.slice(-on.length)===on:Ht==="~="?(" "+kn.replace(Ma," ")+" ").indexOf(on)>-1:Ht==="|="?kn===on||kn.slice(0,on.length+1)===on+"-":!1):!0}},CHILD:function(Ct,Ht,on,Mn,kn){var xn=Ct.slice(0,3)!=="nth",jn=Ct.slice(-4)!=="last",or=Ht==="of-type";return Mn===1&&kn===0?function(Xn){return!!Xn.parentNode}:function(Xn,yr,Lr){var $r,ti,ni,Fr,hi,Zi,Xr=xn!==jn?"nextSibling":"previousSibling",ua=Xn.parentNode,Sl=or&&Xn.nodeName.toLowerCase(),Ra=!Lr&&!or,Qi=!1;if(ua){if(xn){for(;Xr;){for(Fr=Xn;Fr=Fr[Xr];)if(or?Fr.nodeName.toLowerCase()===Sl:Fr.nodeType===1)return!1;Zi=Xr=Ct==="only"&&!Zi&&"nextSibling"}return!0}if(Zi=[jn?ua.firstChild:ua.lastChild],jn&&Ra){for(Fr=ua,ni=Fr[gr]||(Fr[gr]={}),ti=ni[Fr.uniqueID]||(ni[Fr.uniqueID]={}),$r=ti[Ct]||[],hi=$r[0]===Rr&&$r[1],Qi=hi&&$r[2],Fr=hi&&ua.childNodes[hi];Fr=++hi&&Fr&&Fr[Xr]||(Qi=hi=0)||Zi.pop();)if(Fr.nodeType===1&&++Qi&&Fr===Xn){ti[Ct]=[Rr,hi,Qi];break}}else if(Ra&&(Fr=Xn,ni=Fr[gr]||(Fr[gr]={}),ti=ni[Fr.uniqueID]||(ni[Fr.uniqueID]={}),$r=ti[Ct]||[],hi=$r[0]===Rr&&$r[1],Qi=hi),Qi===!1)for(;(Fr=++hi&&Fr&&Fr[Xr]||(Qi=hi=0)||Zi.pop())&&!((or?Fr.nodeName.toLowerCase()===Sl:Fr.nodeType===1)&&++Qi&&(Ra&&(ni=Fr[gr]||(Fr[gr]={}),ti=ni[Fr.uniqueID]||(ni[Fr.uniqueID]={}),ti[Ct]=[Rr,Qi]),Fr===Xn)););return Qi-=kn,Qi===Mn||Qi%Mn===0&&Qi/Mn>=0}}},PSEUDO:function(Ct,Ht){var on,Mn=it.pseudos[Ct]||it.setFilters[Ct.toLowerCase()]||j.error("unsupported pseudo: "+Ct);return Mn[gr]?Mn(Ht):Mn.length>1?(on=[Ct,Ct,"",Ht],it.setFilters.hasOwnProperty(Ct.toLowerCase())?ae(function(kn,xn){for(var jn,or=Mn(kn,Ht),Xn=or.length;Xn--;)jn=Cn(kn,or[Xn]),kn[jn]=!(xn[jn]=or[Xn])}):function(kn){return Mn(kn,0,on)}):Mn}},pseudos:{not:ae(function(dn){var Ct=[],Ht=[],on=cn(dn.replace(zo,"$1"));return on[gr]?ae(function(Mn,kn,xn,jn){for(var or,Xn=on(Mn,null,jn,[]),yr=Mn.length;yr--;)(or=Xn[yr])&&(Mn[yr]=!(kn[yr]=or))}):function(Mn,kn,xn){return Ct[0]=Mn,on(Ct,null,xn,Ht),Ct[0]=null,!Ht.pop()}}),has:ae(function(dn){return function(Ct){return j(dn,Ct).length>0}}),contains:ae(function(dn){return dn=dn.replace(ro,go),function(Ct){return(Ct.textContent||Pt(Ct)).indexOf(dn)>-1}}),lang:ae(function(dn){return oa.test(dn||"")||j.error("unsupported lang: "+dn),dn=dn.replace(ro,go).toLowerCase(),function(Ct){var Ht;do if(Ht=qn?Ct.lang:Ct.getAttribute("xml:lang")||Ct.getAttribute("lang"))return Ht=Ht.toLowerCase(),Ht===dn||Ht.indexOf(dn+"-")===0;while((Ct=Ct.parentNode)&&Ct.nodeType===1);return!1}}),target:function(Ct){var Ht=_e.location&&_e.location.hash;return Ht&&Ht.slice(1)===Ct.id},root:function(Ct){return Ct===nr},focus:function(Ct){return Ct===Vn.activeElement&&(!Vn.hasFocus||Vn.hasFocus())&&!!(Ct.type||Ct.href||~Ct.tabIndex)},enabled:Dt(!1),disabled:Dt(!0),checked:function(Ct){var Ht=Ct.nodeName.toLowerCase();return Ht==="input"&&!!Ct.checked||Ht==="option"&&!!Ct.selected},selected:function(Ct){return Ct.parentNode&&Ct.parentNode.selectedIndex,Ct.selected===!0},empty:function(Ct){for(Ct=Ct.firstChild;Ct;Ct=Ct.nextSibling)if(Ct.nodeType<6)return!1;return!0},parent:function(Ct){return!it.pseudos.empty(Ct)},header:function(Ct){return Li.test(Ct.nodeName)},input:function(Ct){return Cs.test(Ct.nodeName)},button:function(Ct){var Ht=Ct.nodeName.toLowerCase();return Ht==="input"&&Ct.type==="button"||Ht==="button"},text:function(Ct){var Ht;return Ct.nodeName.toLowerCase()==="input"&&Ct.type==="text"&&((Ht=Ct.getAttribute("type"))==null||Ht.toLowerCase()==="text")},first:tn(function(){return[0]}),last:tn(function(dn,Ct){return[Ct-1]}),eq:tn(function(dn,Ct,Ht){return[Ht<0?Ht+Ct:Ht]}),even:tn(function(dn,Ct){for(var Ht=0;Ht<Ct;Ht+=2)dn.push(Ht);return dn}),odd:tn(function(dn,Ct){for(var Ht=1;Ht<Ct;Ht+=2)dn.push(Ht);return dn}),lt:tn(function(dn,Ct,Ht){for(var on=Ht<0?Ht+Ct:Ht>Ct?Ct:Ht;--on>=0;)dn.push(on);return dn}),gt:tn(function(dn,Ct,Ht){for(var on=Ht<0?Ht+Ct:Ht;++on<Ct;)dn.push(on);return dn})}},it.pseudos.nth=it.pseudos.eq;for(ve in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})it.pseudos[ve]=at(ve);for(ve in{submit:!0,reset:!0})it.pseudos[ve]=Wt(ve);Nn.prototype=it.filters=it.pseudos,it.setFilters=new Nn,fn=j.tokenize=function(Ct,Ht){var on,Mn,kn,xn,jn,or,Xn,yr=Kr[Ct+" "];if(yr)return Ht?0:yr.slice(0);for(jn=Ct,or=[],Xn=it.preFilter;jn;){(!on||(Mn=mo.exec(jn)))&&(Mn&&(jn=jn.slice(Mn[0].length)||jn),or.push(kn=[])),on=!1,(Mn=La.exec(jn))&&(on=Mn.shift(),kn.push({value:on,type:Mn[0].replace(zo," ")}),jn=jn.slice(on.length));for(xn in it.filter)(Mn=aa[xn].exec(jn))&&(!Xn[xn]||(Mn=Xn[xn](Mn)))&&(on=Mn.shift(),kn.push({value:on,type:xn,matches:Mn}),jn=jn.slice(on.length));if(!on)break}return Ht?jn.length:jn?j.error(Ct):Kr(Ct,or).slice(0)};function Xc(dn,Ct,Ht,on,Mn,kn){return on&&!on[gr]&&(on=Xc(on)),Mn&&!Mn[gr]&&(Mn=Xc(Mn,kn)),ae(function(xn,jn,or,Xn){var yr,Lr,$r,ti=[],ni=[],Fr=jn.length,hi=xn||N(Ct||"*",or.nodeType?[or]:or,[]),Zi=dn&&(xn||!Ct)?F(hi,ti,dn,or,Xn):hi,Xr=Ht?Mn||(xn?dn:Fr||on)?[]:jn:Zi;if(Ht&&Ht(Zi,Xr,or,Xn),on)for(yr=F(Xr,ni),on(yr,[],or,Xn),Lr=yr.length;Lr--;)($r=yr[Lr])&&(Xr[ni[Lr]]=!(Zi[ni[Lr]]=$r));if(xn){if(Mn||dn){if(Mn){for(yr=[],Lr=Xr.length;Lr--;)($r=Xr[Lr])&&yr.push(Zi[Lr]=$r);Mn(null,Xr=[],yr,Xn)}for(Lr=Xr.length;Lr--;)($r=Xr[Lr])&&(yr=Mn?Cn(xn,$r):ti[Lr])>-1&&(xn[yr]=!(jn[yr]=$r))}}else Xr=F(Xr===jn?Xr.splice(Fr,Xr.length):Xr),Mn?Mn(null,jn,Xr,Xn):St.apply(jn,Xr)})}function la(dn){for(var Ct,Ht,on,Mn=dn.length,kn=it.relative[dn[0].type],xn=kn||it.relative[" "],jn=kn?1:0,or=X(function(Lr){return Lr===Ct},xn,!0),Xn=X(function(Lr){return Cn(Ct,Lr)>-1},xn,!0),yr=[function(Lr,$r,ti){var ni=!kn&&(ti||$r!==Wn)||((Ct=$r).nodeType?or(Lr,$r,ti):Xn(Lr,$r,ti));return Ct=null,ni}];jn<Mn;jn++)if(Ht=it.relative[dn[jn].type])yr=[X(L(yr),Ht)];else{if(Ht=it.filter[dn[jn].type].apply(null,dn[jn].matches),Ht[gr]){for(on=++jn;on<Mn&&!it.relative[dn[on].type];on++);return Xc(jn>1&&L(yr),jn>1&&Jt(dn.slice(0,jn-1).concat({value:dn[jn-2].type===" "?"*":""})).replace(zo,"$1"),Ht,jn<on&&la(dn.slice(jn,on)),on<Mn&&la(dn=dn.slice(on)),on<Mn&&Jt(dn))}yr.push(Ht)}return L(yr)}return cn=j.compile=function(Ct,Ht){var on,Mn=[],kn=[],xn=Nr[Ct+" "];if(!xn){for(Ht||(Ht=fn(Ct)),on=Ht.length;on--;)xn=la(Ht[on]),xn[gr]?Mn.push(xn):kn.push(xn);xn=Nr(Ct,G(kn,Mn)),xn.selector=Ct}return xn},En=j.select=function(Ct,Ht,on,Mn){var kn,xn,jn,or,Xn,yr=typeof Ct=="function"&&Ct,Lr=!Mn&&fn(Ct=yr.selector||Ct);if(on=on||[],Lr.length===1){if(xn=Lr[0]=Lr[0].slice(0),xn.length>2&&(jn=xn[0]).type==="ID"&&Ht.nodeType===9&&qn&&it.relative[xn[1].type]){if(Ht=(it.find.ID(jn.matches[0].replace(ro,go),Ht)||[])[0],Ht)yr&&(Ht=Ht.parentNode);else return on;Ct=Ct.slice(xn.shift().value.length)}for(kn=aa.needsContext.test(Ct)?0:xn.length;kn--&&(jn=xn[kn],!it.relative[or=jn.type]);)if((Xn=it.find[or])&&(Mn=Xn(jn.matches[0].replace(ro,go),_l.test(xn[0].type)&&bn(Ht.parentNode)||Ht))){if(xn.splice(kn,1),Ct=Mn.length&&Jt(xn),!Ct)return St.apply(on,Mn),on;break}}return(yr||cn(Ct,Lr))(Mn,Ht,!qn,on,!Ht||_l.test(Ct)&&bn(Ht.parentNode)||Ht),on},Se.sortStable=gr.split("").sort(Le).join("")===gr,Se.detectDuplicates=!!er,Pn(),Se.sortDetached=ke(function(dn){return dn.compareDocumentPosition(Vn.createElement("fieldset"))&1}),ke(function(dn){return dn.innerHTML="<a href='#'></a>",dn.firstChild.getAttribute("href")==="#"})||Ye("type|href|height|width",function(dn,Ct,Ht){if(!Ht)return dn.getAttribute(Ct,Ct.toLowerCase()==="type"?1:2)}),(!Se.attributes||!ke(function(dn){return dn.innerHTML="<input/>",dn.firstChild.setAttribute("value",""),dn.firstChild.getAttribute("value")===""}))&&Ye("value",function(dn,Ct,Ht){if(!Ht&&dn.nodeName.toLowerCase()==="input")return dn.defaultValue}),ke(function(dn){return dn.getAttribute("disabled")==null})||Ye(Hn,function(dn,Ct,Ht){var on;if(!Ht)return dn[Ct]===!0?Ct.toLowerCase():(on=dn.getAttributeNode(Ct))&&on.specified?on.value:null}),j}(t);Y.find=Kt,Y.expr=Kt.selectors,Y.expr[":"]=Y.expr.pseudos,Y.uniqueSort=Y.unique=Kt.uniqueSort,Y.text=Kt.getText,Y.isXMLDoc=Kt.isXML,Y.contains=Kt.contains,Y.escapeSelector=Kt.escape;var Ft=function(j,V,ae){for(var ke=[],Ye=ae!==void 0;(j=j[V])&&j.nodeType!==9;)if(j.nodeType===1){if(Ye&&Y(j).is(ae))break;ke.push(j)}return ke},Xt=function(j,V){for(var ae=[];j;j=j.nextSibling)j.nodeType===1&&j!==V&&ae.push(j);return ae},R=Y.expr.match.needsContext,nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Y.filter=function(_e,j,V){var ae=j[0];return V&&(_e=":not("+_e+")"),j.length===1&&ae.nodeType===1?Y.find.matchesSelector(ae,_e)?[ae]:[]:Y.find.matches(_e,Y.grep(j,function(ke){return ke.nodeType===1}))},Y.fn.extend({find:function(j){var V,ae,ke=this.length,Ye=this;if(typeof j!="string")return this.pushStack(Y(j).filter(function(){for(V=0;V<ke;V++)if(Y.contains(Ye[V],this))return!0}));for(ae=this.pushStack([]),V=0;V<ke;V++)Y.find(j,Ye[V],ae);return ke>1?Y.uniqueSort(ae):ae},filter:function(j){return this.pushStack(c(this,j||[],!1))},not:function(j){return this.pushStack(c(this,j||[],!0))},is:function(j){return!!c(this,typeof j=="string"&&R.test(j)?Y(j):j||[],!1).length}});var je,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,J=Y.fn.init=function(j,V,ae){var ke,Ye;if(!j)return this;if(ae=ae||je,typeof j=="string")if(j[0]==="<"&&j[j.length-1]===">"&&j.length>=3?ke=[null,j,null]:ke=ue.exec(j),ke&&(ke[1]||!V))if(ke[1]){if(V=_instanceof(V,Y)?V[0]:V,Y.merge(this,Y.parseHTML(ke[1],V&&V.nodeType?V.ownerDocument||V:qt,!0)),nt.test(ke[1])&&Y.isPlainObject(V))for(ke in V)dt(this[ke])?this[ke](V[ke]):this.attr(ke,V[ke]);return this}else return Ye=qt.getElementById(ke[2]),Ye&&(this[0]=Ye,this.length=1),this;else return!V||V.jquery?(V||ae).find(j):this.constructor(V).find(j);else{if(j.nodeType)return this[0]=j,this.length=1,this;if(dt(j))return ae.ready!==void 0?ae.ready(j):j(Y)}return Y.makeArray(j,this)};J.prototype=Y.fn,je=Y(qt);var K=/^(?:parents|prev(?:Until|All))/,Z={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({has:function(j){var V=Y(j,this),ae=V.length;return this.filter(function(){for(var ke=0;ke<ae;ke++)if(Y.contains(this,V[ke]))return!0})},closest:function(j,V){var ae,ke=0,Ye=this.length,Ke=[],at=typeof j!="string"&&Y(j);if(!R.test(j)){for(;ke<Ye;ke++)for(ae=this[ke];ae&&ae!==V;ae=ae.parentNode)if(ae.nodeType<11&&(at?at.index(ae)>-1:ae.nodeType===1&&Y.find.matchesSelector(ae,j))){Ke.push(ae);break}}return this.pushStack(Ke.length>1?Y.uniqueSort(Ke):Ke)},index:function(j){return j?typeof j=="string"?Ge.call(Y(j),this[0]):Ge.call(this,j.jquery?j[0]:j):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(j,V){return this.pushStack(Y.uniqueSort(Y.merge(this.get(),Y(j,V))))},addBack:function(j){return this.add(j==null?this.prevObject:this.prevObject.filter(j))}}),Y.each({parent:function(j){var V=j.parentNode;return V&&V.nodeType!==11?V:null},parents:function(j){return Ft(j,"parentNode")},parentsUntil:function(j,V,ae){return Ft(j,"parentNode",ae)},next:function(j){return d(j,"nextSibling")},prev:function(j){return d(j,"previousSibling")},nextAll:function(j){return Ft(j,"nextSibling")},prevAll:function(j){return Ft(j,"previousSibling")},nextUntil:function(j,V,ae){return Ft(j,"nextSibling",ae)},prevUntil:function(j,V,ae){return Ft(j,"previousSibling",ae)},siblings:function(j){return Xt((j.parentNode||{}).firstChild,j)},children:function(j){return Xt(j.firstChild)},contents:function(j){return j.contentDocument!=null&&Mt(j.contentDocument)?j.contentDocument:(r(j,"template")&&(j=j.content||j),Y.merge([],j.childNodes))}},function(_e,j){Y.fn[_e]=function(V,ae){var ke=Y.map(this,j,V);return _e.slice(-5)!=="Until"&&(ae=V),ae&&typeof ae=="string"&&(ke=Y.filter(ae,ke)),this.length>1&&(Z[_e]||Y.uniqueSort(ke),K.test(_e)&&ke.reverse()),this.pushStack(ke)}});var se=/[^\x20\t\r\n\f]+/g;Y.Callbacks=function(_e){_e=typeof _e=="string"?h(_e):Y.extend({},_e);var j,V,ae,ke,Ye=[],Ke=[],at=-1,Wt=function(){for(ke=ke||_e.once,ae=j=!0;Ke.length;at=-1)for(V=Ke.shift();++at<Ye.length;)Ye[at].apply(V[0],V[1])===!1&&_e.stopOnFalse&&(at=Ye.length,V=!1);_e.memory||(V=!1),j=!1,ke&&(V?Ye=[]:Ye="")},Dt={add:function(){return Ye&&(V&&!j&&(at=Ye.length-1,Ke.push(V)),function bn(Nn){Y.each(Nn,function(Jt,X){dt(X)?(!_e.unique||!Dt.has(X))&&Ye.push(X):X&&X.length&&s(X)!=="string"&&bn(X)})}(arguments),V&&!j&&Wt()),this},remove:function(){return Y.each(arguments,function(bn,Nn){for(var Jt;(Jt=Y.inArray(Nn,Ye,Jt))>-1;)Ye.splice(Jt,1),Jt<=at&&at--}),this},has:function(bn){return bn?Y.inArray(bn,Ye)>-1:Ye.length>0},empty:function(){return Ye&&(Ye=[]),this},disable:function(){return ke=Ke=[],Ye=V="",this},disabled:function(){return!Ye},lock:function(){return ke=Ke=[],!V&&!j&&(Ye=V=""),this},locked:function(){return!!ke},fireWith:function(bn,Nn){return ke||(Nn=Nn||[],Nn=[bn,Nn.slice?Nn.slice():Nn],Ke.push(Nn),j||Wt()),this},fire:function(){return Dt.fireWith(this,arguments),this},fired:function(){return!!ae}};return Dt},Y.extend({Deferred:function(j){var V=[["notify","progress",Y.Callbacks("memory"),Y.Callbacks("memory"),2],["resolve","done",Y.Callbacks("once memory"),Y.Callbacks("once memory"),0,"resolved"],["reject","fail",Y.Callbacks("once memory"),Y.Callbacks("once memory"),1,"rejected"]],ae="pending",ke={state:function(){return ae},always:function(){return Ye.done(arguments).fail(arguments),this},catch:function(at){return ke.then(null,at)},pipe:function(){var at=arguments;return Y.Deferred(function(Wt){Y.each(V,function(Dt,tn){var bn=dt(at[tn[4]])&&at[tn[4]];Ye[tn[1]](function(){var Nn=bn&&bn.apply(this,arguments);Nn&&dt(Nn.promise)?Nn.promise().progress(Wt.notify).done(Wt.resolve).fail(Wt.reject):Wt[tn[0]+"With"](this,bn?[Nn]:arguments)})}),at=null}).promise()},then:function(at,Wt,Dt){var tn=0;function bn(Nn,Jt,X,L){return function(){var N=this,F=arguments,G=function(){var it,Pt;if(!(Nn<tn)){if(it=X.apply(N,F),it===Jt.promise())throw new TypeError("Thenable self-resolution");Pt=it&&(typeof it=="object"||typeof it=="function")&&it.then,dt(Pt)?L?Pt.call(it,bn(tn,Jt,p,L),bn(tn,Jt,v,L)):(tn++,Pt.call(it,bn(tn,Jt,p,L),bn(tn,Jt,v,L),bn(tn,Jt,p,Jt.notifyWith))):(X!==p&&(N=void 0,F=[it]),(L||Jt.resolveWith)(N,F))}},ve=L?G:function(){try{G()}catch(Se){Y.Deferred.exceptionHook&&Y.Deferred.exceptionHook(Se,ve.stackTrace),Nn+1>=tn&&(X!==v&&(N=void 0,F=[Se]),Jt.rejectWith(N,F))}};Nn?ve():(Y.Deferred.getStackHook&&(ve.stackTrace=Y.Deferred.getStackHook()),t.setTimeout(ve))}}return Y.Deferred(function(Nn){V[0][3].add(bn(0,Nn,dt(Dt)?Dt:p,Nn.notifyWith)),V[1][3].add(bn(0,Nn,dt(at)?at:p)),V[2][3].add(bn(0,Nn,dt(Wt)?Wt:v))}).promise()},promise:function(at){return at!=null?Y.extend(at,ke):ke}},Ye={};return Y.each(V,function(Ke,at){var Wt=at[2],Dt=at[5];ke[at[1]]=Wt.add,Dt&&Wt.add(function(){ae=Dt},V[3-Ke][2].disable,V[3-Ke][3].disable,V[0][2].lock,V[0][3].lock),Wt.add(at[3].fire),Ye[at[0]]=function(){return Ye[at[0]+"With"](this===Ye?void 0:this,arguments),this},Ye[at[0]+"With"]=Wt.fireWith}),ke.promise(Ye),j&&j.call(Ye,Ye),Ye},when:function(j){var V=arguments.length,ae=V,ke=Array(ae),Ye=Ue.call(arguments),Ke=Y.Deferred(),at=function(Dt){return function(tn){ke[Dt]=this,Ye[Dt]=arguments.length>1?Ue.call(arguments):tn,--V||Ke.resolveWith(ke,Ye)}};if(V<=1&&(k(j,Ke.done(at(ae)).resolve,Ke.reject,!V),Ke.state()==="pending"||dt(Ye[ae]&&Ye[ae].then)))return Ke.then();for(;ae--;)k(Ye[ae],at(ae),Ke.reject);return Ke.promise()}});var he=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Y.Deferred.exceptionHook=function(_e,j){t.console&&t.console.warn&&_e&&he.test(_e.name)&&t.console.warn("jQuery.Deferred exception: "+_e.message,_e.stack,j)},Y.readyException=function(_e){t.setTimeout(function(){throw _e})};var Ae=Y.Deferred();Y.fn.ready=function(_e){return Ae.then(_e).catch(function(j){Y.readyException(j)}),this},Y.extend({isReady:!1,readyWait:1,ready:function(j){(j===!0?--Y.readyWait:Y.isReady)||(Y.isReady=!0,!(j!==!0&&--Y.readyWait>0)&&Ae.resolveWith(qt,[Y]))}}),Y.ready.then=Ae.then;function Te(){qt.removeEventListener("DOMContentLoaded",Te),t.removeEventListener("load",Te),Y.ready()}qt.readyState==="complete"||qt.readyState!=="loading"&&!qt.documentElement.doScroll?t.setTimeout(Y.ready):(qt.addEventListener("DOMContentLoaded",Te),t.addEventListener("load",Te));var He=function(_e,j,V,ae,ke,Ye,Ke){var at=0,Wt=_e.length,Dt=V==null;if(s(V)==="object"){ke=!0;for(at in V)He(_e,j,at,V[at],!0,Ye,Ke)}else if(ae!==void 0&&(ke=!0,dt(ae)||(Ke=!0),Dt&&(Ke?(j.call(_e,ae),j=null):(Dt=j,j=function(bn,Nn,Jt){return Dt.call(Y(bn),Jt)})),j))for(;at<Wt;at++)j(_e[at],V,Ke?ae:ae.call(_e[at],at,j(_e[at],V)));return ke?_e:Dt?j.call(_e):Wt?j(_e[0],V):Ye},qe=/^-ms-/,We=/-([a-z])/g,Je=function(j){return j.nodeType===1||j.nodeType===9||!+j.nodeType};function Tt(){this.expando=Y.expando+Tt.uid++}Tt.uid=1,Tt.prototype={cache:function(j){var V=j[this.expando];return V||(V={},Je(j)&&(j.nodeType?j[this.expando]=V:Object.defineProperty(j,this.expando,{value:V,configurable:!0}))),V},set:function(j,V,ae){var ke,Ye=this.cache(j);if(typeof V=="string")Ye[S(V)]=ae;else for(ke in V)Ye[S(ke)]=V[ke];return Ye},get:function(j,V){return V===void 0?this.cache(j):j[this.expando]&&j[this.expando][S(V)]},access:function(j,V,ae){return V===void 0||V&&typeof V=="string"&&ae===void 0?this.get(j,V):(this.set(j,V,ae),ae!==void 0?ae:V)},remove:function(j,V){var ae,ke=j[this.expando];if(ke!==void 0){if(V!==void 0)for(Array.isArray(V)?V=V.map(S):(V=S(V),V=V in ke?[V]:V.match(se)||[]),ae=V.length;ae--;)delete ke[V[ae]];(V===void 0||Y.isEmptyObject(ke))&&(j.nodeType?j[this.expando]=void 0:delete j[this.expando])}},hasData:function(j){var V=j[this.expando];return V!==void 0&&!Y.isEmptyObject(V)}};var It=new Tt,Nt=new Tt,Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/[A-Z]/g;Y.extend({hasData:function(j){return Nt.hasData(j)||It.hasData(j)},data:function(j,V,ae){return Nt.access(j,V,ae)},removeData:function(j,V){Nt.remove(j,V)},_data:function(j,V,ae){return It.access(j,V,ae)},_removeData:function(j,V){It.remove(j,V)}}),Y.fn.extend({data:function(j,V){var ae,ke,Ye,Ke=this[0],at=Ke&&Ke.attributes;if(j===void 0){if(this.length&&(Ye=Nt.get(Ke),Ke.nodeType===1&&!It.get(Ke,"hasDataAttrs"))){for(ae=at.length;ae--;)at[ae]&&(ke=at[ae].name,ke.indexOf("data-")===0&&(ke=S(ke.slice(5)),E(Ke,ke,Ye[ke])));It.set(Ke,"hasDataAttrs",!0)}return Ye}return typeof j=="object"?this.each(function(){Nt.set(this,j)}):He(this,function(Wt){var Dt;if(Ke&&Wt===void 0)return Dt=Nt.get(Ke,j),Dt!==void 0||(Dt=E(Ke,j),Dt!==void 0)?Dt:void 0;this.each(function(){Nt.set(this,j,Wt)})},null,V,arguments.length>1,null,!0)},removeData:function(j){return this.each(function(){Nt.remove(this,j)})}}),Y.extend({queue:function(j,V,ae){var ke;if(j)return V=(V||"fx")+"queue",ke=It.get(j,V),ae&&(!ke||Array.isArray(ae)?ke=It.access(j,V,Y.makeArray(ae)):ke.push(ae)),ke||[]},dequeue:function(j,V){V=V||"fx";var ae=Y.queue(j,V),ke=ae.length,Ye=ae.shift(),Ke=Y._queueHooks(j,V),at=function(){Y.dequeue(j,V)};Ye==="inprogress"&&(Ye=ae.shift(),ke--),Ye&&(V==="fx"&&ae.unshift("inprogress"),delete Ke.stop,Ye.call(j,at,Ke)),!ke&&Ke&&Ke.empty.fire()},_queueHooks:function(j,V){var ae=V+"queueHooks";return It.get(j,ae)||It.access(j,ae,{empty:Y.Callbacks("once memory").add(function(){It.remove(j,[V+"queue",ae])})})}}),Y.fn.extend({queue:function(j,V){var ae=2;return typeof j!="string"&&(V=j,j="fx",ae--),arguments.length<ae?Y.queue(this[0],j):V===void 0?this:this.each(function(){var ke=Y.queue(this,j,V);Y._queueHooks(this,j),j==="fx"&&ke[0]!=="inprogress"&&Y.dequeue(this,j)})},dequeue:function(j){return this.each(function(){Y.dequeue(this,j)})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,V){var ae,ke=1,Ye=Y.Deferred(),Ke=this,at=this.length,Wt=function(){--ke||Ye.resolveWith(Ke,[Ke])};for(typeof j!="string"&&(V=j,j=void 0),j=j||"fx";at--;)ae=It.get(Ke[at],j+"queueHooks"),ae&&ae.empty&&(ke++,ae.empty.add(Wt));return Wt(),Ye.promise(V)}});var sn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ln=new RegExp("^(?:([+-])=|)("+sn+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],rn=qt.documentElement,Qt=function(j){return Y.contains(j.ownerDocument,j)},Rn={composed:!0};rn.getRootNode&&(Qt=function(j){return Y.contains(j.ownerDocument,j)||j.getRootNode(Rn)===j.ownerDocument});var Vt=function(j,V){return j=V||j,j.style.display==="none"||j.style.display===""&&Qt(j)&&Y.css(j,"display")==="none"},ur={};Y.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(j){return typeof j=="boolean"?j?this.show():this.hide():this.each(function(){Vt(this)?Y(this).show():Y(this).hide()})}});var Dn=/^(?:checkbox|radio)$/i,tr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,en=/^$|^module$|\/(?:java|ecma)script/i;(function(){var _e=qt.createDocumentFragment(),j=_e.appendChild(qt.createElement("div")),V=qt.createElement("input");V.setAttribute("type","radio"),V.setAttribute("checked","checked"),V.setAttribute("name","t"),j.appendChild(V),Ze.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,j.innerHTML="<textarea>x</textarea>",Ze.noCloneChecked=!!j.cloneNode(!0).lastChild.defaultValue,j.innerHTML="<option></option>",Ze.option=!!j.lastChild})();var Tn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Tn.tbody=Tn.tfoot=Tn.colgroup=Tn.caption=Tn.thead,Tn.th=Tn.td,Ze.option||(Tn.optgroup=Tn.option=[1,"<select multiple='multiple'>","</select>"]);var fr=/<|&#?\w+;/,_n=/^([^.]*)(?:\.(.+)|)/;function cr(_e,j,V,ae,ke,Ye){var Ke,at;if(typeof j=="object"){typeof V!="string"&&(ae=ae||V,V=void 0);for(at in j)cr(_e,at,V,ae,j[at],Ye);return _e}if(ae==null&&ke==null?(ke=V,ae=V=void 0):ke==null&&(typeof V=="string"?(ke=ae,ae=void 0):(ke=ae,ae=V,V=void 0)),ke===!1)ke=w;else if(!ke)return _e;return Ye===1&&(Ke=ke,ke=function(Dt){return Y().off(Dt),Ke.apply(this,arguments)},ke.guid=Ke.guid||(Ke.guid=Y.guid++)),_e.each(function(){Y.event.add(this,j,ke,ae,V)})}Y.event={global:{},add:function(j,V,ae,ke,Ye){var Ke,at,Wt,Dt,tn,bn,Nn,Jt,X,L,N,F=It.get(j);if(Je(j))for(ae.handler&&(Ke=ae,ae=Ke.handler,Ye=Ke.selector),Ye&&Y.find.matchesSelector(rn,Ye),ae.guid||(ae.guid=Y.guid++),(Dt=F.events)||(Dt=F.events=Object.create(null)),(at=F.handle)||(at=F.handle=function(ve){return(typeof Y=="undefined"?"undefined":_typeof(Y))<"u"&&Y.event.triggered!==ve.type?Y.event.dispatch.apply(j,arguments):void 0}),V=(V||"").match(se)||[""],tn=V.length;tn--;)Wt=_n.exec(V[tn])||[],X=N=Wt[1],L=(Wt[2]||"").split(".").sort(),X&&(Nn=Y.event.special[X]||{},X=(Ye?Nn.delegateType:Nn.bindType)||X,Nn=Y.event.special[X]||{},bn=Y.extend({type:X,origType:N,data:ke,handler:ae,guid:ae.guid,selector:Ye,needsContext:Ye&&Y.expr.match.needsContext.test(Ye),namespace:L.join(".")},Ke),(Jt=Dt[X])||(Jt=Dt[X]=[],Jt.delegateCount=0,(!Nn.setup||Nn.setup.call(j,ke,L,at)===!1)&&j.addEventListener&&j.addEventListener(X,at)),Nn.add&&(Nn.add.call(j,bn),bn.handler.guid||(bn.handler.guid=ae.guid)),Ye?Jt.splice(Jt.delegateCount++,0,bn):Jt.push(bn),Y.event.global[X]=!0)},remove:function(j,V,ae,ke,Ye){var Ke,at,Wt,Dt,tn,bn,Nn,Jt,X,L,N,F=It.hasData(j)&&It.get(j);if(!(!F||!(Dt=F.events))){for(V=(V||"").match(se)||[""],tn=V.length;tn--;){if(Wt=_n.exec(V[tn])||[],X=N=Wt[1],L=(Wt[2]||"").split(".").sort(),!X){for(X in Dt)Y.event.remove(j,X+V[tn],ae,ke,!0);continue}for(Nn=Y.event.special[X]||{},X=(ke?Nn.delegateType:Nn.bindType)||X,Jt=Dt[X]||[],Wt=Wt[2]&&new RegExp("(^|\\.)"+L.join("\\.(?:.*\\.|)")+"(\\.|$)"),at=Ke=Jt.length;Ke--;)bn=Jt[Ke],(Ye||N===bn.origType)&&(!ae||ae.guid===bn.guid)&&(!Wt||Wt.test(bn.namespace))&&(!ke||ke===bn.selector||ke==="**"&&bn.selector)&&(Jt.splice(Ke,1),bn.selector&&Jt.delegateCount--,Nn.remove&&Nn.remove.call(j,bn));at&&!Jt.length&&((!Nn.teardown||Nn.teardown.call(j,L,F.handle)===!1)&&Y.removeEvent(j,X,F.handle),delete Dt[X])}Y.isEmptyObject(Dt)&&It.remove(j,"handle events")}},dispatch:function(j){var V,ae,ke,Ye,Ke,at,Wt=new Array(arguments.length),Dt=Y.event.fix(j),tn=(It.get(this,"events")||Object.create(null))[Dt.type]||[],bn=Y.event.special[Dt.type]||{};for(Wt[0]=Dt,V=1;V<arguments.length;V++)Wt[V]=arguments[V];if(Dt.delegateTarget=this,!(bn.preDispatch&&bn.preDispatch.call(this,Dt)===!1)){for(at=Y.event.handlers.call(this,Dt,tn),V=0;(Ye=at[V++])&&!Dt.isPropagationStopped();)for(Dt.currentTarget=Ye.elem,ae=0;(Ke=Ye.handlers[ae++])&&!Dt.isImmediatePropagationStopped();)(!Dt.rnamespace||Ke.namespace===!1||Dt.rnamespace.test(Ke.namespace))&&(Dt.handleObj=Ke,Dt.data=Ke.data,ke=((Y.event.special[Ke.origType]||{}).handle||Ke.handler).apply(Ye.elem,Wt),ke!==void 0&&(Dt.result=ke)===!1&&(Dt.preventDefault(),Dt.stopPropagation()));return bn.postDispatch&&bn.postDispatch.call(this,Dt),Dt.result}},handlers:function(j,V){var ae,ke,Ye,Ke,at,Wt=[],Dt=V.delegateCount,tn=j.target;if(Dt&&tn.nodeType&&!(j.type==="click"&&j.button>=1)){for(;tn!==this;tn=tn.parentNode||this)if(tn.nodeType===1&&!(j.type==="click"&&tn.disabled===!0)){for(Ke=[],at={},ae=0;ae<Dt;ae++)ke=V[ae],Ye=ke.selector+" ",at[Ye]===void 0&&(at[Ye]=ke.needsContext?Y(Ye,this).index(tn)>-1:Y.find(Ye,this,null,[tn]).length),at[Ye]&&Ke.push(ke);Ke.length&&Wt.push({elem:tn,handlers:Ke})}}return tn=this,Dt<V.length&&Wt.push({elem:tn,handlers:V.slice(Dt)}),Wt},addProp:function(j,V){Object.defineProperty(Y.Event.prototype,j,{enumerable:!0,configurable:!0,get:dt(V)?function(){if(this.originalEvent)return V(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[j]},set:function(ke){Object.defineProperty(this,j,{enumerable:!0,configurable:!0,writable:!0,value:ke})}})},fix:function(j){return j[Y.expando]?j:new Y.Event(j)},special:{load:{noBubble:!0},click:{setup:function(j){var V=this||j;return Dn.test(V.type)&&V.click&&r(V,"input")&&I(V,"click",y),!1},trigger:function(j){var V=this||j;return Dn.test(V.type)&&V.click&&r(V,"input")&&I(V,"click"),!0},_default:function(j){var V=j.target;return Dn.test(V.type)&&V.click&&r(V,"input")&&It.get(V,"click")||r(V,"a")}},beforeunload:{postDispatch:function(j){j.result!==void 0&&j.originalEvent&&(j.originalEvent.returnValue=j.result)}}}},Y.removeEvent=function(_e,j,V){_e.removeEventListener&&_e.removeEventListener(j,V)},Y.Event=function(_e,j){if(!_instanceof(this,Y.Event))return new Y.Event(_e,j);_e&&_e.type?(this.originalEvent=_e,this.type=_e.type,this.isDefaultPrevented=_e.defaultPrevented||_e.defaultPrevented===void 0&&_e.returnValue===!1?y:w,this.target=_e.target&&_e.target.nodeType===3?_e.target.parentNode:_e.target,this.currentTarget=_e.currentTarget,this.relatedTarget=_e.relatedTarget):this.type=_e,j&&Y.extend(this,j),this.timeStamp=_e&&_e.timeStamp||Date.now(),this[Y.expando]=!0},Y.Event.prototype={constructor:Y.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var j=this.originalEvent;this.isDefaultPrevented=y,j&&!this.isSimulated&&j.preventDefault()},stopPropagation:function(){var j=this.originalEvent;this.isPropagationStopped=y,j&&!this.isSimulated&&j.stopPropagation()},stopImmediatePropagation:function(){var j=this.originalEvent;this.isImmediatePropagationStopped=y,j&&!this.isSimulated&&j.stopImmediatePropagation(),this.stopPropagation()}},Y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Y.event.addProp),Y.each({focus:"focusin",blur:"focusout"},function(_e,j){Y.event.special[_e]={setup:function(){return I(this,_e,C),!1},trigger:function(){return I(this,_e),!0},_default:function(ae){return It.get(ae.target,_e)},delegateType:j}}),Y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(_e,j){Y.event.special[_e]={delegateType:j,bindType:j,handle:function(ae){var ke,Ye=this,Ke=ae.relatedTarget,at=ae.handleObj;return(!Ke||Ke!==Ye&&!Y.contains(Ye,Ke))&&(ae.type=at.origType,ke=at.handler.apply(this,arguments),ae.type=j),ke}}}),Y.fn.extend({on:function(j,V,ae,ke){return cr(this,j,V,ae,ke)},one:function(j,V,ae,ke){return cr(this,j,V,ae,ke,1)},off:function(j,V,ae){var ke,Ye;if(j&&j.preventDefault&&j.handleObj)return ke=j.handleObj,Y(j.delegateTarget).off(ke.namespace?ke.origType+"."+ke.namespace:ke.origType,ke.selector,ke.handler),this;if(typeof j=="object"){for(Ye in j)this.off(Ye,V,j[Ye]);return this}return(V===!1||typeof V=="function")&&(ae=V,V=void 0),ae===!1&&(ae=w),this.each(function(){Y.event.remove(this,j,ae,V)})}});var Pe=/<script|<style|<link/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ht(_e,j,V,ae){j=Be(j);var ke,Ye,Ke,at,Wt,Dt,tn=0,bn=_e.length,Nn=bn-1,Jt=j[0],X=dt(Jt);if(X||bn>1&&typeof Jt=="string"&&!Ze.checkClone&&re.test(Jt))return _e.each(function(L){var N=_e.eq(L);X&&(j[0]=Jt.call(this,L,N.html())),ht(N,j,V,ae)});if(bn&&(ke=m(j,_e[0].ownerDocument,!1,_e,ae),Ye=ke.firstChild,ke.childNodes.length===1&&(ke=Ye),Ye||ae)){for(Ke=Y.map(u(ke,"script"),z),at=Ke.length;tn<bn;tn++)Wt=ke,tn!==Nn&&(Wt=Y.clone(Wt,!0,!0),at&&Y.merge(Ke,u(Wt,"script"))),V.call(_e[tn],Wt,tn);if(at)for(Dt=Ke[Ke.length-1].ownerDocument,Y.map(Ke,Q),tn=0;tn<at;tn++)Wt=Ke[tn],en.test(Wt.type||"")&&!It.access(Wt,"globalEval")&&Y.contains(Dt,Wt)&&(Wt.src&&(Wt.type||"").toLowerCase()!=="module"?Y._evalUrl&&!Wt.noModule&&Y._evalUrl(Wt.src,{nonce:Wt.nonce||Wt.getAttribute("nonce")},Dt):l(Wt.textContent.replace(Ce,""),Wt,Dt))}return _e}Y.extend({htmlPrefilter:function(j){return j},clone:function(j,V,ae){var ke,Ye,Ke,at,Wt=j.cloneNode(!0),Dt=Qt(j);if(!Ze.noCloneChecked&&(j.nodeType===1||j.nodeType===11)&&!Y.isXMLDoc(j))for(at=u(Wt),Ke=u(j),ke=0,Ye=Ke.length;ke<Ye;ke++)me(Ke[ke],at[ke]);if(V)if(ae)for(Ke=Ke||u(j),at=at||u(Wt),ke=0,Ye=Ke.length;ke<Ye;ke++)W(Ke[ke],at[ke]);else W(j,Wt);return at=u(Wt,"script"),at.length>0&&f(at,!Dt&&u(j,"script")),Wt},cleanData:function(j){for(var V,ae,ke,Ye=Y.event.special,Ke=0;(ae=j[Ke])!==void 0;Ke++)if(Je(ae)){if(V=ae[It.expando]){if(V.events)for(ke in V.events)Ye[ke]?Y.event.remove(ae,ke):Y.removeEvent(ae,ke,V.handle);ae[It.expando]=void 0}ae[Nt.expando]&&(ae[Nt.expando]=void 0)}}}),Y.fn.extend({detach:function(j){return oe(this,j,!0)},remove:function(j){return oe(this,j)},text:function(j){return He(this,function(V){return V===void 0?Y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=V)})},null,j,arguments.length)},append:function(){return ht(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var V=D(this,j);V.appendChild(j)}})},prepend:function(){return ht(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var V=D(this,j);V.insertBefore(j,V.firstChild)}})},before:function(){return ht(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this)})},after:function(){return ht(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this.nextSibling)})},empty:function(){for(var j,V=0;(j=this[V])!=null;V++)j.nodeType===1&&(Y.cleanData(u(j,!1)),j.textContent="");return this},clone:function(j,V){return j=j!=null?j:!1,V=V!=null?V:j,this.map(function(){return Y.clone(this,j,V)})},html:function(j){return He(this,function(V){var ae=this[0]||{},ke=0,Ye=this.length;if(V===void 0&&ae.nodeType===1)return ae.innerHTML;if(typeof V=="string"&&!Pe.test(V)&&!Tn[(tr.exec(V)||["",""])[1].toLowerCase()]){V=Y.htmlPrefilter(V);try{for(;ke<Ye;ke++)ae=this[ke]||{},ae.nodeType===1&&(Y.cleanData(u(ae,!1)),ae.innerHTML=V);ae=0}catch(Ke){}}ae&&this.empty().append(V)},null,j,arguments.length)},replaceWith:function(){var j=[];return ht(this,arguments,function(V){var ae=this.parentNode;Y.inArray(this,j)<0&&(Y.cleanData(u(this)),ae&&ae.replaceChild(V,this))},j)}}),Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(_e,j){Y.fn[_e]=function(V){for(var ae,ke=[],Ye=Y(V),Ke=Ye.length-1,at=0;at<=Ke;at++)ae=at===Ke?this:this.clone(!0),Y(Ye[at])[j](ae),et.apply(ke,ae.get());return this.pushStack(ke)}});var At=new RegExp("^("+sn+")(?!px)[a-z%]+$","i"),yt=/^--/,gn=function(j){var V=j.ownerDocument.defaultView;return(!V||!V.opener)&&(V=t),V.getComputedStyle(j)},An=function(j,V,ae){var ke,Ye,Ke={};for(Ye in V)Ke[Ye]=j.style[Ye],j.style[Ye]=V[Ye];ke=ae.call(j);for(Ye in V)j.style[Ye]=Ke[Ye];return ke},$n=new RegExp(jt.join("|"),"i"),sr="[\\x20\\t\\r\\n\\f]",ar=new RegExp("^"+sr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+sr+"+$","g");(function(){var _e=function(){if(Dt){Wt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Dt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rn.appendChild(Wt).appendChild(Dt);var bn=t.getComputedStyle(Dt);V=bn.top!=="1%",at=j(bn.marginLeft)===12,Dt.style.right="60%",Ye=j(bn.right)===36,ae=j(bn.width)===36,Dt.style.position="absolute",ke=j(Dt.offsetWidth/3)===12,rn.removeChild(Wt),Dt=null}},j=function(bn){return Math.round(parseFloat(bn))},V,ae,ke,Ye,Ke,at,Wt=qt.createElement("div"),Dt=qt.createElement("div");Dt.style&&(Dt.style.backgroundClip="content-box",Dt.cloneNode(!0).style.backgroundClip="",Ze.clearCloneStyle=Dt.style.backgroundClip==="content-box",Y.extend(Ze,{boxSizingReliable:function(){return _e(),ae},pixelBoxStyles:function(){return _e(),Ye},pixelPosition:function(){return _e(),V},reliableMarginLeft:function(){return _e(),at},scrollboxSize:function(){return _e(),ke},reliableTrDimensions:function(){var bn,Nn,Jt,X;return Ke==null&&(bn=qt.createElement("table"),Nn=qt.createElement("tr"),Jt=qt.createElement("div"),bn.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Nn.style.cssText="border:1px solid",Nn.style.height="1px",Jt.style.height="9px",Jt.style.display="block",rn.appendChild(bn).appendChild(Nn).appendChild(Jt),X=t.getComputedStyle(Nn),Ke=parseInt(X.height,10)+parseInt(X.borderTopWidth,10)+parseInt(X.borderBottomWidth,10)===Nn.offsetHeight,rn.removeChild(bn)),Ke}}))})();var Ar=["Webkit","Moz","ms"],yi=qt.createElement("div").style,ki={},wi=/^(none|table(?!-c[ea]).+)/,pt={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};Y.extend({cssHooks:{opacity:{get:function(j,V){if(V){var ae=q(j,"opacity");return ae===""?"1":ae}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(j,V,ae,ke){if(!(!j||j.nodeType===3||j.nodeType===8||!j.style)){var Ye,Ke,at,Wt=S(V),Dt=yt.test(V),tn=j.style;if(Dt||(V=ie(Wt)),at=Y.cssHooks[V]||Y.cssHooks[Wt],ae!==void 0){if(Ke=typeof ae=="undefined"?"undefined":_typeof(ae),Ke==="string"&&(Ye=ln.exec(ae))&&Ye[1]&&(ae=O(j,V,Ye),Ke="number"),ae==null||ae!==ae)return;Ke==="number"&&!Dt&&(ae+=Ye&&Ye[3]||(Y.cssNumber[Wt]?"":"px")),!Ze.clearCloneStyle&&ae===""&&V.indexOf("background")===0&&(tn[V]="inherit"),(!at||!("set"in at)||(ae=at.set(j,ae,ke))!==void 0)&&(Dt?tn.setProperty(V,ae):tn[V]=ae)}else return at&&"get"in at&&(Ye=at.get(j,!1,ke))!==void 0?Ye:tn[V]}},css:function(j,V,ae,ke){var Ye,Ke,at,Wt=S(V),Dt=yt.test(V);return Dt||(V=ie(Wt)),at=Y.cssHooks[V]||Y.cssHooks[Wt],at&&"get"in at&&(Ye=at.get(j,!0,ae)),Ye===void 0&&(Ye=q(j,V,ke)),Ye==="normal"&&V in tt&&(Ye=tt[V]),ae===""||ae?(Ke=parseFloat(Ye),ae===!0||isFinite(Ke)?Ke||0:Ye):Ye}}),Y.each(["height","width"],function(_e,j){Y.cssHooks[j]={get:function(ae,ke,Ye){if(ke)return wi.test(Y.css(ae,"display"))&&(!ae.getClientRects().length||!ae.getBoundingClientRect().width)?An(ae,pt,function(){return Ee(ae,j,Ye)}):Ee(ae,j,Ye)},set:function(ae,ke,Ye){var Ke,at=gn(ae),Wt=!Ze.scrollboxSize()&&at.position==="absolute",Dt=Wt||Ye,tn=Dt&&Y.css(ae,"boxSizing",!1,at)==="border-box",bn=Ye?ye(ae,j,Ye,tn,at):0;return tn&&Wt&&(bn-=Math.ceil(ae["offset"+j[0].toUpperCase()+j.slice(1)]-parseFloat(at[j])-ye(ae,j,"border",!1,at)-.5)),bn&&(Ke=ln.exec(ke))&&(Ke[3]||"px")!=="px"&&(ae.style[j]=ke,ke=Y.css(ae,j)),le(ae,ke,bn)}}}),Y.cssHooks.marginLeft=ee(Ze.reliableMarginLeft,function(_e,j){if(j)return(parseFloat(q(_e,"marginLeft"))||_e.getBoundingClientRect().left-An(_e,{marginLeft:0},function(){return _e.getBoundingClientRect().left}))+"px"}),Y.each({margin:"",padding:"",border:"Width"},function(_e,j){Y.cssHooks[_e+j]={expand:function(ae){for(var ke=0,Ye={},Ke=typeof ae=="string"?ae.split(" "):[ae];ke<4;ke++)Ye[_e+jt[ke]+j]=Ke[ke]||Ke[ke-2]||Ke[0];return Ye}},_e!=="margin"&&(Y.cssHooks[_e+j].set=le)}),Y.fn.extend({css:function(j,V){return He(this,function(ae,ke,Ye){var Ke,at,Wt={},Dt=0;if(Array.isArray(ke)){for(Ke=gn(ae),at=ke.length;Dt<at;Dt++)Wt[ke[Dt]]=Y.css(ae,ke[Dt],!1,Ke);return Wt}return Ye!==void 0?Y.style(ae,ke,Ye):Y.css(ae,ke)},j,V,arguments.length>1)}});function mt(_e,j,V,ae,ke){return new mt.prototype.init(_e,j,V,ae,ke)}Y.Tween=mt,mt.prototype={constructor:mt,init:function(j,V,ae,ke,Ye,Ke){this.elem=j,this.prop=ae,this.easing=Ye||Y.easing._default,this.options=V,this.start=this.now=this.cur(),this.end=ke,this.unit=Ke||(Y.cssNumber[ae]?"":"px")},cur:function(){var j=mt.propHooks[this.prop];return j&&j.get?j.get(this):mt.propHooks._default.get(this)},run:function(j){var V,ae=mt.propHooks[this.prop];return this.options.duration?this.pos=V=Y.easing[this.easing](j,this.options.duration*j,0,1,this.options.duration):this.pos=V=j,this.now=(this.end-this.start)*V+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ae&&ae.set?ae.set(this):mt.propHooks._default.set(this),this}},mt.prototype.init.prototype=mt.prototype,mt.propHooks={_default:{get:function(j){var V;return j.elem.nodeType!==1||j.elem[j.prop]!=null&&j.elem.style[j.prop]==null?j.elem[j.prop]:(V=Y.css(j.elem,j.prop,""),!V||V==="auto"?0:V)},set:function(j){Y.fx.step[j.prop]?Y.fx.step[j.prop](j):j.elem.nodeType===1&&(Y.cssHooks[j.prop]||j.elem.style[ie(j.prop)]!=null)?Y.style(j.elem,j.prop,j.now+j.unit):j.elem[j.prop]=j.now}}},mt.propHooks.scrollTop=mt.propHooks.scrollLeft={set:function(j){j.elem.nodeType&&j.elem.parentNode&&(j.elem[j.prop]=j.now)}},Y.easing={linear:function(j){return j},swing:function(j){return .5-Math.cos(j*Math.PI)/2},_default:"swing"},Y.fx=mt.prototype.init,Y.fx.step={};var un,hn,Un=/^(?:toggle|show|hide)$/,dr=/queueHooks$/;function Or(){hn&&(qt.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Or):t.setTimeout(Or,Y.fx.interval),Y.fx.tick())}function Ln(_e,j,V){var ae,ke,Ye=0,Ke=Ln.prefilters.length,at=Y.Deferred().always(function(){delete Wt.elem}),Wt=function(){if(ke)return!1;for(var Nn=un||fe(),Jt=Math.max(0,Dt.startTime+Dt.duration-Nn),X=Jt/Dt.duration||0,L=1-X,N=0,F=Dt.tweens.length;N<F;N++)Dt.tweens[N].run(L);return at.notifyWith(_e,[Dt,L,Jt]),L<1&&F?Jt:(F||at.notifyWith(_e,[Dt,1,0]),at.resolveWith(_e,[Dt]),!1)},Dt=at.promise({elem:_e,props:Y.extend({},j),opts:Y.extend(!0,{specialEasing:{},easing:Y.easing._default},V),originalProperties:j,originalOptions:V,startTime:un||fe(),duration:V.duration,tweens:[],createTween:function(Nn,Jt){var X=Y.Tween(_e,Dt.opts,Nn,Jt,Dt.opts.specialEasing[Nn]||Dt.opts.easing);return Dt.tweens.push(X),X},stop:function(Nn){var Jt=0,X=Nn?Dt.tweens.length:0;if(ke)return this;for(ke=!0;Jt<X;Jt++)Dt.tweens[Jt].run(1);return Nn?(at.notifyWith(_e,[Dt,1,0]),at.resolveWith(_e,[Dt,Nn])):at.rejectWith(_e,[Dt,Nn]),this}}),tn=Dt.props;for(_t(tn,Dt.opts.specialEasing);Ye<Ke;Ye++)if(ae=Ln.prefilters[Ye].call(Dt,_e,tn,Dt.opts),ae)return dt(ae.stop)&&(Y._queueHooks(Dt.elem,Dt.opts.queue).stop=ae.stop.bind(ae)),ae;return Y.map(tn,ct,Dt),dt(Dt.opts.start)&&Dt.opts.start.call(_e,Dt),Dt.progress(Dt.opts.progress).done(Dt.opts.done,Dt.opts.complete).fail(Dt.opts.fail).always(Dt.opts.always),Y.fx.timer(Y.extend(Wt,{elem:_e,anim:Dt,queue:Dt.opts.queue})),Dt}Y.Animation=Y.extend(Ln,{tweeners:{"*":[function(_e,j){var V=this.createTween(_e,j);return O(V.elem,_e,ln.exec(j),V),V}]},tweener:function(j,V){dt(j)?(V=j,j=["*"]):j=j.match(se);for(var ae,ke=0,Ye=j.length;ke<Ye;ke++)ae=j[ke],Ln.tweeners[ae]=Ln.tweeners[ae]||[],Ln.tweeners[ae].unshift(V)},prefilters:[Ot],prefilter:function(j,V){V?Ln.prefilters.unshift(j):Ln.prefilters.push(j)}}),Y.speed=function(_e,j,V){var ae=_e&&typeof _e=="object"?Y.extend({},_e):{complete:V||!V&&j||dt(_e)&&_e,duration:_e,easing:V&&j||j&&!dt(j)&&j};return Y.fx.off?ae.duration=0:typeof ae.duration!="number"&&(ae.duration in Y.fx.speeds?ae.duration=Y.fx.speeds[ae.duration]:ae.duration=Y.fx.speeds._default),(ae.queue==null||ae.queue===!0)&&(ae.queue="fx"),ae.old=ae.complete,ae.complete=function(){dt(ae.old)&&ae.old.call(this),ae.queue&&Y.dequeue(this,ae.queue)},ae},Y.fn.extend({fadeTo:function(j,V,ae,ke){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:V},j,ae,ke)},animate:function(j,V,ae,ke){var Ye=Y.isEmptyObject(j),Ke=Y.speed(V,ae,ke),at=function(){var Dt=Ln(this,Y.extend({},j),Ke);(Ye||It.get(this,"finish"))&&Dt.stop(!0)};return at.finish=at,Ye||Ke.queue===!1?this.each(at):this.queue(Ke.queue,at)},stop:function(j,V,ae){var ke=function(Ke){var at=Ke.stop;delete Ke.stop,at(ae)};return typeof j!="string"&&(ae=V,V=j,j=void 0),V&&this.queue(j||"fx",[]),this.each(function(){var Ye=!0,Ke=j!=null&&j+"queueHooks",at=Y.timers,Wt=It.get(this);if(Ke)Wt[Ke]&&Wt[Ke].stop&&ke(Wt[Ke]);else for(Ke in Wt)Wt[Ke]&&Wt[Ke].stop&&dr.test(Ke)&&ke(Wt[Ke]);for(Ke=at.length;Ke--;)at[Ke].elem===this&&(j==null||at[Ke].queue===j)&&(at[Ke].anim.stop(ae),Ye=!1,at.splice(Ke,1));(Ye||!ae)&&Y.dequeue(this,j)})},finish:function(j){return j!==!1&&(j=j||"fx"),this.each(function(){var V,ae=It.get(this),ke=ae[j+"queue"],Ye=ae[j+"queueHooks"],Ke=Y.timers,at=ke?ke.length:0;for(ae.finish=!0,Y.queue(this,j,[]),Ye&&Ye.stop&&Ye.stop.call(this,!0),V=Ke.length;V--;)Ke[V].elem===this&&Ke[V].queue===j&&(Ke[V].anim.stop(!0),Ke.splice(V,1));for(V=0;V<at;V++)ke[V]&&ke[V].finish&&ke[V].finish.call(this);delete ae.finish})}}),Y.each(["toggle","show","hide"],function(_e,j){var V=Y.fn[j];Y.fn[j]=function(ae,ke,Ye){return ae==null||typeof ae=="boolean"?V.apply(this,arguments):this.animate(rt(j,!0),ae,ke,Ye)}}),Y.each({slideDown:rt("show"),slideUp:rt("hide"),slideToggle:rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(_e,j){Y.fn[_e]=function(V,ae,ke){return this.animate(j,V,ae,ke)}}),Y.timers=[],Y.fx.tick=function(){var _e,j=0,V=Y.timers;for(un=Date.now();j<V.length;j++)_e=V[j],!_e()&&V[j]===_e&&V.splice(j--,1);V.length||Y.fx.stop(),un=void 0},Y.fx.timer=function(_e){Y.timers.push(_e),Y.fx.start()},Y.fx.interval=13,Y.fx.start=function(){hn||(hn=!0,Or())},Y.fx.stop=function(){hn=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fn.delay=function(_e,j){return _e=Y.fx&&Y.fx.speeds[_e]||_e,j=j||"fx",this.queue(j,function(V,ae){var ke=t.setTimeout(V,_e);ae.stop=function(){t.clearTimeout(ke)}})},function(){var _e=qt.createElement("input"),j=qt.createElement("select"),V=j.appendChild(qt.createElement("option"));_e.type="checkbox",Ze.checkOn=_e.value!=="",Ze.optSelected=V.selected,_e=qt.createElement("input"),_e.value="t",_e.type="radio",Ze.radioValue=_e.value==="t"}();var ai,oi=Y.expr.attrHandle;Y.fn.extend({attr:function(j,V){return He(this,Y.attr,j,V,arguments.length>1)},removeAttr:function(j){return this.each(function(){Y.removeAttr(this,j)})}}),Y.extend({attr:function(j,V,ae){var ke,Ye,Ke=j.nodeType;if(!(Ke===3||Ke===8||Ke===2)){if(_typeof(j.getAttribute)>"u")return Y.prop(j,V,ae);if((Ke!==1||!Y.isXMLDoc(j))&&(Ye=Y.attrHooks[V.toLowerCase()]||(Y.expr.match.bool.test(V)?ai:void 0)),ae!==void 0){if(ae===null){Y.removeAttr(j,V);return}return Ye&&"set"in Ye&&(ke=Ye.set(j,ae,V))!==void 0?ke:(j.setAttribute(V,ae+""),ae)}return Ye&&"get"in Ye&&(ke=Ye.get(j,V))!==null?ke:(ke=Y.find.attr(j,V),ke!=null?ke:void 0)}},attrHooks:{type:{set:function(j,V){if(!Ze.radioValue&&V==="radio"&&r(j,"input")){var ae=j.value;return j.setAttribute("type",V),ae&&(j.value=ae),V}}}},removeAttr:function(j,V){var ae,ke=0,Ye=V&&V.match(se);if(Ye&&j.nodeType===1)for(;ae=Ye[ke++];)j.removeAttribute(ae)}}),ai={set:function(j,V,ae){return V===!1?Y.removeAttr(j,ae):j.setAttribute(ae,ae),ae}},Y.each(Y.expr.match.bool.source.match(/\w+/g),function(_e,j){var V=oi[j]||Y.find.attr;oi[j]=function(ae,ke,Ye){var Ke,at,Wt=ke.toLowerCase();return Ye||(at=oi[Wt],oi[Wt]=Ke,Ke=V(ae,ke,Ye)!=null?Wt:null,oi[Wt]=at),Ke}});var Hr=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;Y.fn.extend({prop:function(j,V){return He(this,Y.prop,j,V,arguments.length>1)},removeProp:function(j){return this.each(function(){delete this[Y.propFix[j]||j]})}}),Y.extend({prop:function(j,V,ae){var ke,Ye,Ke=j.nodeType;if(!(Ke===3||Ke===8||Ke===2))return(Ke!==1||!Y.isXMLDoc(j))&&(V=Y.propFix[V]||V,Ye=Y.propHooks[V]),ae!==void 0?Ye&&"set"in Ye&&(ke=Ye.set(j,ae,V))!==void 0?ke:j[V]=ae:Ye&&"get"in Ye&&(ke=Ye.get(j,V))!==null?ke:j[V]},propHooks:{tabIndex:{get:function(j){var V=Y.find.attr(j,"tabindex");return V?parseInt(V,10):Hr.test(j.nodeName)||pe.test(j.nodeName)&&j.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ze.optSelected||(Y.propHooks.selected={get:function(j){var V=j.parentNode;return V&&V.parentNode&&V.parentNode.selectedIndex,null},set:function(j){var V=j.parentNode;V&&(V.selectedIndex,V.parentNode&&V.parentNode.selectedIndex)}}),Y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Y.propFix[this.toLowerCase()]=this}),Y.fn.extend({addClass:function(j){var V,ae,ke,Ye,Ke,at;return dt(j)?this.each(function(Wt){Y(this).addClass(j.call(this,Wt,be(this)))}):(V=Xe(j),V.length?this.each(function(){if(ke=be(this),ae=this.nodeType===1&&" "+De(ke)+" ",ae){for(Ke=0;Ke<V.length;Ke++)Ye=V[Ke],ae.indexOf(" "+Ye+" ")<0&&(ae+=Ye+" ");at=De(ae),ke!==at&&this.setAttribute("class",at)}}):this)},removeClass:function(j){var V,ae,ke,Ye,Ke,at;return dt(j)?this.each(function(Wt){Y(this).removeClass(j.call(this,Wt,be(this)))}):arguments.length?(V=Xe(j),V.length?this.each(function(){if(ke=be(this),ae=this.nodeType===1&&" "+De(ke)+" ",ae){for(Ke=0;Ke<V.length;Ke++)for(Ye=V[Ke];ae.indexOf(" "+Ye+" ")>-1;)ae=ae.replace(" "+Ye+" "," ");at=De(ae),ke!==at&&this.setAttribute("class",at)}}):this):this.attr("class","")},toggleClass:function(j,V){var ae,ke,Ye,Ke,at=typeof j=="undefined"?"undefined":_typeof(j),Wt=at==="string"||Array.isArray(j);return dt(j)?this.each(function(Dt){Y(this).toggleClass(j.call(this,Dt,be(this),V),V)}):typeof V=="boolean"&&Wt?V?this.addClass(j):this.removeClass(j):(ae=Xe(j),this.each(function(){if(Wt)for(Ke=Y(this),Ye=0;Ye<ae.length;Ye++)ke=ae[Ye],Ke.hasClass(ke)?Ke.removeClass(ke):Ke.addClass(ke);else(j===void 0||at==="boolean")&&(ke=be(this),ke&&It.set(this,"__className__",ke),this.setAttribute&&this.setAttribute("class",ke||j===!1?"":It.get(this,"__className__")||""))}))},hasClass:function(j){var V,ae,ke=0;for(V=" "+j+" ";ae=this[ke++];)if(ae.nodeType===1&&(" "+De(be(ae))+" ").indexOf(V)>-1)return!0;return!1}});var Yi=/\r/g;Y.fn.extend({val:function(j){var V,ae,ke,Ye=this[0];return arguments.length?(ke=dt(j),this.each(function(Ke){var at;this.nodeType===1&&(ke?at=j.call(this,Ke,Y(this).val()):at=j,at==null?at="":typeof at=="number"?at+="":Array.isArray(at)&&(at=Y.map(at,function(Wt){return Wt==null?"":Wt+""})),V=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()],(!V||!("set"in V)||V.set(this,at,"value")===void 0)&&(this.value=at))})):Ye?(V=Y.valHooks[Ye.type]||Y.valHooks[Ye.nodeName.toLowerCase()],V&&"get"in V&&(ae=V.get(Ye,"value"))!==void 0?ae:(ae=Ye.value,typeof ae=="string"?ae.replace(Yi,""):ae!=null?ae:"")):void 0}}),Y.extend({valHooks:{option:{get:function(j){var V=Y.find.attr(j,"value");return V!=null?V:De(Y.text(j))}},select:{get:function(j){var V,ae,ke,Ye=j.options,Ke=j.selectedIndex,at=j.type==="select-one",Wt=at?null:[],Dt=at?Ke+1:Ye.length;for(Ke<0?ke=Dt:ke=at?Ke:0;ke<Dt;ke++)if(ae=Ye[ke],(ae.selected||ke===Ke)&&!ae.disabled&&(!ae.parentNode.disabled||!r(ae.parentNode,"optgroup"))){if(V=Y(ae).val(),at)return V;Wt.push(V)}return Wt},set:function(j,V){for(var ae,ke,Ye=j.options,Ke=Y.makeArray(V),at=Ye.length;at--;)ke=Ye[at],(ke.selected=Y.inArray(Y.valHooks.option.get(ke),Ke)>-1)&&(ae=!0);return ae||(j.selectedIndex=-1),Ke}}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]={set:function(j,V){if(Array.isArray(V))return j.checked=Y.inArray(Y(j).val(),V)>-1}},Ze.checkOn||(Y.valHooks[this].get=function(_e){return _e.getAttribute("value")===null?"on":_e.value})}),Ze.focusin="onfocusin"in t;var si=/^(?:focusinfocus|focusoutblur)$/,Ui=function(j){j.stopPropagation()};Y.extend(Y.event,{trigger:function(j,V,ae,ke){var Ye,Ke,at,Wt,Dt,tn,bn,Nn,Jt=[ae||qt],X=xt.call(j,"type")?j.type:j,L=xt.call(j,"namespace")?j.namespace.split("."):[];if(Ke=Nn=at=ae=ae||qt,!(ae.nodeType===3||ae.nodeType===8)&&!si.test(X+Y.event.triggered)&&(X.indexOf(".")>-1&&(L=X.split("."),X=L.shift(),L.sort()),Dt=X.indexOf(":")<0&&"on"+X,j=j[Y.expando]?j:new Y.Event(X,typeof j=="object"&&j),j.isTrigger=ke?2:3,j.namespace=L.join("."),j.rnamespace=j.namespace?new RegExp("(^|\\.)"+L.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j.result=void 0,j.target||(j.target=ae),V=V==null?[j]:Y.makeArray(V,[j]),bn=Y.event.special[X]||{},!(!ke&&bn.trigger&&bn.trigger.apply(ae,V)===!1))){if(!ke&&!bn.noBubble&&!$t(ae)){for(Wt=bn.delegateType||X,si.test(Wt+X)||(Ke=Ke.parentNode);Ke;Ke=Ke.parentNode)Jt.push(Ke),at=Ke;at===(ae.ownerDocument||qt)&&Jt.push(at.defaultView||at.parentWindow||t)}for(Ye=0;(Ke=Jt[Ye++])&&!j.isPropagationStopped();)Nn=Ke,j.type=Ye>1?Wt:bn.bindType||X,tn=(It.get(Ke,"events")||Object.create(null))[j.type]&&It.get(Ke,"handle"),tn&&tn.apply(Ke,V),tn=Dt&&Ke[Dt],tn&&tn.apply&&Je(Ke)&&(j.result=tn.apply(Ke,V),j.result===!1&&j.preventDefault());return j.type=X,!ke&&!j.isDefaultPrevented()&&(!bn._default||bn._default.apply(Jt.pop(),V)===!1)&&Je(ae)&&Dt&&dt(ae[X])&&!$t(ae)&&(at=ae[Dt],at&&(ae[Dt]=null),Y.event.triggered=X,j.isPropagationStopped()&&Nn.addEventListener(X,Ui),ae[X](),j.isPropagationStopped()&&Nn.removeEventListener(X,Ui),Y.event.triggered=void 0,at&&(ae[Dt]=at)),j.result}},simulate:function(j,V,ae){var ke=Y.extend(new Y.Event,ae,{type:j,isSimulated:!0});Y.event.trigger(ke,null,V)}}),Y.fn.extend({trigger:function(j,V){return this.each(function(){Y.event.trigger(j,V,this)})},triggerHandler:function(j,V){var ae=this[0];if(ae)return Y.event.trigger(j,V,ae,!0)}}),Ze.focusin||Y.each({focus:"focusin",blur:"focusout"},function(_e,j){var V=function(ke){Y.event.simulate(j,ke.target,Y.event.fix(ke))};Y.event.special[j]={setup:function(){var ke=this.ownerDocument||this.document||this,Ye=It.access(ke,j);Ye||ke.addEventListener(_e,V,!0),It.access(ke,j,(Ye||0)+1)},teardown:function(){var ke=this.ownerDocument||this.document||this,Ye=It.access(ke,j)-1;Ye?It.access(ke,j,Ye):(ke.removeEventListener(_e,V,!0),It.remove(ke,j))}}});var _i=t.location,pn={guid:Date.now()},yn=/\?/;Y.parseXML=function(_e){var j,V;if(!_e||typeof _e!="string")return null;try{j=new t.DOMParser().parseFromString(_e,"text/xml")}catch(ae){}return V=j&&j.getElementsByTagName("parsererror")[0],(!j||V)&&Y.error("Invalid XML: "+(V?Y.map(V.childNodes,function(ae){return ae.textContent}).join("\n"):_e)),j};var wn=/\[\]$/,lr=/\r?\n/g,Ir=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;function Ei(_e,j,V,ae){var ke;if(Array.isArray(j))Y.each(j,function(Ye,Ke){V||wn.test(_e)?ae(_e,Ke):Ei(_e+"["+(typeof Ke=="object"&&Ke!=null?Ye:"")+"]",Ke,V,ae)});else if(!V&&s(j)==="object")for(ke in j)Ei(_e+"["+ke+"]",j[ke],V,ae);else ae(_e,j)}Y.param=function(_e,j){var V,ae=[],ke=function(Ke,at){var Wt=dt(at)?at():at;ae[ae.length]=encodeURIComponent(Ke)+"="+encodeURIComponent(Wt!=null?Wt:"")};if(_e==null)return"";if(Array.isArray(_e)||_e.jquery&&!Y.isPlainObject(_e))Y.each(_e,function(){ke(this.name,this.value)});else for(V in _e)Ei(V,_e[V],j,ke);return ae.join("&")},Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var j=Y.prop(this,"elements");return j?Y.makeArray(j):this}).filter(function(){var j=this.type;return this.name&&!Y(this).is(":disabled")&&ri.test(this.nodeName)&&!Ir.test(j)&&(this.checked||!Dn.test(j))}).map(function(j,V){var ae=Y(this).val();return ae==null?null:Array.isArray(ae)?Y.map(ae,function(ke){return{name:V.name,value:ke.replace(lr,"\r\n")}}):{name:V.name,value:ae.replace(lr,"\r\n")}}).get()}});var ia=/%20/g,jo=/#.*$/,no=/([?&])_=[^&]*/,bl=/^(.*?):[ \t]*([^\r\n]*)$/mg,Pa=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Po=/^(?:GET|HEAD)$/,Vi=/^\/\//,oo={},ao={},xs="*/".concat("*"),Ia=qt.createElement("a");Ia.href=_i.href,Y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_i.href,type:"GET",isLocal:Pa.test(_i.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(j,V){return V?Me(Me(j,Y.ajaxSettings),V):Me(Y.ajaxSettings,j)},ajaxPrefilter:Ne(oo),ajaxTransport:Ne(ao),ajax:function(j,V){var ae=function(cn,En,Wn,In){var er,Pn,Vn,nr,qn,Kn=En;tn||(tn=!0,Wt&&t.clearTimeout(Wt),ke=void 0,Ke=In||"",ft.readyState=cn>0?4:0,er=cn>=200&&cn<300||cn===304,Wn&&(nr=Ve(X,ft,Wn)),!er&&Y.inArray("script",X.dataTypes)>-1&&Y.inArray("json",X.dataTypes)<0&&(X.converters["text script"]=function(){}),nr=st(X,nr,ft,er),er?(X.ifModified&&(qn=ft.getResponseHeader("Last-Modified"),qn&&(Y.lastModified[Ye]=qn),qn=ft.getResponseHeader("etag"),qn&&(Y.etag[Ye]=qn)),cn===204||X.type==="HEAD"?Kn="nocontent":cn===304?Kn="notmodified":(Kn=nr.state,Pn=nr.data,Vn=nr.error,er=!Vn)):(Vn=Kn,(cn||!Kn)&&(Kn="error",cn<0&&(cn=0))),ft.status=cn,ft.statusText=(En||Kn)+"",er?F.resolveWith(L,[Pn,Kn,ft]):F.rejectWith(L,[ft,Kn,Vn]),ft.statusCode(ve),ve=void 0,bn&&N.trigger(er?"ajaxSuccess":"ajaxError",[ft,X,er?Pn:Vn]),G.fireWith(L,[ft,Kn]),bn&&(N.trigger("ajaxComplete",[ft,X]),--Y.active||Y.event.trigger("ajaxStop")))};typeof j=="object"&&(V=j,j=void 0),V=V||{};var ke,Ye,Ke,at,Wt,Dt,tn,bn,Nn,Jt,X=Y.ajaxSetup({},V),L=X.context||X,N=X.context&&(L.nodeType||L.jquery)?Y(L):Y.event,F=Y.Deferred(),G=Y.Callbacks("once memory"),ve=X.statusCode||{},Se={},it={},Pt="canceled",ft={readyState:0,getResponseHeader:function(cn){var En;if(tn){if(!at)for(at={};En=bl.exec(Ke);)at[En[1].toLowerCase()+" "]=(at[En[1].toLowerCase()+" "]||[]).concat(En[2]);En=at[cn.toLowerCase()+" "]}return En==null?null:En.join(", ")},getAllResponseHeaders:function(){return tn?Ke:null},setRequestHeader:function(cn,En){return tn==null&&(cn=it[cn.toLowerCase()]=it[cn.toLowerCase()]||cn,Se[cn]=En),this},overrideMimeType:function(cn){return tn==null&&(X.mimeType=cn),this},statusCode:function(cn){var En;if(cn)if(tn)ft.always(cn[ft.status]);else for(En in cn)ve[En]=[ve[En],cn[En]];return this},abort:function(cn){var En=cn||Pt;return ke&&ke.abort(En),ae(0,En),this}};if(F.promise(ft),X.url=((j||X.url||_i.href)+"").replace(Vi,_i.protocol+"//"),X.type=V.method||V.type||X.method||X.type,X.dataTypes=(X.dataType||"*").toLowerCase().match(se)||[""],X.crossDomain==null){Dt=qt.createElement("a");try{Dt.href=X.url,Dt.href=Dt.href,X.crossDomain=Ia.protocol+"//"+Ia.host!=Dt.protocol+"//"+Dt.host}catch(fn){X.crossDomain=!0}}if(X.data&&X.processData&&typeof X.data!="string"&&(X.data=Y.param(X.data,X.traditional)),Qe(oo,X,V,ft),tn)return ft;bn=Y.event&&X.global,bn&&Y.active++===0&&Y.event.trigger("ajaxStart"),X.type=X.type.toUpperCase(),X.hasContent=!Po.test(X.type),Ye=X.url.replace(jo,""),X.hasContent?X.data&&X.processData&&(X.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(X.data=X.data.replace(ia,"+")):(Jt=X.url.slice(Ye.length),X.data&&(X.processData||typeof X.data=="string")&&(Ye+=(yn.test(Ye)?"&":"?")+X.data,delete X.data),X.cache===!1&&(Ye=Ye.replace(no,"$1"),Jt=(yn.test(Ye)?"&":"?")+"_="+pn.guid+++Jt),X.url=Ye+Jt),X.ifModified&&(Y.lastModified[Ye]&&ft.setRequestHeader("If-Modified-Since",Y.lastModified[Ye]),Y.etag[Ye]&&ft.setRequestHeader("If-None-Match",Y.etag[Ye])),(X.data&&X.hasContent&&X.contentType!==!1||V.contentType)&&ft.setRequestHeader("Content-Type",X.contentType),ft.setRequestHeader("Accept",X.dataTypes[0]&&X.accepts[X.dataTypes[0]]?X.accepts[X.dataTypes[0]]+(X.dataTypes[0]!=="*"?", "+xs+"; q=0.01":""):X.accepts["*"]);for(Nn in X.headers)ft.setRequestHeader(Nn,X.headers[Nn]);if(X.beforeSend&&(X.beforeSend.call(L,ft,X)===!1||tn))return ft.abort();if(Pt="abort",G.add(X.complete),ft.done(X.success),ft.fail(X.error),ke=Qe(ao,X,V,ft),!ke)ae(-1,"No Transport");else{if(ft.readyState=1,bn&&N.trigger("ajaxSend",[ft,X]),tn)return ft;X.async&&X.timeout>0&&(Wt=t.setTimeout(function(){ft.abort("timeout")},X.timeout));try{tn=!1,ke.send(Se,ae)}catch(fn){if(tn)throw fn;ae(-1,fn)}}return ft},getJSON:function(j,V,ae){return Y.get(j,V,ae,"json")},getScript:function(j,V){return Y.get(j,void 0,V,"script")}}),Y.each(["get","post"],function(_e,j){Y[j]=function(V,ae,ke,Ye){return dt(ae)&&(Ye=Ye||ke,ke=ae,ae=void 0),Y.ajax(Y.extend({url:V,type:j,dataType:Ye,data:ae,success:ke},Y.isPlainObject(V)&&V))}}),Y.ajaxPrefilter(function(_e){var j;for(j in _e.headers)j.toLowerCase()==="content-type"&&(_e.contentType=_e.headers[j]||"")}),Y._evalUrl=function(_e,j,V){return Y.ajax({url:_e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ke){Y.globalEval(ke,j,V)}})},Y.fn.extend({wrapAll:function(j){var V;return this[0]&&(dt(j)&&(j=j.call(this[0])),V=Y(j,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&V.insertBefore(this[0]),V.map(function(){for(var ae=this;ae.firstElementChild;)ae=ae.firstElementChild;return ae}).append(this)),this},wrapInner:function(j){return dt(j)?this.each(function(V){Y(this).wrapInner(j.call(this,V))}):this.each(function(){var V=Y(this),ae=V.contents();ae.length?ae.wrapAll(j):V.append(j)})},wrap:function(j){var V=dt(j);return this.each(function(ae){Y(this).wrapAll(V?j.call(this,ae):j)})},unwrap:function(j){return this.parent(j).not("body").each(function(){Y(this).replaceWith(this.childNodes)}),this}}),Y.expr.pseudos.hidden=function(_e){return!Y.expr.pseudos.visible(_e)},Y.expr.pseudos.visible=function(_e){return!!(_e.offsetWidth||_e.offsetHeight||_e.getClientRects().length)},Y.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(_e){}};var Gi={0:200,1223:204},Er=Y.ajaxSettings.xhr();Ze.cors=!!Er&&"withCredentials"in Er,Ze.ajax=Er=!!Er,Y.ajaxTransport(function(_e){var j,V;if(Ze.cors||Er&&!_e.crossDomain)return{send:function(ke,Ye){var Ke,at=_e.xhr();if(at.open(_e.type,_e.url,_e.async,_e.username,_e.password),_e.xhrFields)for(Ke in _e.xhrFields)at[Ke]=_e.xhrFields[Ke];_e.mimeType&&at.overrideMimeType&&at.overrideMimeType(_e.mimeType),!_e.crossDomain&&!ke["X-Requested-With"]&&(ke["X-Requested-With"]="XMLHttpRequest");for(Ke in ke)at.setRequestHeader(Ke,ke[Ke]);j=function(Wt){return function(){j&&(j=V=at.onload=at.onerror=at.onabort=at.ontimeout=at.onreadystatechange=null,Wt==="abort"?at.abort():Wt==="error"?typeof at.status!="number"?Ye(0,"error"):Ye(at.status,at.statusText):Ye(Gi[at.status]||at.status,at.statusText,(at.responseType||"text")!=="text"||typeof at.responseText!="string"?{binary:at.response}:{text:at.responseText},at.getAllResponseHeaders()))}},at.onload=j(),V=at.onerror=at.ontimeout=j("error"),at.onabort!==void 0?at.onabort=V:at.onreadystatechange=function(){at.readyState===4&&t.setTimeout(function(){j&&V()})},j=j("abort");try{at.send(_e.hasContent&&_e.data||null)}catch(Wt){if(j)throw Wt}},abort:function(){j&&j()}}}),Y.ajaxPrefilter(function(_e){_e.crossDomain&&(_e.contents.script=!1)}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(_e){return Y.globalEval(_e),_e}}}),Y.ajaxPrefilter("script",function(_e){_e.cache===void 0&&(_e.cache=!1),_e.crossDomain&&(_e.type="GET")}),Y.ajaxTransport("script",function(_e){if(_e.crossDomain||_e.scriptAttrs){var j,V;return{send:function(ke,Ye){j=Y("<script>").attr(_e.scriptAttrs||{}).prop({charset:_e.scriptCharset,src:_e.url}).on("load error",V=function(Ke){j.remove(),V=null,Ke&&Ye(Ke.type==="error"?404:200,Ke.type)}),qt.head.appendChild(j[0])},abort:function(){V&&V()}}}});var Mu=[],ko=/(=)\?(?=&|$)|\?\?/;Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var j=Mu.pop()||Y.expando+"_"+pn.guid++;return this[j]=!0,j}}),Y.ajaxPrefilter("json jsonp",function(_e,j,V){var ae,ke,Ye,Ke=_e.jsonp!==!1&&(ko.test(_e.url)?"url":typeof _e.data=="string"&&(_e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ko.test(_e.data)&&"data");if(Ke||_e.dataTypes[0]==="jsonp")return ae=_e.jsonpCallback=dt(_e.jsonpCallback)?_e.jsonpCallback():_e.jsonpCallback,Ke?_e[Ke]=_e[Ke].replace(ko,"$1"+ae):_e.jsonp!==!1&&(_e.url+=(yn.test(_e.url)?"&":"?")+_e.jsonp+"="+ae),_e.converters["script json"]=function(){return Ye||Y.error(ae+" was not called"),Ye[0]},_e.dataTypes[0]="json",ke=t[ae],t[ae]=function(){Ye=arguments},V.always(function(){ke===void 0?Y(t).removeProp(ae):t[ae]=ke,_e[ae]&&(_e.jsonpCallback=j.jsonpCallback,Mu.push(ae)),Ye&&dt(ke)&&ke(Ye[0]),Ye=ke=void 0}),"script"}),Ze.createHTMLDocument=function(){var _e=qt.implementation.createHTMLDocument("").body;return _e.innerHTML="<form></form><form></form>",_e.childNodes.length===2}(),Y.parseHTML=function(_e,j,V){if(typeof _e!="string")return[];typeof j=="boolean"&&(V=j,j=!1);var ae,ke,Ye;return j||(Ze.createHTMLDocument?(j=qt.implementation.createHTMLDocument(""),ae=j.createElement("base"),ae.href=qt.location.href,j.head.appendChild(ae)):j=qt),ke=nt.exec(_e),Ye=!V&&[],ke?[j.createElement(ke[1])]:(ke=m([_e],j,Ye),Ye&&Ye.length&&Y(Ye).remove(),Y.merge([],ke.childNodes))},Y.fn.load=function(_e,j,V){var ae,ke,Ye,Ke=this,at=_e.indexOf(" ");return at>-1&&(ae=De(_e.slice(at)),_e=_e.slice(0,at)),dt(j)?(V=j,j=void 0):j&&typeof j=="object"&&(ke="POST"),Ke.length>0&&Y.ajax({url:_e,type:ke||"GET",dataType:"html",data:j}).done(function(Wt){Ye=arguments,Ke.html(ae?Y("<div>").append(Y.parseHTML(Wt)).find(ae):Wt)}).always(V&&function(Wt,Dt){Ke.each(function(){V.apply(this,Ye||[Wt.responseText,Dt,Wt])})}),this},Y.expr.pseudos.animated=function(_e){return Y.grep(Y.timers,function(j){return _e===j.elem}).length},Y.offset={setOffset:function(j,V,ae){var ke,Ye,Ke,at,Wt,Dt,tn,bn=Y.css(j,"position"),Nn=Y(j),Jt={};bn==="static"&&(j.style.position="relative"),Wt=Nn.offset(),Ke=Y.css(j,"top"),Dt=Y.css(j,"left"),tn=(bn==="absolute"||bn==="fixed")&&(Ke+Dt).indexOf("auto")>-1,tn?(ke=Nn.position(),at=ke.top,Ye=ke.left):(at=parseFloat(Ke)||0,Ye=parseFloat(Dt)||0),dt(V)&&(V=V.call(j,ae,Y.extend({},Wt))),V.top!=null&&(Jt.top=V.top-Wt.top+at),V.left!=null&&(Jt.left=V.left-Wt.left+Ye),"using"in V?V.using.call(j,Jt):Nn.css(Jt)}},Y.fn.extend({offset:function(j){if(arguments.length)return j===void 0?this:this.each(function(Ye){Y.offset.setOffset(this,j,Ye)});var V,ae,ke=this[0];if(ke)return ke.getClientRects().length?(V=ke.getBoundingClientRect(),ae=ke.ownerDocument.defaultView,{top:V.top+ae.pageYOffset,left:V.left+ae.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var j,V,ae,ke=this[0],Ye={top:0,left:0};if(Y.css(ke,"position")==="fixed")V=ke.getBoundingClientRect();else{for(V=this.offset(),ae=ke.ownerDocument,j=ke.offsetParent||ae.documentElement;j&&(j===ae.body||j===ae.documentElement)&&Y.css(j,"position")==="static";)j=j.parentNode;j&&j!==ke&&j.nodeType===1&&(Ye=Y(j).offset(),Ye.top+=Y.css(j,"borderTopWidth",!0),Ye.left+=Y.css(j,"borderLeftWidth",!0))}return{top:V.top-Ye.top-Y.css(ke,"marginTop",!0),left:V.left-Ye.left-Y.css(ke,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var j=this.offsetParent;j&&Y.css(j,"position")==="static";)j=j.offsetParent;return j||rn})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(_e,j){var V=j==="pageYOffset";Y.fn[_e]=function(ae){return He(this,function(ke,Ye,Ke){var at;if($t(ke)?at=ke:ke.nodeType===9&&(at=ke.defaultView),Ke===void 0)return at?at[j]:ke[Ye];at?at.scrollTo(V?at.pageXOffset:Ke,V?Ke:at.pageYOffset):ke[Ye]=Ke},_e,ae,arguments.length)}}),Y.each(["top","left"],function(_e,j){Y.cssHooks[j]=ee(Ze.pixelPosition,function(V,ae){if(ae)return ae=q(V,j),At.test(ae)?Y(V).position()[j]+"px":ae})}),Y.each({Height:"height",Width:"width"},function(_e,j){Y.each({padding:"inner"+_e,content:j,"":"outer"+_e},function(V,ae){Y.fn[ae]=function(ke,Ye){var Ke=arguments.length&&(V||typeof ke!="boolean"),at=V||(ke===!0||Ye===!0?"margin":"border");return He(this,function(Wt,Dt,tn){var bn;return $t(Wt)?ae.indexOf("outer")===0?Wt["inner"+_e]:Wt.document.documentElement["client"+_e]:Wt.nodeType===9?(bn=Wt.documentElement,Math.max(Wt.body["scroll"+_e],bn["scroll"+_e],Wt.body["offset"+_e],bn["offset"+_e],bn["client"+_e])):tn===void 0?Y.css(Wt,Dt,at):Y.style(Wt,Dt,tn,at)},j,Ke?ke:void 0,Ke)}})}),Y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_e,j){Y.fn[j]=function(V){return this.on(j,V)}}),Y.fn.extend({bind:function(j,V,ae){return this.on(j,null,V,ae)},unbind:function(j,V){return this.off(j,null,V)},delegate:function(j,V,ae,ke){return this.on(V,j,ae,ke)},undelegate:function(j,V,ae){return arguments.length===1?this.off(j,"**"):this.off(V,j||"**",ae)},hover:function(j,V){return this.mouseenter(j).mouseleave(V||j)}}),Y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(_e,j){Y.fn[j]=function(V,ae){return arguments.length>0?this.on(j,null,V,ae):this.trigger(j)}});var qi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Y.proxy=function(_e,j){var V,ae,ke;if(typeof j=="string"&&(V=_e[j],j=_e,_e=V),!!dt(_e))return ae=Ue.call(arguments,2),ke=function(){return _e.apply(j||this,ae.concat(Ue.call(arguments)))},ke.guid=_e.guid=_e.guid||Y.guid++,ke},Y.holdReady=function(_e){_e?Y.readyWait++:Y.ready(!0)},Y.isArray=Array.isArray,Y.parseJSON=JSON.parse,Y.nodeName=r,Y.isFunction=dt,Y.isWindow=$t,Y.camelCase=S,Y.type=s,Y.now=Date.now,Y.isNumeric=function(_e){var j=Y.type(_e);return(j==="number"||j==="string")&&!isNaN(_e-parseFloat(_e))},Y.trim=function(_e){return _e==null?"":(_e+"").replace(qi,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return Y});var Ss=t.jQuery,Bo=t.$;return Y.noConflict=function(_e){return t.$===Y&&(t.$=Bo),_e&&t.jQuery===Y&&(t.jQuery=Ss),Y},(typeof o=="undefined"?"undefined":_typeof(o))>"u"&&(t.jQuery=t.$=Y),Y})}),Ip={},Ox(Ip,{default:function(){return ne}}),Tx=jp(Pp()),Ex(Ip,jp(Pp()));var g;ir=Tx,g=ir,Mp=g.default,jx=Ri(ir,["default"]),ne=Mp!==void 0?Mp:jx}}),Lp=Gt({"https-url:https://esm.archive.org/jquery@3.6.1":function(){_d(),_d()}}),Px=Gt({"https-url:https://av.prod.archive.org/js/util/jquery.js":function(){Lp(),globalThis.jQuery=ne,globalThis.$=ne}}),ma,Rp=Gt({"https-url:https://av.prod.archive.org/js/util/cgiarg.js":function(){ma=dT}}),ir,Gn,hj,Ds=Gt({"https-url:https://av.prod.archive.org/js/util/log.js":function(){Gn=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((ir=globalThis==null?void 0:globalThis.navigator)==null?void 0:ir.onLine)===!1?console.log.bind(console):function(){},hj=console.error.bind(console)}}),kd,fj=Gt({"https-url:https://av.prod.archive.org/js/util/onclick.js":function(){kd=hT}}),pj=Gt({"https-url:https://av.prod.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(g){var n=function(d){for(var h,p,v=d[0],k=d[1],x=0,S=[];x<v.length;x++)p=v[x],Object.prototype.hasOwnProperty.call(t,p)&&t[p]&&S.push(t[p][0]),t[p]=0;for(h in k)Object.prototype.hasOwnProperty.call(k,h)&&(g[h]=k[h]);for(r&&r(d);S.length;)S.shift()()},e={},t={0:0};function o(c){if(e[c])return e[c].exports;var d=e[c]={i:c,l:!1,exports:{}};return g[c].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.e=function(c){var d=[],h=t[c];if(h!==0)if(h)d.push(h[2]);else{var p=new Promise(function(A,E){h=t[c]=[A,E]});d.push(h[2]=p);var v,k=document.createElement("script");k.charset="utf-8",k.timeout=120,o.nc&&k.setAttribute("nonce",o.nc),k.src=function(A){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[A]||A)+".js"}(c);var x=new Error;v=function(E){k.onerror=k.onload=null,clearTimeout(S);var O=t[c];if(O!==0){if(O){var T=E&&(E.type==="load"?"missing":E.type),b=E&&E.target&&E.target.src;x.message="Loading chunk "+c+" failed.\n("+T+": "+b+")",x.name="ChunkLoadError",x.type=T,x.request=b,O[1](x)}t[c]=void 0}};var S=setTimeout(function(){v({type:"timeout",target:k})},12e4);k.onerror=k.onload=v,document.head.appendChild(k)}return Promise.all(d)},o.m=g,o.c=e,o.d=function(c,d,h){o.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:h})},o.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,d){if(1&d&&(c=o(c)),8&d||4&d&&typeof c=="object"&&c&&c.__esModule)return c;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:c}),2&d&&typeof c!="string")for(var p in c)o.d(h,p,function(v){return c[v]}.bind(null,p));return h},o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,"a",d),d},o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},o.p="",o.oe=function(c){throw console.error(c),c};var l=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],s=l.push.bind(l);l.push=n,l=l.slice();for(var a=0;a<l.length;a++)n(l[a]);var r=s;return o(o.s=56)}([function(g,n,e){"use strict";e.d(n,"f",function(){return f}),e.d(n,"v",function(){return y}),e.d(n,"i",function(){return z}),e.d(n,"h",function(){return W}),e.d(n,"z",function(){return rt}),e.d(n,"b",function(){return ct}),e.d(n,"j",function(){return _t}),e.d(n,"e",function(){return De}),e.d(n,"l",function(){return be}),e.d(n,"a",function(){return Ne}),e.d(n,"A",function(){return gt}),e.d(n,"m",function(){return Be}),e.d(n,"d",function(){return et}),e.d(n,"g",function(){return Ge}),e.d(n,"x",function(){return $e}),e.d(n,"p",function(){return dt}),e.d(n,"r",function(){return $t}),e.d(n,"s",function(){return qt}),e.d(n,"o",function(){return Bt}),e.d(n,"q",function(){return ut}),e.d(n,"n",function(){return Y}),e.d(n,"t",function(){return Kt}),e.d(n,"k",function(){return Xt}),e.d(n,"y",function(){return R}),e.d(n,"w",function(){return nt}),e.d(n,"u",function(){return ue});var t=e(16),o={},l=Array.prototype,s=Object.prototype,a=Function.prototype,r=l.slice,c=l.concat,d=s.toString,h=s.hasOwnProperty,p=l.map,v=l.reduce,k=l.forEach,x=l.filter,S=l.every,A=l.some,E=l.indexOf,O=Array.isArray,T=Object.keys,b=a.bind,u=window.isFinite,f=function(K,Z,se){var he,Ae;if(K==null)return K;if(k&&K.forEach===k)K.forEach(Z,se);else if(K.length===+K.length){for(he=0,Ae=K.length;he<Ae;he++)if(Z.call(se,K[he],he,K)===o)return}else{var Te=Mt(K);for(he=0,Ae=Te.length;he<Ae;he++)if(Z.call(se,K[Te[he]],Te[he],K)===o)return}return K},m=f,y=function(K,Z,se){var he=[];return K==null?he:p&&K.map===p?K.map(Z,se):(f(K,function(Ae,Te,He){he.push(Z.call(se,Ae,Te,He))}),he)},w=y,C="Reduce of empty array with no initial value",M=function(K,Z,se,he){var Ae=arguments.length>2;if(K==null&&(K=[]),v&&K.reduce===v)return he&&(Z=Ne(Z,he)),Ae?K.reduce(Z,se):K.reduce(Z);if(f(K,function(Te,He,qe){Ae?se=Z.call(he,se,Te,He,qe):(se=Te,Ae=!0)}),!Ae)throw new TypeError(C);return se},I=M,D=M,z=function(K,Z,se){var he;return ee(K,function(Ae,Te,He){if(Z.call(se,Ae,Te,He))return he=Ae,!0}),he},Q=z,W=function(K,Z,se){var he=[];return K==null?he:x&&K.filter===x?K.filter(Z,se):(f(K,function(Ae,Te,He){Z.call(se,Ae,Te,He)&&he.push(Ae)}),he)},me=W,oe=function(K,Z,se){Z||(Z=Xt);var he=!0;return K==null?he:S&&K.every===S?K.every(Z,se):(f(K,function(Ae,Te,He){if(!(he=he&&Z.call(se,Ae,Te,He)))return o}),!!he)},q=oe,ee=function(K,Z,se){Z||(Z=Xt);var he=!1;return K==null?he:A&&K.some===A?K.some(Z,se):(f(K,function(Ae,Te,He){if(he||(he=Z.call(se,Ae,Te,He)))return o}),!!he)},we=ee,ie=function(K,Z){var se;return function(){return--K>0&&(se=Z.apply(this,arguments)),K<=1&&(Z=null),se}},le=function(K){return K==null?Xt:dt(K)?K:R(K)},ye=function(K){return function(Z,se,he){var Ae={};return se=le(se),f(Z,function(Te,He){var qe=se.call(he,Te,He,Z);K(Ae,qe,Te)}),Ae}},Ee=ye(function(J,K,Z){Ft(J,K)?J[K].push(Z):J[K]=[Z]}),fe=ye(function(J,K,Z){J[K]=Z}),rt=function(K,Z,se,he){for(var Ae=(se=le(se)).call(he,Z),Te=0,He=K.length;Te<He;){var qe=Te+He>>>1;se.call(he,K[qe])<Ae?Te=qe+1:He=qe}return Te},ct=function(K,Z){return K!=null&&(K.length!==+K.length&&(K=Ue(K)),be(K,Z)>=0)},Ot=ct,_t=function(K,Z){return z(K,nt(Z))},De=function(K){var Z=c.apply(l,r.call(arguments,1));return W(K,function(se){return!ct(Z,se)})},be=function(K,Z,se){if(K==null)return-1;var he=0,Ae=K.length;if(se){if(typeof se!="number")return K[he=rt(K,Z)]===Z?he:-1;he=se<0?Math.max(0,Ae+se):se}if(E&&K.indexOf===E)return K.indexOf(Z,se);for(;he<Ae;he++)if(K[he]===Z)return he;return-1},Xe=function(){},Ne=function(K,Z){var se,he;if(b&&K.bind===b)return b.apply(K,r.call(arguments,1));if(!dt(K))throw new TypeError;return se=r.call(arguments,2),he=function(){if(!_instanceof(this,he))return K.apply(Z,se.concat(r.call(arguments)));Xe.prototype=K.prototype;var Ae=new Xe;Xe.prototype=null;var Te=K.apply(Ae,se.concat(r.call(arguments)));return Object(Te)===Te?Te:Ae}},Qe=function(K){var Z=r.call(arguments,1);return function(){for(var se=0,he=Z.slice(),Ae=0,Te=he.length;Ae<Te;Ae++)Ft(he[Ae],"partial")&&(he[Ae]=arguments[se++]);for(;se<arguments.length;)he.push(arguments[se++]);return K.apply(this,he)}},Me=Qe(ie,2),Ve=function(K,Z){var se=r.call(arguments,2);return setTimeout(function(){return K.apply(null,se)},Z)},st=Qe(Ve,{partial:Qe},1),gt=function(K,Z,se){var he,Ae,Te,He=null,qe=0;se||(se={});var We=function(){qe=se.leading===!1?0:je(),He=null,Te=K.apply(he,Ae),he=Ae=null};return function(){qe||se.leading!==!1||(qe=je);var Je=Z-(je-qe);return he=this,Ae=arguments,Je<=0?(clearTimeout(He),He=null,qe=je,Te=K.apply(he,Ae),he=Ae=null):He||se.trailing===!1||(He=setTimeout(We,Je)),Te}},Mt=function(K){if(!xt(K))return[];if(T)return T(K);var Z=[];for(var se in K)Ft(K,se)&&Z.push(se);return Z},Ue=function(K){for(var Z=Mt(K),se=Mt.length,he=Array(se),Ae=0;Ae<se;Ae++)he[Ae]=K[Z[Ae]];return he},Be=function(K){for(var Z={},se=Mt(K),he=0,Ae=se.length;he<Ae;he++)Z[K[se[he]]]=se[he];return Z},et=function(K){return f(r.call(arguments,1),function(Z){if(Z)for(var se in Z)K[se]===void 0&&(K[se]=Z[se])}),K},Ge=Object.assign||function(J){return f(r.call(arguments,1),function(K){if(K)for(var Z in K)Object.prototype.hasOwnProperty.call(K,Z)&&(J[Z]=K[Z])}),J},$e=function(K){var Z={},se=c.apply(l,r.call(arguments,1));return f(se,function(he){he in K&&(Z[he]=K[he])}),Z},ze=O||function(J){return d.call(J)=="[object Array]"},xt=function(K){return K===Object(K)},bt=[];f(["Function","String","Number","Date","RegExp"],function(J){bt[J]=function(K){return d.call(K)=="[object "+J+"]"}}),bt.Function=function(J){return typeof J=="function"};var lt=bt.Date,Ze=bt.RegExp,dt=bt.Function,$t=bt.Number,qt=bt.String,Bt=function(K){return u(K)&&!ut(parseFloat(K))},ut=function(K){return $t(K)&&K!=+K},Y=function(K){return K===!0||K===!1||d.call(K)=="[object Boolean]"},Kt=function(K){return K===void 0},Ft=function(K,Z){return h.call(K,Z)},Xt=function(K){return K},R=function(K){return function(Z){return Z[K]}},nt=function(K){return function(Z){if(Z===K)return!0;for(var se in K)if(K[se]!==Z[se])return!1;return!0}},je=t.a,ue=function(K){return $t(K)&&!ut(K)};n.c={after:function(K,Z){return function(){if(--K<1)return Z.apply(this,arguments)}},all:oe,any:ee,before:ie,bind:Ne,clone:function(K){return xt(K)?ze(K)?K.slice():Ge({},K):K},collect:w,compact:function(K){return W(K,Xt)},constant:function(K){return function(){return K}},contains:ct,debounce:function(K,Z){var se;return Z===void 0&&(Z=100),function(){for(var he=this,Ae=arguments.length,Te=new Array(Ae),He=0;He<Ae;He++)Te[He]=arguments[He];clearTimeout(se),se=setTimeout(function(){K.apply(he,Te)},Z)}},defaults:et,defer:st,delay:Ve,detect:Q,difference:De,each:f,every:q,extend:Ge,filter:W,find:z,findWhere:_t,foldl:I,forEach:m,groupBy:Ee,has:Ft,identity:Xt,include:Ot,indexBy:fe,indexOf:be,inject:D,invert:Be,isArray:ze,isBoolean:Y,isDate:lt,isFinite:Bt,isFunction:dt,isNaN:ut,isNull:function(K){return K===null},isNumber:$t,isObject:xt,isRegExp:Ze,isString:qt,isUndefined:Kt,isValidNumber:ue,keys:Mt,last:function(K,Z,se){if(K!=null)return Z==null||se?K[K.length-1]:r.call(K,Math.max(K.length-Z,0))},map:y,matches:nt,max:function(K,Z,se){if(!Z&&ze(K)&&K[0]===+K[0]&&K.length<65535)return Math.max.apply(Math,K);var he=-1/0,Ae=-1/0;return f(K,function(Te,He,qe){var We=Z?Z.call(se,Te,He,qe):Te;We>Ae&&(he=Te,Ae=We)}),he},memoize:function(K,Z){var se={};return Z||(Z=Xt),function(){var he=Z.apply(this,arguments);return Ft(se,he)?se[he]:se[he]=K.apply(this,arguments)}},now:je,omit:function(K){var Z={},se=c.apply(l,r.call(arguments,1));for(var he in K)ct(se,he)||(Z[he]=K[he]);return Z},once:Me,partial:Qe,pick:$e,pluck:function(K,Z){return y(K,R(Z))},property:R,propertyOf:function(K){return K==null?function(){}:function(Z){return K[Z]}},reduce:M,reject:function(K,Z,se){return W(K,function(he,Ae,Te){return!Z.call(se,he,Ae,Te)},se)},result:function(K,Z){if(K!=null){var se=K[Z];return dt(se)?se.call(K):se}},select:me,size:function(K){return K==null?0:K.length===+K.length?K.length:Mt(K).length},some:we,sortedIndex:rt,throttle:gt,where:function(K,Z){return W(K,nt(Z))},without:function(K){return De(K,r.call(arguments,1))}}},function(g,n,e){"use strict";var t=function(D,z,Q){return _instanceof(Q,M)&&Q.code?Q:new M(D,z,Q)},o=function(D,z){var Q=t(C,z,D);return Q.code=(D&&_instanceof(D,M)&&D.code||0)+z,Q},l=function(D){var z=D.name,Q=D.message;switch(z){case"AbortError":return/pause/.test(Q)?303213:/load/.test(Q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(n,"v",function(){return a}),e.d(n,"u",function(){return r}),e.d(n,"t",function(){return c}),e.d(n,"q",function(){return d}),e.d(n,"r",function(){return h}),e.d(n,"p",function(){return p}),e.d(n,"b",function(){return v}),e.d(n,"d",function(){return k}),e.d(n,"s",function(){return x}),e.d(n,"e",function(){return S}),e.d(n,"i",function(){return A}),e.d(n,"a",function(){return E}),e.d(n,"f",function(){return O}),e.d(n,"c",function(){return T}),e.d(n,"g",function(){return b}),e.d(n,"h",function(){return u}),e.d(n,"l",function(){return f}),e.d(n,"j",function(){return m}),e.d(n,"k",function(){return y}),e.d(n,"m",function(){return w}),e.d(n,"n",function(){return C}),e.d(n,"o",function(){return M}),e.d(n,"x",function(){return t}),e.d(n,"w",function(){return o}),e.d(n,"y",function(){return l});var s=e(0),a=1e5,r=100001,c=100002,d=101e3,h=102e3,p=102700,v=200001,k=202e3,x=104e3,S=203e3,A=203640,E=203700,O=204e3,T=306e3,b=308e3,u=308640,f="cantPlayVideo",m="badConnection",y="cantLoadPlayer",w="liveStreamDown",C="technicalError",M=function(){var I=function(z,Q,W){this.code=Object(s.u)(Q)?Q:0,this.sourceError=W||null,z&&(this.key=z)};return I.logMessage=function(D){var z=D%1e3,Q=Math.floor((D-z)/1e3),W=D.toString();return z>=400&&z<600&&(W=Q+"400-"+Q+"599"),"JW Player "+(D>299999&&D<4e5?"Warning":"Error")+" "+D+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+W},I}()},function(g,n,e){"use strict";var t=function(S){return S.replace(/^\s+|\s+$/g,"")},o=function(S,A,E){for(S=""+S,E=E||"0";S.length<A;)S=E+S;return S},l=function(S,A){for(var E=S.attributes,O=0;O<E.length;O++)if(E[O].name&&E[O].name.toLowerCase()===A.toLowerCase())return E[O].value.toString();return""},s=function(S){if(!S||S.substr(0,4)==="rtmp")return"";var A=/[(,]format=(m3u8|mpd)-/i.exec(S);if(A)return A[1];var E=S.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return E!==S?E.toLowerCase():(S=S.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?S.substr(S.lastIndexOf(".")+1,S.length).toLowerCase():""},a=function(S){var A=(S/60|0)%60,E=S%60;return o((S/3600|0).toString(),2)+":"+o(A.toString(),2)+":"+o(E.toFixed(3),6)},r=function(S,A){if(!S)return 0;if(Object(v.u)(S))return S;var E=S.replace(",","."),O=E.slice(-1),T=E.split(":"),b=T.length,u=0;if(O==="s")u=k(E);else if(O==="m")u=60*k(E);else if(O==="h")u=3600*k(E);else if(b>1){var f=b-1;b===4&&(A&&(u=k(T[f])/A),f-=1),u+=k(T[f]),u+=60*k(T[f-1]),b>=3&&(u+=3600*k(T[f-2]))}else u=k(E);return Object(v.u)(u)?u:0},c=function(S,A,E){if(Object(v.s)(S)&&S.slice(-1)==="%"){var O=k(S);return A&&Object(v.u)(A)&&Object(v.u)(O)?A*O/100:null}return r(S,E)},d=function(S,A){return S.map(function(E){return A+E})},h=function(S,A){return S.map(function(E){return E+A})},p=function(S){return!!S&&Object(v.s)(S)&&S.slice(-1)==="%"};e.d(n,"i",function(){return t}),e.d(n,"e",function(){return o}),e.d(n,"j",function(){return l}),e.d(n,"a",function(){return s}),e.d(n,"b",function(){return a}),e.d(n,"g",function(){return r}),e.d(n,"d",function(){return c}),e.d(n,"f",function(){return d}),e.d(n,"h",function(){return h}),e.d(n,"c",function(){return p});var v=e(0),k=window.parseFloat},function(g,n,e){"use strict";e.d(n,"jb",function(){return t}),e.d(n,"mb",function(){return o}),e.d(n,"kb",function(){return l}),e.d(n,"ob",function(){return s}),e.d(n,"pb",function(){return a}),e.d(n,"lb",function(){return r}),e.d(n,"nb",function(){return c}),e.d(n,"qb",function(){return d}),e.d(n,"s",function(){return h}),e.d(n,"u",function(){return p}),e.d(n,"t",function(){return v}),e.d(n,"o",function(){return k}),e.d(n,"r",function(){return x}),e.d(n,"Z",function(){return S}),e.d(n,"W",function(){return A}),e.d(n,"v",function(){return E}),e.d(n,"Y",function(){return O}),e.d(n,"w",function(){return T}),e.d(n,"ub",function(){return b}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"c",function(){return m}),e.d(n,"d",function(){return y}),e.d(n,"e",function(){return w}),e.d(n,"f",function(){return C}),e.d(n,"i",function(){return M}),e.d(n,"F",function(){return I}),e.d(n,"gb",function(){return D}),e.d(n,"Q",function(){return z}),e.d(n,"C",function(){return Q}),e.d(n,"B",function(){return W}),e.d(n,"E",function(){return me}),e.d(n,"q",function(){return oe}),e.d(n,"cb",function(){return q}),e.d(n,"n",function(){return ee}),e.d(n,"G",function(){return we}),e.d(n,"H",function(){return ie}),e.d(n,"N",function(){return le}),e.d(n,"O",function(){return ye}),e.d(n,"R",function(){return Ee}),e.d(n,"ib",function(){return fe}),e.d(n,"bb",function(){return rt}),e.d(n,"D",function(){return ct}),e.d(n,"S",function(){return Ot}),e.d(n,"P",function(){return _t}),e.d(n,"T",function(){return De}),e.d(n,"V",function(){return be}),e.d(n,"M",function(){return Xe}),e.d(n,"L",function(){return Ne}),e.d(n,"K",function(){return Qe}),e.d(n,"I",function(){return Me}),e.d(n,"J",function(){return Ve}),e.d(n,"U",function(){return st}),e.d(n,"p",function(){return gt}),e.d(n,"y",function(){return Mt}),e.d(n,"hb",function(){return Ue}),e.d(n,"db",function(){return Be}),e.d(n,"eb",function(){return et}),e.d(n,"g",function(){return Ge}),e.d(n,"h",function(){return $e}),e.d(n,"rb",function(){return ze}),e.d(n,"sb",function(){return xt}),e.d(n,"ab",function(){return bt}),e.d(n,"A",function(){return lt}),e.d(n,"m",function(){return Ze}),e.d(n,"l",function(){return dt}),e.d(n,"fb",function(){return $t}),e.d(n,"tb",function(){return qt}),e.d(n,"z",function(){return Bt}),e.d(n,"k",function(){return ut}),e.d(n,"X",function(){return Y}),e.d(n,"j",function(){return Kt}),e.d(n,"x",function(){return Ft});var t="buffering",o="idle",l="complete",s="paused",a="playing",r="error",c="loading",d="stalled",h="drag",p="dragStart",v="dragEnd",k="click",x="doubleClick",S="over",A="move",E="enter",O="out",T=r,b="warning",u="adClick",f="mediaLoaded",m="adPause",y="adPlay",w="adSkipped",C="adTime",M="autostartNotAllowed",I=l,D="ready",z="seek",Q="beforePlay",W="beforeComplete",me="bufferFull",oe="displayClick",q="playlistComplete",ee="cast",we="mediaError",ie="firstFrame",le="playAttempt",ye="playAttemptFailed",Ee="seeked",fe="setupError",rt="state",ct="bufferChange",Ot="time",_t="ratechange",De="mediaType",be="volume",Xe="mute",Ne="metadataCueParsed",Qe="meta",Me="levels",Ve="levelsChanged",st="visualQuality",gt="controls",Mt="fullscreen",Ue="resize",Be="playlistItem",et="playlist",Ge="audioTracks",$e="audioTrackChanged",ze="subtitlesTracks",xt="subtitlesTrackChanged",bt="playbackRateChanged",lt="logoClick",Ze="captionsList",dt="captionsChanged",$t="providerFirstFrame",qt="userAction",Bt="instreamClick",ut="breakpoint",Y="fullscreenchange",Kt="bandwidthEstimate",Ft="float"},function(g,n,e){"use strict";var t=function(c){var d="";return c&&(c.localName?d=c.localName:c.baseName&&(d=c.baseName)),d},o=function(c){var d="";return c&&(c.textContent?d=Object(a.i)(c.textContent):c.text&&(d=Object(a.i)(c.text))),d},l=function(c,d){return c.childNodes[d]},s=function(c){return c.childNodes?c.childNodes.length:0};e.d(n,"b",function(){return t}),e.d(n,"d",function(){return o}),e.d(n,"a",function(){return l}),e.d(n,"c",function(){return s});var a=e(2)},function(g,n,e){"use strict";var t=function(y){return navigator.userAgent.match(y)!==null},o=function(){return!(t(/chrome\/[123456789]/i)&&!t(/chrome\/18/i)&&!a())&&T()},l=function(){try{return window.self!==window.top}catch(y){return!0}};e.d(n,"f",function(){return a}),e.d(n,"l",function(){return r}),e.d(n,"k",function(){return c}),e.d(n,"p",function(){return d}),e.d(n,"g",function(){return h}),e.d(n,"e",function(){return p}),e.d(n,"n",function(){return v}),e.d(n,"r",function(){return k}),e.d(n,"s",function(){return x}),e.d(n,"d",function(){return S}),e.d(n,"i",function(){return A}),e.d(n,"q",function(){return E}),e.d(n,"j",function(){return O}),e.d(n,"c",function(){return o}),e.d(n,"b",function(){return T}),e.d(n,"o",function(){return b}),e.d(n,"m",function(){return l}),e.d(n,"h",function(){return u}),e.d(n,"a",function(){return f});var s=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},a=function(){return t(/gecko\//i)},r=function(){return t(/iP(hone|od)/i)},c=function(){return t(/iPad/i)||s()},d=function(){return t(/Macintosh/i)&&!s()},h=function(){return t(/FBAV/i)},p=function(){return t(/\sEdge?\/\d+/i)},v=function(){return t(/msie/i)},k=function(){return t(/SMART-TV/)},x=function(){return k()&&!t(/SamsungBrowser/)},S=function(){return t(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!p()&&!t(/UCBrowser/i)&&!k()},A=function(){return!t(/\sEdg\/\d+/i)&&(p()||t(/trident\/.+rv:\s*11/i)||v())},E=function(){return t(/safari/i)&&!t(/(?:Chrome|CriOS|chromium|android|phantom)/i)||k()},O=function(){return t(/iP(hone|ad|od)/i)||s()},T=function(){return t(/Android/i)&&!t(/Windows Phone/i)},b=function(){return O()||T()||t(/Windows Phone/i)},u=function(){return!1},f=function(){return 0}},function(g,n,e){"use strict";var t=function(q,ee){return q.classList.contains(ee)},o=function(q){return s(q).firstChild},l=function(q,ee){E(q),function(we,ie){if(ie){for(var le=document.createDocumentFragment(),ye=s(ie).childNodes,Ee=0;Ee<ye.length;Ee++)le.appendChild(ye[Ee].cloneNode(!0));we.appendChild(le)}}(q,ee)},s=function(q){var ee=function(le){if(M||(M=new Q,W=function(){try{if(M.parseFromString("","text/html"))return!0}catch(Ee){}return!1}()),W)return M.parseFromString(le,"text/html").body;var ye=document.implementation.createHTMLDocument("");return le.toLowerCase().indexOf("<!doctype")>-1?ye.documentElement.innerHTML=le:ye.body.innerHTML=le,ye.body}(q);a(ee);for(var we=ee.querySelectorAll("*"),ie=we.length;ie--;)r(we[ie]);return ee},a=function(q){for(var ee=q.querySelectorAll("script,object,iframe,meta"),we=ee.length;we--;){var ie=ee[we];ie.parentNode.removeChild(ie)}return q},r=function(q){for(var ee=q.attributes,we=ee.length;we--;){var ie=ee[we].name;if(/^on/.test(ie)&&q.removeAttribute(ie),/href/.test(ie)){var le=ee[we].value;/javascript:|javascript&colon;/.test(le)||!me.test(le)?q.removeAttribute(ie):console.warn("Invalid or unsafe URL")}}return q},c=function(q){return q+(q.toString().indexOf("%")>0?"":"px")},d=function(q){return Object(I.s)(q.className)?q.className.split(" "):[]},h=function(q,ee){ee=Object(D.i)(ee),q.className!==ee&&(q.className=ee)},p=function(q){return q.classList?q.classList:d(q)},v=function(q,ee){var we=d(q);(Array.isArray(ee)?ee:ee.split(" ")).forEach(function(ie){Object(I.b)(we,ie)||we.push(ie)}),h(q,we.join(" "))},k=function(q,ee){var we=d(q),ie=Array.isArray(ee)?ee:ee.split(" ");h(q,Object(I.e)(we,ie).join(" "))},x=function(q,ee,we){var ie=q.className||"";ee.test(ie)?ie=ie.replace(ee,we):we&&(ie+=" "+we),h(q,ie)},S=function(q,ee,we){var ie=t(q,ee);(we=Object(I.n)(we)?we:!ie)!==ie&&(we?v(q,ee):k(q,ee))},A=function(q,ee,we){q.setAttribute(ee,we)},E=function(q){for(;q.firstChild;)q.removeChild(q.firstChild)},O=function(q){var ee=document.createElement("link");ee.rel="stylesheet",ee.href=q,document.getElementsByTagName("head")[0].appendChild(ee)},T=function(q){q&&E(q)},b=function(q){var ee={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!q||!document.body.contains(q))return ee;var we=q.getBoundingClientRect(),ie=window.pageYOffset,le=window.pageXOffset;return(we.width||we.height||we.left||we.top)&&(ee.left=we.left+le,ee.right=we.right+le,ee.top=we.top+ie,ee.bottom=we.bottom+ie,ee.width=we.right-we.left,ee.height=we.bottom-we.top),ee},u=function(q,ee){q.insertBefore(ee,q.firstChild)},f=function(q){return q.nextElementSibling},m=function(q){return q.previousElementSibling},y=function(q,ee,we){if(we===void 0&&(we={}),me.test(q)){var ie=document.createElement("a");ie.href=q,ie.target=ee,ie=r(Object(I.g)(ie,we)),z.Browser.firefox?ie.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):ie.click()}},w=function(){var q=window.screen.orientation;return!!q&&(q.type==="landscape-primary"||q.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},C=function(q){return function(ee){var we=document.createElement("textarea");return we.innerHTML=ee,we.value}(q).replace(/&|<|>|"|''/gm,function(ee){return"&#"+ee.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(n,"j",function(){return t}),e.d(n,"f",function(){return o}),e.d(n,"r",function(){return l}),e.d(n,"k",function(){return s}),e.d(n,"t",function(){return a}),e.d(n,"s",function(){return r}),e.d(n,"v",function(){return c}),e.d(n,"e",function(){return p}),e.d(n,"b",function(){return v}),e.d(n,"p",function(){return k}),e.d(n,"q",function(){return x}),e.d(n,"w",function(){return S}),e.d(n,"u",function(){return A}),e.d(n,"i",function(){return E}),e.d(n,"c",function(){return O}),e.d(n,"h",function(){return T}),e.d(n,"d",function(){return b}),e.d(n,"n",function(){return u}),e.d(n,"l",function(){return f}),e.d(n,"o",function(){return m}),e.d(n,"m",function(){return y}),e.d(n,"g",function(){return w}),e.d(n,"a",function(){return C});var M,I=e(0),D=e(2),z=e(7),Q=window.DOMParser,W=!0,me=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(g,n,e){"use strict";var t=function(h,p){var v=h.exec(p);if(v&&v.length>1)return v[1]};e.r(n);var o=e(5);e.d(n,"Browser",function(){return a}),e.d(n,"OS",function(){return r}),e.d(n,"Features",function(){return c});var l=navigator.userAgent,s=function(){},a={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(d,h){var p,v,k,x;if(d.chrome)p=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(d.safari)p=h.substring(h.indexOf("Version")+8);else if(d.firefox)p=h.substring(h.indexOf("Firefox")+8);else if(d.edge){var S=h.indexOf("Edge");S===-1?S=h.indexOf("Edg")+4:S+=5,p=h.substring(S)}else d.ie&&(h.indexOf("rv:")!==-1?p=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(p=h.substring(h.indexOf("MSIE")+5)));return p&&((x=p.indexOf(";"))!==-1&&(p=p.substring(0,x)),(x=p.indexOf(" "))!==-1&&(p=p.substring(0,x)),(x=p.indexOf(")"))!==-1&&(p=p.substring(0,x)),v=parseInt(p,10),k=parseInt(p.split(".")[1],10)),{version:p,major:v,minor:k}}(this,l)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return l.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(d,h){var p,v,k;if(d.windows)switch(p=t(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":p="7.0";break;case"6.2":p="8.0";break;case"6.3":p="8.1"}else d.android?p=t(/Android ([._\d]+)/,h):d.iOS?p=t(/OS ([._\d]+)/,h):d.mac?p=t(/Mac OS X ([._\d]+)/,h):d.tizen&&(p=t(/Tizen ([._\d]+)/,h));if(p){v=parseInt(p,10);var x=p.split(/[._]/);x&&(k=parseInt(x[1],10))}return{version:p,major:v,minor:k}}(this,l)}},c={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var d=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return d=!0}});window.addEventListener("testPassive",s,h),window.removeEventListener("testPassive",s,h)}catch(p){}return d}()},get backgroundLoading(){return!(r.iOS||a.safari||r.tizen)}}},function(g,n,e){"use strict";var t=function(v,k,x,S){if(!x)return!0;if(typeof x=="object"){for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&v[k].apply(v,[A,x[A]].concat(S));return!1}if(h.test(x)){for(var E=x.split(h),O=0,T=E.length;O<T;O++)v[k].apply(v,[E[O]].concat(S));return!1}return!0},o=function(v,k,x,S){for(var A=-1,E=v.length;++A<E;){var O=v[A];if(S)try{O.callback.apply(O.context||x,k)}catch(T){console.log('Error in "'+S+'" event handler:',T)}else O.callback.apply(O.context||x,k)}};e.d(n,"a",function(){return l}),e.d(n,"c",function(){return s}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"e",function(){return c}),e.d(n,"f",function(){return d});var l=function(){var p=function(){},v=p.prototype;return v.on=function(k,x,S){if(!t(this,"on",k,[x,S])||!x)return this;var A=this._events||(this._events={});return(A[k]||(A[k]=[])).push({callback:x,context:S}),this},v.once=function(k,x,S){if(!t(this,"once",k,[x,S])||!x)return this;var A=0,E=this,O=function T(){A++||(E.off(k,T),x.apply(this,arguments))};return O._callback=x,this.on(k,O,S)},v.off=function(k,x,S){if(!this._events||!t(this,"off",k,[x,S]))return this;if(!k&&!x&&!S)return delete this._events,this;for(var A=k?[k]:Object.keys(this._events),E=0,O=A.length;E<O;E++){k=A[E];var T=this._events[k];if(T){var b=this._events[k]=[];if(x||S)for(var u=0,f=T.length;u<f;u++){var m=T[u];(x&&x!==m.callback&&x!==m.callback._callback||S&&S!==m.context)&&b.push(m)}b.length||delete this._events[k]}}return this},v.trigger=function(k){for(var x=arguments.length,S=new Array(x>1?x-1:0),A=1;A<x;A++)S[A-1]=arguments[A];if(!this._events)return this;if(!t(this,"trigger",k,S))return this;var E=this._events[k],O=this._events.all;return E&&o(E,S,this),O&&o(O,arguments,this),this},v.triggerSafe=function(k){for(var x=arguments.length,S=new Array(x>1?x-1:0),A=1;A<x;A++)S[A-1]=arguments[A];if(!this._events)return this;if(!t(this,"trigger",k,S))return this;var E=this._events[k],O=this._events.all;return E&&o(E,S,this,k),O&&o(O,arguments,this,k),this},p}(),s=l.prototype.on,a=l.prototype.once,r=l.prototype.off,c=l.prototype.trigger,d=l.prototype.triggerSafe;l.on=s,l.once=a,l.off=r,l.trigger=c;var h=/\s+/},function(g,n,e){"use strict";var t=function(c,d){return function(){throw new s.o(s.k,c,d)}},o=function(c,d){return function(){throw new s.o(null,c,d)}},l=function(){return e.e(3).then(function(c){return e(54).default}.bind(null,e)).catch(t(s.q+101))};e.d(n,"a",function(){return a}),e.d(n,"b",function(){return t}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return l});var s=e(1),a={}},function(g,n,e){"use strict";var t=function(p){switch(typeof p=="undefined"?"undefined":_typeof(p)){case"string":return p.length>0;case"object":return p!==null;case"undefined":return!1;default:return!0}},o=function(){return c==="https:"},l=function(){return c==="file:"},s=function(p,v){return p.indexOf("rtmp:")===0||v==="rtmp"},a=function(p,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(p)},r=function(p){if(p===null)return"null";var v=typeof p=="undefined"?"undefined":_typeof(p);return v==="object"&&Array.isArray(p)?"array":v};e.r(n),e.d(n,"exists",function(){return t}),e.d(n,"isHTTPS",function(){return o}),e.d(n,"isFileProtocol",function(){return l}),e.d(n,"isRtmp",function(){return s}),e.d(n,"isYouTube",function(){return a}),e.d(n,"typeOf",function(){return r}),e.d(n,"isDeepKeyCompliant",function(){return d});var c=window.location.protocol;function d(h,p,v){var k=Object.keys(h);return Object.keys(p).length>=k.length&&k.every(function(x){var S=h[x],A=p[x];return S&&typeof S=="object"?!(!A||typeof A!="object")&&d(S,A,v):v(x,h)})}},function(g,n,e){"use strict";var t=function(x,S,A,E){A=A||"all-players";var O="";if(typeof S=="object"){var T=document.createElement("div");o(T,S);var b=T.style.cssText;Object.prototype.hasOwnProperty.call(S,"content")&&b&&(b=b+' content: "'+S.content+'";'),E&&b&&(b=b.replace(/;/g," !important;")),O="{"+b+"}"}else typeof S=="string"&&(O=S);O!==""&&O!=="{}"?p.a.style([[x,x+O]],A):p.a.clear(A,x)},o=function(x,S){if(x!=null){var A;x.length===void 0&&(x=[x]);var E={};for(A in S)Object.prototype.hasOwnProperty.call(S,A)&&(E[A]=s(A,S[A]));for(var O=0;O<x.length;O++){var T=x[O],b=void 0;if(T!=null)for(A in E)Object.prototype.hasOwnProperty.call(E,A)&&(b=l(A),T.style[b]!==E[A]&&(T.style[b]=E[A]))}}},l=function(x){x=x.split("-");for(var S=1;S<x.length;S++)x[S]=x[S].charAt(0).toUpperCase()+x[S].slice(1);return x.join("")},s=function(x,S){return S===""||S==null?"":typeof S=="string"&&isNaN(S)?/png|gif|jpe?g/i.test(S)&&S.indexOf("url")<0?"url("+S+")":S:S===0||x==="z-index"||x==="opacity"?""+S:/color/i.test(x)?"#"+Object(d.e)(S.toString(16).replace(/^0x/i,""),6):Math.ceil(S)+"px"},a=function(x,S){o(x,{transform:S})},r=function(x,S){var A="rgb",E=S!==void 0&&S!==100;if(E&&(A+="a"),!c){var O=document.createElement("canvas");O.height=1,O.width=1,c=O.getContext("2d")}x?isNaN(parseInt(x,16))||(x="#"+x):x="#000000",c.clearRect(0,0,1,1),c.fillStyle=x,c.fillRect(0,0,1,1);var T=c.getImageData(0,0,1,1).data;return A+="("+T[0]+", "+T[1]+", "+T[2],E&&(A+=", "+S/100),A+")"};e.d(n,"a",function(){return v}),e.d(n,"b",function(){return t}),e.d(n,"d",function(){return o}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return r});var c,d=e(2),h=e(31),p=e.n(h),v=p.a.clear},function(g,n,e){"use strict";var t=function(p,v){if(v&&Object(c.exists)(v)||(v=document.location.href),!Object(c.exists)(p))return"";if(o(p))return p;var k,x=v.substring(0,v.indexOf("://")+3),S=v.substring(x.length,v.indexOf("/",x.length+1));if(p.indexOf("/")===0)k=p.split("/");else{var A=v.split("?")[0];k=(A=A.substring(x.length+S.length+1,A.lastIndexOf("/"))).split("/").concat(p.split("/"))}for(var E=[],O=0;O<k.length;O++)k[O]&&Object(c.exists)(k[O])&&k[O]!=="."&&(k[O]===".."?E.pop():E.push(k[O]));return x+S+"/"+E.join("/")},o=function(p){return/^(?:(?:https?|file):)?\/\//.test(p)},l=function(p){var v=null;try{(v=new window.DOMParser().parseFromString(p,"text/xml")).querySelector("parsererror")&&(v=null)}catch(k){}return v},s=function(p){if(p===void 0)return null;if(typeof p=="string"&&p.length<6){var v=p.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(d.q)(Number(p))&&!Object(d.q)(parseFloat(p)))return Number(p)}return p},a=function(p){return Object(d.u)(p)?p:p===""?0:p.lastIndexOf("%")>-1?p:parseInt(p.replace("px",""),10)},r=function(p,v){if(Object(d.q)(p)&&(p=parseInt(p.toString())),Object(d.q)(p)||!isFinite(p)||p<=0&&!v)return"00:00";var k=p<0?"-":"";p=Math.abs(p);var x=Math.floor(p/3600),S=Math.floor((p-3600*x)/60),A=Math.floor(p%60);return k+(x?x+":":"")+(S<10?"0":"")+S+":"+(A<10?"0":"")+A};e.r(n),e.d(n,"getAbsolutePath",function(){return t}),e.d(n,"isAbsolutePath",function(){return o}),e.d(n,"parseXML",function(){return l}),e.d(n,"serialize",function(){return s}),e.d(n,"parseDimension",function(){return a}),e.d(n,"timeFormat",function(){return r});var c=e(10),d=e(0)},function(g,n,e){"use strict";var t=function(y){var w=o(y),C=w.indexOf("_");return C===-1?w:w.substring(0,C)},o=function(y){return y.toLowerCase().replace("-","_")},l=function(y){return y?Object.keys(y).reduce(function(w,C){return w[o(C)]=y[C],w},{}):{}},s=function(y){var w=y.querySelector("html");return w?w.getAttribute("lang"):null},a=function(){var y=s(document);if(!y&&Object(A.m)())try{y=s(window.top.document)}catch(w){}return y||navigator.language||"en"},r=function(y){return y.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(y)},c=function(y){return f.indexOf(t(y))>=0},d=function(y,w,C){return Object(S.g)({},function(M){var I=M.advertising,D=M.related,z=M.sharing,Q=M.abouttext,W=Object(S.g)({},M.localization);I&&(W.advertising=W.advertising||{},h(W.advertising,I,"admessage"),h(W.advertising,I,"cuetext"),h(W.advertising,I,"loadingAd"),h(W.advertising,I,"podmessage"),h(W.advertising,I,"skipmessage"),h(W.advertising,I,"skiptext")),typeof W.related=="string"?W.related={heading:W.related}:W.related=W.related||{},D&&h(W.related,D,"autoplaymessage"),z&&(W.sharing=W.sharing||{},h(W.sharing,z,"heading"),h(W.sharing,z,"copied")),Q&&h(W,M,"abouttext");var me=W.close||W.nextUpClose;return me&&(W.close=me),W}(y),w[t(C)],w[o(C)])},h=function(y,w,C){var M=y[C]||w[C];M&&(y[C]=M)},p=function(y){return Object(O.isDeepKeyCompliant)(T.a,y,function(w,C){return typeof C[w]=="string"})},v=function(y,w){var C,M=b[w];if(!M){var I=y+"translations/"+(C=t(w),(/^n[bn]$/.test(C)?"no":C)+".json");b[w]=M=new Promise(function(D,z){Object(E.a)({url:I,oncomplete:D,onerror:function(W,me,oe,q){b[w]=null,z(q)},responseType:"json"})})}return M},k=function(y,w){var C=Object(S.g)({},y,w);return x(C,"errors",y,w),x(C,"related",y,w),x(C,"sharing",y,w),x(C,"advertising",y,w),x(C,"shortcuts",y,w),x(C,"captionsStyles",y,w),C},x=function(y,w,C,M){y[w]=Object(S.g)({},C[w],M[w])};e.d(n,"h",function(){return l}),e.d(n,"c",function(){return a}),e.d(n,"e",function(){return r}),e.d(n,"f",function(){return c}),e.d(n,"b",function(){return d}),e.d(n,"d",function(){return p}),e.d(n,"g",function(){return v}),e.d(n,"a",function(){return k});var S=e(0),A=e(5),E=e(21),O=e(10),T=e(30),b={},u={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(S.m)(u);var f=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(g,n,e){"use strict";n.a=[]},function(g,n,e){"use strict";var t=e(49),o=e(10),l=document.createElement("video");e.d(n,"a",function(){return a});var s={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},a=[{name:"html5",supports:function(c){if(!l||!l.canPlayType||Object(t.a)(c)===!1)return!1;var d=c.file,h=c.type;if(Object(o.isRtmp)(d,h))return!1;var p=c.mimeType||s[h];if(!p)return!1;var v=c.mediaTypes;return v&&v.length&&(p=[p].concat(v.slice()).join("; ")),!!l.canPlayType(p)}}]},function(g,n,e){"use strict";e.d(n,"a",function(){return t});var t=Date.now||function(){return new Date().getTime()}},function(g,n,e){"use strict";n.a={debug:!1}},function(g,n,e){"use strict";var t=function(T,b){return v[T]?T:v[b]?b:"metadata"},o=function(T,b,u){var f=Object(p.g)({},u);return delete f.playlist,T.map(function(m){return s(b,m,f)}).filter(function(m){return!!m})},l=function(T){if(!Array.isArray(T)||T.length===0)throw new A.o(A.l,630)},s=function(T,b,u){var f=T.getProviders(),m=T.get("preload"),y=Object(p.g)({},b);if(y.preload=t(b.preload,m),y.allSources=r(y,T),y.sources=c(y.allSources,f),y.sources.length)return y.file=y.sources[0].file,y.feedData=u,function(w){var C=w.sources[0].liveSyncDuration;return C&&(w.liveSyncDuration=w.dvrSeekLimit=C),w}(y)},a=function(T,b){var u=(parseInt(T,10)||0)%b;return u<0&&(u+=b),u},r=function(T,b){var u=b.attributes,f=T.sources,m=T.allSources,y=T.preload,w=T.drm,C=d(T.withCredentials,u.withCredentials);return(m||f).map(function(M){if(M!==Object(M))return null;h(M,u,"androidhls"),h(M,u,"hlsjsdefault"),h(M,u,"safarihlsjs"),function(z,Q,W){if(!z.liveSyncDuration){var me=Q.liveSyncDuration?Q:W;h(z,me,"liveSyncDuration")}}(M,T,u),h(M,u,"_hlsjsProgressive"),M.preload=t(M.preload,y);var I=M.drm||w||u.drm;I&&(M.drm=I);var D=d(M.withCredentials,C);return D!==void 0&&(M.withCredentials=D),Object(x.a)(M)}).filter(function(M){return!!M})},c=function(T,b){b&&b.choose||(b=new S.a);var u=function(y,w){for(var C=0;C<y.length;C++){var M=y[C],I=w.choose(M).providerToCheck;if(I)return{type:M.type,provider:I}}return null}(T,b);if(!u)return[];var f=u.provider,m=u.type;return T.filter(function(y){return y.type===m&&b.providerSupports(f,y)})},d=function(T,b){return T===void 0?b:T},h=function(T,b,u){u in b&&(T[u]=b[u])},p=e(0),v={none:!0,metadata:!0,auto:!0},k=e(24),x=e(27),S=e(32),A=e(1);e.d(n,"b",function(){return o}),e.d(n,"e",function(){return l}),e.d(n,"d",function(){return s}),e.d(n,"f",function(){return a}),e.d(n,"c",function(){return E});var E=function(T,b){return c(r(T,b),b.getProviders())};n.a=function(O){return(Array.isArray(O)?O:[O]).map(k.a)}},function(g,n,e){"use strict";e.r(n),e.d(n,"getScriptPath",function(){return o}),e.d(n,"repo",function(){return l}),e.d(n,"versionCheck",function(){return s}),e.d(n,"loadFrom",function(){return a});var t=e(22),o=(e(10),function(c){for(var d=document.getElementsByTagName("script"),h=0;h<d.length;h++){var p=d[h].src;if(p){var v=p.lastIndexOf("/"+c);if(v>=0)return p.substr(0,v+1)}}return""}),l=function(){return o("jwplayer.js")},s=function(c){var d=("0"+c).split(/\W/),h=t.a.split(/\W/),p=parseFloat(d[0]),v=parseFloat(h[0]);return!(p>v)&&!(p===v&&parseFloat("0"+d[1])>parseFloat(h[1]))},a=function(){return o("jwplayer.js")}},function(g,n,e){"use strict";var t=function(c){var d=c.getName().name;if(!o.a[d]){if(!Object(a.i)(l.a,Object(a.w)({name:d}))){if(!Object(a.p)(c.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:d,supports:c.supports})}Object(a.d)(c.prototype,s.a),o.a[d]=c}};e.d(n,"a",function(){return t});var o=e(26),l=e(15),s=e(50),a=e(0);e(8)},function(g,n,e){"use strict";var t=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,k,x,S){v.onerror(k,v.url,v.xhr,new c.o(k,x,S))},l=function(v,k,x){var S=k.documentElement;if(!x.requireValidXML||S.nodeName!=="parsererror"&&!S.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(s.g)({},v,{responseXML:k})),x.oncomplete(v);o(x,c.l,601)};e.d(n,"a",function(){return h});var s=e(0),a=e(12),r=e(10),c=e(1),d=function(){};function h(p,v,k,x){var S;p===Object(p)&&(p=(x=p).url);var A=Object(s.g)({xhr:null,url:p,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||d,onerror:k||d,mimeType:x&&!x.responseType?"text/xml":"",requireValidXML:!1,responseType:x&&x.plainText?"text":"",useDomParser:!1,requestFilter:null},x),E=function(T,b){return function(u,f){var m=u.currentTarget||b.xhr;if(clearTimeout(b.timeoutId),b.retryWithoutCredentials&&b.xhr.withCredentials)return t(m),void h(Object(s.g)({},b,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!f&&m.status>=400&&m.status<600&&(f=m.status),o(b,f?c.l:c.n,f||6,u)}}(0,A);if("XMLHttpRequest"in window){if(S=A.xhr=A.xhr||new window.XMLHttpRequest,typeof A.requestFilter=="function"){var O;try{O=A.requestFilter({url:p,xhr:S})}catch(T){return E(T,5),S}O&&"open"in O&&"send"in O&&(S=A.xhr=O)}S.onreadystatechange=function(T){return function(b){var u=b.currentTarget||T.xhr;if(u.readyState===4){clearTimeout(T.timeoutId);var f=u.status;if(f>=400)return void o(T,c.l,f<600?f:6);if(f===200)return function(m){return function(y){var w=y.currentTarget||m.xhr;if(clearTimeout(m.timeoutId),m.responseType){if(m.responseType==="json")return function(I,D){if(!I.response||typeof I.response=="string"&&I.responseText.substr(1)!=='"')try{I=Object(s.g)({},I,{response:JSON.parse(I.responseText)})}catch(z){return void o(D,c.l,611,z)}return D.oncomplete(I)}(w,m)}else{var C,M=w.responseXML;if(M)try{C=M.firstChild}catch(I){}if(M&&C||m.useDomParser&&w.responseText&&!M&&(M=Object(a.parseXML)(w.responseText))&&M.firstChild)return l(w,M,m);if(m.requireValidXML)return void o(m,c.l,602)}m.oncomplete(w)}}(T)(b);f===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(T.url)&&o(T,c.l,7)}}}(A),S.onerror=E,"overrideMimeType"in S?A.mimeType&&S.overrideMimeType(A.mimeType):A.useDomParser=!0;try{p=p.replace(/#.*$/,""),S.open("GET",p,!0)}catch(T){return E(T,3),S}if(A.responseType)try{S.responseType=A.responseType}catch(T){}A.timeout&&(A.timeoutId=setTimeout(function(){t(S),o(A,c.n,1)},A.timeout),S.onabort=function(){clearTimeout(A.timeoutId)});try{A.withCredentials&&"withCredentials"in S&&(S.withCredentials=!0),S.send()}catch(T){E(T,4)}return S}o(A,c.n,2)}},function(g,n,e){"use strict";e.d(n,"a",function(){return t});var t="8.22.0+local.2021-09-01-23-05-40-496"},function(g,n,e){"use strict";var t=function(){return a+s.now()},o=e(0),l=e(16),s=window.performance||{timing:{}},a=s.timing.navigationStart||Object(l.a)();"now"in s||(s.now=function(){return Object(l.a)()-a});var r=function(){var c=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},d=c.prototype;return d.start=function(h){this.startTimes[h]=t(),this.counts[h]=this.counts[h]+1||1},d.end=function(h){if(this.startTimes[h]){var p=t()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+p||p}},d.dump=function(){var h=Object(o.g)({},this.sum);for(var p in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,p)){var v=t()-this.startTimes[p];h[p]=h[p]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},d.tick=function(h){this.ticks[h]=t()},d.clear=function(h){delete this.ticks[h]},d.between=function(h,p){return this.ticks[p]&&this.ticks[h]?this.ticks[p]-this.ticks[h]:null},c}();n.a=r},function(g,n,e){"use strict";var t=e(0),o=e(27),l=["captions","metadata","thumbnails","chapters"],s=function(d){if(d&&d.file){var h,p=Object(t.g)({},{kind:"captions",default:!1},d);return p.kind=(h=p.kind,l.indexOf(h)!==-1?p.kind:"captions"),p.default=!!p.default,p}},a=e(28),r=Array.isArray;n.a=function(c){r((c=c||{}).tracks)||delete c.tracks;var d=Object(t.g)({},{sources:[],tracks:[],minDvrWindow:a.b},c);d.sources!==Object(d.sources)||r(d.sources)||(d.sources=[Object(o.a)(d.sources)]),r(d.sources)&&d.sources.length!==0||(c.levels?d.sources=c.levels:d.sources=[Object(o.a)(c)]);for(var h=0;h<d.sources.length;h++){var p=d.sources[h];if(p){var v=p.default;p.default=!!v&&v.toString()==="true",d.sources[h].label||(d.sources[h].label=h.toString()),d.sources[h]=Object(o.a)(d.sources[h])}}return d.sources=d.sources.filter(function(k){return!!k}),r(d.tracks)||(d.tracks=[]),r(d.captions)&&(d.tracks=d.tracks.concat(d.captions),delete d.captions),d.tracks=d.tracks.map(s).filter(function(k){return!!k}),d}},function(g,n,e){"use strict";var t=function(T,b){var u=T.get("plugins");return window.jwplayerPluginJsonp=E,(T.pluginLoader=T.pluginLoader||new a).load(b,A,u,T).then(function(f){if(!T.attributes._destroyed)return delete window.jwplayerPluginJsonp,f})},o=e(1),l=e(0),s=function(T){return T.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},a=function(){this.load=function(T,b,u,f){return u&&typeof u=="object"?Promise.all(Object.keys(u).filter(function(m){return m}).map(function(m){var y=u[m];return b.setupPlugin(m).then(function(w){if(!f.attributes._destroyed)return function(C,M,I){var D=C.name,z=Object(l.g)({},M),Q=document.createElement("div");Q.id=I.id+"_"+D,Q.className="jw-plugin jw-reset";var W=C.getNewInstance(I,z,Q);return I.addPlugin(D,W),W}(w,y,T)}).catch(function(w){return b.removePlugin(m),w.code?w:new o.o(null,305e3,w)})})):Promise.resolve()}},r=e(35),c=e(12),d=e(2),h=function(T){if(typeof T=="string"){var b=(T=T.split("?")[0]).indexOf("://");if(b>0)return 0;var u=T.indexOf("/"),f=Object(d.a)(T);return!(b<0&&u<0)||f&&isNaN(f)?1:2}},p=function(T){this.url=T,this.promise_=null};Object.defineProperties(p.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(p.prototype,{load:function(){var T=this,b=this.promise_;if(!b){if(h(this.url)===2)return Promise.resolve(this);var u=new r.a(function(f){switch(h(f)){case 0:return f;case 1:return Object(c.getAbsolutePath)(f,window.location.href)}}(this.url));this.loader=u,b=u.load().then(function(){return T}),this.promise_=b}return b},registerPlugin:function(T,b,u){this.name=T,this.target=b,this.js=u},getNewInstance:function(T,b,u){var f=this.js;if(typeof f!="function")throw new o.o(null,(this.url,305100));var m=new f(T,b,u);return m.addToPlayer=function(){var y=this.getContainer().querySelector(".jw-overlays");y&&(u.left=y.style.left,u.top=y.style.top,y.appendChild(u))},m.resizeHandler=function(){var y=this.getContainer().querySelector(".jw-overlays");y&&m.resize(y.clientWidth,y.clientHeight)},m}});var v=p,k=e(36),x={},S=function(){var O=function(){},T=O.prototype;return T.setupPlugin=function(b){var u=this.getPlugin(b);return u?(u.url!==b&&Object(k.a)('JW Plugin "'+s(b)+'" already loaded from "'+u.url+'". Ignoring "'+b+'."'),u.promise):this.addPlugin(b).load()},T.addPlugin=function(b){var u=s(b),f=x[u];return f||(f=new v(b),x[u]=f),f},T.getPlugin=function(b){return x[s(b)]},T.removePlugin=function(b){delete x[s(b)]},T.getPlugins=function(){return x},O}();e.d(n,"b",function(){return E}),e.d(n,"a",function(){return t});var A=new S,E=function(T,b,u){var f=A.addPlugin(T);f.js||f.registerPlugin(T,b,u)}},function(g,n,e){"use strict";e.d(n,"a",function(){return t});var t={}},function(g,n,e){"use strict";var t=e(0),o=e(10),l=e(2);n.a=function(s){if(s&&s.file){var a=Object(t.g)({},{default:!1,type:""},s);a.file=Object(l.i)(""+a.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,c=a.type;if(r.test(c)&&(a.mimeType=c,a.type=c.replace(r,"$1")),Object(o.isYouTube)(a.file)?a.type="youtube":Object(o.isRtmp)(a.file)?a.type="rtmp":a.type||(a.type=Object(l.a)(a.file)),a.type){switch(a.type){case"m3u8":case"vnd.apple.mpegurl":a.type="hls";break;case"dash+xml":a.type="dash";break;case"m4a":a.type="aac";break;case"smil":a.type="rtmp"}return Object.keys(a).forEach(function(d){a[d]===""&&delete a[d]}),a}}}},function(g,n,e){"use strict";e.d(n,"d",function(){return t}),e.d(n,"c",function(){return o}),e.d(n,"b",function(){return l}),e.d(n,"a",function(){return s});var t={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},l=120,s=25},function(g,n,e){"use strict";var t=function(){return s||(s=l.OS.tizenApp?e.e(2).then(function(c){var d=e(55).default;return a.controls=d,d}.bind(null,e)).catch(function(){s=null,Object(o.c)(301133)()}):e.e(1).then(function(c){var d=e(52).default;return a.controls=d,d}.bind(null,e)).catch(function(){s=null,Object(o.c)(301130)()})),s};e.d(n,"a",function(){return a}),e.d(n,"b",function(){return t});var o=e(9),l=e(7),s=null,a={}},function(g,n,e){"use strict";n.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(g,n){var e=function(v){var k=document.createElement("style");return k.type="text/css",k.setAttribute("data-jwplayer-id",v),function(x){c().appendChild(x)}(k),k},t=function(v,k){var x,S,A,E=r[v];E||(E=r[v]={element:e(v),counter:0});var O=E.counter++;return x=E.element,A=function(){o(x,O,"")},(S=function(b){o(x,O,b)})(k.css),function(T){if(T){if(T.css===k.css&&T.media===k.media)return;S((k=T).css)}else A()}},o=function(v,k,x){if(v.styleSheet)v.styleSheet.cssText=h(k,x);else{var S=document.createTextNode(x),A=v.childNodes[k];A?v.replaceChild(S,A):v.appendChild(S)}},l,s,a={},r={},c=(l=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return s===void 0&&(s=l.apply(this,arguments)),s});g.exports={style:function(v,k){(function(x,S){for(var A=0;A<S.length;A++){var E=S[A],O=(a[x]||{})[E.id];if(O){for(var T=0;T<O.parts.length;T++)O.parts[T](E.parts[T]);for(;T<E.parts.length;T++)O.parts.push(t(x,E.parts[T]))}else{var b=[];for(T=0;T<E.parts.length;T++)b.push(t(x,E.parts[T]));a[x]=a[x]||{},a[x][E.id]={id:E.id,parts:b}}}})(k,function(x){for(var S=[],A={},E=0;E<x.length;E++){var O=x[E],T=O[0],b=O[1],u=O[2],f={css:b,media:u};A[T]?A[T].parts.push(f):S.push(A[T]={id:T,parts:[f]})}return S}(v))},clear:function(v,k){var x=a[v];if(x){if(k){var S=x[k];if(S)for(var A=0;A<S.parts.length;A+=1)S.parts[A]();return}for(var E=Object.keys(x),O=0;O<E.length;O+=1)for(var T=x[E[O]],b=0;b<T.parts.length;b+=1)T.parts[b]();delete a[v]}}};var d,h=(d=[],function(v,k){return d[v]=k,d.filter(Boolean).join("\n")})},function(g,n,e){"use strict";var t=function(h){this.config=h||{}},o=e(0),l=e(15),s=e(26),a=e(20),r=e(9),c={html5:function(){return e.e(10).then(function(h){var p=e(117).default;return Object(a.a)(p),p}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(t.prototype,{load:function(h){var p=c[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return p?p().then(function(){var k=s.a[h];return k||v()}):v()},providerSupports:function(h,p){return h.supports(p)},choose:function(h){if(h===Object(h))for(var p=l.a.length,v=0;v<p;v++){var k=l.a[v];if(this.providerSupports(k,h))return{priority:p-v-1,name:k.name,type:h.type,providerToCheck:k,provider:s.a[k.name]}}return{}}}),n.a=t},function(g,n,e){"use strict";var t=function(a,r){var c=r.message,d=r.code,h=function(x,S,A,E){return'<div id="'+x+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+x+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+x+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+x+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(S||"")+'<span class="jw-break jw-reset"></span>'+(E?("("+A+": "+E+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(a.get("id"),c,a.get("localization").errors.errorCode,d.toString()),p=a.get("width"),v=a.get("height"),k=Object(o.f)(h);return Object(l.d)(k,{width:p.toString().indexOf("%")>0?p:p+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),k},o=e(6),l=e(11);e.d(n,"a",function(){return t})},function(g,n,e){"use strict";var t=function(s){return s.slice&&s.slice(-2)==="px"&&(s=s.slice(0,-2)),s},o=function(s,a){if(a.toString().indexOf("%")===-1||typeof s!="string"||!s)return 0;if(/^\d*\.?\d+%$/.test(s))return s;var r=s.indexOf(":");if(r===-1)return 0;var c=parseFloat(s.substr(0,r)),d=parseFloat(s.substr(r+1));return c<=0||d<=0?0:d/c*100+"%"};e.d(n,"b",function(){return t}),e.d(n,"a",function(){return o})},function(g,n,e){"use strict";var t=function(h){var p=document.createElement("link");return p.type="text/css",p.rel="stylesheet",p.href=h,p},o=function(h,p){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=p||45e3,v.src=h,v},l=e(0),s=e(8),a=e(3),r={},c=function(h,p,v){var k=function(O){A=2,S.trigger(a.w,O).off()},x=function(O){A=3,S.trigger(a.kb,O).off()},S=this,A=0;this.getStatus=function(){return A},this.load=function(){var E=r[h];return A!==0||(E&&E.then(x).catch(k),A=1,E=new Promise(function(O,T){var b=(p?t:o)(h,v),u=function(){b.onerror=b.onload=null,clearTimeout(m)},f=function(C){u(),k(C),T(C)},m=setTimeout(function(){f(new Error("Network timeout "+h))},45e3);b.onerror=function(){f(new Error("Failed to load "+h))},b.onload=function(w){u(),x(w),O(w)};var y=document.getElementsByTagName("head")[0]||document.documentElement;y.insertBefore(b,y.firstChild)}),r[h]=E),E}};Object(l.g)(c.prototype,s.a),n.a=c},function(g,n,e){"use strict";e.d(n,"a",function(){return t});var t=typeof console.log=="function"?console.log.bind(console):function(){}},function(g,n,e){"use strict";var t=function(W){return W&&!(D.test(W)||typeof W=="object")},o=function(W){if(!W.handlers.init){var me=W.el,oe=W.passive,q=!!C&&{passive:oe},ee=function(le){if(W.dragged)p(W,A.s,le);else{var ye=v(le),Ee=ye.pageX,fe=ye.pageY,rt=Ee-W.startX,ct=fe-W.startY;rt*rt+ct*ct>36&&(p(W,A.u,le),W.dragged=!0,p(W,A.s,le))}var Ot;oe||le.type!=="touchmove"||(Ot=le).preventDefault&&Ot.preventDefault()},we=function(le){clearTimeout(u),W.el&&(d(W),c(W,"window"),W.dragged&&(W.dragged=!1,p(W,A.t,le)))};s(W,"init"),x(W,"init",function(ie){if(Object(T.p)(me,"jw-tab-focus"),!k(ie)){var le=ie.target,ye=ie.type;if(!W.directSelect||le===me){var Ee=v(ie),fe=Ee.pageX,rt=Ee.pageY;if(W.dragged=!1,W.startX=fe,W.startY=rt,c(W,"window"),ye==="pointerdown"&&ie.isPrimary){if(!oe){var ct=ie.pointerId;W.pointerId=ct,me.setPointerCapture(ct)}r(W,"window","pointermove",ee,q),r(W,"window","pointercancel",we),r(W,"window","pointerup",we)}else ye==="mousedown"?(r(W,"window","mousemove",ee,q),r(W,"window","mouseup",we)):ye==="touchstart"&&(r(W,"window","touchmove",ee,q),r(W,"window","touchcancel",we),r(W,"window","touchend",we))}}},q),f||(f=new I(document).on("interaction"))}},l=function(W){if(!W.handlers.select){var me=W.el;s(W,"select"),x(W,"select",function(oe){var q=oe.target;k(oe)||W.directSelect&&q!==me||(oe.isPrimary&&q.tageName==="BUTTON"&&q.focus(),W.lastStart=Object(O.a)(),W.clicking=!0)}),r(W,"select","click",function(oe){k(oe)||W.directSelect&&oe.target!==me||(Object(O.a)()-W.lastStart>500&&W.clicking===!0||(function(q,ee){q.enableDoubleClick&&(Object(O.a)()-q.lastClick<300?(p(q,A.r,ee),q.lastClick=0):q.lastClick=Object(O.a)())}(W,oe),p(W,A.o,oe)),W.clicking=!1)})}},s=function(W,me){if(!W.handlers.init&&!W.handlers.select){var oe=W.el;r(W,me,"blur",function(){Object(T.p)(oe,"jw-tab-focus"),W.clicking=!1}),r(W,me,"focus",function(){f.event&&f.event.type==="keydown"&&Object(T.b)(oe,"jw-tab-focus")})}},a=function(W){var me=W.ownerDocument||W;return me.defaultView||me.parentWindow||window},r=function(W,me,oe,q,ee){ee===void 0&&(ee=M);var we=W.handlers[me],ie=W.options[me];if(we||(we=W.handlers[me]={},ie=W.options[me]={}),we[oe])throw new Error(me+" "+oe+" already registered");we[oe]=q,ie[oe]=ee;var le=W.el;(me==="window"?a(le):le).addEventListener(oe,q,ee)},c=function(W,me){var oe=W.el,q=W.handlers,ee=W.options,we=me==="window"?a(oe):oe,ie=q[me],le=ee[me];ie&&(Object.keys(ie).forEach(function(ye){var Ee=le[ye];typeof Ee=="boolean"?we.removeEventListener(ye,ie[ye],Ee):we.removeEventListener(ye,ie[ye])}),q[me]=null,ee[me]=null)},d=function(W){var me=W.el;W.pointerId!==null&&(me.releasePointerCapture(W.pointerId),W.pointerId=null)},h=function(W,me,oe){var q=W.el,ee=oe.target;W.trigger(me,{type:me,sourceEvent:oe,currentTarget:q,target:ee})},p=function(W,me,oe){var q=function(ee,we,ie){var le,ye=we.target,Ee=we.touches,fe=we.changedTouches,rt=we.pointerType;Ee||fe?(le=Ee&&Ee.length?Ee[0]:fe[0],rt=rt||"touch"):(le=we,rt=rt||"mouse");var ct=le,Ot=ct.pageX,_t=ct.pageY;return{type:ee,pointerType:rt,pageX:Ot,pageY:_t,sourceEvent:we,currentTarget:ie,target:ye}}(me,oe,W.el);W.trigger(me,q)},v=function(W){return W.type.indexOf("touch")===0?(W.originalEvent||W).changedTouches[0]:W},k=function(W){return!(!W.ctrlKey||W.type!=="click")||("which"in W?W.which===3:"button"in W&&W.button===2)},x=function(W,me,oe,q){y?r(W,me,"pointerdown",oe,q):(w&&r(W,me,"mousedown",oe,q),r(W,me,"touchstart",oe,q))};e.d(n,"a",function(){return I}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return k});var S=e(7),A=e(3),E=e(8),O=e(16),T=e(6);function b(Q,W){return(b=Object.setPrototypeOf||function(me,oe){return me.__proto__=oe,me})(Q,W)}var u,f,m="ontouchstart"in window,y="PointerEvent"in window&&!S.OS.android,w=!(y||m&&S.OS.mobile),C=S.Features.passiveEvents,M=!!C&&{passive:!0},I=function(Q){var W=function(we,ie){var le;le=Q.call(this)||this;var ye=!(ie=ie||{}).preventScrolling;return le.directSelect=!!ie.directSelect,le.dragged=!1,le.enableDoubleClick=!1,le.el=we,le.handlers={},le.options={},le.lastClick=0,le.lastStart=0,le.passive=ye,le.pointerId=null,le.startX=0,le.startY=0,le.event=null,le.clicking=!1,le},me,oe;oe=Q,(me=W).prototype=Object.create(oe.prototype),me.prototype.constructor=me,b(me,oe);var q=W.prototype;return q.on=function(ee,we,ie){return t(ee)&&(this.handlers[ee]||z[ee](this)),Q.prototype.on.call(this,ee,we,ie)},q.off=function(ee,we,ie){var le=this;if(t(ee))c(this,ee);else if(!ee){var ye=this.handlers;Object.keys(ye).forEach(function(Ee){c(le,Ee)})}return Q.prototype.off.call(this,ee,we,ie)},q.destroy=function(){this.el&&(this.off(),y&&d(this),this.el=null)},W}(E.a),D=/\s+/,z={drag:function(W){o(W)},dragStart:function(W){o(W)},dragEnd:function(W){o(W)},click:function(W){l(W)},doubleClick:function(W){W.enableDoubleClick=!0,l(W)},longPress:function(W){if(S.OS.iOS){var me=function(){clearTimeout(u)};r(W,"longPress","touchstart",function(oe){me(),u=setTimeout(function(){p(W,"longPress",oe)},500)}),r(W,"longPress","touchmove",me),r(W,"longPress","touchcancel",me),r(W,"longPress","touchend",me)}else W.el.oncontextmenu=function(oe){return p(W,"longPress",oe),!1}},focus:function(W){r(W,"focus","focus",function(me){h(W,"focus",me)})},blur:function(W){r(W,"blur","blur",function(me){h(W,"blur",me)})},over:function(W){(y||w)&&r(W,A.Z,y?"pointerover":"mouseover",function(me){me.pointerType!=="touch"&&p(W,A.Z,me)})},out:function(W){if(y){var me=W.el;r(W,A.Y,"pointerout",function(oe){if(oe.pointerType!=="touch"&&"clientX"in oe){var q=document.elementFromPoint(oe.clientX,oe.clientY);me.contains(q)||p(W,A.Y,oe)}})}else w&&r(W,A.Y,"mouseout",function(oe){p(W,A.Y,oe)})},move:function(W){(y||w)&&r(W,A.W,y?"pointermove":"mousemove",function(me){me.pointerType!=="touch"&&p(W,A.W,me)})},enter:function(W){r(W,A.v,"keydown",function(me){me.key!=="Enter"&&me.keyCode!==13||(me.stopPropagation(),h(W,A.v,me))})},keydown:function(W){r(W,"keydown","keydown",function(me){h(W,"keydown",me)},!1)},gesture:function(W){var me=function(q){return p(W,"gesture",q)};r(W,"gesture","click",me),r(W,"gesture","keydown",me)},interaction:function(W){var me=function(q){W.event=q};r(W,"interaction","mousedown",me,!0),r(W,"interaction","keydown",me,!0)},tap:function(){},doubleTap:function(){}}},function(g,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return o});var t=window.requestAnimationFrame||function(l){return setTimeout(l,17)},o=window.cancelAnimationFrame||clearTimeout},function(g,n,e){"use strict";var t=function(T,b){this.name=T,this.message=b.message||b.toString(),this.error=b},o=e(0),l=e(19),s=e(10),a=e(12),r=e(2),c=e(23),d=e(17),h=e(5),p=e(6),v=e(11),k=e(21),x=e(40),S=e(36),A=e(41),E=Object(o.g)({},a,s,l,{addClass:p.b,hasClass:p.j,removeClass:p.p,replaceClass:p.q,toggleClass:p.w,classList:p.e,styleDimension:p.v,createElement:p.f,emptyElement:p.i,addStyleSheet:p.c,bounds:p.d,openLink:p.m,replaceInnerHtml:p.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:k.a,crossdomain:function(T){var b=window.URL;try{var u=new b(T,location.origin);return location.protocol+"//"+location.host!=u.protocol+"//"+u.host}catch(f){}return!0},tryCatch:function(T,b,u){if(u===void 0&&(u=[]),d.a.debug)return T.apply(b||this,u);try{return T.apply(b||this,u)}catch(f){return new t(T.name,f)}},Error:t,Timer:c.a,log:S.a,genId:A.b,between:x.a,foreach:function(T,b){for(var u in T)Object.prototype.hasOwnProperty.call(T,u)&&b(u,T[u])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});n.a=E},function(g,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(l,s,a){return Math.max(Math.min(l,a),s)}},function(g,n,e){"use strict";var t=function(){try{var a=window.crypto||window.msCrypto;if(a&&a.getRandomValues)return a.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(a){for(var r="";r.length<a;)r+=t();return r.slice(0,a)};e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o});var l=12},function(g,n,e){"use strict";var t=function(l,s,a){var r=[],c={};function d(){for(;r.length>0;){var h=r.shift(),p=h.command,v=h.args;(c[p]||l[p]).apply(l,v)}}s.forEach(function(h){var p=l[h];c[h]=p,l[h]=function(){for(var v=arguments.length,k=new Array(v),x=0;x<v;x++)k[x]=arguments[x];a()?r.push({command:h,args:k}):(d(),p&&p.apply(this,k))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=d,this.empty=function(){r.length=0},this.off=function(){s.forEach(function(h){var p=c[h];p&&(l[h]=p,delete c[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(n,"a",function(){return t})},function(g,n,e){"use strict";function t(l,s){return(t=Object.setPrototypeOf||function(a,r){return a.__proto__=r,a})(l,s)}e.d(n,"a",function(){return o});var o=function(l){var s=function(){var h;return(h=l.call(this)||this).attributes=Object.create(null),h},a,r;r=l,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,t(a,r);var c=s.prototype;return c.addAttributes=function(d){var h=this;Object.keys(d).forEach(function(p){h.add(p,d[p])})},c.add=function(d,h){var p=this;Object.defineProperty(this,d,{get:function(){return p.attributes[d]},set:function(k){return p.set(d,k)},enumerable:!1}),this.attributes[d]=h},c.get=function(d){return this.attributes[d]},c.set=function(d,h){if(this.attributes[d]!==h){var p=this.attributes[d];this.attributes[d]=h,this.trigger("change:"+d,this,h,p)}},c.clone=function(){var d={},h=this.attributes;if(h)for(var p in h)d[p]=h[p];return d},c.change=function(d,h,p){this.on("change:"+d,h,p);var v=this.get(d);return h.call(p,this,v,v),this},s}(e(8).a)},function(g,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"b",function(){return o}),e.d(n,"a",function(){return l});var t=4,o=5,l=1},function(g,n,e){"use strict";var t=function(s,a){return Object(o.g)({},a,{prime:function(){s.src||s.load()},getPrimedElement:function(){return s},clean:function(){a.clean(s)},recycle:function(){a.clean(s)}})};e.d(n,"a",function(){return t});var o=e(0)},function(g,n,e){"use strict";n.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(g,n,e){"use strict";var t=function(Me){return W||(W=function(Ve){var st=Ve.get("controls"),gt=o(),Mt=function(Be,et){var Ge=Be.get("playlist");if(Array.isArray(Ge)&&Ge.length)for(var $e=Object(M.f)(Be.get("item"),Ge.length),ze=Object(M.c)(Object(C.a)(Ge[$e]),Be),xt=0;xt<ze.length;xt++)for(var bt=ze[xt],lt=Be.getProviders(),Ze=0;Ze<I.a.length;Ze++){var dt=I.a[Ze];if(lt.providerSupports(dt,bt))return dt.name===et}return!1}(Ve,"html5");if(b.OS.tizen)return l();if(st&&gt&&Mt)return Ue=e.e(7).then(function(Be){e(116);var et=e(54).default;return z.a.controls=e(52).default,Object(D.a)(e(117).default),et}.bind(null,e)).catch(Object(w.b)(Q.q+105)),w.a.html5=Ue,Ue;var Ue;return st&&Mt?function(){var Be=e.e(5).then(function(et){var Ge=e(54).default;return z.a.controls=e(52).default,Object(D.a)(e(117).default),Ge}.bind(null,e)).catch(Object(w.b)(Q.q+104));return w.a.html5=Be,Be}():st&&gt?e.e(6).then(function(Be){e(116);var et=e(54).default;return z.a.controls=e(52).default,et}.bind(null,e)).catch(Object(w.b)(Q.q+103)):st?e.e(4).then(function(Be){var et=e(54).default;return z.a.controls=e(52).default,et}.bind(null,e)).catch(Object(w.b)(Q.q+102)):l()}(Me)),W},o=function(){var Me=window.IntersectionObserverEntry;return!Me||!("IntersectionObserver"in window)||!("intersectionRatio"in Me.prototype)},l=function(){return function(){return o()?e.e(8).then(function(Me){return e(116)}.bind(null,e)).catch(Object(w.b)(Q.q+120)):Promise.resolve()}().then(w.d)},s=function(Me,Ve,st){var gt=Me.attributes;gt.playlist=Object(M.a)(Ve),gt.feedData=st},a=function(Me){return function(Ve){var st=Ve.get("playlist");return new Promise(function(gt,Mt){if(typeof st!="string"){var Ue=Ve.get("feedData")||{};return s(Ve,st,Ue),gt()}var Be=new oe.a;Be.on(me.eb,function(et){var Ge=et.playlist;delete et.playlist,s(Ve,Ge,et),gt()}),Be.on(me.w,function(et){s(Ve,[],{}),Mt(Object(Q.w)(et,Q.r))}),Be.load(st)})}(Me).then(function(){if(!d(Me)){var Ve=Object(M.b)(Me.get("playlist"),Me);Me.attributes.playlist=Ve;try{Object(M.e)(Ve)}catch(et){throw et.code+=Q.r,et}var st=Me.getProviders(),gt=Object(M.f)(Me.get("item"),Ve.length),Mt=st.choose(Ve[gt].sources[0]),Ue=Mt.provider,Be=Mt.name;return typeof Ue=="function"?Ue:w.a.html5&&Be==="html5"?w.a.html5:st.load(Be).catch(function(et){throw Object(Q.w)(et,Q.s)})}})},r=function(Me){var Ve=Me.get("skin")?Me.get("skin").url:void 0;return typeof Ve=="string"&&!function(st){for(var gt=document.styleSheets,Mt=0,Ue=gt.length;Mt<Ue;Mt++)if(gt[Mt].href===st)return!0;return!1}(Ve)?new q.a(Ve,!0).load().catch(function(st){return st}):Promise.resolve()},c=function(Me){var Ve=Me.attributes,st=Ve.language,gt=Ve.base,Mt=Ve.setupConfig,Ue=Ve.intl,Be=Object(f.b)(Mt,Ue,st);return!Object(f.f)(st)||Object(f.d)(Be)?Promise.resolve():new Promise(function(et){return Object(f.g)(gt,st).then(function(Ge){var $e=Ge.response;if(!d(Me)){if(!$e)throw new Q.o(null,Q.h);Ve.localization=Object(f.a)($e,Be),et()}}).catch(function(Ge){et(Ge.code===Q.h?Ge:Object(Q.w)(Ge,Q.g))})})},d=function(Me){return Me.attributes._destroyed},h=function(Me){Me.src||Me.load()},p=function(Me){var Ve=document.createElement("video");return Ve.className="jw-video jw-reset",Ve.setAttribute("tabindex","-1"),Ve.setAttribute("disableRemotePlayback",""),Ve.setAttribute("webkit-playsinline",""),Ve.setAttribute("playsinline",""),Me&&Object.keys(Me).forEach(function(st){Ve.setAttribute(st,Me[st])}),Ve},v=function(Me,Ve){Ve&&Ve.code&&(Ve.sourceError&&console.error(Ve.sourceError),console.error(Q.o.logMessage(Ve.code)))},k=function(Me){Me&&Me.code&&console.warn(Q.o.logMessage(Me.code))},x=function(Me,Ve){if(!document.body.contains(Me.currentContainer)){var st=document.getElementById(Me.get("id"));st&&(Me.currentContainer=st)}Me.currentContainer.parentElement&&Me.currentContainer.parentElement.replaceChild(Ve,Me.currentContainer),Me.currentContainer=Ve},S=e(0),A=e(42),E=e(34),O=e(19),T=e(12),b=e(7),u=e(30),f=e(13),m={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:u.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},y=function(Me,Ve){var st=Object(S.g)({},(window.jwplayer||{}).defaults,Ve,Me);(function(Bt){Object.keys(Bt).forEach(function(ut){ut!=="id"&&(Bt[ut]=Object(T.serialize)(Bt[ut]))})})(st);var gt=st.forceLocalizationDefaults?m.language:Object(f.c)(),Mt=Object(f.h)(st.intl);st.localization=Object(f.a)(u.a,Object(f.b)(st,Mt,gt));var Ue=Object(S.g)({},m,st);Ue.base==="."&&(Ue.base=Object(O.getScriptPath)("jwplayer.js")),Ue.base=(Ue.base||Object(O.loadFrom)()).replace(/\/?$/,"/"),e.p=Ue.base,Ue.width=Object(E.b)(Ue.width),Ue.height=Object(E.b)(Ue.height),Ue.aspectratio=Object(E.a)(Ue.aspectratio,Ue.width),Ue.volume=Object(S.u)(Ue.volume)?Math.min(Math.max(0,Ue.volume),100):m.volume,Ue.mute=!!Ue.mute,Ue.language=gt,Ue.intl=Mt;var Be=Ue.playlistIndex;Be&&(Ue.item=Be),Object(S.r)(Ue.item)||(Ue.item=0);var et=st.autoPause;et&&(Ue.autoPause.viewability=!("viewability"in et)||!!et.viewability);var Ge=Ue.playbackRateControls;if(Ge){var $e=Ue.playbackRates;Array.isArray(Ge)&&($e=Ge),($e=$e.filter(function(Bt){return Object(S.r)(Bt)&&Bt>=.25&&Bt<=4}).map(function(Bt){return Math.round(100*Bt)/100})).indexOf(1)<0&&$e.push(1),$e.sort(),Ue.playbackRateControls=!0,Ue.playbackRates=$e}(!Ue.playbackRateControls||Ue.playbackRates.indexOf(Ue.defaultPlaybackRate)<0)&&(Ue.defaultPlaybackRate=1),Ue.playbackRate=Ue.defaultPlaybackRate,Ue.aspectratio||delete Ue.aspectratio;var ze=Ue.playlist;if(ze)Array.isArray(ze.playlist)&&(Ue.feedData=ze,Ue.playlist=ze.playlist);else{var xt=Object(S.x)(Ue,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);Ue.playlist=[xt]}Ue.qualityLabels=Ue.qualityLabels||Ue.hlslabels,delete Ue.duration;var bt=Ue.liveTimeout;bt!==null&&(Object(S.u)(bt)?bt!==0&&(bt=Math.max(30,bt)):bt=null,Ue.liveTimeout=bt);var lt,Ze,dt,$t=parseFloat(Ue.bandwidthEstimate),qt=parseFloat(Ue.bitrateSelection);return Ue.bandwidthEstimate=Object(S.u)($t)?$t:(lt=Ue.defaultBandwidthEstimate,Ze=parseFloat(lt),Object(S.u)(Ze)?Math.max(Ze,1):m.bandwidthEstimate),Ue.bitrateSelection=Object(S.u)(qt)?qt:m.bitrateSelection,Ue.liveSyncDuration=(dt=Ue.liveSyncDuration)<5?5:dt>30?30:dt,Ue.backgroundLoading=Object(S.n)(Ue.backgroundLoading)?Ue.backgroundLoading:b.Features.backgroundLoading,Ue},w=e(9),C=e(24),M=e(18),I=e(15),D=e(20),z=e(29),Q=e(1),W=null,me=e(3),oe=e(48),q=e(35),ee=e(25),we=function(Me){var Ve;this.start=function(st){var gt=function(Be,et){return Object(ee.a)(Be,et)}(Me,st),Mt=Promise.all([t(Me),gt,a(Me),Promise.resolve(),r(Me),c(Me)]),Ue=new Promise(function(Be,et){Ve=setTimeout(function(){et(new Q.o(Q.k,Q.u))},6e4);var Ge=function(){clearTimeout(Ve),setTimeout(Be,6e4)};Mt.then(Ge).catch(Ge)});return Promise.race([Mt,Ue]).catch(function(Be){var et=function(){throw Be};return gt.then(et).catch(et)}).then(function(Be){return function(et){if(!et||!et.length)return{core:null,warnings:[]};var Ge=et.reduce(function($e,ze){return $e.concat(ze)},[]).filter(function($e){return $e&&$e.code});return{core:et[0],warnings:Ge}}(Be)})},this.destroy=function(){clearTimeout(Ve),Me.set("_destroyed",!0),Me=null}},ie=e(32),le=e(23),ye=e(17),Ee={removeItem:function(Me){}};try{Ee=window.localStorage||Ee}catch(Qe){}var fe=function(){var Qe=function(st,gt){this.namespace=st,this.items=gt},Me=Qe.prototype;return Me.getAllItems=function(){var Ve=this;return this.items.reduce(function(st,gt){var Mt=Ee[Ve.namespace+"."+gt];return Mt&&(st[gt]=gt!=="captions"?Object(T.serialize)(Mt):JSON.parse(Mt)),st},{})},Me.track=function(Ve){var st=this;this.items.forEach(function(gt){Ve.on("change:"+gt,function(Mt,Ue){try{gt==="captions"&&(Ue=JSON.stringify(Ue)),Ee[st.namespace+"."+gt]=Ue}catch(Be){ye.a.debug&&console.error(Be)}})})},Me.clear=function(){var Ve=this;this.items.forEach(function(st){Ee.removeItem(Ve.namespace+"."+st)})},Qe}(),rt=e(43),ct=e(28),Ot=e(8),_t=e(33),De=e(44),be=e(45),Xe=e(37);e(51),e(53),e.d(n,"b",function(){return x});var Ne=function(Me){this._events={},this.modelShim=new rt.a,this.modelShim._qoeItem=new le.a,this.mediaShim={},this.setup=new we(this.modelShim),this.currentContainer=this.originalContainer=Me,this.apiQueue=new A.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(S.g)(Ne.prototype,{on:Ot.a.on,once:Ot.a.once,off:Ot.a.off,trigger:Ot.a.trigger,init:function(Me,Ve){var st=this,gt=this.modelShim,Mt=new fe("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),Ue=Mt&&Mt.getAllItems();gt.attributes=gt.attributes||{},Object(S.g)(this.mediaShim,ct.c);var Be=Me,et=y(Object(S.g)({},Me),Ue);et.id=Ve.id,et.setupConfig=Be,Object(S.g)(gt.attributes,et,ct.d),gt.getProviders=function(){return new ie.a(et)},gt.setProvider=function(){};var Ge=function(){for(var ze=De.c,xt=[],bt=[],lt=0;lt<ze;lt++){var Ze=p();xt.push(Ze),bt.push(Ze),h(Ze)}var dt=bt.shift(),$t=bt.shift(),qt=!1;return{primed:function(){return qt},prime:function(){xt.forEach(h),qt=!0},played:function(){qt=!0},getPrimedElement:function(){return bt.shift()||null},getAdElement:function(){return dt},getTestElement:function(){return $t},clean:function(ut){if(ut.src){ut.removeAttribute("src");try{ut.load()}catch(Y){}}},recycle:function(ut){ut&&!bt.some(function(Y){return Y===ut})&&(this.clean(ut),bt.push(ut))},syncVolume:function(ut){var Y=Math.min(Math.max(0,ut/100),1);xt.forEach(function(Kt){Kt.volume=Y})},syncMute:function(ut){xt.forEach(function(Y){Y.muted=ut})}}}();gt.get("backgroundLoading")||(Ge=Object(be.a)(Ge.getPrimedElement(),Ge));var $e=this.primeUi=new Xe.a(Object(Xe.b)(this.originalContainer)).once("gesture",function(){Ge.prime(),st.preload(),$e.destroy()});return gt.on("change:errorEvent",v),this.setup.start(Ve).then(function(ze){var xt=ze.core;if(!xt)throw Object(Q.w)(null,Q.t);if(st.setup){st.on(me.ub,k),ze.warnings.forEach(function(dt){st.trigger(me.ub,dt)});var bt=st.modelShim.clone();if(bt.error)throw bt.error;var lt=st.apiQueue.queue.slice(0);st.apiQueue.destroy(),Object(S.g)(st,xt.prototype),st.playerSetup(bt,Ve,st.originalContainer,st._events,lt,Ge);var Ze=st._model;return gt.off("change:errorEvent",v),Ze.on("change:errorEvent",v),Mt.track(Ze),st.updatePlaylist(Ze.get("playlist"),Ze.get("feedData")).catch(function(dt){var $t=dt.code===Q.a?Q.p:Q.r;throw Object(Q.w)(dt,$t)})}}).then(function(){st.setup&&st.playerReady()}).catch(function(ze){st.setup&&function(xt,bt,lt){Promise.resolve().then(function(){var Ze=Object(Q.x)(Q.n,Q.v,lt),dt=xt._model||xt.modelShim;Ze.message=Ze.message||dt.get("localization").errors[Ze.key],delete Ze.key;var $t=dt.get("contextual");if(!$t){var qt=Object(_t.a)(xt,Ze);_t.a.cloneIcon&&qt.querySelector(".jw-icon").appendChild(_t.a.cloneIcon("error")),x(xt,qt)}dt.set("errorEvent",Ze),dt.set("state",me.lb),xt.trigger(me.ib,Ze),$t&&bt.remove()})}(st,Ve,ze)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&x(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Me){if(this.modelShim)return Me in this.mediaShim?this.mediaShim[Me]:this.modelShim.get(Me)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Me){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Me)},getConfig:function(){return Object(S.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),n.a=Ne},function(g,n,e){"use strict";var t=function(E){var O={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return O[E]?O[E]:E},o=function(E){for(var O=[],T=0;T<Object(r.c)(E);T++){var b=E.childNodes[T];b.prefix==="jwplayer"&&Object(r.b)(b).toLowerCase()==="mediatypes"&&O.push(Object(r.d)(b))}return O},l=function(E){for(var O={},T=0;T<E.childNodes.length;T++){var b=E.childNodes[T],u=Object(r.b)(b);if(u)switch(u.toLowerCase()){case"enclosure":O.file=Object(c.j)(b,"url");break;case"title":O.title=Object(r.d)(b);break;case"guid":O.mediaid=Object(r.d)(b);break;case"pubdate":O.date=Object(r.d)(b);break;case"description":O.description=Object(r.d)(b);break;case"link":O.link=Object(r.d)(b);break;case"category":O.tags?O.tags+=Object(r.d)(b):O.tags=Object(r.d)(b)}}return new v.a(p(E,d(E,O)))},s=e(0),a=e(3),r=e(4),c=e(2),d=function A(E,O){for(var T=[],b=0;b<Object(r.c)(E);b++){var u=E.childNodes[b];if(u.prefix==="media"){if(!Object(r.b)(u))continue;switch(Object(r.b)(u).toLowerCase()){case"content":if(Object(c.j)(u,"duration")&&(O.duration=Object(c.g)(Object(c.j)(u,"duration"))),Object(c.j)(u,"url")){O.sources||(O.sources=[]);var f={file:Object(c.j)(u,"url"),type:Object(c.j)(u,"type"),width:Object(c.j)(u,"width"),label:Object(c.j)(u,"label")},m=o(u);m.length&&(f.mediaTypes=m),O.sources.push(f)}Object(r.c)(u)>0&&(O=A(u,O));break;case"title":O.title=Object(r.d)(u);break;case"description":O.description=Object(r.d)(u);break;case"guid":O.mediaid=Object(r.d)(u);break;case"thumbnail":O.image||(O.image=Object(c.j)(u,"url"));break;case"group":A(u,O);break;case"subtitle":var y={file:Object(c.j)(u,"url"),kind:"captions"};Object(c.j)(u,"lang").length>0&&(y.label=t(Object(c.j)(u,"lang"))),T.push(y)}}}O.tracks||(O.tracks=[]);for(var w=0;w<T.length;w++)O.tracks.push(T[w]);return O},h=e(12),p=function(E,O){for(var T="default",b=[],u=[],f=O,m=0;m<E.childNodes.length;m++){var y=E.childNodes[m];if(y.prefix==="jwplayer"){var w=Object(r.b)(y);w==="source"?(delete O.sources,b.push({file:Object(c.j)(y,"file"),default:Object(c.j)(y,T),label:Object(c.j)(y,"label"),type:Object(c.j)(y,"type")})):w==="track"?(delete O.tracks,u.push({file:Object(c.j)(y,"file"),default:Object(c.j)(y,T),kind:Object(c.j)(y,"kind"),label:Object(c.j)(y,"label")})):(O[w]=Object(h.serialize)(Object(r.d)(y)),w==="file"&&O.sources&&delete O.sources)}O.file||(O.file=O.link)}if(b.length){O.sources=[];for(var C=0;C<b.length;C++){var M=b[C];M.file.length>0&&(M[T]=b[C][T]==="true",M.label||delete M.label,f.sources.push(M))}}if(u.length){O.tracks=[];for(var I=0;I<u.length;I++){var D=u[I];D.file&&D.file.length>0&&(D[T]=u[I][T]==="true",D.kind=u[I].kind.length?u[I].kind:"captions",D.label||delete D.label,f.tracks.push(D))}}return f},v=e(24),k=e(21),x=e(8),S=e(1);n.a=function(){var A=function(b){try{var u,f=b.responseXML?b.responseXML.childNodes:null,m=null;if(f){for(var y=0;y<f.length&&(m=f[y]).nodeType===8;y++);if(m&&Object(r.b)(m)==="xml"&&(m=m.nextSibling),m&&Object(r.b)(m)==="rss"){var w=function(M){var I=[];I.feedData={};for(var D=0;D<Object(r.c)(M);D++){var z=Object(r.a)(M,D);if(Object(r.b)(z).toLowerCase()==="channel")for(var Q=0;Q<Object(r.c)(z);Q++){var W=Object(r.a)(z,Q),me=Object(r.b)(W).toLowerCase();me==="item"?I.push(l(W)):me&&(I.feedData[me]=Object(r.d)(W))}}return I}(m);u=Object(s.g)({playlist:w},w.feedData)}}if(!u)try{var C=JSON.parse(b.responseText);if(Array.isArray(C))u={playlist:C};else{if(!Array.isArray(C.playlist))throw Error("Playlist is not an array");u=C}}catch(M){throw new S.o(S.l,621,M)}O.trigger(a.eb,u)}catch(M){E(M)}},E=function(b){_instanceof(b,S.o)&&!b.code&&(b=new S.o(S.l,0)),O.trigger(a.w,b)},O=Object(s.g)(this,x.a);this.load=function(T){Object(k.a)(T,A,function(b,u,f,m){E(m)})},this.destroy=function(){this.off()}}},function(g,n,e){"use strict";var t=function(s){return s.type==="hls"&&o.OS.android?s.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(n,"a",function(){return t});var o=e(7)},function(g,n,e){"use strict";var t=e(3),o=function(){},l=function(){return!1},s={name:"default"},a={supports:l,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:l,supportsFullscreen:l,getContainer:o,setContainer:o,getName:function(){return s},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(c){this.state=c,this.trigger(t.bb,{newstate:c})},sendMediaType:function(c){var d=c[0],h=d.type,p=d.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||p&&p.indexOf("audio/")===0;this.trigger(t.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};n.a=a},function(g,n,e){"use strict";var t=function(T,b){for(var u=b.length;u--;){var f=b[u];if(T.target===f.getContainer()){f.setIntersection(T);break}}},o=function(){p.forEach(function(T){var b=T.model;if(!(b.get("audioMode")||b.get("isFloating")||!b.get("controls")||b.get("visibility")<.75)){var u=b.get("state"),f=Object(h.g)();!f&&u==="paused"&&T.api.getFullscreen()?T.api.setFullscreen(!1):u==="playing"&&T.api.setFullscreen(f)}})},l=function(){p.forEach(function(T){T.model.set("activeTab",Object(c.a)())})},s=function(T,b){var u=b.indexOf(T);u!==-1&&b.splice(u,1)},a=function(T){k.forEach(function(b){b(T)})},r,c=e(46),d=e(7),h=e(6),p=[],v=[],k=[],x={},S="screen"in window&&"orientation"in window.screen,A=d.OS.android&&d.Browser.chrome,E=!1;document.addEventListener("visibilitychange",l),document.addEventListener("webkitvisibilitychange",l),A&&S&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",l),document.removeEventListener("webkitvisibilitychange",l),window.removeEventListener("scroll",a),A&&S&&window.screen.orientation.removeEventListener("change",o)}),n.a={add:function(T){p.push(T)},remove:function(T){s(T,p)},addScrollHandler:function(T){E||(E=!0,window.addEventListener("scroll",a)),k.push(T)},removeScrollHandler:function(T){var b=k.indexOf(T);b!==-1&&k.splice(b,1)},addWidget:function(T){v.push(T)},removeWidget:function(T){s(T,v)},size:function(){return p.length},observe:function(T){var b;b=window.IntersectionObserver,r||(r=new b(function(u){if(u&&u.length)for(var f=u.length;f--;){var m=u[f];t(m,p),t(m,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),x[T.id]||(x[T.id]=!0,r.observe(T))},unobserve:function(T){r&&x[T.id]&&(delete x[T.id],r.unobserve(T))}}},,function(g,n,e){"use strict";var t=function(){Object(l.a)(c),c=Object(l.b)(function(){r.forEach(function(p){p.view.updateBounds();var v=p.view.model.get("containerWidth");p.resized=p.width!==v,p.width=v}),r.forEach(function(p){p.contractElement.scrollLeft=2*p.width}),r.forEach(function(p){Object(a.d)(p.expandChild,{width:p.width+1}),p.resized&&p.view.model.get("visibility")&&p.view.updateStyles()}),r.forEach(function(p){p.expandElement.scrollLeft=p.width+1}),r.forEach(function(p){p.resized&&p.view.checkResized()})})};e.d(n,"a",function(){return d});var o=e(0),l=e(38),s=e(6),a=e(11),r=[],c=-1,d=function(){var h=function(v,k,x){var S={display:"block",position:"absolute",top:0,left:0},A={width:"100%",height:"100%"},E=Object(s.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),O=E.firstChild,T=O.firstChild,b=O.nextSibling;Object(a.d)([O,b],Object(o.g)({overflow:"auto"},S,A)),Object(a.d)(E,Object(o.g)({},S,A)),this.expandElement=O,this.expandChild=T,this.contractElement=b,this.hiddenElement=E,this.element=v,this.view=k,this.model=x,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(E,v.firstChild):v.appendChild(E),v.addEventListener("scroll",t,!0),r.push(this),t()};return h.prototype.destroy=function(){if(this.view){var p=r.indexOf(this);p!==-1&&r.splice(p,1),this.element.removeEventListener("scroll",t,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(g,n,e){"use strict";var t=function(){},o=function(q,ee){for(;q._state===3;)q=q._value;q._state!==0?(q._handled=!0,S._immediateFn(function(){var we=q._state===1?ee.onFulfilled:ee.onRejected;if(we!==null){var ie;try{ie=we(q._value)}catch(le){return void s(ee.promise,le)}l(ee.promise,ie)}else(q._state===1?l:s)(ee.promise,q._value)})):q._deferreds.push(ee)},l=function(q,ee){try{if(ee===q)throw new TypeError("A promise cannot be resolved with itself.");if(ee&&(typeof ee=="object"||typeof ee=="function")){var we=ee.then;if(_instanceof(ee,S))return q._state=3,q._value=ee,void a(q);if(typeof we=="function")return void c((ie=we,le=ee,function(){ie.apply(le,arguments)}),q)}q._state=1,q._value=ee,a(q)}catch(ye){s(q,ye)}var ie,le},s=function(q,ee){q._state=2,q._value=ee,a(q)},a=function(q){q._state===2&&q._deferreds.length===0&&S._immediateFn(function(){q._handled||S._unhandledRejectionFn(q._value)});for(var ee=0,we=q._deferreds.length;ee<we;ee++)o(q,q._deferreds[ee]);q._deferreds=null},r=function(q,ee,we){this.onFulfilled=typeof q=="function"?q:null,this.onRejected=typeof ee=="function"?ee:null,this.promise=we},c=function(q,ee){var we=!1;try{q(function(ie){we||(we=!0,l(ee,ie))},function(ie){we||(we=!0,s(ee,ie))})}catch(ie){if(we)return;we=!0,s(ee,ie)}},d=function(q,ee){var we=new M.a(ee);return we.on(I.gb,function(ie){q._qoe.tick("ready"),ie.setupTime=q._qoe.between("setup","ready")}),we.on("all",function(ie,le){q.trigger(ie,le)}),we},h=function(q,ee){var we=q.plugins,ie=Object.keys(we).map(function(le){var ye=we[le];return delete we[le],ye});ee.get("setupConfig")&&q.trigger("remove"),q.off(),ee.playerDestroy(),ie.forEach(function(le){if(le.destroy)try{le.destroy()}catch(ye){}}),ee.getContainer().removeAttribute("data-jwplayer-id")},p=function(q){var ee=++W,we=q.id||"player-"+ee,ie=new D.a,le={},ye=d(this,q);ie.tick("init"),q.setAttribute("data-jwplayer-id",we),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return we}},uniqueId:{enumerable:!0,get:function(){return ee}},plugins:{enumerable:!0,get:function(){return le}},_qoe:{enumerable:!0,get:function(){return ie}},version:{enumerable:!0,get:function(){return m.a}},Events:{enumerable:!0,get:function(){return z.a}},utils:{enumerable:!0,get:function(){return Q.a}},_:{enumerable:!0,get:function(){return y.c}}}),Object(y.g)(this,{_events:{},setup:function(fe){return ie.clear("ready"),ie.tick("setup"),ye&&h(this,ye),(ye=d(this,q)).init(fe,this),this.on(fe.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(fe){for(var rt=O.a.length;rt--;)if(O.a[rt].uniqueId===fe.uniqueId){O.a.splice(rt,1);break}}(this),ye&&h(this,ye),Object.keys(le).forEach(function(fe){delete le[fe]}),this},qoe:function(){var fe=ye.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:fe.getFirstFrame?fe.getFirstFrame():null,player:this._qoe.dump(),item:fe.dump()}},addCues:function(fe){return Array.isArray(fe)&&ye.addCues(fe),this},getAudioTracks:function(){return ye.getAudioTracks()},getBuffer:function(){return ye.get("buffer")},getCaptions:function(){return ye.get("captions")},getCaptionsList:function(){return ye.getCaptionsList()},getConfig:function(){return ye.getConfig()},getContainer:function(){return ye.getContainer()},getControls:function(){return ye.get("controls")},getCues:function(){return ye.get("cues")},getCurrentAudioTrack:function(){return ye.getCurrentAudioTrack()},getCurrentCaptions:function(){return ye.getCurrentCaptions()},getCurrentQuality:function(){return ye.getCurrentQuality()},getCurrentTime:function(){return ye.get("currentTime")},getDuration:function(){return ye.get("duration")},getEnvironment:function(){return C},getFullscreen:function(){return ye.get("fullscreen")},getHeight:function(){return ye.getHeight()},getItemMeta:function(){return ye.get("itemMeta")||{}},getMute:function(){return ye.getMute()},getPercentViewable:function(){return ye.get("visibility")},getPip:function(){return ye.get("pip")},getPlaybackRate:function(){return ye.get("playbackRate")},getPlaylist:function(){return ye.get("playlist")},getPlaylistIndex:function(){return ye.get("item")},getPlaylistItem:function(fe){if(!Q.a.exists(fe))return ye.get("playlistItem");var rt=this.getPlaylist();return rt?rt[fe]:null},getPosition:function(){return ye.get("position")},getProvider:function(){return ye.getProvider()},getQualityLevels:function(){return ye.getQualityLevels()},getSafeRegion:function(fe){return fe===void 0&&(fe=!0),ye.getSafeRegion(fe)},getState:function(){return ye.getState()},getStretching:function(){return ye.get("stretching")},getViewable:function(){return ye.get("viewable")},getVisualQuality:function(){return ye.getVisualQuality()},getVolume:function(){return ye.get("volume")},getWidth:function(){return ye.getWidth()},setCaptions:function(fe){return ye.setCaptions(fe),this},setConfig:function(fe){return ye.setConfig(fe),this},setControls:function(fe){return ye.setControls(fe),this},setCurrentAudioTrack:function(fe){ye.setCurrentAudioTrack(fe)},setCurrentCaptions:function(fe){ye.setCurrentCaptions(fe)},setCurrentQuality:function(fe){ye.setCurrentQuality(fe)},setFullscreen:function(fe){return ye.setFullscreen(fe),this},setAllowFullscreen:function(fe){return ye.setAllowFullscreen(fe),this},setMute:function(fe){return ye.setMute(fe),this},setPip:function(fe){return ye.setPip(fe),this},setPlaybackRate:function(fe){return ye.setPlaybackRate(fe),this},setPlaylistItem:function(fe,rt){return ye.setPlaylistItem(fe,rt),this},setCues:function(fe){return Array.isArray(fe)&&ye.setCues(fe),this},setVolume:function(fe){return ye.setVolume(fe),this},load:function(fe,rt){return ye.load(fe,rt),this},play:function(fe){return ye.play(fe),this},pause:function(fe){return ye.pause(fe),this},playToggle:function(fe){switch(this.getState()){case I.pb:case I.jb:return this.pause(fe);default:return this.play(fe)}},seek:function(fe,rt){return ye.seek(fe,rt),this},playlistItem:function(fe,rt){return ye.playlistItem(fe,rt),this},playlistNext:function(fe){return ye.playlistNext(fe),this},playlistPrev:function(fe){return ye.playlistPrev(fe),this},next:function(fe){return ye.next(fe),this},requestPip:function(fe){return ye.requestPip(fe),this},castToggle:function(){return ye.castToggle(),this},stopCasting:function(){return ye.stopCasting(),this},createInstream:function(){return ye.createInstream()},stop:function(){return ye.stop(),this},resize:function(fe,rt){return ye.resize(fe,rt),this},addButton:function(fe,rt,ct,Ot,_t){return ye.addButton(fe,rt,ct,Ot,_t),this},removeButton:function(fe){return ye.removeButton(fe),this},attachMedia:function(){return ye.attachMedia(),this},detachMedia:function(){return ye.detachMedia(),this},isBeforeComplete:function(){return ye.isBeforeComplete()},isBeforePlay:function(){return ye.isBeforePlay()},setPlaylistItemCallback:function(fe,rt){ye.setItemCallback(fe,rt)},removePlaylistItemCallback:function(){ye.setItemCallback(null)},getPlaylistItemPromise:function(fe){return ye.getItemPromise(fe)},getFloating:function(){return!!ye.get("isFloating")},setFloating:function(fe){ye.setConfig({floating:{mode:fe?"always":"never"}})}})},v=function(q){for(var ee=0;ee<O.a.length;ee++)if(O.a[ee].id===q)return O.a[ee];return null},k=function(q){Object.defineProperties(q,{api:{get:function(){return u},set:function(){}},version:{get:function(){return m.a},set:function(){}},debug:{get:function(){return w.a.debug},set:function(we){w.a.debug=!!we}}})};e.r(n);var x=setTimeout;function S(oe){if(!_instanceof(this,S))throw new TypeError("Promises must be constructed via new");if(typeof oe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(oe,this)}S.prototype.catch=function(oe){return this.then(null,oe)},S.prototype.then=function(oe,q){var ee=new this.constructor(t);return o(this,new r(oe,q,ee)),ee},S.prototype.finally=function(oe){var q=this.constructor;return this.then(function(ee){return q.resolve(oe()).then(function(){return ee})},function(ee){return q.resolve(oe()).then(function(){return q.reject(ee)})})},S.all=function(oe){return new S(function(q,ee){if(!oe||oe.length===void 0)throw new TypeError("Promise.all accepts an array");var we=Array.prototype.slice.call(oe);if(we.length===0)return q([]);var ie=we.length;function le(Ee,fe){try{if(fe&&(typeof fe=="object"||typeof fe=="function")){var rt=fe.then;if(typeof rt=="function")return void rt.call(fe,function(ct){le(Ee,ct)},ee)}we[Ee]=fe,--ie==0&&q(we)}catch(ct){ee(ct)}}for(var ye=0;ye<we.length;ye++)le(ye,we[ye])})},S.resolve=function(oe){return oe&&typeof oe=="object"&&oe.constructor===S?oe:new S(function(q){q(oe)})},S.reject=function(oe){return new S(function(q,ee){ee(oe)})},S.race=function(oe){return new S(function(q,ee){for(var we=0,ie=oe.length;we<ie;we++)oe[we].then(q,ee)})},S._immediateFn=typeof setImmediate=="function"&&function(oe){setImmediate(oe)}||function(oe){x(oe,0)},S._unhandledRejectionFn=function(oe){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",oe)};var A=S;window.Promise||(window.Promise=A);var E=e(19),O=e(14),T=e(15),b=e(20),u={availableProviders:T.a,registerProvider:b.a},f=e(25),m=e(22),y=e(0),w=e(17),C=e(7),M=e(47),I=e(3),D=e(23),z=e(8),Q=e(39),W=0;Object(y.g)(p.prototype,{on:function(q,ee,we){return z.c.call(this,q,ee,we)},once:function(q,ee,we){return z.d.call(this,q,ee,we)},off:function(q,ee,we){return z.b.call(this,q,ee,we)},trigger:function(q,ee){return(ee=y.c.isObject(ee)?Object(y.g)({},ee):{}).type=q,w.a.debug?z.e.call(this,q,ee):z.f.call(this,q,ee)},getPlugin:function(q){return this.plugins[q]},addPlugin:function(q,ee){this.plugins[q]=ee,this.on("ready",ee.addToPlayer),ee.resize&&this.on("resize",ee.resizeHandler)},registerPlugin:function(q,ee,we){Object(f.b)(q,ee,we)},getAdBlock:function(){return!1},playAd:function(q){},pauseAd:function(q){},skipAd:function(){}}),e.d(n,"assignLibraryProperties",function(){return k}),e.p=Object(E.loadFrom)();var me=function(q){var ee,we;if(q?typeof q=="string"?(ee=v(q))||(we=document.getElementById(q)):typeof q=="number"?ee=O.a[q]:q.nodeType&&(ee=v((we=q).id||we.getAttribute("data-jwplayer-id"))):ee=O.a[0],ee)return ee;if(we){var ie=new p(we);return O.a.push(ie),ie}return{registerPlugin:f.b}};k(me),n.default=me}]).default}}),Dp,Pr,$p=Gt({"https-url:https://av.prod.archive.org/js/jwplayer.js":function(){pj(),Dp=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8",Pr=window.jwplayer}}),Np,Bp,Fp=Gt({"https-url:https://av.prod.archive.org/js/playset.js":function(){Px(),Rp(),Ds(),fj(),$p(),Np=function(){"use strict";function g(){if(_classCallCheck(this,g),g.avplayer="#jw6",g.resizer_listening=!1,g.unplayable_timer=null,g.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!g.is_local_storage_available()){this.selector_play_items=ne(".js-playset-items"),this.selector_playlist=ne(".js-playset-list");var n=ne(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!n||["audio","movies","etree"].includes(n))&&(ne(this.selector_play_items).append('<span id="playplayset"/>'),ne("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),kd("#playplayset",g.create_playlist_goto_first_item),ma("autoplay",!0)&&!ma("playset",!0)&&setTimeout(g.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,ma("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;ne("#playset-xs").length||ne("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),g.skip_unplayable_item(),g.resizer()}Gn("playset ready")}}return _createClass(g,[{key:"show_playlist",value:function(){var e=this,t=g.get_playset();if(t){var o=!1,l="",s=!0,a=!1,r=void 0;try{for(var c=t.list[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l+=g.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){a=!0,r=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}if(o){var p="\n".concat(g.playlist_header(t),'\n<div class="playset-list">\n').concat(l,"\n</div>\n");ne("body").addClass("playset"),ne("body").addClass(ne("#theatre-ia-wrap").length?"":" playset-hdr-only"),ne(this.selector_playlist).prepend('<div id="playset-ia">'.concat(p,"</div>")),kd("#playset-pp .js-playset-play",g.play),kd("#playset-pp .js-playset-pause",g.pause),setTimeout(function(){e.autoscroll_playlist()},500),ne(document).ready(function(){ne("#texty iframe").on("load",function(){ne("#texty iframe").contents().click(g.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=ne('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var t=ne("#playset-xs:visible").length?10:ne("#topnav").height(),o=e.top-t-ne("#playset-ia .playset-hdr").height();Gn("scrolling playset to ",o),ne("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){Gn("create_playlist_goto_first_item()");var e=[],t=ne("#also-found").length,o=t?"#also-found .item-ia":".item-ia:visible";ne(o).each(function(l,s){var a=ne(s),r=a.data().id;if(!r.match(/^__/)){var c=g.truncate(a.find(".item-ttl,.collection-title a").text(),35),d=g.truncate(a.find(".byv").text(),75),h=a.data().year,p=g.truncate(a.next().find(".C234 > span:first").text(),75);e.push([r,c,d.length?d:p,h])}}),g.set_playset(e),g.mobile?g.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var t=[],o=!0,l=!1,s=void 0;try{for(var a=e[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;t.push(c[0])}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}location.href="https://archive.org/services/playset.php?ids=".concat(t.join(","))}},{key:"resizer",value:function(){g.resizer_listening||(g.resizer_listening=!0,ne(window).on("resize  orientationchange",function(){clearTimeout(g.throttler),g.throttler=setTimeout(g.resizer,250)}));var e=ne("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",t=ne("#playset-ia").parent().attr("id");Gn("browser resize: ",e," -v- ",t),e!==t&&(e==="playset-xs"?ne("#playset-ia").appendTo("#playset-xs > div"):ne("#playset-ia").prependTo("#".concat(e)),Gn("playset moved"))}},{key:"playlist_header",value:function(e){var t=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(t,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(g.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(g.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(g.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(g.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,t,o,l){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(g.item_year(l),"\n    <b>\n      ").concat(t,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){g.unplayable_timer=setTimeout(function(){(typeof Pr=="undefined"||!ne(g.avplayer).length)&&g.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],t=g.get_playlist(),o="",l=!0,s=!1,a=void 0;try{for(var r=t[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;e===o&&(location.href="/details/".concat(d[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(d,1),o=h[0]}}catch(p){s=!0,a=p}finally{try{!l&&r.return!=null&&r.return()}finally{if(s)throw a}}}},{key:"onComplete",value:function(e,t){var o=e.getPlaylistIndex(),l=e.getPlaylist().length,s=o+1>=l||t&&t.done;s&&g.goto_next_item()}},{key:"get_playlist",value:function(){var e=g.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var t=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:t.toJSON(),createdTS:Math.round(t.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if(Gn("playset pause"),typeof Pr!="undefined"&&ne(g.avplayer).length){var e=Pr(g.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),ne("#playset-pp a").toggle()),!1}return g.unplayable_timer&&(clearTimeout(g.unplayable_timer),g.unplayable_timer=null,ne("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if(Gn("play/resume"),typeof Pr!="undefined"&&ne(g.avplayer).length){var e=Pr(g.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),ne("#playset-pp a").toggle()),!1}return g.unplayable_timer||(g.skip_unplayable_item(),ne("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,t){var o=e.trim().replace(/\s+/g," ");return o.length<=t?o:"".concat(o.substr(0,t),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),g}(),ne(function(){return new Np}),Bp=Np}});function zp(g,n){function e(o,l,s){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u")){s=td({},n,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in s)s[r]&&(a+="; "+r,s[r]!==!0&&(a+="="+s[r].split(";")[0]));return document.cookie=o+"="+g.write(l,o)+a}}function t(o){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u"||arguments.length&&!o)){for(var l=document.cookie?document.cookie.split("; "):[],s={},a=0;a<l.length;a++){var r=l[a].split("="),c=r.slice(1).join("=");try{var d=decodeURIComponent(r[0]);if(s[d]=g.read(c,d),o===d)break}catch(h){}}return o?s[o]:s}}return Object.create({set:e,get:t,remove:function(l,s){e(l,"",td({},s,{expires:-1}))},withAttributes:function(l){return zp(this.converter,td({},this.attributes,l))},withConverter:function(l){return zp(td({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(g)}})}var Ix,Ai,Mx=Gt({"https-url:https://esm.archive.org/v135/js-cookie@3.0.5/esnext/js-cookie.mjs":function(){Ix={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},Ai=zp(Ix,{path:"/"})}}),$s=Gt({"https-url:https://esm.archive.org/js-cookie":function(){Mx(),Mx()}}),Si=Gt({"components/util/jquery.js":function(){Lp(),window.jQuery=ne,window.$=ne}}),On,bo=Gt({"components/util/log.js":function(){On=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):function(){}}}),qu,Lx=Gt({"components/util/ios.js":function(){qu=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0}}),Rx=Gt({"components/util/center.js":function(){Si(),bo(),Lx(),ne.fn.center=function(){var n=ne(this).innerHeight();On("myheight",n),On("mywidth",this.width()),On("w.height",ne(window).height(),"w.width",ne(window).width(),"w.scrollTop",ne(window).scrollTop(),"w.scrollLeft",ne(window).scrollLeft());var e,t;if(qu){var o=window.innerWidth,l=window.innerHeight;On("vpH",l),On("vpW",o),e=(l-n)/2+ne(window).scrollTop(),t=(o-this.width())/2+ne(window).scrollLeft()}else e=(ne(window).height()-n)/2,t=(ne(window).width()-this.width())/2;return e=Math.max(20,e),t=Math.max(20,t),this.css({position:qu?"absolute":"fixed",display:"block",top:e,left:t}),this}}}),Dx,vj=Gt({"components/util/popup.js":function(){Si(),bo(),Dx=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"params",value:function(e,t){var o={height:t,width:e,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(o).filter(function(l){return o[l]}).reduce(function(l,s){return l.concat("".concat(s,"=").concat(o[s]))},[]).join(",")}},{key:"setupPopupLink",value:function(){var e="popup-link",t="popup-link-width",o="popup-link-height";On("popup setup"),ne(document.body).off("click.PopupLink").on("click.PopupLink","[data-".concat(e,"]"),function(l){l.preventDefault();var s=ne(l.currentTarget),a=s.data(t)||500,r=s.data(o)||500;window.open(l.currentTarget.href,"popup",g.params(a,r))})}}]),g}(),ne(Dx.setupPopupLink)}}),xd,$x=Gt({"components/util/message.js":function(){xd=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"LoadingMessage",value:function(e){var t=e.message,o=t===void 0?"Loading":t;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var t=e.errorMessage;return"<small>".concat(t,"</small>")}}]),g}()}}),mj=Gt({"components/tilebars/tilebars.js":function(){Si()}}),Nx,gj=Gt({"components/util/throttler.js":function(){Nx=function(){"use strict";function g(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,g),this.callback=n,this.threshhold=e,this.context=t,this.last=void 0,this.deferTimeout=void 0}return _createClass(g,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),g}()}}),Hp,Bx=Gt({"components/util/scroll-proximity-handler.js":function(){Si(),gj(),Hp=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.identifier=n,this.$targetElement=e,this.callback=t,this.$window=ne(window),this.throttler=new Nx(this.scrollListener,100,this)}return _createClass(g,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,t=this.$window.height();return e-t/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),g}()}}),Fx,yj=Gt({"components/util/is-bot.js":function(){Fx=/bot|crawl|spider/i.test(navigator.userAgent)}}),Sd,zx=Gt({"components/related/related.js":function(){Si(),$x(),mj(),Bx(),yj(),Sd=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"setup",value:function(){var e=ne("#js-related");if(e.length&&(Xf(),ne(window).on("resize  orientationchange",function(o){clearTimeout(g.also_found_throttler),g.also_found_throttler=setTimeout(Xf,250)})),!(!e.length||Fx)){var t=ne("#also-found");this.scrollProximityHandler=new Hp("related_items",t,function(){if(!e.text())return t.find(".tilebars").show(),e.html(xd.LoadingMessage({message:"Fetching items"})),g.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=ne("#also-found").data("identifier"),t=ne("#js-related");return g.getRelatedItems(e).then(function(o){t.html(o),Xf()}).catch(function(o){ne("#playplayset").hide(),t.html(xd.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,t){return new Promise(function(o,l){var s="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(t?"json":1),a="Related items temporarily unavailable. Please try back later.";ne.get(s,function(r){r===""&&l(new Error("No similar items found.")),r==="service_disabled"&&l(new Error(a)),o(r)}).fail(function(){l(new Error(a))})})}}]),g}(),ne(function(){return Sd.setup()})}}),Hx,Cd,Ux,Vx,qx,Wx,Yx,Gx,Ad,Kx,Up,Vp,qp,Xx,ir,Wp,Jx,Od,Zx=Gt({"https-url:https://esm.archive.org/v135/clipboard@2.0.11/esnext/clipboard.mjs":function(){Hx=Object.create,Cd=Object.defineProperty,Ux=Object.getOwnPropertyDescriptor,Vx=Object.getOwnPropertyNames,qx=Object.getPrototypeOf,Wx=Object.prototype.hasOwnProperty,Yx=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},Gx=function(n,e){for(var t in e)Cd(n,t,{get:e[t],enumerable:!0})},Ad=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!Wx.call(n,v)&&v!==t&&Cd(n,v,{get:function(){return e[v]},enumerable:!(o=Ux(e,v))||o.enumerable})},c=Vx(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},Kx=function(n,e,t){return Ad(n,e,"default"),t&&Ad(t,e,"default")},Up=function(n,e,t){return t=n!=null?Hx(qx(n)):{},Ad(e||!n||!n.__esModule?Cd(t,"default",{value:n,enumerable:!0}):t,n)},Vp=Yx(function(n,e){(function(t,o){typeof n=="object"&&typeof e=="object"?e.exports=o():typeof define=="function"&&define.amd?define([],o):typeof n=="object"?n.ClipboardJS=o():t.ClipboardJS=o()})(n,function(){return function(){var t={686:function(s,a,r){"use strict";var c=function(le){try{return document.execCommand(le)}catch(ye){return!1}},d=function(le){var ye=document.documentElement.getAttribute("dir")==="rtl",Ee=document.createElement("textarea");Ee.style.fontSize="12pt",Ee.style.border="0",Ee.style.padding="0",Ee.style.margin="0",Ee.style.position="absolute",Ee.style[ye?"right":"left"]="-9999px";var fe=window.pageYOffset||document.documentElement.scrollTop;return Ee.style.top="".concat(fe,"px"),Ee.setAttribute("readonly",""),Ee.value=le,Ee},h=function(le,ye){if(!_instanceof(le,ye))throw new TypeError("Cannot call a class as a function")},p=function(le,ye){for(var Ee=0;Ee<ye.length;Ee++){var fe=ye[Ee];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(le,fe.key,fe)}},v=function(le,ye,Ee){return ye&&p(le.prototype,ye),Ee&&p(le,Ee),le},k=function(le,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(ye&&ye.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),ye&&oe(le,ye)},x=function(le){var ye=E();return function(){var Ee=q(le),fe;if(ye){var rt=q(this).constructor;fe=Reflect.construct(Ee,arguments,rt)}else fe=Ee.apply(this,arguments);return S(this,fe)}},S=function(le,ye){return ye&&(me(ye)==="object"||typeof ye=="function")?ye:A(le)},A=function(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le},E=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(le){return!1}},O=function(le,ye){var Ee="data-clipboard-".concat(le);if(ye.hasAttribute(Ee))return ye.getAttribute(Ee)};r.d(a,{default:function(){return we}});var T=r(279),b=r.n(T),u=r(370),f=r.n(u),m=r(817),y=r.n(m),w=function(le){var ye=y()(le);return c("cut"),ye},C=w,M=function(le,ye){var Ee=d(le);ye.container.appendChild(Ee);var fe=y()(Ee);return c("copy"),Ee.remove(),fe},I=function(le){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},Ee="";return typeof le=="string"?Ee=M(le,ye):_instanceof(le,HTMLInputElement)&&!["text","search","url","tel","password"].includes(le==null?void 0:le.type)?Ee=M(le.value,ye):(Ee=y()(le),c("copy")),Ee},D=I;function z(ie){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(ye){return typeof ye}:z=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},z(ie)}var Q=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=le.action,Ee=ye===void 0?"copy":ye,fe=le.container,rt=le.target,ct=le.text;if(Ee!=="copy"&&Ee!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(rt!==void 0)if(rt&&z(rt)==="object"&&rt.nodeType===1){if(Ee==="copy"&&rt.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Ee==="cut"&&(rt.hasAttribute("readonly")||rt.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}else throw new Error('Invalid "target" value, use a valid Element');if(ct)return D(ct,{container:fe});if(rt)return Ee==="cut"?C(rt):D(rt,{container:fe})},W=Q;function me(ie){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?me=function(ye){return typeof ye}:me=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},me(ie)}function oe(ie,le){return oe=Object.setPrototypeOf||function(ye,Ee){return ye.__proto__=Ee,ye},oe(ie,le)}function q(ie){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},q(ie)}var ee=function(ie){k(ye,ie);var le=x(ye);function ye(Ee,fe){var rt;return h(this,ye),rt=le.call(this),rt.resolveOptions(fe),rt.listenClick(Ee),rt}return v(ye,[{key:"resolveOptions",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof fe.action=="function"?fe.action:this.defaultAction,this.target=typeof fe.target=="function"?fe.target:this.defaultTarget,this.text=typeof fe.text=="function"?fe.text:this.defaultText,this.container=me(fe.container)==="object"?fe.container:document.body}},{key:"listenClick",value:function(fe){var rt=this;this.listener=f()(fe,"click",function(ct){return rt.onClick(ct)})}},{key:"onClick",value:function(fe){var rt=fe.delegateTarget||fe.currentTarget,ct=this.action(rt)||"copy",Ot=W({action:ct,container:this.container,target:this.target(rt),text:this.text(rt)});this.emit(Ot?"success":"error",{action:ct,text:Ot,trigger:rt,clearSelection:function(){rt&&rt.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(fe){return O("action",fe)}},{key:"defaultTarget",value:function(fe){var rt=O("target",fe);if(rt)return document.querySelector(rt)}},{key:"defaultText",value:function(fe){return O("text",fe)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(fe){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return D(fe,rt)}},{key:"cut",value:function(fe){return C(fe)}},{key:"isSupported",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],rt=typeof fe=="string"?[fe]:fe,ct=!!document.queryCommandSupported;return rt.forEach(function(Ot){ct=ct&&!!document.queryCommandSupported(Ot)}),ct}}]),ye}(b()),we=ee},828:function(s){var a=function(h,p){for(;h&&h.nodeType!==r;){if(typeof h.matches=="function"&&h.matches(p))return h;h=h.parentNode}},r=9;if((typeof Element=="undefined"?"undefined":_typeof(Element))<"u"&&!Element.prototype.matches){var c=Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}s.exports=a},438:function(s,a,r){var c=function(k,x,S,A,E){var O=h.apply(this,arguments);return k.addEventListener(S,O,E),{destroy:function(){k.removeEventListener(S,O,E)}}},d=function(k,x,S,A,E){return typeof k.addEventListener=="function"?c.apply(null,arguments):typeof S=="function"?c.bind(null,document).apply(null,arguments):(typeof k=="string"&&(k=document.querySelectorAll(k)),Array.prototype.map.call(k,function(O){return c(O,x,S,A,E)}))},h=function(k,x,S,A){return function(E){E.delegateTarget=p(E.target,x),E.delegateTarget&&A.call(k,E)}},p=r(828);s.exports=d},879:function(s,a){a.node=function(r){return r!==void 0&&_instanceof(r,HTMLElement)&&r.nodeType===1},a.nodeList=function(r){var c=Object.prototype.toString.call(r);return r!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in r&&(r.length===0||a.node(r[0]))},a.string=function(r){return typeof r=="string"||_instanceof(r,String)},a.fn=function(r){var c=Object.prototype.toString.call(r);return c==="[object Function]"}},370:function(s,a,r){var c=function(S,A,E){if(!S&&!A&&!E)throw new Error("Missing required arguments");if(!v.string(A))throw new TypeError("Second argument must be a String");if(!v.fn(E))throw new TypeError("Third argument must be a Function");if(v.node(S))return d(S,A,E);if(v.nodeList(S))return h(S,A,E);if(v.string(S))return p(S,A,E);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")},d=function(S,A,E){return S.addEventListener(A,E),{destroy:function(){S.removeEventListener(A,E)}}},h=function(S,A,E){return Array.prototype.forEach.call(S,function(O){O.addEventListener(A,E)}),{destroy:function(){Array.prototype.forEach.call(S,function(T){T.removeEventListener(A,E)})}}},p=function(S,A,E){return k(document.body,S,A,E)},v=r(879),k=r(438);s.exports=c},817:function(s){var a=function(c){var d;if(c.nodeName==="SELECT")c.focus(),d=c.value;else if(c.nodeName==="INPUT"||c.nodeName==="TEXTAREA"){var h=c.hasAttribute("readonly");h||c.setAttribute("readonly",""),c.select(),c.setSelectionRange(0,c.value.length),h||c.removeAttribute("readonly"),d=c.value}else{c.hasAttribute("contenteditable")&&c.focus();var p=window.getSelection(),v=document.createRange();v.selectNodeContents(c),p.removeAllRanges(),p.addRange(v),d=p.toString()}return d};s.exports=a},279:function(s){var a=function(){};a.prototype={on:function(c,d,h){var p=this.e||(this.e={});return(p[c]||(p[c]=[])).push({fn:d,ctx:h}),this},once:function(c,d,h){var p=this;function v(){p.off(c,v),d.apply(h,arguments)}return v._=d,this.on(c,v,h)},emit:function(c){var d=[].slice.call(arguments,1),h=((this.e||(this.e={}))[c]||[]).slice(),p=0,v=h.length;for(p;p<v;p++)h[p].fn.apply(h[p].ctx,d);return this},off:function(c,d){var h=this.e||(this.e={}),p=h[c],v=[];if(p&&d)for(var k=0,x=p.length;k<x;k++)p[k].fn!==d&&p[k].fn._!==d&&v.push(p[k]);return v.length?h[c]=v:delete h[c],this}},s.exports=a,s.exports.TinyEmitter=a}},o={};function l(s){if(o[s])return o[s].exports;var a=o[s]={exports:{}};return t[s](a,a.exports,l),a.exports}return function(){l.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return l.d(a,{a:a}),a}}(),function(){l.d=function(s,a){for(var r in a)l.o(a,r)&&!l.o(s,r)&&Object.defineProperty(s,r,{enumerable:!0,get:a[r]})}}(),function(){l.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),l(686)}().default})}),qp={},Gx(qp,{default:function(){return Od}}),Xx=Up(Vp()),Kx(qp,Up(Vp()));var g;ir=Xx,g=ir,Wp=g.default,Jx=Ri(ir,["default"]),Od=Wp!==void 0?Wp:Jx}}),bj=Gt({"https-url:https://esm.archive.org/clipboard":function(){Zx(),Zx()}}),wj=Gt({"components/setUpCopyableTexts/setUpCopyableTexts.js":function(){bj(),Si(),ne(mT)}}),_j=Gt({"components/disabilityEligibility/disabilityEligibility.js":function(){Si(),bo(),ne(function(){return gT()})}}),Qx,kj=Gt({"components/related-music/related-music.js":function(){Si(),Bx(),Qx=function(){"use strict";function g(n){_classCallCheck(this,g),this.$relatedTable=n,this.itemIdentifier=this.$relatedTable.data("item_identifier"),this.scrollProximityHandler=new Hp("related_music",this.$relatedTable,this.startFetch.bind(this))}return _createClass(g,[{key:"startListener",value:function(){this.scrollProximityHandler.startListener()}},{key:"startFetch",value:function(){var e=this,t,o=(t=this.$relatedTable.find("tbody tr").length)!=null?t:0;return window==null||window.archive_analytics.send_event("related-music","start-fetch",o),new Promise(function(l){var s=e;e.$relatedTable.find("tbody tr").each(function(a,r){var c=ne(r).data("filename");s.fetchRelatedMusic(c)}),l()})}},{key:"fetchRelatedMusic",value:function(e){var t=this,o="/services/related-music/?item_identifier=".concat(this.itemIdentifier,"&file_name=").concat(e);ne.ajax({url:o,type:"GET",dataType:"json",crossDomain:!0}).then(function(l){t.handleResponse(e,"versions",l.result.versions),t.handleResponse(e,"compilations",l.result.compilations),t.handleResponse(e,"covers",l.result.covers)})}},{key:"handleResponse",value:function(e,t,o){var l=this.$relatedTable.find('tr[data-filename="'.concat(e,'"] .track-').concat(t)),s=l.find(".related-image"),a=l.find(".badge"),r=l.find(".related-album-image"),c=l.find(".img-container");s.removeClass("loading");var d=o?o.length:0,h=d>=50?"50<sup>+</sup>":d;a.html(h),d!==0&&(s.removeClass("empty"),r.attr("src","/services/img/".concat(o[0])),r.on("load",function(){var p=r.width()/r.height();p===4&&c.addClass("is-waveform")}))}}]),g}(),ne(function(){var g=ne(".related-music-table");if(g.length){var n=new Qx(g);setTimeout(function(){n.startListener()},5e3)}ne("#related-music-more-info-btn").on("click",function(){return ne("#related-music-more-info-content").toggle(),!1}),ne(".js-related-music-track-type").on("click",function(e){var t,o,l,s=e.currentTarget,a=(o=(t=s.dataset)==null?void 0:t.trackType)!=null?o:"unknown";(l=window==null?void 0:window.archive_analytics)==null||l.send_event("related-music","track-type-click",a)})})}}),e3,t3,xj=Gt({"components/paramsToJSON/paramsToJSON.js":function(){e3=function(){var g=window.location.search.substring(1),n={};return g.length>0&&g.split("&").forEach(function(e){var t=_slicedToArray(e.split("="),2),o=t[0],l=t[1];n[o]=decodeURIComponent(l)}),n},t3=e3}}),Yp=Gt({"components/util/onclick.js":function(){Si()}}),So,Sj=Gt({"components/manage/manage.js":function(){bo(),Kd(),Rx(),Yp(),Si(),So=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"css",value:function(){var e=document.createElement("style");e.textContent="\n#manage-ids {\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 1px;\n}\n\n#manage-help > div {\n  display: inline-block;\n  font-weight: bold;\n  font-size: 125%;\n  padding-right: 10px;\n}\n\n#manage-help .btn-info {\n  background-color: #777;\n  border-color: #666;\n}\n\n\n#manage-help > p {\n  text-align: center;\n}\n\n.item-ia.manage-item  .item-img {\n  opacity: .8;\n}\n\n.item-ia.manage-item  .item-img:hover {\n  opacity: .9;\n}\n\n.manage-check {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-style: solid;\n  border-color: black;\n  border-width: 2px 4px;\n  background-color: black;\n  border-radius: 3px;\n}\n\n#confirm-remove-items .btn {\n  display: block;\n  margin: 0 auto 10px;\n}\n\n.task-pending {\n  opacity: .20;\n}\n\n/* Bulk remove items modal */\n#confirm-remove-items .modal-content {\n  padding: 1rem;\n}\n\n#confirm-remove-items h2 {\n  font-size: 2.4rem;\n}\n";var t=document.getElementsByTagName("head")[0];t.appendChild(e)}},{key:"Context",get:function(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}},{key:"manage_items",value:function(e){ne("body").hasClass("lists")&&ne(".tiles-button:visible").click();var t=ne("body").hasClass("search-results-page")?g.Context.SearchResults:wr.inTab();if(![g.Context.Favorites,g.Context.Uploads,g.Context.Collections,g.Context.WebArchives,g.Context.SearchResults].includes(t)){alert("Removal feature cannot be used here");return}var o=[".item-ia.new-item"];if(t===g.Context.Uploads||t===g.Context.Collections){var l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&o.push('.item-ia[data-id="fav-'.concat(l[1],'"]'))}if(ne(o.join(", ")).toggleClass("hidden-tiles"),ne(".columns-facets").toggleClass("opac30"),ne(".item-ia .manage-check").length)ne(".item-ia").removeClass("manage-item").unbind("click"),ne(".columns-items .co-top-row > div").toggle(),ne(".item-ia .manage-check, #manage-help").remove(),ne(".item-ia").off("contextmenu");else{if(ne("#manage-help").length&&!ne(".item-ia .hov").length){ne(".item-ia").removeClass("manage-item").unbind("click"),ne(".columns-items .co-top-row > div").toggle(),ne(".item-ia .manage-check, #manage-help").remove(),ne(".item-ia").off("contextmenu");return}var s;switch(t){case g.Context.Favorites:s="Select items to un-favorite";break;case g.Context.SearchResults:s="Select items";break;default:s="Select items to remove"}ne(".columns-items .co-top-row").prepend('\n<div id="manage-help" style="display:none">\n  <div>\n    '.concat(s,'\n  </div>\n  <div class="topinblock">\n    <button id="manage-cancel" class="btn btn-small btn-info">\n      Cancel\n    </button>\n    <button id="manage-remove" class="btn btn-small btn-danger">\n      Remove selected items\n    </button>\n    ').concat(e&&t===g.Context.SearchResults?'\n      <button id="manage-item-mgr" class="btn btn-small btn-warning">\n        Item Manager the items\n      </button>\n      ':"","\n  </div>\n    ").concat(e?'\n    <p class="topinblock">\n      <a id="manage-toggle-all" href="#">\n        Toggle</br>all\n      </a>\n    </p>\n    ':"","\n</div>")),ne("#manage-cancel").bind("click",g.manage_items),ne("#manage-remove").bind("click",function(){return g.remove_items_modal(t)}),ne("#manage-item-mgr").bind("click",g.to_item_manager),ne("#manage-toggle-all").bind("click",g.toggle_checkboxes),ne(".columns-items .co-top-row > div").toggle(),ne(".item-ia.task-pending").bind("click",g.tile_clicked);var a=ne(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)");a.addClass("manage-item").bind("click",g.tile_clicked).append(g.checkbox(t===g.Context.SearchResults?"include item for item management":"remove this item from list")),ne(".item-ia").on("contextmenu",function(r){var c=ne(r.target).find("a:first").attr("href")||ne(r.target).parents("a").attr("href");On("right-click",c),window.open(c,"_blank")})}}},{key:"remove_favorite_item",value:function(e){var t=ne(e),o=t.data("id"),l=t.data("fav-collection");if(!(!o||!l)){var s=location.protocol.concat("//",location.host,"/details/",l).concat("?remove_item=".concat(encodeURIComponent(o),"&kind=favorite"));g.toggle_favorite_icon(t,!1),g.update_favorite_count(!1),ne.get(s)}}},{key:"checkbox",value:function(e){return'\n<div class="manage-check">\n  <input\n    type="checkbox"\n    alt="'.concat(e,'"\n    title="').concat(e,'"/>\n</div>')}},{key:"tile_clicked",value:function(e){var t=ne(e.target);if(t.attr("type")==="checkbox")return!0;e.stopPropagation(),e.preventDefault();var o=t.parents(".item-ia").find(".manage-check input");return o.prop("checked",!o.prop("checked")),!1}},{key:"toggle_checkboxes",value:function(){return ne(".manage-check input").prop("checked",function(e,t){return!t}),!1}},{key:"remove_items_modal",value:function(e){var t="";ne(".item-ia[data-id]:has(:checked)").each(function(s,a){var r=ne(a),c=r.find(".C2 a").text().trim();t+='\n        <div>\n          <div class="pull-right">\n            '.concat(r.find(".pubdate > :first").text(),"\n          </div>\n          <div>\n            ").concat(c.length?c:"[untitled]","\n          </div>\n          <hr/>\n        </div>\n      ")});var o=t===""?"No items selected":"Are you sure you want to remove these items?",l;if(t==="")t='\n        <div class="alert alert-danger">\n          Please select some items using checkboxes from the prior screen to remove.\n        </div>';else{switch(e){case g.Context.Favorites:l="confirmed_remove_favorites";break;case g.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}t+='\n        <button class="btn btn-small btn-danger '.concat(l,'">\n          Remove items\n        </button>')}wr.modal_add(g.modalID,{title:o,body:t,headerClass:""}).modal("show"),Qr(".".concat(l),function(){g[l]()})}},{key:"checked_ids",value:function(){return ne(".item-ia[data-id]:has(:checked)").toArray().reduce(function(e,t){var o=ne(t).data().id;return e.concat(e?",":"",o)},"")}},{key:"checked_ids_json",value:function(){var e=ne(".item-ia[data-id]:has(:checked)").toArray().map(function(t){return ne(t).data().id});return JSON.stringify(e)}},{key:"to_item_manager",value:function(){var e=g.checked_ids();if(On("to_item_manager:",e),e!==""){var t=ne('\n        <form id="manage-ids" method="POST" action="/manage/">\n          <input type="text" name="identifier" value="'.concat(e,'"/>\n        </form>'));ne("body").append(t),t.submit()}return!1}},{key:"confirmed_remove_web_archives",value:function(){var e={action:"delete",identifiers:g.checked_ids_json()};ne.ajax({type:"POST",url:"/services/web-archives/service.php",data:e,error:function(t,o,l){alert("Unable to complete the request. Our servers might be busy. Please try again later."),ne(g.modalID).modal("hide")},success:g.update_tiles})}},{key:"confirmed_dark_items",value:function(){var e={identifier:g.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":"from ".concat(location.pathname)};ne.post("/manage/",e,g.update_tiles)}},{key:"confirmed_remove_favorites",value:function(){var e=g.checked_ids(),t=location.href.replace(/#.*$/,"").concat("?kind=favorite&remove_item=".concat(encodeURIComponent(e)));return ne.get(t,g.update_tiles),!1}},{key:"update_tiles",value:function(){ne(".item-ia[data-id]:has(:checked)").remove(),wr.tiler(),ne(g.modalID).modal("hide")}},{key:"decorate_pendings",value:function(e){e.length&&(On("pending",e),e.forEach(function(t){return ne(".item-ia[data-id=".concat(t,"]")).addClass("task-pending")}))}},{key:"toggle_list_status",value:function(e){return ne(e).hasClass("favorited")?g.remove_favorite_item(e,!0):wr.modal_go(e,{favorite:1}),!1}},{key:"toggle_favorite_icon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=ne(e).find("span.icon-label");e.length&&(e.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),t?(e.addClass("favorited"),e.attr({"data-original-title":"Unfavorite"}),o.text("Unfavorite")):(e.removeClass("favorited"),e.attr({"data-original-title":"Favorite"}),o.text("Favorite")))}},{key:"update_favorite_count",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=ne(".favorite-count"),o=t.find(".item-stats-summary__label"),l=t.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",t.append(l),o=document.createElement("span"),o.className="item-stats-summary__label",t.append(o));var s=Number(ne(l).text().trim().replace(/,/g,""));e?s+=1:s-=1,ne(o).text(s===1?" Favorite":" Favorites"),ne(l).text(s.toLocaleString())}}]),g}(),ne(function(){if(window.location.hostname!=="web.archive.org"){So.modalID="#confirm-remove-items",So.css(),ne("body").hasClass("manage")&&So.manage_items(1);var g=ne(".js-manage-toggle_list_status");g.length&&g.bind("click",function(n){n.preventDefault(),So.toggle_list_status(g[0])}),Qr(".js-search-bar-manage",function(n){return So.manage_items(1)}),Qr(".js-manage-share_button",function(n){return wr.modal_go(n.currentTarget,{ignore_lnk:1,shown:wr.embed_codes_adjust})})}}),window.Manage=So}}),n3,Cj=Gt({"components/nav/banners.js":function(){n3={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss:function(n){n.preventDefault();var e=n.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(e.getAttribute("data-campaign")),e.remove()},readStorage:function(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage:function(n){var e=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify(_toConsumableArray(e).concat([n])))},bindEvents:function(){var n=this;document.querySelectorAll("".concat(this.selector," [data-action=").concat(this.action,"]")).forEach(function(e){var t=n;e.addEventListener("submit",function(o){return t.dismiss(o),!1})})},checkVisibility:function(){var n=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(function(e){e.classList.toggle("visible",!n.includes(e.getAttribute("data-campaign")))})},isLocalStorageAvailable:function(){try{return Object.keys(localStorage).length>=0}catch(n){return!1}},init:function(){this.bindEvents(),this.checkVisibility()}}}}),r3=Gt({"components/util/cgiarg.js":function(){}}),i3=Gt({"components/util/add_commas.js":function(){}}),o3,Aj=Gt({"components/login/loginModal.js":function(){$s(),Si(),Kd(),o3=function(g){var n=g.$form,e=g.url,t=g.selector,o=g.element,l=g.conf,s={success:function(r){Ai.get("logged-in-user")!==void 0?(ne(t).on("hidden.bs.modal",function(){ne(t).remove(),wr.modal_go(o,pi(ei({},l),{postLogin:!0}))}),ne(document.body).removeClass("blurry"),ne(t).modal("hide")):r.status!=="ok"&&(r.status==="bad_login"&&ne(".reset-password").hide(),ne(".password-error").html(r.message))},error:function(r){var c=r.responseJSON;ne(".reset-password").hide(),c?ne(".password-error").html(c.message):ne(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};n.on("submit",function(){var a={},r=s.success,c=s.error;return n.find("input").each(function(d,h){ne(h).attr("name").length&&(a[ne(h).attr("name")]=ne(h).val())}),a.submit_by_js="true",n.find(".alert").remove(),ne.ajax(e,{type:"POST",data:a,success:r,error:c}),!1})}}}),Gp,Oj=Gt({"components/geo/geo.js":function(){Si(),i3(),$x(),Gp=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"RegionsTable",value:function(e){var t=e.caption,o=t===void 0?"Regions":t,l=e.captionClass,s=l===void 0?"":l,a=e.counts,r=a===void 0?[]:a;return'\n      <table class="stats-table">\n        <caption class="'.concat(s,'">').concat(o,'</caption>\n\n        <thead>\n          <tr>\n            <th scope="col">Region</th>\n            <th scope="col">Country</th>\n            <th class="stats-table__numeric-column" scope="col">Views</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          ').concat(r.map(function(c){return'\n            <tr key="'.concat(c.state.code,"_").concat(c.country.code,"_").concat(c.count,'">\n              <td>').concat(c.state.formattedName,"</td>\n              <td>").concat(c.country.formattedName,'</td>\n              <td class="stats-table__numeric-column">').concat(c.formattedCount,"</td>\n            </tr>")}).join(""),"\n        </tbody>\n      </table>")}},{key:"setUpTopRegionsTable",value:function(){var e=ne(".js-top-regions-table"),t=e.find(".js-top-regions-message"),o=t.text();if(!(!e||!t)){t.html(xd.LoadingMessage({message:"loading data"}));var l={uaKinds:["non_robot","unrecognized"]};e.data("days")&&(l.days=parseInt(e.data("days"),10)),e.data("limit")&&(l.limit=parseInt(e.data("limit"),10)),g.StatsApiClient.getGeoCounts(e.data("identifier"),l).then(function(s){e.html(g.RegionsTable({caption:e.data("caption"),captionClass:e.data("captionClass"),counts:s}))},function(){t.text(o)})}}}]),g}(),function(){var n=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},e=function(r){return new l({count:r.sum_count_value,country:new o({code:r.geo_country,name:r.country}),state:new o({code:r.geo_state,name:r.state})})},t=function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c.uaKinds,h=d===void 0?["robot","non_robot","unrecognized"]:d;if(!r.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function p(A){return h.indexOf(A)!==-1}for(var v={},k=0;k<r.counts_geo.length;k++){var x=r.counts_geo[k];if(p(x.ua_kind)&&x.country!=="unknown"){var S="".concat(x.geo_country,"_").concat(x.geo_state);v[S]?v[S].count+=x.sum_count_value:v[S]=e(x)}}return Object.keys(v).map(function(A){return v[A]})},o=function(){"use strict";function a(r){var c=r.code,d=r.name;_classCallCheck(this,a),this.code=c,this.name=d}return _createClass(a,[{key:"formattedName",get:function(){return n(this.name)}}]),a}(),l=function(){"use strict";function a(r){var c=r.count,d=r.country,h=r.state;_classCallCheck(this,a),this.count=parseInt(c,10),this.country=d,this.state=h}return _createClass(a,[{key:"formattedCount",get:function(){return ha(this.count)}}]),a}(),s="https://be-api.us.archive.org/views/v1";Gp.StatsApiClient=function(){"use strict";function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"getGeoCounts",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=d.days,p=h===void 0?30:h,v=d.limit,k=v===void 0?100:v,x=d.uaKinds,S=x===void 0?["robot","non_robot","unrecognized"]:x,A="".concat(s,"/detail/collection/").concat(c,"/").concat(p);return ne.get(A).then(function(E){try{return t(E,{uaKinds:S}).sort(function(O,T){return O.count<T.count?1:-1}).slice(0,k)}catch(O){return ne.Deferred().reject(O)}})}}]),a}()}()}}),a3,Ed,s3,l3,u3,c3,d3,h3,Td,f3,Kp,Xp,Jp,p3,ir,Zp,v3,Qp,m3=Gt({"https-url:https://esm.archive.org/v135/jqueryui@1.11.1/esnext/jquery-ui.min.js":function(){a3=Object.create,Ed=Object.defineProperty,s3=Object.getOwnPropertyDescriptor,l3=Object.getOwnPropertyNames,u3=Object.getPrototypeOf,c3=Object.prototype.hasOwnProperty,d3=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},h3=function(n,e){for(var t in e)Ed(n,t,{get:e[t],enumerable:!0})},Td=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!c3.call(n,v)&&v!==t&&Ed(n,v,{get:function(){return e[v]},enumerable:!(o=s3(e,v))||o.enumerable})},c=l3(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},f3=function(n,e,t){return Td(n,e,"default"),t&&Td(t,e,"default")},Kp=function(n,e,t){return t=n!=null?a3(u3(n)):{},Td(e||!n||!n.__esModule?Ed(t,"default",{value:n,enumerable:!0}):t,n)},Xp=d3(function(){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){var e=function(u,f){var m,y,w,C=u.nodeName.toLowerCase();return C==="area"?(m=u.parentNode,y=m.name,u.href&&y&&m.nodeName.toLowerCase()==="map"?(w=n("img[usemap='#"+y+"']")[0],!!w&&t(w)):!1):(/input|select|textarea|button|object/.test(C)?!u.disabled:C==="a"&&u.href||f)&&t(u)},t=function(u){return n.expr.filters.visible(u)&&!n(u).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length},o=function(u){for(var f,m;u.length&&u[0]!==document;){if(f=u.css("position"),(f==="absolute"||f==="relative"||f==="fixed")&&(m=parseInt(u.css("zIndex"),10),!isNaN(m)&&m!==0))return m;u=u.parent()}return 0},l=function(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},n.extend(this._defaults,this.regional[""]),this.regional.en=n.extend(!0,{},this.regional[""]),this.regional["en-US"]=n.extend(!0,{},this.regional.en),this.dpDiv=s(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))},s=function(u){var f="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return u.delegate(f,"mouseout",function(){n(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(f,"mouseover",a)},a=function(){n.datepicker._isDisabledDatepicker(E.inline?E.dpDiv.parent()[0]:E.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).addClass("ui-datepicker-next-hover"))},r=function(u,f){n.extend(u,f);for(var m in f)f[m]==null&&(u[m]=f[m]);return u},c=function(u){return function(){var f=this.element.val();u.apply(this,arguments),this._refresh(),f!==this.element.val()&&this._trigger("change")}};n.ui=n.ui||{},n.extend(n.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({scrollParent:function(u){var f=this.css("position"),m=f==="absolute",y=u?/(auto|scroll|hidden)/:/(auto|scroll)/,w=this.parents().filter(function(){var C=n(this);return m&&C.css("position")==="static"?!1:y.test(C.css("overflow")+C.css("overflow-y")+C.css("overflow-x"))}).eq(0);return f!=="fixed"&&w.length?w:n(this[0].ownerDocument||document)},uniqueId:function(){var b=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(b){return function(u){return!!n.data(u,b)}}):function(b,u,f){return!!n.data(b,f[3])},focusable:function(u){return e(u,!isNaN(n.attr(u,"tabindex")))},tabbable:function(u){var f=n.attr(u,"tabindex"),m=isNaN(f);return(m||f>=0)&&e(u,!m)}}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(b,u){var f=function(M,I,D,z){return n.each(m,function(){I-=parseFloat(n.css(M,"padding"+this))||0,D&&(I-=parseFloat(n.css(M,"border"+this+"Width"))||0),z&&(I-=parseFloat(n.css(M,"margin"+this))||0)}),I},m=u==="Width"?["Left","Right"]:["Top","Bottom"],y=u.toLowerCase(),w={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+u]=function(C){return C===void 0?w["inner"+u].call(this):this.each(function(){n(this).css(y,f(this,C)+"px")})},n.fn["outer"+u]=function(C,M){return typeof C!="number"?w["outer"+u].call(this,C):this.each(function(){n(this).css(y,f(this,C,!0,M)+"px")})}}),n.fn.addBack||(n.fn.addBack=function(b){return this.add(b==null?this.prevObject:this.prevObject.filter(b))}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(b){return function(u){return arguments.length?b.call(this,n.camelCase(u)):b.call(this)}}(n.fn.removeData)),n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),n.fn.extend({focus:function(b){return function(u,f){return typeof u=="number"?this.each(function(){var m=this;setTimeout(function(){n(m).focus(),f&&f.call(m)},u)}):b.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var b="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(b+".ui-disableSelection",function(u){u.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(u){if(u!==void 0)return this.css("zIndex",u);if(this.length)for(var f,m,y=n(this[0]);y.length&&y[0]!==document;){if(f=y.css("position"),(f==="absolute"||f==="relative"||f==="fixed")&&(m=parseInt(y.css("zIndex"),10),!isNaN(m)&&m!==0))return m;y=y.parent()}return 0}}),n.ui.plugin={add:function(u,f,m){var y,w=n.ui[u].prototype;for(y in m)w.plugins[y]=w.plugins[y]||[],w.plugins[y].push([f,m[y]])},call:function(u,f,m,y){var w,C=u.plugins[f];if(C&&(y||u.element[0].parentNode&&u.element[0].parentNode.nodeType!==11))for(w=0;C.length>w;w++)u.options[C[w][0]]&&C[w][1].apply(u.element,m)}};var d=0,h=Array.prototype.slice;n.cleanData=function(b){return function(u){var f,m,y;for(y=0;(m=u[y])!=null;y++)try{f=n._data(m,"events"),f&&f.remove&&n(m).triggerHandler("remove")}catch(w){}b(u)}}(n.cleanData),n.widget=function(b,u,f){var m,y,w,C,M={},I=b.split(".")[0];return b=b.split(".")[1],m=I+"-"+b,f||(f=u,u=n.Widget),n.expr[":"][m.toLowerCase()]=function(D){return!!n.data(D,m)},n[I]=n[I]||{},y=n[I][b],w=n[I][b]=function(D,z){return this._createWidget?(arguments.length&&this._createWidget(D,z),void 0):new w(D,z)},n.extend(w,y,{version:f.version,_proto:n.extend({},f),_childConstructors:[]}),C=new u,C.options=n.widget.extend({},C.options),n.each(f,function(D,z){return n.isFunction(z)?(M[D]=function(){var Q=function(){return u.prototype[D].apply(this,arguments)},W=function(oe){return u.prototype[D].apply(this,oe)};return function(){var me,oe=this._super,q=this._superApply;return this._super=Q,this._superApply=W,me=z.apply(this,arguments),this._super=oe,this._superApply=q,me}}(),void 0):(M[D]=z,void 0)}),w.prototype=n.widget.extend(C,{widgetEventPrefix:y&&C.widgetEventPrefix||b},M,{constructor:w,namespace:I,widgetName:b,widgetFullName:m}),y?(n.each(y._childConstructors,function(D,z){var Q=z.prototype;n.widget(Q.namespace+"."+Q.widgetName,w,z._proto)}),delete y._childConstructors):u._childConstructors.push(w),n.widget.bridge(b,w),w},n.widget.extend=function(b){for(var u,f,m=h.call(arguments,1),y=0,w=m.length;w>y;y++)for(u in m[y])f=m[y][u],m[y].hasOwnProperty(u)&&f!==void 0&&(b[u]=n.isPlainObject(f)?n.isPlainObject(b[u])?n.widget.extend({},b[u],f):n.widget.extend({},f):f);return b},n.widget.bridge=function(b,u){var f=u.prototype.widgetFullName||b;n.fn[b]=function(m){var y=typeof m=="string",w=h.call(arguments,1),C=this;return m=!y&&w.length?n.widget.extend.apply(null,[m].concat(w)):m,y?this.each(function(){var M,I=n.data(this,f);return m==="instance"?(C=I,!1):I?n.isFunction(I[m])&&m.charAt(0)!=="_"?(M=I[m].apply(I,w),M!==I&&M!==void 0?(C=M&&M.jquery?C.pushStack(M.get()):M,!1):void 0):n.error("no such method '"+m+"' for "+b+" widget instance"):n.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+m+"'")}):this.each(function(){var M=n.data(this,f);M?(M.option(m||{}),M._init&&M._init()):n.data(this,f,new u(m,this))}),C}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(u,f){f=n(f||this.defaultElement||this)[0],this.element=n(f),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),u),this.bindings=n(),this.hoverable=n(),this.focusable=n(),f!==this&&(n.data(f,this.widgetFullName,this),this._on(!0,this.element,{remove:function(y){y.target===f&&this.destroy()}}),this.document=n(f.style?f.ownerDocument:f.document||f),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(u,f){var m,y,w,C=u;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof u=="string")if(C={},m=u.split("."),u=m.shift(),m.length){for(y=C[u]=n.widget.extend({},this.options[u]),w=0;m.length-1>w;w++)y[m[w]]=y[m[w]]||{},y=y[m[w]];if(u=m.pop(),arguments.length===1)return y[u]===void 0?null:y[u];y[u]=f}else{if(arguments.length===1)return this.options[u]===void 0?null:this.options[u];C[u]=f}return this._setOptions(C),this},_setOptions:function(u){var f;for(f in u)this._setOption(f,u[f]);return this},_setOption:function(u,f){return this.options[u]=f,u==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!f),f&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(u,f,m){var y,w=this;typeof u!="boolean"&&(m=f,f=u,u=!1),m?(f=y=n(f),this.bindings=this.bindings.add(f)):(m=f,f=this.element,y=this.widget()),n.each(m,function(C,M){var I=function(){return u||w.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled")?(typeof M=="string"?w[M]:M).apply(w,arguments):void 0};typeof M!="string"&&(I.guid=M.guid=M.guid||I.guid||n.guid++);var D=C.match(/^([\w:-]*)\s*(.*)$/),z=D[1]+w.eventNamespace,Q=D[2];Q?y.delegate(Q,z,I):f.bind(z,I)})},_off:function(u,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.unbind(f).undelegate(f)},_delay:function(u,f){var m=function(){return(typeof u=="string"?y[u]:u).apply(y,arguments)},y=this;return setTimeout(m,f||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(m){n(m.currentTarget).addClass("ui-state-hover")},mouseleave:function(m){n(m.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(m){n(m.currentTarget).addClass("ui-state-focus")},focusout:function(m){n(m.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(u,f,m){var y,w,C=this.options[u];if(m=m||{},f=n.Event(f),f.type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),f.target=this.element[0],w=f.originalEvent)for(y in w)y in f||(f[y]=w[y]);return this.element.trigger(f,m),!(n.isFunction(C)&&C.apply(this.element[0],[f].concat(m))===!1||f.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(b,u){n.Widget.prototype["_"+b]=function(f,m,y){typeof m=="string"&&(m={effect:m});var w,C=m?m===!0||typeof m=="number"?u:m.effect||u:b;m=m||{},typeof m=="number"&&(m={duration:m}),w=!n.isEmptyObject(m),m.complete=y,m.delay&&f.delay(m.delay),w&&n.effects&&n.effects.effect[C]?f[b](m):C!==b&&f[C]?f[C](m.duration,m.easing,y):f.queue(function(M){n(this)[b](),y&&y.call(f[0]),M()})}}),n.widget;var p=!1;n(document).mouseup(function(){p=!1}),n.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var u=this;this.element.bind("mousedown."+this.widgetName,function(f){return u._mouseDown(f)}).bind("click."+this.widgetName,function(f){return n.data(f.target,u.widgetName+".preventClickEvent")===!0?(n.removeData(f.target,u.widgetName+".preventClickEvent"),f.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(u){if(!p){this._mouseStarted&&this._mouseUp(u),this._mouseDownEvent=u;var f=this,m=u.which===1,y=typeof this.options.cancel=="string"&&u.target.nodeName?n(u.target).closest(this.options.cancel).length:!1;return m&&!y&&this._mouseCapture(u)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(u)!==!1,!this._mouseStarted)?(u.preventDefault(),!0):(n.data(u.target,this.widgetName+".preventClickEvent")===!0&&n.removeData(u.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(w){return f._mouseMove(w)},this._mouseUpDelegate=function(w){return f._mouseUp(w)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),u.preventDefault(),p=!0,!0)):!0}},_mouseMove:function(u){return n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!u.button?this._mouseUp(u):u.which?this._mouseStarted?(this._mouseDrag(u),u.preventDefault()):(this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,u)!==!1,this._mouseStarted?this._mouseDrag(u):this._mouseUp(u)),!this._mouseStarted):this._mouseUp(u)},_mouseUp:function(u){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,u.target===this._mouseDownEvent.target&&n.data(u.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(u)),p=!1,!1},_mouseDistanceMet:function(u){return Math.max(Math.abs(this._mouseDownEvent.pageX-u.pageX),Math.abs(this._mouseDownEvent.pageY-u.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){var b=function(q,ee,we){return[parseFloat(q[0])*(W.test(q[0])?ee/100:1),parseFloat(q[1])*(W.test(q[1])?we/100:1)]},u=function(q,ee){return parseInt(n.css(q,ee),10)||0},f=function(q){var ee=q[0];return ee.nodeType===9?{width:q.width(),height:q.height(),offset:{top:0,left:0}}:n.isWindow(ee)?{width:q.width(),height:q.height(),offset:{top:q.scrollTop(),left:q.scrollLeft()}}:ee.preventDefault?{width:0,height:0,offset:{top:ee.pageY,left:ee.pageX}}:{width:q.outerWidth(),height:q.outerHeight(),offset:q.offset()}};n.ui=n.ui||{};var m,y,w=Math.max,C=Math.abs,M=Math.round,I=/left|center|right/,D=/top|center|bottom/,z=/[\+\-]\d+(\.[\d]+)?%?/,Q=/^\w+/,W=/%$/,me=n.fn.position;n.position={scrollbarWidth:function(){if(m!==void 0)return m;var q,ee,we=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),ie=we.children()[0];return n("body").append(we),q=ie.offsetWidth,we.css("overflow","scroll"),ee=ie.offsetWidth,q===ee&&(ee=we[0].clientWidth),we.remove(),m=q-ee},getScrollInfo:function(q){var ee=q.isWindow||q.isDocument?"":q.element.css("overflow-x"),we=q.isWindow||q.isDocument?"":q.element.css("overflow-y"),ie=ee==="scroll"||ee==="auto"&&q.width<q.element[0].scrollWidth,le=we==="scroll"||we==="auto"&&q.height<q.element[0].scrollHeight;return{width:le?n.position.scrollbarWidth():0,height:ie?n.position.scrollbarWidth():0}},getWithinInfo:function(q){var ee=n(q||window),we=n.isWindow(ee[0]),ie=!!ee[0]&&ee[0].nodeType===9;return{element:ee,isWindow:we,isDocument:ie,offset:ee.offset()||{left:0,top:0},scrollLeft:ee.scrollLeft(),scrollTop:ee.scrollTop(),width:we||ie?ee.width():ee.outerWidth(),height:we||ie?ee.height():ee.outerHeight()}}},n.fn.position=function(oe){if(!oe||!oe.of)return me.apply(this,arguments);oe=n.extend({},oe);var q,ee,we,ie,le,ye,Ee=n(oe.of),fe=n.position.getWithinInfo(oe.within),rt=n.position.getScrollInfo(fe),ct=(oe.collision||"flip").split(" "),Ot={};return ye=f(Ee),Ee[0].preventDefault&&(oe.at="left top"),ee=ye.width,we=ye.height,ie=ye.offset,le=n.extend({},ie),n.each(["my","at"],function(){var _t,De,be=(oe[this]||"").split(" ");be.length===1&&(be=I.test(be[0])?be.concat(["center"]):D.test(be[0])?["center"].concat(be):["center","center"]),be[0]=I.test(be[0])?be[0]:"center",be[1]=D.test(be[1])?be[1]:"center",_t=z.exec(be[0]),De=z.exec(be[1]),Ot[this]=[_t?_t[0]:0,De?De[0]:0],oe[this]=[Q.exec(be[0])[0],Q.exec(be[1])[0]]}),ct.length===1&&(ct[1]=ct[0]),oe.at[0]==="right"?le.left+=ee:oe.at[0]==="center"&&(le.left+=ee/2),oe.at[1]==="bottom"?le.top+=we:oe.at[1]==="center"&&(le.top+=we/2),q=b(Ot.at,ee,we),le.left+=q[0],le.top+=q[1],this.each(function(){var _t,De,be=n(this),Xe=be.outerWidth(),Ne=be.outerHeight(),Qe=u(this,"marginLeft"),Me=u(this,"marginTop"),Ve=Xe+Qe+u(this,"marginRight")+rt.width,st=Ne+Me+u(this,"marginBottom")+rt.height,gt=n.extend({},le),Mt=b(Ot.my,be.outerWidth(),be.outerHeight());oe.my[0]==="right"?gt.left-=Xe:oe.my[0]==="center"&&(gt.left-=Xe/2),oe.my[1]==="bottom"?gt.top-=Ne:oe.my[1]==="center"&&(gt.top-=Ne/2),gt.left+=Mt[0],gt.top+=Mt[1],y||(gt.left=M(gt.left),gt.top=M(gt.top)),_t={marginLeft:Qe,marginTop:Me},n.each(["left","top"],function(Ue,Be){n.ui.position[ct[Ue]]&&n.ui.position[ct[Ue]][Be](gt,{targetWidth:ee,targetHeight:we,elemWidth:Xe,elemHeight:Ne,collisionPosition:_t,collisionWidth:Ve,collisionHeight:st,offset:[q[0]+Mt[0],q[1]+Mt[1]],my:oe.my,at:oe.at,within:fe,elem:be})}),oe.using&&(De=function(Be){var et=ie.left-gt.left,Ge=et+ee-Xe,$e=ie.top-gt.top,ze=$e+we-Ne,xt={target:{element:Ee,left:ie.left,top:ie.top,width:ee,height:we},element:{element:be,left:gt.left,top:gt.top,width:Xe,height:Ne},horizontal:0>Ge?"left":et>0?"right":"center",vertical:0>ze?"top":$e>0?"bottom":"middle"};Xe>ee&&ee>C(et+Ge)&&(xt.horizontal="center"),Ne>we&&we>C($e+ze)&&(xt.vertical="middle"),xt.important=w(C(et),C(Ge))>w(C($e),C(ze))?"horizontal":"vertical",oe.using.call(this,Be,xt)}),be.offset(n.extend(gt,{using:De}))})},n.ui.position={fit:{left:function(q,ee){var we,ie=ee.within,le=ie.isWindow?ie.scrollLeft:ie.offset.left,ye=ie.width,Ee=q.left-ee.collisionPosition.marginLeft,fe=le-Ee,rt=Ee+ee.collisionWidth-ye-le;ee.collisionWidth>ye?fe>0&&0>=rt?(we=q.left+fe+ee.collisionWidth-ye-le,q.left+=fe-we):q.left=rt>0&&0>=fe?le:fe>rt?le+ye-ee.collisionWidth:le:fe>0?q.left+=fe:rt>0?q.left-=rt:q.left=w(q.left-Ee,q.left)},top:function(q,ee){var we,ie=ee.within,le=ie.isWindow?ie.scrollTop:ie.offset.top,ye=ee.within.height,Ee=q.top-ee.collisionPosition.marginTop,fe=le-Ee,rt=Ee+ee.collisionHeight-ye-le;ee.collisionHeight>ye?fe>0&&0>=rt?(we=q.top+fe+ee.collisionHeight-ye-le,q.top+=fe-we):q.top=rt>0&&0>=fe?le:fe>rt?le+ye-ee.collisionHeight:le:fe>0?q.top+=fe:rt>0?q.top-=rt:q.top=w(q.top-Ee,q.top)}},flip:{left:function(q,ee){var we,ie,le=ee.within,ye=le.offset.left+le.scrollLeft,Ee=le.width,fe=le.isWindow?le.scrollLeft:le.offset.left,rt=q.left-ee.collisionPosition.marginLeft,ct=rt-fe,Ot=rt+ee.collisionWidth-Ee-fe,_t=ee.my[0]==="left"?-ee.elemWidth:ee.my[0]==="right"?ee.elemWidth:0,De=ee.at[0]==="left"?ee.targetWidth:ee.at[0]==="right"?-ee.targetWidth:0,be=-2*ee.offset[0];0>ct?(we=q.left+_t+De+be+ee.collisionWidth-Ee-ye,(0>we||C(ct)>we)&&(q.left+=_t+De+be)):Ot>0&&(ie=q.left-ee.collisionPosition.marginLeft+_t+De+be-fe,(ie>0||Ot>C(ie))&&(q.left+=_t+De+be))},top:function(q,ee){var we,ie,le=ee.within,ye=le.offset.top+le.scrollTop,Ee=le.height,fe=le.isWindow?le.scrollTop:le.offset.top,rt=q.top-ee.collisionPosition.marginTop,ct=rt-fe,Ot=rt+ee.collisionHeight-Ee-fe,_t=ee.my[1]==="top",De=_t?-ee.elemHeight:ee.my[1]==="bottom"?ee.elemHeight:0,be=ee.at[1]==="top"?ee.targetHeight:ee.at[1]==="bottom"?-ee.targetHeight:0,Xe=-2*ee.offset[1];0>ct?(ie=q.top+De+be+Xe+ee.collisionHeight-Ee-ye,q.top+De+be+Xe>ct&&(0>ie||C(ct)>ie)&&(q.top+=De+be+Xe)):Ot>0&&(we=q.top-ee.collisionPosition.marginTop+De+be+Xe-fe,q.top+De+be+Xe>Ot&&(we>0||Ot>C(we))&&(q.top+=De+be+Xe))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},function(){var oe,q,ee,we,ie,le=document.getElementsByTagName("body")[0],ye=document.createElement("div");oe=document.createElement(le?"div":"body"),ee={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},le&&n.extend(ee,{position:"absolute",left:"-1000px",top:"-1000px"});for(ie in ee)oe.style[ie]=ee[ie];oe.appendChild(ye),q=le||document.documentElement,q.insertBefore(oe,q.firstChild),ye.style.cssText="position: absolute; left: 10.7432222px;",we=n(ye).offset().left,y=we>10&&11>we,oe.innerHTML="",q.removeChild(oe)}()}(),n.ui.position,n.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var u=this.options;this.prevShow=this.prevHide=n(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),u.collapsible||u.active!==!1&&u.active!=null||(u.active=0),this._processPanels(),0>u.active&&(u.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var u=this.options.icons;u&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+u.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(u.header).addClass(u.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var u;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),u=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&u.css("height","")},_setOption:function(u,f){return u==="active"?(this._activate(f),void 0):(u==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(f)),this._super(u,f),u!=="collapsible"||f||this.options.active!==!1||this._activate(0),u==="icons"&&(this._destroyIcons(),f&&this._createIcons()),u==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!f).attr("aria-disabled",f),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!f)),void 0)},_keydown:function(u){if(!u.altKey&&!u.ctrlKey){var f=n.ui.keyCode,m=this.headers.length,y=this.headers.index(u.target),w=!1;switch(u.keyCode){case f.RIGHT:case f.DOWN:w=this.headers[(y+1)%m];break;case f.LEFT:case f.UP:w=this.headers[(y-1+m)%m];break;case f.SPACE:case f.ENTER:this._eventHandler(u);break;case f.HOME:w=this.headers[0];break;case f.END:w=this.headers[m-1]}w&&(n(u.target).attr("tabIndex",-1),n(w).attr("tabIndex",0),w.focus(),u.preventDefault())}},_panelKeyDown:function(u){u.keyCode===n.ui.keyCode.UP&&u.ctrlKey&&n(u.currentTarget).prev().focus()},refresh:function(){var u=this.options;this._processPanels(),u.active===!1&&u.collapsible===!0||!this.headers.length?(u.active=!1,this.active=n()):u.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(u.active=!1,this.active=n()):this._activate(Math.max(0,u.active-1)):u.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var u,f=this.options,m=f.heightStyle,y=this.element.parent();this.active=this._findActive(f.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var w=n(this),C=w.uniqueId().attr("id"),M=w.next(),I=M.uniqueId().attr("id");w.attr("aria-controls",I),M.attr("aria-labelledby",C)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(f.event),m==="fill"?(u=y.height(),this.element.siblings(":visible").each(function(){var w=n(this),C=w.css("position");C!=="absolute"&&C!=="fixed"&&(u-=w.outerHeight(!0))}),this.headers.each(function(){u-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,u-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):m==="auto"&&(u=0,this.headers.next().each(function(){u=Math.max(u,n(this).css("height","").height())}).height(u))},_activate:function(u){var f=this._findActive(u)[0];f!==this.active[0]&&(f=f||this.active[0],this._eventHandler({target:f,currentTarget:f,preventDefault:n.noop}))},_findActive:function(u){return typeof u=="number"?this.headers.eq(u):n()},_setupEvents:function(u){var f={keydown:"_keydown"};u&&n.each(u.split(" "),function(m,y){f[y]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,f),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(u){var f=this.options,m=this.active,y=n(u.currentTarget),w=y[0]===m[0],C=w&&f.collapsible,M=C?n():y.next(),I=m.next(),D={oldHeader:m,oldPanel:I,newHeader:C?n():y,newPanel:M};u.preventDefault(),w&&!f.collapsible||this._trigger("beforeActivate",u,D)===!1||(f.active=C?!1:this.headers.index(y),this.active=w?n():y,this._toggle(D),m.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&m.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),w||(y.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),f.icons&&y.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),y.next().addClass("ui-accordion-content-active")))},_toggle:function(u){var f=u.newPanel,m=this.prevShow.length?this.prevShow:u.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=f,this.prevHide=m,this.options.animate?this._animate(f,m,u):(m.hide(),f.show(),this._toggleComplete(u)),m.attr({"aria-hidden":"true"}),m.prev().attr("aria-selected","false"),f.length&&m.length?m.prev().attr({tabIndex:-1,"aria-expanded":"false"}):f.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),f.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(u,f,m){var y,w,C,M=this,I=0,D=u.length&&(!f.length||u.index()<f.index()),z=this.options.animate||{},Q=D&&z.down||z,W=function(){M._toggleComplete(m)};return typeof Q=="number"&&(C=Q),typeof Q=="string"&&(w=Q),w=w||Q.easing||z.easing,C=C||Q.duration||z.duration,f.length?u.length?(y=u.show().outerHeight(),f.animate(this.hideProps,{duration:C,easing:w,step:function(oe,q){q.now=Math.round(oe)}}),u.hide().animate(this.showProps,{duration:C,easing:w,complete:W,step:function(oe,q){q.now=Math.round(oe),q.prop!=="height"?I+=q.now:M.options.heightStyle!=="content"&&(q.now=Math.round(y-f.outerHeight()-I),I=0)}}),void 0):f.animate(this.hideProps,C,w,W):u.animate(this.showProps,C,w,W)},_toggleComplete:function(u){var f=u.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),f.length&&(f.parent()[0].className=f.parent()[0].className),this._trigger("activate",null,u)}}),n.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(u){u.preventDefault()},"click .ui-menu-item":function(u){var f=n(u.target);!this.mouseHandled&&f.not(".ui-state-disabled").length&&(this.select(u),u.isPropagationStopped()||(this.mouseHandled=!0),f.has(".ui-menu").length?this.expand(u):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(u){var f=n(u.currentTarget);f.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(u,f)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,m){var y=this.active||this.element.find(this.options.items).eq(0);m||this.focus(f,y)},blur:function(f){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(f)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(f){this._closeOnDocumentClick(f)&&this.collapseAll(f),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var u=n(this);u.data("ui-menu-submenu-carat")&&u.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(u){var f=function(z){return z.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},m,y,w,C,M,I=!0;switch(u.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(u);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(u);break;case n.ui.keyCode.HOME:this._move("first","first",u);break;case n.ui.keyCode.END:this._move("last","last",u);break;case n.ui.keyCode.UP:this.previous(u);break;case n.ui.keyCode.DOWN:this.next(u);break;case n.ui.keyCode.LEFT:this.collapse(u);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(u);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(u);break;case n.ui.keyCode.ESCAPE:this.collapse(u);break;default:I=!1,y=this.previousFilter||"",w=String.fromCharCode(u.keyCode),C=!1,clearTimeout(this.filterTimer),w===y?C=!0:w=y+w,M=RegExp("^"+f(w),"i"),m=this.activeMenu.find(this.options.items).filter(function(){return M.test(n(this).text())}),m=C&&m.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):m,m.length||(w=String.fromCharCode(u.keyCode),M=RegExp("^"+f(w),"i"),m=this.activeMenu.find(this.options.items).filter(function(){return M.test(n(this).text())})),m.length?(this.focus(u,m),m.length>1?(this.previousFilter=w,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}I&&u.preventDefault()},_activate:function(u){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(u):this.select(u))},refresh:function(){var u,f,m=this,y=this.options.icons.submenu,w=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),w.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var C=n(this),M=C.parent(),I=n("<span>").addClass("ui-menu-icon ui-icon "+y).data("ui-menu-submenu-carat",!0);M.attr("aria-haspopup","true").prepend(I),C.attr("aria-labelledby",M.attr("id"))}),u=w.add(this.element),f=u.find(this.options.items),f.not(".ui-menu-item").each(function(){var C=n(this);m._isDivider(C)&&C.addClass("ui-widget-content ui-menu-divider")}),f.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),f.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(u,f){u==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(f.submenu),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!f).attr("aria-disabled",f),this._super(u,f)},focus:function(u,f){var m,y;this.blur(u,u&&u.type==="focus"),this._scrollIntoView(f),this.active=f.first(),y=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",y.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),u&&u.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),m=f.children(".ui-menu"),m.length&&u&&/^mouse/.test(u.type)&&this._startOpening(m),this.activeMenu=f.parent(),this._trigger("focus",u,{item:f})},_scrollIntoView:function(u){var f,m,y,w,C,M;this._hasScroll()&&(f=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,m=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,y=u.offset().top-this.activeMenu.offset().top-f-m,w=this.activeMenu.scrollTop(),C=this.activeMenu.height(),M=u.outerHeight(),0>y?this.activeMenu.scrollTop(w+y):y+M>C&&this.activeMenu.scrollTop(w+y-C+M))},blur:function(u,f){f||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",u,{item:this.active}))},_startOpening:function(u){clearTimeout(this.timer),u.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(u)},this.delay))},_open:function(u){var f=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(u.parents(".ui-menu")).hide().attr("aria-hidden","true"),u.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(f)},collapseAll:function(u,f){clearTimeout(this.timer),this.timer=this._delay(function(){var m=f?this.element:n(u&&u.target).closest(this.element.find(".ui-menu"));m.length||(m=this.element),this._close(m),this.blur(u),this.activeMenu=m},this.delay)},_close:function(u){u||(u=this.active?this.active.parent():this.element),u.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(u){return!n(u.target).closest(".ui-menu").length},_isDivider:function(u){return!/[^\-\u2014\u2013\s]/.test(u.text())},collapse:function(u){var f=this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(u,f))},expand:function(u){var f=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(u,f)}))},next:function(u){this._move("next","first",u)},previous:function(u){this._move("prev","last",u)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(u,f,m){var y;this.active&&(y=u==="first"||u==="last"?this.active[u==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[u+"All"](".ui-menu-item").eq(0)),y&&y.length&&this.active||(y=this.activeMenu.find(this.options.items)[f]()),this.focus(m,y)},nextPage:function(u){var f,m,y;return this.active?(this.isLastItem()||(this._hasScroll()?(m=this.active.offset().top,y=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return f=n(this),0>f.offset().top-m-y}),this.focus(u,f)):this.focus(u,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(u),void 0)},previousPage:function(u){var f,m,y;return this.active?(this.isFirstItem()||(this._hasScroll()?(m=this.active.offset().top,y=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return f=n(this),f.offset().top-m+y>0}),this.focus(u,f)):this.focus(u,this.activeMenu.find(this.options.items).first())),void 0):(this.next(u),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(u){this.active=this.active||n(u.target).closest(".ui-menu-item");var f={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(u,!0),this._trigger("select",u,f)}}),n.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var u,f,m,y=this.element[0].nodeName.toLowerCase(),w=y==="textarea",C=y==="input";this.isMultiLine=w?!0:C?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[w||C?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(I){if(this.element.prop("readOnly"))return u=!0,m=!0,f=!0,void 0;u=!1,m=!1,f=!1;var D=n.ui.keyCode;switch(I.keyCode){case D.PAGE_UP:u=!0,this._move("previousPage",I);break;case D.PAGE_DOWN:u=!0,this._move("nextPage",I);break;case D.UP:u=!0,this._keyEvent("previous",I);break;case D.DOWN:u=!0,this._keyEvent("next",I);break;case D.ENTER:this.menu.active&&(u=!0,I.preventDefault(),this.menu.select(I));break;case D.TAB:this.menu.active&&this.menu.select(I);break;case D.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(I),I.preventDefault());break;default:f=!0,this._searchTimeout(I)}},keypress:function(I){if(u)return u=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&I.preventDefault(),void 0;if(!f){var D=n.ui.keyCode;switch(I.keyCode){case D.PAGE_UP:this._move("previousPage",I);break;case D.PAGE_DOWN:this._move("nextPage",I);break;case D.UP:this._keyEvent("previous",I);break;case D.DOWN:this._keyEvent("next",I)}}},input:function(I){return m?(m=!1,I.preventDefault(),void 0):(this._searchTimeout(I),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(I){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(I),this._change(I),void 0)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(I){I.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var D=this.menu.element[0];n(I.target).closest(".ui-menu-item").length||this._delay(function(){var z=this;this.document.one("mousedown",function(Q){Q.target===z.element[0]||Q.target===D||n.contains(D,Q.target)||z.close()})})},menufocus:function(I,D){var z,Q;return this.isNewMenu&&(this.isNewMenu=!1,I.originalEvent&&/^mouse/.test(I.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){n(I.target).trigger(I.originalEvent)}),void 0):(Q=D.item.data("ui-autocomplete-item"),this._trigger("focus",I,{item:Q})!==!1&&I.originalEvent&&/^key/.test(I.originalEvent.type)&&this._value(Q.value),z=D.item.attr("aria-label")||Q.value,z&&n.trim(z).length&&(this.liveRegion.children().hide(),n("<div>").text(z).appendTo(this.liveRegion)),void 0)},menuselect:function(I,D){var z=D.item.data("ui-autocomplete-item"),Q=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=Q,this._delay(function(){this.previous=Q,this.selectedItem=z})),this._trigger("select",I,{item:z})!==!1&&this._value(z.value),this.term=this._value(),this.close(I),this.selectedItem=z}}),this.liveRegion=n("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(u,f){this._super(u,f),u==="source"&&this._initSource(),u==="appendTo"&&this.menu.element.appendTo(this._appendTo()),u==="disabled"&&f&&this.xhr&&this.xhr.abort()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?n(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front")),u.length||(u=this.document[0].body),u},_initSource:function(){var u,f,m=this;n.isArray(this.options.source)?(u=this.options.source,this.source=function(y,w){w(n.ui.autocomplete.filter(u,y.term))}):typeof this.options.source=="string"?(f=this.options.source,this.source=function(y,w){m.xhr&&m.xhr.abort(),m.xhr=n.ajax({url:f,data:y,dataType:"json",success:function(M){w(M)},error:function(){w([])}})}):this.source=this.options.source},_searchTimeout:function(u){clearTimeout(this.searching),this.searching=this._delay(function(){var f=this.term===this._value(),m=this.menu.element.is(":visible"),y=u.altKey||u.ctrlKey||u.metaKey||u.shiftKey;(!f||f&&!m&&!y)&&(this.selectedItem=null,this.search(null,u))},this.options.delay)},search:function(u,f){return u=u!=null?u:this._value(),this.term=this._value(),u.length<this.options.minLength?this.close(f):this._trigger("search",f)!==!1?this._search(u):void 0},_search:function(u){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:u},this._response())},_response:function(){var u=++this.requestIndex;return n.proxy(function(f){u===this.requestIndex&&this.__response(f),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(u){u&&(u=this._normalize(u)),this._trigger("response",null,{content:u}),!this.options.disabled&&u&&u.length&&!this.cancelSearch?(this._suggest(u),this._trigger("open")):this._close()},close:function(u){this.cancelSearch=!0,this._close(u)},_close:function(u){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",u))},_change:function(u){this.previous!==this._value()&&this._trigger("change",u,{item:this.selectedItem})},_normalize:function(u){return u.length&&u[0].label&&u[0].value?u:n.map(u,function(f){return typeof f=="string"?{label:f,value:f}:n.extend({},f,{label:f.label||f.value,value:f.value||f.label})})},_suggest:function(u){var f=this.menu.element.empty();this._renderMenu(f,u),this.isNewMenu=!0,this.menu.refresh(),f.show(),this._resizeMenu(),f.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var u=this.menu.element;u.outerWidth(Math.max(u.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(u,f){var m=this;n.each(f,function(y,w){m._renderItemData(u,w)})},_renderItemData:function(u,f){return this._renderItem(u,f).data("ui-autocomplete-item",f)},_renderItem:function(u,f){return n("<li>").text(f.label).appendTo(u)},_move:function(u,f){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(u)||this.menu.isLastItem()&&/^next/.test(u)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[u](f),void 0):(this.search(null,f),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(u,f){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(u,f),f.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(u,f){var m=RegExp(n.ui.autocomplete.escapeRegex(f),"i");return n.grep(u,function(y){return m.test(y.label||y.value||y)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(u){return u+(u>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(u){var f;this._superApply(arguments),this.options.disabled||this.cancelSearch||(f=u&&u.length?this.options.messages.results(u.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(f).appendTo(this.liveRegion))}}),n.ui.autocomplete;var v,k="ui-button ui-widget ui-state-default ui-corner-all",x="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",S=function(){var u=n(this);setTimeout(function(){u.find(":ui-button").button("refresh")},1)},A=function(u){var f=u.name,m=u.form,y=n([]);return f&&(f=f.replace(/'/g,"\\'"),y=m?n(m).find("[name='"+f+"'][type=radio]"):n("[name='"+f+"'][type=radio]",u.ownerDocument).filter(function(){return!this.form})),y};n.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,S),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var u=this,f=this.options,m=this.type==="checkbox"||this.type==="radio",y=m?"":"ui-state-active";f.label===null&&(f.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(k).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){f.disabled||this===v&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){f.disabled||n(this).removeClass(y)}).bind("click"+this.eventNamespace,function(w){f.disabled&&(w.preventDefault(),w.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),m&&this.element.bind("change"+this.eventNamespace,function(){u.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return f.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled)return!1;n(this).addClass("ui-state-active"),u.buttonElement.attr("aria-pressed","true");var w=u.element[0];A(w).not(w).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return f.disabled?!1:(n(this).addClass("ui-state-active"),v=this,u.document.one("mouseup",function(){v=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return f.disabled?!1:(n(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(w){return f.disabled?!1:((w.keyCode===n.ui.keyCode.SPACE||w.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(w){w.keyCode===n.ui.keyCode.SPACE&&n(this).click()})),this._setOption("disabled",f.disabled),this._resetButton()},_determineButtonType:function(){var u,f,m;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(u=this.element.parents().last(),f="label[for='"+this.element.attr("id")+"']",this.buttonElement=u.find(f),this.buttonElement.length||(u=u.length?u.siblings():this.element.siblings(),this.buttonElement=u.filter(f),this.buttonElement.length||(this.buttonElement=u.find(f))),this.element.addClass("ui-helper-hidden-accessible"),m=this.element.is(":checked"),m&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",m)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(k+" ui-state-active "+x).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(u,f){return this._super(u,f),u==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!f),this.element.prop("disabled",!!f),f&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var u=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");u!==this.options.disabled&&this._setOption("disabled",u),this.type==="radio"?A(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var u=this.buttonElement.removeClass(x),f=n("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(u.empty()).text(),m=this.options.icons,y=m.primary&&m.secondary,w=[];m.primary||m.secondary?(this.options.text&&w.push("ui-button-text-icon"+(y?"s":m.primary?"-primary":"-secondary")),m.primary&&u.prepend("<span class='ui-button-icon-primary ui-icon "+m.primary+"'></span>"),m.secondary&&u.append("<span class='ui-button-icon-secondary ui-icon "+m.secondary+"'></span>"),this.options.text||(w.push(y?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||u.attr("title",n.trim(f)))):w.push("ui-button-text-only"),u.addClass(w.join(" "))}}),n.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(u,f){u==="disabled"&&this.buttons.button("option",u,f),this._super(u,f)},refresh:function(){var u=this.element.css("direction")==="rtl",f=this.element.find(this.options.items),m=f.filter(":ui-button");f.not(":ui-button").button(),m.button("refresh"),this.buttons=f.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(u?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(u?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),n.ui.button,n.extend(n.ui,{datepicker:{version:"1.11.1"}});var E;n.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(u){return r(this._defaults,u||{}),this},_attachDatepicker:function(u,f){var m,y,w;m=u.nodeName.toLowerCase(),y=m==="div"||m==="span",u.id||(this.uuid+=1,u.id="dp"+this.uuid),w=this._newInst(n(u),y),w.settings=n.extend({},f||{}),m==="input"?this._connectDatepicker(u,w):y&&this._inlineDatepicker(u,w)},_newInst:function(u,f){var m=u[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:m,input:u,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:f,dpDiv:f?s(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(u,f){var m=n(u);f.append=n([]),f.trigger=n([]),m.hasClass(this.markerClassName)||(this._attachments(m,f),m.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(f),n.data(u,"datepicker",f),f.settings.disabled&&this._disableDatepicker(u))},_attachments:function(u,f){var m,y,w,C=this._get(f,"appendText"),M=this._get(f,"isRTL");f.append&&f.append.remove(),C&&(f.append=n("<span class='"+this._appendClass+"'>"+C+"</span>"),u[M?"before":"after"](f.append)),u.unbind("focus",this._showDatepicker),f.trigger&&f.trigger.remove(),m=this._get(f,"showOn"),(m==="focus"||m==="both")&&u.focus(this._showDatepicker),(m==="button"||m==="both")&&(y=this._get(f,"buttonText"),w=this._get(f,"buttonImage"),f.trigger=n(this._get(f,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:w,alt:y,title:y}):n("<button type='button'></button>").addClass(this._triggerClass).html(w?n("<img/>").attr({src:w,alt:y,title:y}):y)),u[M?"before":"after"](f.trigger),f.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===u[0]?n.datepicker._hideDatepicker():(n.datepicker._datepickerShowing&&n.datepicker._lastInput!==u[0]&&n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(u[0])),!1}))},_autoSize:function(u){if(this._get(u,"autoSize")&&!u.inline){var f,m,y,w,C=new Date(2009,11,20),M=this._get(u,"dateFormat");M.match(/[DM]/)&&(f=function(D){for(m=0,y=0,w=0;D.length>w;w++)D[w].length>m&&(m=D[w].length,y=w);return y},C.setMonth(f(this._get(u,M.match(/MM/)?"monthNames":"monthNamesShort"))),C.setDate(f(this._get(u,M.match(/DD/)?"dayNames":"dayNamesShort"))+20-C.getDay())),u.input.attr("size",this._formatDate(u,C).length)}},_inlineDatepicker:function(u,f){var m=n(u);m.hasClass(this.markerClassName)||(m.addClass(this.markerClassName).append(f.dpDiv),n.data(u,"datepicker",f),this._setDate(f,this._getDefaultDate(f),!0),this._updateDatepicker(f),this._updateAlternate(f),f.settings.disabled&&this._disableDatepicker(u),f.dpDiv.css("display","block"))},_dialogDatepicker:function(u,f,m,y,w){var C,M,I,D,z,Q=this._dialogInst;return Q||(this.uuid+=1,C="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+C+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),Q=this._dialogInst=this._newInst(this._dialogInput,!1),Q.settings={},n.data(this._dialogInput[0],"datepicker",Q)),r(Q.settings,y||{}),f=f&&f.constructor===Date?this._formatDate(Q,f):f,this._dialogInput.val(f),this._pos=w?w.length?w:[w.pageX,w.pageY]:null,this._pos||(M=document.documentElement.clientWidth,I=document.documentElement.clientHeight,D=document.documentElement.scrollLeft||document.body.scrollLeft,z=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[M/2-100+D,I/2-150+z]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),Q.settings.onSelect=m,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",Q),this},_destroyDatepicker:function(u){var f,m=n(u),y=n.data(u,"datepicker");m.hasClass(this.markerClassName)&&(f=u.nodeName.toLowerCase(),n.removeData(u,"datepicker"),f==="input"?(y.append.remove(),y.trigger.remove(),m.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(f==="div"||f==="span")&&m.removeClass(this.markerClassName).empty())},_enableDatepicker:function(u){var f,m,y=n(u),w=n.data(u,"datepicker");y.hasClass(this.markerClassName)&&(f=u.nodeName.toLowerCase(),f==="input"?(u.disabled=!1,w.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(f==="div"||f==="span")&&(m=y.children("."+this._inlineClass),m.children().removeClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(C){return C===u?null:C}))},_disableDatepicker:function(u){var f,m,y=n(u),w=n.data(u,"datepicker");y.hasClass(this.markerClassName)&&(f=u.nodeName.toLowerCase(),f==="input"?(u.disabled=!0,w.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(f==="div"||f==="span")&&(m=y.children("."+this._inlineClass),m.children().addClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(C){return C===u?null:C}),this._disabledInputs[this._disabledInputs.length]=u)},_isDisabledDatepicker:function(u){if(!u)return!1;for(var f=0;this._disabledInputs.length>f;f++)if(this._disabledInputs[f]===u)return!0;return!1},_getInst:function(u){try{return n.data(u,"datepicker")}catch(f){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(u,f,m){var y,w,C,M,I=this._getInst(u);return arguments.length===2&&typeof f=="string"?f==="defaults"?n.extend({},n.datepicker._defaults):I?f==="all"?n.extend({},I.settings):this._get(I,f):null:(y=f||{},typeof f=="string"&&(y={},y[f]=m),I&&(this._curInst===I&&this._hideDatepicker(),w=this._getDateDatepicker(u,!0),C=this._getMinMaxDate(I,"min"),M=this._getMinMaxDate(I,"max"),r(I.settings,y),C!==null&&y.dateFormat!==void 0&&y.minDate===void 0&&(I.settings.minDate=this._formatDate(I,C)),M!==null&&y.dateFormat!==void 0&&y.maxDate===void 0&&(I.settings.maxDate=this._formatDate(I,M)),"disabled"in y&&(y.disabled?this._disableDatepicker(u):this._enableDatepicker(u)),this._attachments(n(u),I),this._autoSize(I),this._setDate(I,w),this._updateAlternate(I),this._updateDatepicker(I)),void 0)},_changeDatepicker:function(u,f,m){this._optionDatepicker(u,f,m)},_refreshDatepicker:function(u){var f=this._getInst(u);f&&this._updateDatepicker(f)},_setDateDatepicker:function(u,f){var m=this._getInst(u);m&&(this._setDate(m,f),this._updateDatepicker(m),this._updateAlternate(m))},_getDateDatepicker:function(u,f){var m=this._getInst(u);return m&&!m.inline&&this._setDateFromField(m,f),m?this._getDate(m):null},_doKeyDown:function(u){var f,m,y,w=n.datepicker._getInst(u.target),C=!0,M=w.dpDiv.is(".ui-datepicker-rtl");if(w._keyEvent=!0,n.datepicker._datepickerShowing)switch(u.keyCode){case 9:n.datepicker._hideDatepicker(),C=!1;break;case 13:return y=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",w.dpDiv),y[0]&&n.datepicker._selectDay(u.target,w.selectedMonth,w.selectedYear,y[0]),f=n.datepicker._get(w,"onSelect"),f?(m=n.datepicker._formatDate(w),f.apply(w.input?w.input[0]:null,[m,w])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(u.target,u.ctrlKey?-n.datepicker._get(w,"stepBigMonths"):-n.datepicker._get(w,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(u.target,u.ctrlKey?+n.datepicker._get(w,"stepBigMonths"):+n.datepicker._get(w,"stepMonths"),"M");break;case 35:(u.ctrlKey||u.metaKey)&&n.datepicker._clearDate(u.target),C=u.ctrlKey||u.metaKey;break;case 36:(u.ctrlKey||u.metaKey)&&n.datepicker._gotoToday(u.target),C=u.ctrlKey||u.metaKey;break;case 37:(u.ctrlKey||u.metaKey)&&n.datepicker._adjustDate(u.target,M?1:-1,"D"),C=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&n.datepicker._adjustDate(u.target,u.ctrlKey?-n.datepicker._get(w,"stepBigMonths"):-n.datepicker._get(w,"stepMonths"),"M");break;case 38:(u.ctrlKey||u.metaKey)&&n.datepicker._adjustDate(u.target,-7,"D"),C=u.ctrlKey||u.metaKey;break;case 39:(u.ctrlKey||u.metaKey)&&n.datepicker._adjustDate(u.target,M?-1:1,"D"),C=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&n.datepicker._adjustDate(u.target,u.ctrlKey?+n.datepicker._get(w,"stepBigMonths"):+n.datepicker._get(w,"stepMonths"),"M");break;case 40:(u.ctrlKey||u.metaKey)&&n.datepicker._adjustDate(u.target,7,"D"),C=u.ctrlKey||u.metaKey;break;default:C=!1}else u.keyCode===36&&u.ctrlKey?n.datepicker._showDatepicker(this):C=!1;C&&(u.preventDefault(),u.stopPropagation())},_doKeyPress:function(u){var f,m,y=n.datepicker._getInst(u.target);return n.datepicker._get(y,"constrainInput")?(f=n.datepicker._possibleChars(n.datepicker._get(y,"dateFormat")),m=String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),u.ctrlKey||u.metaKey||" ">m||!f||f.indexOf(m)>-1):void 0},_doKeyUp:function(u){var f,m=n.datepicker._getInst(u.target);if(m.input.val()!==m.lastVal)try{f=n.datepicker.parseDate(n.datepicker._get(m,"dateFormat"),m.input?m.input.val():null,n.datepicker._getFormatConfig(m)),f&&(n.datepicker._setDateFromField(m),n.datepicker._updateAlternate(m),n.datepicker._updateDatepicker(m))}catch(y){}return!0},_showDatepicker:function(u){if(u=u.target||u,u.nodeName.toLowerCase()!=="input"&&(u=n("input",u.parentNode)[0]),!n.datepicker._isDisabledDatepicker(u)&&n.datepicker._lastInput!==u){var f,m,y,w,C,M,I;f=n.datepicker._getInst(u),n.datepicker._curInst&&n.datepicker._curInst!==f&&(n.datepicker._curInst.dpDiv.stop(!0,!0),f&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),m=n.datepicker._get(f,"beforeShow"),y=m?m.apply(u,[u,f]):{},y!==!1&&(r(f.settings,y),f.lastVal=null,n.datepicker._lastInput=u,n.datepicker._setDateFromField(f),n.datepicker._inDialog&&(u.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(u),n.datepicker._pos[1]+=u.offsetHeight),w=!1,n(u).parents().each(function(){return w|=n(this).css("position")==="fixed",!w}),C={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,f.dpDiv.empty(),f.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(f),C=n.datepicker._checkOffset(f,C,w),f.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":w?"fixed":"absolute",display:"none",left:C.left+"px",top:C.top+"px"}),f.inline||(M=n.datepicker._get(f,"showAnim"),I=n.datepicker._get(f,"duration"),f.dpDiv.css("z-index",o(n(u))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[M]?f.dpDiv.show(M,n.datepicker._get(f,"showOptions"),I):f.dpDiv[M||"show"](M?I:null),n.datepicker._shouldFocusInput(f)&&f.input.focus(),n.datepicker._curInst=f))}},_updateDatepicker:function(u){this.maxRows=4,E=u,u.dpDiv.empty().append(this._generateHTML(u)),this._attachHandlers(u);var f,m=this._getNumberOfMonths(u),y=m[1],w=17,C=u.dpDiv.find("."+this._dayOverClass+" a");C.length>0&&a.apply(C.get(0)),u.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),y>1&&u.dpDiv.addClass("ui-datepicker-multi-"+y).css("width",w*y+"em"),u.dpDiv[(m[0]!==1||m[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),u.dpDiv[(this._get(u,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),u===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(u)&&u.input.focus(),u.yearshtml&&(f=u.yearshtml,setTimeout(function(){f===u.yearshtml&&u.yearshtml&&u.dpDiv.find("select.ui-datepicker-year:first").replaceWith(u.yearshtml),f=u.yearshtml=null},0))},_shouldFocusInput:function(u){return u.input&&u.input.is(":visible")&&!u.input.is(":disabled")&&!u.input.is(":focus")},_checkOffset:function(u,f,m){var y=u.dpDiv.outerWidth(),w=u.dpDiv.outerHeight(),C=u.input?u.input.outerWidth():0,M=u.input?u.input.outerHeight():0,I=document.documentElement.clientWidth+(m?0:n(document).scrollLeft()),D=document.documentElement.clientHeight+(m?0:n(document).scrollTop());return f.left-=this._get(u,"isRTL")?y-C:0,f.left-=m&&f.left===u.input.offset().left?n(document).scrollLeft():0,f.top-=m&&f.top===u.input.offset().top+M?n(document).scrollTop():0,f.left-=Math.min(f.left,f.left+y>I&&I>y?Math.abs(f.left+y-I):0),f.top-=Math.min(f.top,f.top+w>D&&D>w?Math.abs(w+M):0),f},_findPos:function(u){for(var f,m=this._getInst(u),y=this._get(m,"isRTL");u&&(u.type==="hidden"||u.nodeType!==1||n.expr.filters.hidden(u));)u=u[y?"previousSibling":"nextSibling"];return f=n(u).offset(),[f.left,f.top]},_hideDatepicker:function(u){var f,m,y,w,C=this._curInst;!C||u&&C!==n.data(u,"datepicker")||this._datepickerShowing&&(f=this._get(C,"showAnim"),m=this._get(C,"duration"),y=function(){n.datepicker._tidyDialog(C)},n.effects&&(n.effects.effect[f]||n.effects[f])?C.dpDiv.hide(f,n.datepicker._get(C,"showOptions"),m,y):C.dpDiv[f==="slideDown"?"slideUp":f==="fadeIn"?"fadeOut":"hide"](f?m:null,y),f||y(),this._datepickerShowing=!1,w=this._get(C,"onClose"),w&&w.apply(C.input?C.input[0]:null,[C.input?C.input.val():"",C]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(u){u.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(u){if(n.datepicker._curInst){var f=n(u.target),m=n.datepicker._getInst(f[0]);(f[0].id!==n.datepicker._mainDivId&&f.parents("#"+n.datepicker._mainDivId).length===0&&!f.hasClass(n.datepicker.markerClassName)&&!f.closest("."+n.datepicker._triggerClass).length&&n.datepicker._datepickerShowing&&(!n.datepicker._inDialog||!n.blockUI)||f.hasClass(n.datepicker.markerClassName)&&n.datepicker._curInst!==m)&&n.datepicker._hideDatepicker()}},_adjustDate:function(u,f,m){var y=n(u),w=this._getInst(y[0]);this._isDisabledDatepicker(y[0])||(this._adjustInstDate(w,f+(m==="M"?this._get(w,"showCurrentAtPos"):0),m),this._updateDatepicker(w))},_gotoToday:function(u){var f,m=n(u),y=this._getInst(m[0]);this._get(y,"gotoCurrent")&&y.currentDay?(y.selectedDay=y.currentDay,y.drawMonth=y.selectedMonth=y.currentMonth,y.drawYear=y.selectedYear=y.currentYear):(f=new Date,y.selectedDay=f.getDate(),y.drawMonth=y.selectedMonth=f.getMonth(),y.drawYear=y.selectedYear=f.getFullYear()),this._notifyChange(y),this._adjustDate(m)},_selectMonthYear:function(u,f,m){var y=n(u),w=this._getInst(y[0]);w["selected"+(m==="M"?"Month":"Year")]=w["draw"+(m==="M"?"Month":"Year")]=parseInt(f.options[f.selectedIndex].value,10),this._notifyChange(w),this._adjustDate(y)},_selectDay:function(u,f,m,y){var w,C=n(u);n(y).hasClass(this._unselectableClass)||this._isDisabledDatepicker(C[0])||(w=this._getInst(C[0]),w.selectedDay=w.currentDay=n("a",y).html(),w.selectedMonth=w.currentMonth=f,w.selectedYear=w.currentYear=m,this._selectDate(u,this._formatDate(w,w.currentDay,w.currentMonth,w.currentYear)))},_clearDate:function(u){var f=n(u);this._selectDate(f,"")},_selectDate:function(u,f){var m,y=n(u),w=this._getInst(y[0]);f=f!=null?f:this._formatDate(w),w.input&&w.input.val(f),this._updateAlternate(w),m=this._get(w,"onSelect"),m?m.apply(w.input?w.input[0]:null,[f,w]):w.input&&w.input.trigger("change"),w.inline?this._updateDatepicker(w):(this._hideDatepicker(),this._lastInput=w.input[0],typeof w.input[0]!="object"&&w.input.focus(),this._lastInput=null)},_updateAlternate:function(u){var f,m,y,w=this._get(u,"altField");w&&(f=this._get(u,"altFormat")||this._get(u,"dateFormat"),m=this._getDate(u),y=this.formatDate(f,m,this._getFormatConfig(u)),n(w).each(function(){n(this).val(y)}))},noWeekends:function(u){var f=u.getDay();return[f>0&&6>f,""]},iso8601Week:function(u){var f,m=new Date(u.getTime());return m.setDate(m.getDate()+4-(m.getDay()||7)),f=m.getTime(),m.setMonth(0),m.setDate(1),Math.floor(Math.round((f-m)/864e5)/7)+1},parseDate:function(u,f,m){if(u==null||f==null)throw"Invalid arguments";if(f=typeof f=="object"?""+f:f+"",f==="")return null;var y,w,C,M,I=0,D=(m?m.shortYearCutoff:null)||this._defaults.shortYearCutoff,z=typeof D!="string"?D:new Date().getFullYear()%100+parseInt(D,10),Q=(m?m.dayNamesShort:null)||this._defaults.dayNamesShort,W=(m?m.dayNames:null)||this._defaults.dayNames,me=(m?m.monthNamesShort:null)||this._defaults.monthNamesShort,oe=(m?m.monthNames:null)||this._defaults.monthNames,q=-1,ee=-1,we=-1,ie=-1,le=!1,ye=function(Ot){var _t=u.length>y+1&&u.charAt(y+1)===Ot;return _t&&y++,_t},Ee=function(Ot){var _t=ye(Ot),De=Ot==="@"?14:Ot==="!"?20:Ot==="y"&&_t?4:Ot==="o"?3:2,be=Ot==="y"?De:1,Xe=RegExp("^\\d{"+be+","+De+"}"),Ne=f.substring(I).match(Xe);if(!Ne)throw"Missing number at position "+I;return I+=Ne[0].length,parseInt(Ne[0],10)},fe=function(Ot,_t,De){var be=-1,Xe=n.map(ye(Ot)?De:_t,function(Ne,Qe){return[[Qe,Ne]]}).sort(function(Ne,Qe){return-(Ne[1].length-Qe[1].length)});if(n.each(Xe,function(Ne,Qe){var Me=Qe[1];return f.substr(I,Me.length).toLowerCase()===Me.toLowerCase()?(be=Qe[0],I+=Me.length,!1):void 0}),be!==-1)return be+1;throw"Unknown name at position "+I},rt=function(){if(f.charAt(I)!==u.charAt(y))throw"Unexpected literal at position "+I;I++};for(y=0;u.length>y;y++)if(le)u.charAt(y)!=="'"||ye("'")?rt():le=!1;else switch(u.charAt(y)){case"d":we=Ee("d");break;case"D":fe("D",Q,W);break;case"o":ie=Ee("o");break;case"m":ee=Ee("m");break;case"M":ee=fe("M",me,oe);break;case"y":q=Ee("y");break;case"@":M=new Date(Ee("@")),q=M.getFullYear(),ee=M.getMonth()+1,we=M.getDate();break;case"!":M=new Date((Ee("!")-this._ticksTo1970)/1e4),q=M.getFullYear(),ee=M.getMonth()+1,we=M.getDate();break;case"'":ye("'")?rt():le=!0;break;default:rt()}if(f.length>I&&(C=f.substr(I),!/^\s+/.test(C)))throw"Extra/unparsed characters found in date: "+C;if(q===-1?q=new Date().getFullYear():100>q&&(q+=new Date().getFullYear()-new Date().getFullYear()%100+(z>=q?0:-100)),ie>-1)for(ee=1,we=ie;w=this._getDaysInMonth(q,ee-1),!(w>=we);)ee++,we-=w;if(M=this._daylightSavingAdjust(new Date(q,ee-1,we)),M.getFullYear()!==q||M.getMonth()+1!==ee||M.getDate()!==we)throw"Invalid date";return M},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(u,f,m){if(!f)return"";var y,w=(m?m.dayNamesShort:null)||this._defaults.dayNamesShort,C=(m?m.dayNames:null)||this._defaults.dayNames,M=(m?m.monthNamesShort:null)||this._defaults.monthNamesShort,I=(m?m.monthNames:null)||this._defaults.monthNames,D=function(q){var ee=u.length>y+1&&u.charAt(y+1)===q;return ee&&y++,ee},z=function(q,ee,we){var ie=""+ee;if(D(q))for(;we>ie.length;)ie="0"+ie;return ie},Q=function(q,ee,we,ie){return D(q)?ie[ee]:we[ee]},W="",me=!1;if(f)for(y=0;u.length>y;y++)if(me)u.charAt(y)!=="'"||D("'")?W+=u.charAt(y):me=!1;else switch(u.charAt(y)){case"d":W+=z("d",f.getDate(),2);break;case"D":W+=Q("D",f.getDay(),w,C);break;case"o":W+=z("o",Math.round((new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime()-new Date(f.getFullYear(),0,0).getTime())/864e5),3);break;case"m":W+=z("m",f.getMonth()+1,2);break;case"M":W+=Q("M",f.getMonth(),M,I);break;case"y":W+=D("y")?f.getFullYear():(10>f.getYear()%100?"0":"")+f.getYear()%100;break;case"@":W+=f.getTime();break;case"!":W+=1e4*f.getTime()+this._ticksTo1970;break;case"'":D("'")?W+="'":me=!0;break;default:W+=u.charAt(y)}return W},_possibleChars:function(u){var f,m="",y=!1,w=function(M){var I=u.length>f+1&&u.charAt(f+1)===M;return I&&f++,I};for(f=0;u.length>f;f++)if(y)u.charAt(f)!=="'"||w("'")?m+=u.charAt(f):y=!1;else switch(u.charAt(f)){case"d":case"m":case"y":case"@":m+="0123456789";break;case"D":case"M":return null;case"'":w("'")?m+="'":y=!0;break;default:m+=u.charAt(f)}return m},_get:function(u,f){return u.settings[f]!==void 0?u.settings[f]:this._defaults[f]},_setDateFromField:function(u,f){if(u.input.val()!==u.lastVal){var m=this._get(u,"dateFormat"),y=u.lastVal=u.input?u.input.val():null,w=this._getDefaultDate(u),C=w,M=this._getFormatConfig(u);try{C=this.parseDate(m,y,M)||w}catch(I){y=f?"":y}u.selectedDay=C.getDate(),u.drawMonth=u.selectedMonth=C.getMonth(),u.drawYear=u.selectedYear=C.getFullYear(),u.currentDay=y?C.getDate():0,u.currentMonth=y?C.getMonth():0,u.currentYear=y?C.getFullYear():0,this._adjustInstDate(u)}},_getDefaultDate:function(u){return this._restrictMinMax(u,this._determineDate(u,this._get(u,"defaultDate"),new Date))},_determineDate:function(u,f,m){var y=function(I){var D=new Date;return D.setDate(D.getDate()+I),D},w=function(I){try{return n.datepicker.parseDate(n.datepicker._get(u,"dateFormat"),I,n.datepicker._getFormatConfig(u))}catch(q){}for(var D=(I.toLowerCase().match(/^c/)?n.datepicker._getDate(u):null)||new Date,z=D.getFullYear(),Q=D.getMonth(),W=D.getDate(),me=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,oe=me.exec(I);oe;){switch(oe[2]||"d"){case"d":case"D":W+=parseInt(oe[1],10);break;case"w":case"W":W+=7*parseInt(oe[1],10);break;case"m":case"M":Q+=parseInt(oe[1],10),W=Math.min(W,n.datepicker._getDaysInMonth(z,Q));break;case"y":case"Y":z+=parseInt(oe[1],10),W=Math.min(W,n.datepicker._getDaysInMonth(z,Q))}oe=me.exec(I)}return new Date(z,Q,W)},C=f==null||f===""?m:typeof f=="string"?w(f):typeof f=="number"?isNaN(f)?m:y(f):new Date(f.getTime());return C=C&&""+C=="Invalid Date"?m:C,C&&(C.setHours(0),C.setMinutes(0),C.setSeconds(0),C.setMilliseconds(0)),this._daylightSavingAdjust(C)},_daylightSavingAdjust:function(u){return u?(u.setHours(u.getHours()>12?u.getHours()+2:0),u):null},_setDate:function(u,f,m){var y=!f,w=u.selectedMonth,C=u.selectedYear,M=this._restrictMinMax(u,this._determineDate(u,f,new Date));u.selectedDay=u.currentDay=M.getDate(),u.drawMonth=u.selectedMonth=u.currentMonth=M.getMonth(),u.drawYear=u.selectedYear=u.currentYear=M.getFullYear(),w===u.selectedMonth&&C===u.selectedYear||m||this._notifyChange(u),this._adjustInstDate(u),u.input&&u.input.val(y?"":this._formatDate(u))},_getDate:function(u){var f=!u.currentYear||u.input&&u.input.val()===""?null:this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return f},_attachHandlers:function(u){var f=this._get(u,"stepMonths"),m="#"+u.id.replace(/\\\\/g,"\\");u.dpDiv.find("[data-handler]").map(function(){var y={prev:function(){n.datepicker._adjustDate(m,-f,"M")},next:function(){n.datepicker._adjustDate(m,+f,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(m)},selectDay:function(){return n.datepicker._selectDay(m,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(m,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(m,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),y[this.getAttribute("data-handler")])})},_generateHTML:function(u){var f,m,y,w,C,M,I,D,z,Q,W,me,oe,q,ee,we,ie,le,ye,Ee,fe,rt,ct,Ot,_t,De,be,Xe,Ne,Qe,Me,Ve,st,gt,Mt,Ue,Be,et,Ge,$e=new Date,ze=this._daylightSavingAdjust(new Date($e.getFullYear(),$e.getMonth(),$e.getDate())),xt=this._get(u,"isRTL"),bt=this._get(u,"showButtonPanel"),lt=this._get(u,"hideIfNoPrevNext"),Ze=this._get(u,"navigationAsDateFormat"),dt=this._getNumberOfMonths(u),$t=this._get(u,"showCurrentAtPos"),qt=this._get(u,"stepMonths"),Bt=dt[0]!==1||dt[1]!==1,ut=this._daylightSavingAdjust(u.currentDay?new Date(u.currentYear,u.currentMonth,u.currentDay):new Date(9999,9,9)),Y=this._getMinMaxDate(u,"min"),Kt=this._getMinMaxDate(u,"max"),Ft=u.drawMonth-$t,Xt=u.drawYear;if(0>Ft&&(Ft+=12,Xt--),Kt)for(f=this._daylightSavingAdjust(new Date(Kt.getFullYear(),Kt.getMonth()-dt[0]*dt[1]+1,Kt.getDate())),f=Y&&Y>f?Y:f;this._daylightSavingAdjust(new Date(Xt,Ft,1))>f;)Ft--,0>Ft&&(Ft=11,Xt--);for(u.drawMonth=Ft,u.drawYear=Xt,m=this._get(u,"prevText"),m=Ze?this.formatDate(m,this._daylightSavingAdjust(new Date(Xt,Ft-qt,1)),this._getFormatConfig(u)):m,y=this._canAdjustMonth(u,-1,Xt,Ft)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+m+"'><span class='ui-icon ui-icon-circle-triangle-"+(xt?"e":"w")+"'>"+m+"</span></a>":lt?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+m+"'><span class='ui-icon ui-icon-circle-triangle-"+(xt?"e":"w")+"'>"+m+"</span></a>",w=this._get(u,"nextText"),w=Ze?this.formatDate(w,this._daylightSavingAdjust(new Date(Xt,Ft+qt,1)),this._getFormatConfig(u)):w,C=this._canAdjustMonth(u,1,Xt,Ft)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+w+"'><span class='ui-icon ui-icon-circle-triangle-"+(xt?"w":"e")+"'>"+w+"</span></a>":lt?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+w+"'><span class='ui-icon ui-icon-circle-triangle-"+(xt?"w":"e")+"'>"+w+"</span></a>",M=this._get(u,"currentText"),I=this._get(u,"gotoCurrent")&&u.currentDay?ut:ze,M=Ze?this.formatDate(M,I,this._getFormatConfig(u)):M,D=u.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(u,"closeText")+"</button>",z=bt?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(xt?D:"")+(this._isInRange(u,I)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+M+"</button>":"")+(xt?"":D)+"</div>":"",Q=parseInt(this._get(u,"firstDay"),10),Q=isNaN(Q)?0:Q,W=this._get(u,"showWeek"),me=this._get(u,"dayNames"),oe=this._get(u,"dayNamesMin"),q=this._get(u,"monthNames"),ee=this._get(u,"monthNamesShort"),we=this._get(u,"beforeShowDay"),ie=this._get(u,"showOtherMonths"),le=this._get(u,"selectOtherMonths"),ye=this._getDefaultDate(u),Ee="",rt=0;dt[0]>rt;rt++){for(ct="",this.maxRows=4,Ot=0;dt[1]>Ot;Ot++){if(_t=this._daylightSavingAdjust(new Date(Xt,Ft,u.selectedDay)),De=" ui-corner-all",be="",Bt){if(be+="<div class='ui-datepicker-group",dt[1]>1)switch(Ot){case 0:be+=" ui-datepicker-group-first",De=" ui-corner-"+(xt?"right":"left");break;case dt[1]-1:be+=" ui-datepicker-group-last",De=" ui-corner-"+(xt?"left":"right");break;default:be+=" ui-datepicker-group-middle",De=""}be+="'>"}for(be+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+De+"'>"+(/all|left/.test(De)&&rt===0?xt?C:y:"")+(/all|right/.test(De)&&rt===0?xt?y:C:"")+this._generateMonthYearHeader(u,Ft,Xt,Y,Kt,rt>0||Ot>0,q,ee)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Xe=W?"<th class='ui-datepicker-week-col'>"+this._get(u,"weekHeader")+"</th>":"",fe=0;7>fe;fe++)Ne=(fe+Q)%7,Xe+="<th scope='col'"+((fe+Q+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+me[Ne]+"'>"+oe[Ne]+"</span></th>";for(be+=Xe+"</tr></thead><tbody>",Qe=this._getDaysInMonth(Xt,Ft),Xt===u.selectedYear&&Ft===u.selectedMonth&&(u.selectedDay=Math.min(u.selectedDay,Qe)),Me=(this._getFirstDayOfMonth(Xt,Ft)-Q+7)%7,Ve=Math.ceil((Me+Qe)/7),st=Bt&&this.maxRows>Ve?this.maxRows:Ve,this.maxRows=st,gt=this._daylightSavingAdjust(new Date(Xt,Ft,1-Me)),Mt=0;st>Mt;Mt++){for(be+="<tr>",Ue=W?"<td class='ui-datepicker-week-col'>"+this._get(u,"calculateWeek")(gt)+"</td>":"",fe=0;7>fe;fe++)Be=we?we.apply(u.input?u.input[0]:null,[gt]):[!0,""],et=gt.getMonth()!==Ft,Ge=et&&!le||!Be[0]||Y&&Y>gt||Kt&&gt>Kt,Ue+="<td class='"+((fe+Q+6)%7>=5?" ui-datepicker-week-end":"")+(et?" ui-datepicker-other-month":"")+(gt.getTime()===_t.getTime()&&Ft===u.selectedMonth&&u._keyEvent||ye.getTime()===gt.getTime()&&ye.getTime()===_t.getTime()?" "+this._dayOverClass:"")+(Ge?" "+this._unselectableClass+" ui-state-disabled":"")+(et&&!ie?"":" "+Be[1]+(gt.getTime()===ut.getTime()?" "+this._currentClass:"")+(gt.getTime()===ze.getTime()?" ui-datepicker-today":""))+"'"+(et&&!ie||!Be[2]?"":" title='"+Be[2].replace(/'/g,"&#39;")+"'")+(Ge?"":" data-handler='selectDay' data-event='click' data-month='"+gt.getMonth()+"' data-year='"+gt.getFullYear()+"'")+">"+(et&&!ie?"&#xa0;":Ge?"<span class='ui-state-default'>"+gt.getDate()+"</span>":"<a class='ui-state-default"+(gt.getTime()===ze.getTime()?" ui-state-highlight":"")+(gt.getTime()===ut.getTime()?" ui-state-active":"")+(et?" ui-priority-secondary":"")+"' href='#'>"+gt.getDate()+"</a>")+"</td>",gt.setDate(gt.getDate()+1),gt=this._daylightSavingAdjust(gt);be+=Ue+"</tr>"}Ft++,Ft>11&&(Ft=0,Xt++),be+="</tbody></table>"+(Bt?"</div>"+(dt[0]>0&&Ot===dt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),ct+=be}Ee+=ct}return Ee+=z,u._keyEvent=!1,Ee},_generateMonthYearHeader:function(u,f,m,y,w,C,M,I){var D,z,Q,W,me,oe,q,ee,we=this._get(u,"changeMonth"),ie=this._get(u,"changeYear"),le=this._get(u,"showMonthAfterYear"),ye="<div class='ui-datepicker-title'>",Ee="";if(C||!we)Ee+="<span class='ui-datepicker-month'>"+M[f]+"</span>";else{for(D=y&&y.getFullYear()===m,z=w&&w.getFullYear()===m,Ee+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",Q=0;12>Q;Q++)(!D||Q>=y.getMonth())&&(!z||w.getMonth()>=Q)&&(Ee+="<option value='"+Q+"'"+(Q===f?" selected='selected'":"")+">"+I[Q]+"</option>");Ee+="</select>"}if(le||(ye+=Ee+(!C&&we&&ie?"":"&#xa0;")),!u.yearshtml)if(u.yearshtml="",C||!ie)ye+="<span class='ui-datepicker-year'>"+m+"</span>";else{for(W=this._get(u,"yearRange").split(":"),me=new Date().getFullYear(),oe=function(rt){var ct=rt.match(/c[+\-].*/)?m+parseInt(rt.substring(1),10):rt.match(/[+\-].*/)?me+parseInt(rt,10):parseInt(rt,10);return isNaN(ct)?me:ct},q=oe(W[0]),ee=Math.max(q,oe(W[1]||"")),q=y?Math.max(q,y.getFullYear()):q,ee=w?Math.min(ee,w.getFullYear()):ee,u.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";ee>=q;q++)u.yearshtml+="<option value='"+q+"'"+(q===m?" selected='selected'":"")+">"+q+"</option>";u.yearshtml+="</select>",ye+=u.yearshtml,u.yearshtml=null}return ye+=this._get(u,"yearSuffix"),le&&(ye+=(!C&&we&&ie?"":"&#xa0;")+Ee),ye+="</div>"},_adjustInstDate:function(u,f,m){var y=u.drawYear+(m==="Y"?f:0),w=u.drawMonth+(m==="M"?f:0),C=Math.min(u.selectedDay,this._getDaysInMonth(y,w))+(m==="D"?f:0),M=this._restrictMinMax(u,this._daylightSavingAdjust(new Date(y,w,C)));u.selectedDay=M.getDate(),u.drawMonth=u.selectedMonth=M.getMonth(),u.drawYear=u.selectedYear=M.getFullYear(),(m==="M"||m==="Y")&&this._notifyChange(u)},_restrictMinMax:function(u,f){var m=this._getMinMaxDate(u,"min"),y=this._getMinMaxDate(u,"max"),w=m&&m>f?m:f;return y&&w>y?y:w},_notifyChange:function(u){var f=this._get(u,"onChangeMonthYear");f&&f.apply(u.input?u.input[0]:null,[u.selectedYear,u.selectedMonth+1,u])},_getNumberOfMonths:function(u){var f=this._get(u,"numberOfMonths");return f==null?[1,1]:typeof f=="number"?[1,f]:f},_getMinMaxDate:function(u,f){return this._determineDate(u,this._get(u,f+"Date"),null)},_getDaysInMonth:function(u,f){return 32-this._daylightSavingAdjust(new Date(u,f,32)).getDate()},_getFirstDayOfMonth:function(u,f){return new Date(u,f,1).getDay()},_canAdjustMonth:function(u,f,m,y){var w=this._getNumberOfMonths(u),C=this._daylightSavingAdjust(new Date(m,y+(0>f?f:w[0]*w[1]),1));return 0>f&&C.setDate(this._getDaysInMonth(C.getFullYear(),C.getMonth())),this._isInRange(u,C)},_isInRange:function(u,f){var m,y,w=this._getMinMaxDate(u,"min"),C=this._getMinMaxDate(u,"max"),M=null,I=null,D=this._get(u,"yearRange");return D&&(m=D.split(":"),y=new Date().getFullYear(),M=parseInt(m[0],10),I=parseInt(m[1],10),m[0].match(/[+\-].*/)&&(M+=y),m[1].match(/[+\-].*/)&&(I+=y)),(!w||f.getTime()>=w.getTime())&&(!C||f.getTime()<=C.getTime())&&(!M||f.getFullYear()>=M)&&(!I||I>=f.getFullYear())},_getFormatConfig:function(u){var f=this._get(u,"shortYearCutoff");return f=typeof f!="string"?f:new Date().getFullYear()%100+parseInt(f,10),{shortYearCutoff:f,dayNamesShort:this._get(u,"dayNamesShort"),dayNames:this._get(u,"dayNames"),monthNamesShort:this._get(u,"monthNamesShort"),monthNames:this._get(u,"monthNames")}},_formatDate:function(u,f,m,y){f||(u.currentDay=u.selectedDay,u.currentMonth=u.selectedMonth,u.currentYear=u.selectedYear);var w=f?typeof f=="object"?f:this._daylightSavingAdjust(new Date(y,m,f)):this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return this.formatDate(this._get(u,"dateFormat"),w,this._getFormatConfig(u))}}),n.fn.datepicker=function(b){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0),n("#"+n.datepicker._mainDivId).length===0&&n("body").append(n.datepicker.dpDiv);var u=Array.prototype.slice.call(arguments,1);return typeof b!="string"||b!=="isDisabled"&&b!=="getDate"&&b!=="widget"?b==="option"&&arguments.length===2&&typeof arguments[1]=="string"?n.datepicker["_"+b+"Datepicker"].apply(n.datepicker,[this[0]].concat(u)):this.each(function(){typeof b=="string"?n.datepicker["_"+b+"Datepicker"].apply(n.datepicker,[this].concat(u)):n.datepicker._attachDatepicker(this,b)}):n.datepicker["_"+b+"Datepicker"].apply(n.datepicker,[this[0]].concat(u))},n.datepicker=new l,n.datepicker.initialized=!1,n.datepicker.uuid=new Date().getTime(),n.datepicker.version="1.11.1",n.datepicker,n.widget("ui.draggable",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(u,f){this._super(u,f),u==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(u){var f=this.document[0],m=this.options;try{f.activeElement&&f.activeElement.nodeName.toLowerCase()!=="body"&&n(f.activeElement).blur()}catch(y){}return this.helper||m.disabled||n(u.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(u),this.handle?(n(m.iframeFix===!0?"iframe":m.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(u){var f=this.options;return this.helper=this._createHelper(u),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,n.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(u,!1),this.originalPageX=u.pageX,this.originalPageY=u.pageY,f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt),this._setContainment(),this._trigger("start",u)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!f.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,u),this._mouseDrag(u,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,u),!0)},_mouseDrag:function(u,f){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(u,!0),this.positionAbs=this._convertPositionTo("absolute"),!f){var m=this._uiHash();if(this._trigger("drag",u,m)===!1)return this._mouseUp({}),!1;this.position=m.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,u),!1},_mouseStop:function(u){var f=this,m=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(m=n.ui.ddmanager.drop(this,u)),this.dropped&&(m=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!m||this.options.revert==="valid"&&m||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,m)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",u)!==!1&&f._clear()}):this._trigger("stop",u)!==!1&&this._clear(),!1},_mouseUp:function(u){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,u),this.element.focus(),n.ui.mouse.prototype._mouseUp.call(this,u)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(u){return this.options.handle?!!n(u.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(u){var f=this.options,m=n.isFunction(f.helper)?n(f.helper.apply(this.element[0],[u])):f.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return m.parents("body").length||m.appendTo(f.appendTo==="parent"?this.element[0].parentNode:f.appendTo),m[0]===this.element[0]||/(fixed|absolute)/.test(m.css("position"))||m.css("position","absolute"),m},_adjustOffsetFromHelper:function(u){typeof u=="string"&&(u=u.split(" ")),n.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_isRootNode:function(u){return/(html|body)/i.test(u.tagName)||u===this.document[0]},_getParentOffset:function(){var u=this.offsetParent.offset(),f=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==f&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var u=this.element.position(),f=this._isRootNode(this.scrollParent[0]);return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+(f?0:this.scrollParent.scrollTop()),left:u.left-(parseInt(this.helper.css("left"),10)||0)+(f?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,f,m,y=this.options,w=this.document[0];return this.relativeContainer=null,y.containment?y.containment==="window"?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||w.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):y.containment==="document"?(this.containment=[0,0,n(w).width()-this.helperProportions.width-this.margins.left,(n(w).height()||w.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):y.containment.constructor===Array?(this.containment=y.containment,void 0):(y.containment==="parent"&&(y.containment=this.helper[0].parentNode),f=n(y.containment),m=f[0],m&&(u=f.css("overflow")!=="hidden",this.containment=[(parseInt(f.css("borderLeftWidth"),10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(u?Math.max(m.scrollWidth,m.offsetWidth):m.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(m.scrollHeight,m.offsetHeight):m.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=f),void 0):(this.containment=null,void 0)},_convertPositionTo:function(u,f){f||(f=this.position);var m=u==="absolute"?1:-1,y=this._isRootNode(this.scrollParent[0]);return{top:f.top+this.offset.relative.top*m+this.offset.parent.top*m-(this.cssPosition==="fixed"?-this.offset.scroll.top:y?0:this.offset.scroll.top)*m,left:f.left+this.offset.relative.left*m+this.offset.parent.left*m-(this.cssPosition==="fixed"?-this.offset.scroll.left:y?0:this.offset.scroll.left)*m}},_generatePosition:function(u,f){var m,y,w,C,M=this.options,I=this._isRootNode(this.scrollParent[0]),D=u.pageX,z=u.pageY;return I&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),f&&(this.containment&&(this.relativeContainer?(y=this.relativeContainer.offset(),m=[this.containment[0]+y.left,this.containment[1]+y.top,this.containment[2]+y.left,this.containment[3]+y.top]):m=this.containment,u.pageX-this.offset.click.left<m[0]&&(D=m[0]+this.offset.click.left),u.pageY-this.offset.click.top<m[1]&&(z=m[1]+this.offset.click.top),u.pageX-this.offset.click.left>m[2]&&(D=m[2]+this.offset.click.left),u.pageY-this.offset.click.top>m[3]&&(z=m[3]+this.offset.click.top)),M.grid&&(w=M.grid[1]?this.originalPageY+Math.round((z-this.originalPageY)/M.grid[1])*M.grid[1]:this.originalPageY,z=m?w-this.offset.click.top>=m[1]||w-this.offset.click.top>m[3]?w:w-this.offset.click.top>=m[1]?w-M.grid[1]:w+M.grid[1]:w,C=M.grid[0]?this.originalPageX+Math.round((D-this.originalPageX)/M.grid[0])*M.grid[0]:this.originalPageX,D=m?C-this.offset.click.left>=m[0]||C-this.offset.click.left>m[2]?C:C-this.offset.click.left>=m[0]?C-M.grid[0]:C+M.grid[0]:C),M.axis==="y"&&(D=this.originalPageX),M.axis==="x"&&(z=this.originalPageY)),{top:z-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:I?0:this.offset.scroll.top),left:D-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:I?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(u,f,m){return m=m||this._uiHash(),n.ui.plugin.call(this,u,[f,m,this],!0),u==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,u,f,m)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(u,f,m){var y=m.options,w=n.extend({},f,{item:m.element});m.sortables=[],n(y.connectToSortable).each(function(){var C=n(this).sortable("instance");C&&!C.options.disabled&&(m.sortables.push({instance:C,shouldRevert:C.options.revert}),C.refreshPositions(),C._trigger("activate",u,w))})},stop:function(u,f,m){var y=n.extend({},f,{item:m.element});n.each(m.sortables,function(){this.instance.isOver?(this.instance.isOver=0,m.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(u),this.instance.options.helper=this.instance.options._helper,m.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",u,y))})},drag:function(u,f,m){var y=this;n.each(m.sortables,function(){var w=!1,C=this;this.instance.positionAbs=m.positionAbs,this.instance.helperProportions=m.helperProportions,this.instance.offset.click=m.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(w=!0,n.each(m.sortables,function(){return this.instance.positionAbs=m.positionAbs,this.instance.helperProportions=m.helperProportions,this.instance.offset.click=m.offset.click,this!==C&&this.instance._intersectsWith(this.instance.containerCache)&&n.contains(C.instance.element[0],this.instance.element[0])&&(w=!1),w})),w?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(y).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},u.target=this.instance.currentItem[0],this.instance._mouseCapture(u,!0),this.instance._mouseStart(u,!0,!0),this.instance.offset.click.top=m.offset.click.top,this.instance.offset.click.left=m.offset.click.left,this.instance.offset.parent.left-=m.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=m.offset.parent.top-this.instance.offset.parent.top,m._trigger("toSortable",u),m.dropped=this.instance.element,m.currentItem=m.element,this.instance.fromOutside=m),this.instance.currentItem&&this.instance._mouseDrag(u)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",u,this.instance._uiHash(this.instance)),this.instance._mouseStop(u,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),m._trigger("fromSortable",u),m.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(u,f,m){var y=n("body"),w=m.options;y.css("cursor")&&(w._cursor=y.css("cursor")),y.css("cursor",w.cursor)},stop:function(u,f,m){var y=m.options;y._cursor&&n("body").css("cursor",y._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(u,f,m){var y=n(f.helper),w=m.options;y.css("opacity")&&(w._opacity=y.css("opacity")),y.css("opacity",w.opacity)},stop:function(u,f,m){var y=m.options;y._opacity&&n(f.helper).css("opacity",y._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(u,f,m){m.scrollParentNotHidden||(m.scrollParentNotHidden=m.helper.scrollParent(!1)),m.scrollParentNotHidden[0]!==m.document[0]&&m.scrollParentNotHidden[0].tagName!=="HTML"&&(m.overflowOffset=m.scrollParentNotHidden.offset())},drag:function(u,f,m){var y=m.options,w=!1,C=m.scrollParentNotHidden[0],M=m.document[0];C!==M&&C.tagName!=="HTML"?(y.axis&&y.axis==="x"||(m.overflowOffset.top+C.offsetHeight-u.pageY<y.scrollSensitivity?C.scrollTop=w=C.scrollTop+y.scrollSpeed:u.pageY-m.overflowOffset.top<y.scrollSensitivity&&(C.scrollTop=w=C.scrollTop-y.scrollSpeed)),y.axis&&y.axis==="y"||(m.overflowOffset.left+C.offsetWidth-u.pageX<y.scrollSensitivity?C.scrollLeft=w=C.scrollLeft+y.scrollSpeed:u.pageX-m.overflowOffset.left<y.scrollSensitivity&&(C.scrollLeft=w=C.scrollLeft-y.scrollSpeed))):(y.axis&&y.axis==="x"||(u.pageY-n(M).scrollTop()<y.scrollSensitivity?w=n(M).scrollTop(n(M).scrollTop()-y.scrollSpeed):n(window).height()-(u.pageY-n(M).scrollTop())<y.scrollSensitivity&&(w=n(M).scrollTop(n(M).scrollTop()+y.scrollSpeed))),y.axis&&y.axis==="y"||(u.pageX-n(M).scrollLeft()<y.scrollSensitivity?w=n(M).scrollLeft(n(M).scrollLeft()-y.scrollSpeed):n(window).width()-(u.pageX-n(M).scrollLeft())<y.scrollSensitivity&&(w=n(M).scrollLeft(n(M).scrollLeft()+y.scrollSpeed)))),w!==!1&&n.ui.ddmanager&&!y.dropBehaviour&&n.ui.ddmanager.prepareOffsets(m,u)}}),n.ui.plugin.add("draggable","snap",{start:function(u,f,m){var y=m.options;m.snapElements=[],n(y.snap.constructor!==String?y.snap.items||":data(ui-draggable)":y.snap).each(function(){var w=n(this),C=w.offset();this!==m.element[0]&&m.snapElements.push({item:this,width:w.outerWidth(),height:w.outerHeight(),top:C.top,left:C.left})})},drag:function(u,f,m){var y,w,C,M,I,D,z,Q,W,me,oe=m.options,q=oe.snapTolerance,ee=f.offset.left,we=ee+m.helperProportions.width,ie=f.offset.top,le=ie+m.helperProportions.height;for(W=m.snapElements.length-1;W>=0;W--)I=m.snapElements[W].left,D=I+m.snapElements[W].width,z=m.snapElements[W].top,Q=z+m.snapElements[W].height,I-q>we||ee>D+q||z-q>le||ie>Q+q||!n.contains(m.snapElements[W].item.ownerDocument,m.snapElements[W].item)?(m.snapElements[W].snapping&&m.options.snap.release&&m.options.snap.release.call(m.element,u,n.extend(m._uiHash(),{snapItem:m.snapElements[W].item})),m.snapElements[W].snapping=!1):(oe.snapMode!=="inner"&&(y=q>=Math.abs(z-le),w=q>=Math.abs(Q-ie),C=q>=Math.abs(I-we),M=q>=Math.abs(D-ee),y&&(f.position.top=m._convertPositionTo("relative",{top:z-m.helperProportions.height,left:0}).top-m.margins.top),w&&(f.position.top=m._convertPositionTo("relative",{top:Q,left:0}).top-m.margins.top),C&&(f.position.left=m._convertPositionTo("relative",{top:0,left:I-m.helperProportions.width}).left-m.margins.left),M&&(f.position.left=m._convertPositionTo("relative",{top:0,left:D}).left-m.margins.left)),me=y||w||C||M,oe.snapMode!=="outer"&&(y=q>=Math.abs(z-ie),w=q>=Math.abs(Q-le),C=q>=Math.abs(I-ee),M=q>=Math.abs(D-we),y&&(f.position.top=m._convertPositionTo("relative",{top:z,left:0}).top-m.margins.top),w&&(f.position.top=m._convertPositionTo("relative",{top:Q-m.helperProportions.height,left:0}).top-m.margins.top),C&&(f.position.left=m._convertPositionTo("relative",{top:0,left:I}).left-m.margins.left),M&&(f.position.left=m._convertPositionTo("relative",{top:0,left:D-m.helperProportions.width}).left-m.margins.left)),!m.snapElements[W].snapping&&(y||w||C||M||me)&&m.options.snap.snap&&m.options.snap.snap.call(m.element,u,n.extend(m._uiHash(),{snapItem:m.snapElements[W].item})),m.snapElements[W].snapping=y||w||C||M||me)}}),n.ui.plugin.add("draggable","stack",{start:function(u,f,m){var y,w=m.options,C=n.makeArray(n(w.stack)).sort(function(M,I){return(parseInt(n(M).css("zIndex"),10)||0)-(parseInt(n(I).css("zIndex"),10)||0)});C.length&&(y=parseInt(n(C[0]).css("zIndex"),10)||0,n(C).each(function(M){n(this).css("zIndex",y+M)}),this.css("zIndex",y+C.length))}}),n.ui.plugin.add("draggable","zIndex",{start:function(u,f,m){var y=n(f.helper),w=m.options;y.css("zIndex")&&(w._zIndex=y.css("zIndex")),y.css("zIndex",w.zIndex)},stop:function(u,f,m){var y=m.options;y._zIndex&&n(f.helper).css("zIndex",y._zIndex)}}),n.ui.draggable,n.widget("ui.resizable",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(u){return parseInt(u,10)||0},_isNumber:function(u){return!isNaN(parseInt(u,10))},_hasScroll:function(u,f){if(n(u).css("overflow")==="hidden")return!1;var m=f&&f==="left"?"scrollLeft":"scrollTop",y=!1;return u[m]>0?!0:(u[m]=1,y=u[m]>0,u[m]=0,y)},_create:function(){var u,f,m,y,w,C=this,M=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!M.aspectRatio,aspectRatio:M.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:M.helper||M.ghost||M.animate?M.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=M.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},f=0;u.length>f;f++)m=n.trim(u[f]),w="ui-resizable-"+m,y=n("<div class='ui-resizable-handle "+w+"'></div>"),y.css({zIndex:M.zIndex}),m==="se"&&y.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[m]=".ui-resizable-"+m,this.element.append(y);this._renderAxis=function(I){var D,z,Q,W;I=I||this.element;for(D in this.handles)this.handles[D].constructor===String&&(this.handles[D]=this.element.children(this.handles[D]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(z=n(this.handles[D],this.element),W=/sw|ne|nw|se|n|s/.test(D)?z.outerHeight():z.outerWidth(),Q=["padding",/ne|nw|n/.test(D)?"Top":/se|sw|s/.test(D)?"Bottom":/^e$/.test(D)?"Right":"Left"].join(""),I.css(Q,W),this._proportionallyResize()),n(this.handles[D]).length},this._renderAxis(this.element),this._handles=n(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){C.resizing||(this.className&&(y=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),C.axis=y&&y[1]?y[1]:"se")}),M.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){M.disabled||(n(this).removeClass("ui-resizable-autohide"),C._handles.show())}).mouseleave(function(){M.disabled||C.resizing||(n(this).addClass("ui-resizable-autohide"),C._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var u,f=function(y){n(y).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(f(this.element),u=this.element,this.originalElement.css({position:u.css("position"),width:u.outerWidth(),height:u.outerHeight(),top:u.css("top"),left:u.css("left")}).insertAfter(u),u.remove()),this.originalElement.css("resize",this.originalResizeStyle),f(this.originalElement),this},_mouseCapture:function(u){var f,m,y=!1;for(f in this.handles)m=n(this.handles[f])[0],(m===u.target||n.contains(m,u.target))&&(y=!0);return!this.options.disabled&&y},_mouseStart:function(u){var f,m,y,w=this.options,C=this.element;return this.resizing=!0,this._renderProxy(),f=this._num(this.helper.css("left")),m=this._num(this.helper.css("top")),w.containment&&(f+=n(w.containment).scrollLeft()||0,m+=n(w.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:m},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:C.width(),height:C.height()},this.originalSize=this._helper?{width:C.outerWidth(),height:C.outerHeight()}:{width:C.width(),height:C.height()},this.sizeDiff={width:C.outerWidth()-C.width(),height:C.outerHeight()-C.height()},this.originalPosition={left:f,top:m},this.originalMousePosition={left:u.pageX,top:u.pageY},this.aspectRatio=typeof w.aspectRatio=="number"?w.aspectRatio:this.originalSize.width/this.originalSize.height||1,y=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",y==="auto"?this.axis+"-resize":y),C.addClass("ui-resizable-resizing"),this._propagate("start",u),!0},_mouseDrag:function(u){var f,m,y=this.originalMousePosition,w=this.axis,C=u.pageX-y.left||0,M=u.pageY-y.top||0,I=this._change[w];return this._updatePrevProperties(),I&&(f=I.apply(this,[u,C,M]),this._updateVirtualBoundaries(u.shiftKey),(this._aspectRatio||u.shiftKey)&&(f=this._updateRatio(f,u)),f=this._respectSize(f,u),this._updateCache(f),this._propagate("resize",u),m=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(m)||(this._updatePrevProperties(),this._trigger("resize",u,this.ui()),this._applyChanges())),!1},_mouseStop:function(u){this.resizing=!1;var f,m,y,w,C,M,I,D=this.options,z=this;return this._helper&&(f=this._proportionallyResizeElements,m=f.length&&/textarea/i.test(f[0].nodeName),y=m&&this._hasScroll(f[0],"left")?0:z.sizeDiff.height,w=m?0:z.sizeDiff.width,C={width:z.helper.width()-w,height:z.helper.height()-y},M=parseInt(z.element.css("left"),10)+(z.position.left-z.originalPosition.left)||null,I=parseInt(z.element.css("top"),10)+(z.position.top-z.originalPosition.top)||null,D.animate||this.element.css(n.extend(C,{top:I,left:M})),z.helper.height(z.size.height),z.helper.width(z.size.width),this._helper&&!D.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var u={};return this.position.top!==this.prevPosition.top&&(u.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(u.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(u.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(u.height=this.size.height+"px"),this.helper.css(u),u},_updateVirtualBoundaries:function(u){var f,m,y,w,C,M=this.options;C={minWidth:this._isNumber(M.minWidth)?M.minWidth:0,maxWidth:this._isNumber(M.maxWidth)?M.maxWidth:1/0,minHeight:this._isNumber(M.minHeight)?M.minHeight:0,maxHeight:this._isNumber(M.maxHeight)?M.maxHeight:1/0},(this._aspectRatio||u)&&(f=C.minHeight*this.aspectRatio,y=C.minWidth/this.aspectRatio,m=C.maxHeight*this.aspectRatio,w=C.maxWidth/this.aspectRatio,f>C.minWidth&&(C.minWidth=f),y>C.minHeight&&(C.minHeight=y),C.maxWidth>m&&(C.maxWidth=m),C.maxHeight>w&&(C.maxHeight=w)),this._vBoundaries=C},_updateCache:function(u){this.offset=this.helper.offset(),this._isNumber(u.left)&&(this.position.left=u.left),this._isNumber(u.top)&&(this.position.top=u.top),this._isNumber(u.height)&&(this.size.height=u.height),this._isNumber(u.width)&&(this.size.width=u.width)},_updateRatio:function(u){var f=this.position,m=this.size,y=this.axis;return this._isNumber(u.height)?u.width=u.height*this.aspectRatio:this._isNumber(u.width)&&(u.height=u.width/this.aspectRatio),y==="sw"&&(u.left=f.left+(m.width-u.width),u.top=null),y==="nw"&&(u.top=f.top+(m.height-u.height),u.left=f.left+(m.width-u.width)),u},_respectSize:function(u){var f=this._vBoundaries,m=this.axis,y=this._isNumber(u.width)&&f.maxWidth&&f.maxWidth<u.width,w=this._isNumber(u.height)&&f.maxHeight&&f.maxHeight<u.height,C=this._isNumber(u.width)&&f.minWidth&&f.minWidth>u.width,M=this._isNumber(u.height)&&f.minHeight&&f.minHeight>u.height,I=this.originalPosition.left+this.originalSize.width,D=this.position.top+this.size.height,z=/sw|nw|w/.test(m),Q=/nw|ne|n/.test(m);return C&&(u.width=f.minWidth),M&&(u.height=f.minHeight),y&&(u.width=f.maxWidth),w&&(u.height=f.maxHeight),C&&z&&(u.left=I-f.minWidth),y&&z&&(u.left=I-f.maxWidth),M&&Q&&(u.top=D-f.minHeight),w&&Q&&(u.top=D-f.maxHeight),u.width||u.height||u.left||!u.top?u.width||u.height||u.top||!u.left||(u.left=null):u.top=null,u},_getPaddingPlusBorderDimensions:function(u){for(var f=0,m=[],y=[u.css("borderTopWidth"),u.css("borderRightWidth"),u.css("borderBottomWidth"),u.css("borderLeftWidth")],w=[u.css("paddingTop"),u.css("paddingRight"),u.css("paddingBottom"),u.css("paddingLeft")];4>f;f++)m[f]=parseInt(y[f],10)||0,m[f]+=parseInt(w[f],10)||0;return{height:m[0]+m[2],width:m[1]+m[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var u,f=0,m=this.helper||this.element;this._proportionallyResizeElements.length>f;f++)u=this._proportionallyResizeElements[f],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(u)),u.css({height:m.height()-this.outerDimensions.height||0,width:m.width()-this.outerDimensions.width||0})},_renderProxy:function(){var u=this.element,f=this.options;this.elementOffset=u.offset(),this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(u,f){return{width:this.originalSize.width+f}},w:function(u,f){var m=this.originalSize,y=this.originalPosition;return{left:y.left+f,width:m.width-f}},n:function(u,f,m){var y=this.originalSize,w=this.originalPosition;return{top:w.top+m,height:y.height-m}},s:function(u,f,m){return{height:this.originalSize.height+m}},se:function(u,f,m){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[u,f,m]))},sw:function(u,f,m){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[u,f,m]))},ne:function(u,f,m){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[u,f,m]))},nw:function(u,f,m){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[u,f,m]))}},_propagate:function(u,f){n.ui.plugin.call(this,u,[f,this.ui()]),u!=="resize"&&this._trigger(u,f,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),n.ui.plugin.add("resizable","animate",{stop:function(u){var f=n(this).resizable("instance"),m=f.options,y=f._proportionallyResizeElements,w=y.length&&/textarea/i.test(y[0].nodeName),C=w&&f._hasScroll(y[0],"left")?0:f.sizeDiff.height,M=w?0:f.sizeDiff.width,I={width:f.size.width-M,height:f.size.height-C},D=parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left)||null,z=parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top)||null;f.element.animate(n.extend(I,z&&D?{top:z,left:D}:{}),{duration:m.animateDuration,easing:m.animateEasing,step:function(){var W={width:parseInt(f.element.css("width"),10),height:parseInt(f.element.css("height"),10),top:parseInt(f.element.css("top"),10),left:parseInt(f.element.css("left"),10)};y&&y.length&&n(y[0]).css({width:W.width,height:W.height}),f._updateCache(W),f._propagate("resize",u)}})}}),n.ui.plugin.add("resizable","containment",{start:function(){var u,f,m,y,w,C,M,I=n(this).resizable("instance"),D=I.options,z=I.element,Q=D.containment,W=_instanceof(Q,n)?Q.get(0):/parent/.test(Q)?z.parent().get(0):Q;W&&(I.containerElement=n(W),/document/.test(Q)||Q===document?(I.containerOffset={left:0,top:0},I.containerPosition={left:0,top:0},I.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(W),f=[],n(["Top","Right","Left","Bottom"]).each(function(me,oe){f[me]=I._num(u.css("padding"+oe))}),I.containerOffset=u.offset(),I.containerPosition=u.position(),I.containerSize={height:u.innerHeight()-f[3],width:u.innerWidth()-f[1]},m=I.containerOffset,y=I.containerSize.height,w=I.containerSize.width,C=I._hasScroll(W,"left")?W.scrollWidth:w,M=I._hasScroll(W)?W.scrollHeight:y,I.parentData={element:W,left:m.left,top:m.top,width:C,height:M}))},resize:function(u){var f,m,y,w,C=n(this).resizable("instance"),M=C.options,I=C.containerOffset,D=C.position,z=C._aspectRatio||u.shiftKey,Q={top:0,left:0},W=C.containerElement,me=!0;W[0]!==document&&/static/.test(W.css("position"))&&(Q=I),D.left<(C._helper?I.left:0)&&(C.size.width=C.size.width+(C._helper?C.position.left-I.left:C.position.left-Q.left),z&&(C.size.height=C.size.width/C.aspectRatio,me=!1),C.position.left=M.helper?I.left:0),D.top<(C._helper?I.top:0)&&(C.size.height=C.size.height+(C._helper?C.position.top-I.top:C.position.top),z&&(C.size.width=C.size.height*C.aspectRatio,me=!1),C.position.top=C._helper?I.top:0),y=C.containerElement.get(0)===C.element.parent().get(0),w=/relative|absolute/.test(C.containerElement.css("position")),y&&w?(C.offset.left=C.parentData.left+C.position.left,C.offset.top=C.parentData.top+C.position.top):(C.offset.left=C.element.offset().left,C.offset.top=C.element.offset().top),f=Math.abs(C.sizeDiff.width+(C._helper?C.offset.left-Q.left:C.offset.left-I.left)),m=Math.abs(C.sizeDiff.height+(C._helper?C.offset.top-Q.top:C.offset.top-I.top)),f+C.size.width>=C.parentData.width&&(C.size.width=C.parentData.width-f,z&&(C.size.height=C.size.width/C.aspectRatio,me=!1)),m+C.size.height>=C.parentData.height&&(C.size.height=C.parentData.height-m,z&&(C.size.width=C.size.height*C.aspectRatio,me=!1)),me||(C.position.left=C.prevPosition.left,C.position.top=C.prevPosition.top,C.size.width=C.prevSize.width,C.size.height=C.prevSize.height)},stop:function(){var u=n(this).resizable("instance"),f=u.options,m=u.containerOffset,y=u.containerPosition,w=u.containerElement,C=n(u.helper),M=C.offset(),I=C.outerWidth()-u.sizeDiff.width,D=C.outerHeight()-u.sizeDiff.height;u._helper&&!f.animate&&/relative/.test(w.css("position"))&&n(this).css({left:M.left-y.left-m.left,width:I,height:D}),u._helper&&!f.animate&&/static/.test(w.css("position"))&&n(this).css({left:M.left-y.left-m.left,width:I,height:D})}}),n.ui.plugin.add("resizable","alsoResize",{start:function(){var u=n(this).resizable("instance"),f=u.options,m=function(w){n(w).each(function(){var C=n(this);C.data("ui-resizable-alsoresize",{width:parseInt(C.width(),10),height:parseInt(C.height(),10),left:parseInt(C.css("left"),10),top:parseInt(C.css("top"),10)})})};typeof f.alsoResize!="object"||f.alsoResize.parentNode?m(f.alsoResize):f.alsoResize.length?(f.alsoResize=f.alsoResize[0],m(f.alsoResize)):n.each(f.alsoResize,function(y){m(y)})},resize:function(u,f){var m=n(this).resizable("instance"),y=m.options,w=m.originalSize,C=m.originalPosition,M={height:m.size.height-w.height||0,width:m.size.width-w.width||0,top:m.position.top-C.top||0,left:m.position.left-C.left||0},I=function(z,Q){n(z).each(function(){var W=n(this),me=n(this).data("ui-resizable-alsoresize"),oe={},q=Q&&Q.length?Q:W.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(q,function(ee,we){var ie=(me[we]||0)+(M[we]||0);ie&&ie>=0&&(oe[we]=ie||null)}),W.css(oe)})};typeof y.alsoResize!="object"||y.alsoResize.nodeType?I(y.alsoResize):n.each(y.alsoResize,function(D,z){I(D,z)})},stop:function(){n(this).removeData("resizable-alsoresize")}}),n.ui.plugin.add("resizable","ghost",{start:function(){var u=n(this).resizable("instance"),f=u.options,m=u.size;u.ghost=u.originalElement.clone(),u.ghost.css({opacity:.25,display:"block",position:"relative",height:m.height,width:m.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof f.ghost=="string"?f.ghost:""),u.ghost.appendTo(u.helper)},resize:function(){var u=n(this).resizable("instance");u.ghost&&u.ghost.css({position:"relative",height:u.size.height,width:u.size.width})},stop:function(){var u=n(this).resizable("instance");u.ghost&&u.helper&&u.helper.get(0).removeChild(u.ghost.get(0))}}),n.ui.plugin.add("resizable","grid",{resize:function(){var u,f=n(this).resizable("instance"),m=f.options,y=f.size,w=f.originalSize,C=f.originalPosition,M=f.axis,I=typeof m.grid=="number"?[m.grid,m.grid]:m.grid,D=I[0]||1,z=I[1]||1,Q=Math.round((y.width-w.width)/D)*D,W=Math.round((y.height-w.height)/z)*z,me=w.width+Q,oe=w.height+W,q=m.maxWidth&&me>m.maxWidth,ee=m.maxHeight&&oe>m.maxHeight,we=m.minWidth&&m.minWidth>me,ie=m.minHeight&&m.minHeight>oe;m.grid=I,we&&(me+=D),ie&&(oe+=z),q&&(me-=D),ee&&(oe-=z),/^(se|s|e)$/.test(M)?(f.size.width=me,f.size.height=oe):/^(ne)$/.test(M)?(f.size.width=me,f.size.height=oe,f.position.top=C.top-W):/^(sw)$/.test(M)?(f.size.width=me,f.size.height=oe,f.position.left=C.left-Q):((0>=oe-z||0>=me-D)&&(u=f._getPaddingPlusBorderDimensions(this)),oe-z>0?(f.size.height=oe,f.position.top=C.top-W):(oe=z-u.height,f.size.height=oe,f.position.top=C.top+w.height-oe),me-D>0?(f.size.width=me,f.position.left=C.left-Q):(me=z-u.height,f.size.width=me,f.position.left=C.left+w.width-me))}}),n.ui.resizable,n.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(u){var f=n(this).css(u).offset().top;0>f&&n(this).css("top",u.top-f)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&n.fn.draggable&&this._makeDraggable(),this.options.resizable&&n.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var u=this.options.appendTo;return u&&(u.jquery||u.nodeType)?n(u):this.document.find(u||"body").eq(0)},_destroy:function(){var u,f=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),u=f.parent.children().eq(f.index),u.length&&u[0]!==this.element[0]?u.before(this.element):f.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(u){var f,m=this;if(this._isOpen&&this._trigger("beforeClose",u)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{f=this.document[0].activeElement,f&&f.nodeName.toLowerCase()!=="body"&&n(f).blur()}catch(y){}this._hide(this.uiDialog,this.options.hide,function(){m._trigger("close",u)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(u,f){var m=!1,y=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),w=Math.max.apply(null,y);return w>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",w+1),m=!0),m&&!f&&this._trigger("focus",u),m},open:function(){var u=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){u._focusTabbable(),u._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var u=this._focusedElement;u||(u=this.element.find("[autofocus]")),u.length||(u=this.element.find(":tabbable")),u.length||(u=this.uiDialogButtonPane.find(":tabbable")),u.length||(u=this.uiDialogTitlebarClose.filter(":tabbable")),u.length||(u=this.uiDialog),u.eq(0).focus()},_keepFocus:function(u){var f=function(){var y=this.document[0].activeElement,w=this.uiDialog[0]===y||n.contains(this.uiDialog[0],y);w||this._focusTabbable()};u.preventDefault(),f.call(this),this._delay(f)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(f){if(this.options.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===n.ui.keyCode.ESCAPE)return f.preventDefault(),this.close(f),void 0;if(f.keyCode===n.ui.keyCode.TAB&&!f.isDefaultPrevented()){var m=this.uiDialog.find(":tabbable"),y=m.filter(":first"),w=m.filter(":last");f.target!==w[0]&&f.target!==this.uiDialog[0]||f.shiftKey?f.target!==y[0]&&f.target!==this.uiDialog[0]||!f.shiftKey||(this._delay(function(){w.focus()}),f.preventDefault()):(this._delay(function(){y.focus()}),f.preventDefault())}},mousedown:function(f){this._moveToTop(f)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var u;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(m){n(m.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=n("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(m){m.preventDefault(),this.close(m)}}),u=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(u),this.uiDialog.attr({"aria-labelledby":u.attr("id")})},_title:function(u){this.options.title||u.html("&#160;"),u.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var u=this,f=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(f)||n.isArray(f)&&!f.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(n.each(f,function(m,y){var w,C;y=n.isFunction(y)?{click:y,text:m}:y,y=n.extend({type:"button"},y),w=y.click,y.click=function(){w.apply(u.element[0],arguments)},C={icons:y.icons,text:y.showText},delete y.icons,delete y.showText,n("<button></button>",y).button(C).appendTo(u.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){var u=function(w){return{position:w.position,offset:w.offset}},f=this,m=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(w,C){n(this).addClass("ui-dialog-dragging"),f._blockFrames(),f._trigger("dragStart",w,u(C))},drag:function(w,C){f._trigger("drag",w,u(C))},stop:function(w,C){var M=C.offset.left-f.document.scrollLeft(),I=C.offset.top-f.document.scrollTop();m.position={my:"left top",at:"left"+(M>=0?"+":"")+M+" top"+(I>=0?"+":"")+I,of:f.window},n(this).removeClass("ui-dialog-dragging"),f._unblockFrames(),f._trigger("dragStop",w,u(C))}})},_makeResizable:function(){var u=function(I){return{originalPosition:I.originalPosition,originalSize:I.originalSize,position:I.position,size:I.size}},f=this,m=this.options,y=m.resizable,w=this.uiDialog.css("position"),C=typeof y=="string"?y:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:m.maxWidth,maxHeight:m.maxHeight,minWidth:m.minWidth,minHeight:this._minHeight(),handles:C,start:function(I,D){n(this).addClass("ui-dialog-resizing"),f._blockFrames(),f._trigger("resizeStart",I,u(D))},resize:function(I,D){f._trigger("resize",I,u(D))},stop:function(I,D){var z=f.uiDialog.offset(),Q=z.left-f.document.scrollLeft(),W=z.top-f.document.scrollTop();m.height=f.uiDialog.height(),m.width=f.uiDialog.width(),m.position={my:"left top",at:"left"+(Q>=0?"+":"")+Q+" top"+(W>=0?"+":"")+W,of:f.window},n(this).removeClass("ui-dialog-resizing"),f._unblockFrames(),f._trigger("resizeStop",I,u(D))}}).css("position",w)},_trackFocus:function(){this._on(this.widget(),{focusin:function(f){this._makeFocusTarget(),this._focusedElement=n(f.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var u=this._trackingInstances(),f=n.inArray(this,u);f!==-1&&u.splice(f,1)},_trackingInstances:function(){var u=this.document.data("ui-dialog-instances");return u||(u=[],this.document.data("ui-dialog-instances",u)),u},_minHeight:function(){var u=this.options;return u.height==="auto"?u.minHeight:Math.min(u.minHeight,u.height)},_position:function(){var u=this.uiDialog.is(":visible");u||this.uiDialog.show(),this.uiDialog.position(this.options.position),u||this.uiDialog.hide()},_setOptions:function(u){var f=this,m=!1,y={};n.each(u,function(w,C){f._setOption(w,C),w in f.sizeRelatedOptions&&(m=!0),w in f.resizableRelatedOptions&&(y[w]=C)}),m&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",y)},_setOption:function(u,f){var m,y,w=this.uiDialog;u==="dialogClass"&&w.removeClass(this.options.dialogClass).addClass(f),u!=="disabled"&&(this._super(u,f),u==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),u==="buttons"&&this._createButtons(),u==="closeText"&&this.uiDialogTitlebarClose.button({label:""+f}),u==="draggable"&&(m=w.is(":data(ui-draggable)"),m&&!f&&w.draggable("destroy"),!m&&f&&this._makeDraggable()),u==="position"&&this._position(),u==="resizable"&&(y=w.is(":data(ui-resizable)"),y&&!f&&w.resizable("destroy"),y&&typeof f=="string"&&w.resizable("option","handles",f),y||f===!1||this._makeResizable()),u==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var u,f,m,y=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),y.minWidth>y.width&&(y.width=y.minWidth),u=this.uiDialog.css({height:"auto",width:y.width}).outerHeight(),f=Math.max(0,y.minHeight-u),m=typeof y.maxHeight=="number"?Math.max(0,y.maxHeight-u):"none",y.height==="auto"?this.element.css({minHeight:f,maxHeight:m,height:"auto"}):this.element.height(Math.max(0,y.height-u)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var u=n(this);return n("<div>").css({position:"absolute",width:u.outerWidth(),height:u.outerHeight()}).appendTo(u.parent()).offset(u.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(u){return n(u.target).closest(".ui-dialog").length?!0:!!n(u.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var u=!0;this._delay(function(){u=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(m){u||this._allowInteraction(m)||(m.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var u=this.document.data("ui-dialog-overlays")-1;u?this.document.data("ui-dialog-overlays",u):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),n.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var u,f=this.options,m=f.accept;this.isover=!1,this.isout=!0,this.accept=n.isFunction(m)?m:function(y){return y.is(m)},this.proportions=function(){return arguments.length?(u=arguments[0],void 0):u||(u={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(f.scope),f.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(u){n.ui.ddmanager.droppables[u]=n.ui.ddmanager.droppables[u]||[],n.ui.ddmanager.droppables[u].push(this)},_splice:function(u){for(var f=0;u.length>f;f++)u[f]===this&&u.splice(f,1)},_destroy:function(){var u=n.ui.ddmanager.droppables[this.options.scope];this._splice(u),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(u,f){if(u==="accept")this.accept=n.isFunction(f)?f:function(y){return y.is(f)};else if(u==="scope"){var m=n.ui.ddmanager.droppables[this.options.scope];this._splice(m),this._addToManager(f)}this._super(u,f)},_activate:function(u){var f=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),f&&this._trigger("activate",u,this.ui(f))},_deactivate:function(u){var f=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),f&&this._trigger("deactivate",u,this.ui(f))},_over:function(u){var f=n.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",u,this.ui(f)))},_out:function(u){var f=n.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",u,this.ui(f)))},_drop:function(u,f){var m=f||n.ui.ddmanager.current,y=!1;return m&&(m.currentItem||m.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var w=n(this).droppable("instance");return w.options.greedy&&!w.options.disabled&&w.options.scope===m.options.scope&&w.accept.call(w.element[0],m.currentItem||m.element)&&n.ui.intersect(m,n.extend(w,{offset:w.element.offset()}),w.options.tolerance,u)?(y=!0,!1):void 0}),y?!1:this.accept.call(this.element[0],m.currentItem||m.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",u,this.ui(m)),this.element):!1):!1},ui:function(u){return{draggable:u.currentItem||u.element,helper:u.helper,position:u.position,offset:u.positionAbs}}}),n.ui.intersect=function(){var b=function(f,m,y){return f>=m&&m+y>f};return function(u,f,m,y){if(!f.offset)return!1;var w=(u.positionAbs||u.position.absolute).left,C=(u.positionAbs||u.position.absolute).top,M=w+u.helperProportions.width,I=C+u.helperProportions.height,D=f.offset.left,z=f.offset.top,Q=D+f.proportions().width,W=z+f.proportions().height;switch(m){case"fit":return w>=D&&Q>=M&&C>=z&&W>=I;case"intersect":return w+u.helperProportions.width/2>D&&Q>M-u.helperProportions.width/2&&C+u.helperProportions.height/2>z&&W>I-u.helperProportions.height/2;case"pointer":return b(y.pageY,z,f.proportions().height)&&b(y.pageX,D,f.proportions().width);case"touch":return(C>=z&&W>=C||I>=z&&W>=I||z>C&&I>W)&&(w>=D&&Q>=w||M>=D&&Q>=M||D>w&&M>Q);default:return!1}}}(),n.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(u,f){var m,y,w=n.ui.ddmanager.droppables[u.options.scope]||[],C=f?f.type:null,M=(u.currentItem||u.element).find(":data(ui-droppable)").addBack();e:for(m=0;w.length>m;m++)if(!(w[m].options.disabled||u&&!w[m].accept.call(w[m].element[0],u.currentItem||u.element))){for(y=0;M.length>y;y++)if(M[y]===w[m].element[0]){w[m].proportions().height=0;continue e}w[m].visible=w[m].element.css("display")!=="none",w[m].visible&&(C==="mousedown"&&w[m]._activate.call(w[m],f),w[m].offset=w[m].element.offset(),w[m].proportions({width:w[m].element[0].offsetWidth,height:w[m].element[0].offsetHeight}))}},drop:function(u,f){var m=!1;return n.each((n.ui.ddmanager.droppables[u.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(u,this,this.options.tolerance,f)&&(m=this._drop.call(this,f)||m),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],u.currentItem||u.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,f)))}),m},dragStart:function(u,f){u.element.parentsUntil("body").bind("scroll.droppable",function(){u.options.refreshPositions||n.ui.ddmanager.prepareOffsets(u,f)})},drag:function(u,f){u.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(u,f),n.each(n.ui.ddmanager.droppables[u.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var m,y,w,C=n.ui.intersect(u,this,this.options.tolerance,f),M=!C&&this.isover?"isout":C&&!this.isover?"isover":null;M&&(this.options.greedy&&(y=this.options.scope,w=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===y}),w.length&&(m=n(w[0]).droppable("instance"),m.greedyChild=M==="isover")),m&&M==="isover"&&(m.isover=!1,m.isout=!0,m._out.call(m,f)),this[M]=!0,this[M==="isout"?"isover":"isout"]=!1,this[M==="isover"?"_over":"_out"].call(this,f),m&&M==="isout"&&(m.isout=!1,m.isover=!0,m._over.call(m,f)))}})},dragStop:function(u,f){u.element.parentsUntil("body").unbind("scroll.droppable"),u.options.refreshPositions||n.ui.ddmanager.prepareOffsets(u,f)}},n.ui.droppable;var O="ui-effects-",T=n;n.effects={effect:{}},function(b,u){var f=function(ee,we,ie){var le=Q[we.type]||{};return ee==null?ie||!we.def?null:we.def:(ee=le.floor?~~ee:parseFloat(ee),isNaN(ee)?we.def:le.mod?(ee+le.mod)%le.mod:0>ee?0:ee>le.max?le.max:ee)},m=function(ee){var we=D(),ie=we._rgba=[];return ee=ee.toLowerCase(),oe(I,function(le,ye){var Ee,fe=ye.re.exec(ee),rt=fe&&ye.parse(fe),ct=ye.space||"rgba";return rt?(Ee=we[ct](rt),we[z[ct].cache]=Ee[z[ct].cache],ie=we._rgba=Ee._rgba,!1):u}),ie.length?(ie.join()==="0,0,0,0"&&b.extend(ie,w.transparent),we):w[ee]},y=function(ee,we,ie){return ie=(ie+1)%1,1>6*ie?ee+6*(we-ee)*ie:1>2*ie?we:2>3*ie?ee+6*(we-ee)*(.6666666666666666-ie):ee},w,C="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",M=/^([\-+])=\s*(\d+\.?\d*)/,I=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(ee){return[ee[1],ee[2],ee[3],ee[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(ee){return[2.55*ee[1],2.55*ee[2],2.55*ee[3],ee[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(ee){return[parseInt(ee[1],16),parseInt(ee[2],16),parseInt(ee[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(ee){return[parseInt(ee[1]+ee[1],16),parseInt(ee[2]+ee[2],16),parseInt(ee[3]+ee[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(ee){return[ee[1],ee[2]/100,ee[3]/100,ee[4]]}}],D=b.Color=function(ee,we,ie,le){return new b.Color.fn.parse(ee,we,ie,le)},z={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},Q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},W=D.support={},me=b("<p>")[0],oe=b.each;me.style.cssText="background-color:rgba(1,1,1,.5)",W.rgba=me.style.backgroundColor.indexOf("rgba")>-1,oe(z,function(q,ee){ee.cache="_"+q,ee.props.alpha={idx:3,type:"percent",def:1}}),D.fn=b.extend(D.prototype,{parse:function(ee,we,ie,le){if(ee===u)return this._rgba=[null,null,null,null],this;(ee.jquery||ee.nodeType)&&(ee=b(ee).css(we),we=u);var ye=this,Ee=b.type(ee),fe=this._rgba=[];return we!==u&&(ee=[ee,we,ie,le],Ee="array"),Ee==="string"?this.parse(m(ee)||w._default):Ee==="array"?(oe(z.rgba.props,function(rt,ct){fe[ct.idx]=f(ee[ct.idx],ct)}),this):Ee==="object"?(_instanceof(ee,D)?oe(z,function(rt,ct){ee[ct.cache]&&(ye[ct.cache]=ee[ct.cache].slice())}):oe(z,function(rt,ct){var Ot=ct.cache;oe(ct.props,function(_t,De){if(!ye[Ot]&&ct.to){if(_t==="alpha"||ee[_t]==null)return;ye[Ot]=ct.to(ye._rgba)}ye[Ot][De.idx]=f(ee[_t],De,!0)}),ye[Ot]&&0>b.inArray(null,ye[Ot].slice(0,3))&&(ye[Ot][3]=1,ct.from&&(ye._rgba=ct.from(ye[Ot])))}),this):u},is:function(ee){var we=D(ee),ie=!0,le=this;return oe(z,function(ye,Ee){var fe,rt=we[Ee.cache];return rt&&(fe=le[Ee.cache]||Ee.to&&Ee.to(le._rgba)||[],oe(Ee.props,function(ct,Ot){return rt[Ot.idx]!=null?ie=rt[Ot.idx]===fe[Ot.idx]:u})),ie}),ie},_space:function(){var ee=[],we=this;return oe(z,function(ie,le){we[le.cache]&&ee.push(ie)}),ee.pop()},transition:function(ee,we){var ie=D(ee),le=ie._space(),ye=z[le],Ee=this.alpha()===0?D("transparent"):this,fe=Ee[ye.cache]||ye.to(Ee._rgba),rt=fe.slice();return ie=ie[ye.cache],oe(ye.props,function(ct,Ot){var _t=Ot.idx,De=fe[_t],be=ie[_t],Xe=Q[Ot.type]||{};be!==null&&(De===null?rt[_t]=be:(Xe.mod&&(be-De>Xe.mod/2?De+=Xe.mod:De-be>Xe.mod/2&&(De-=Xe.mod)),rt[_t]=f((be-De)*we+De,Ot)))}),this[le](rt)},blend:function(ee){if(this._rgba[3]===1)return this;var we=this._rgba.slice(),ie=we.pop(),le=D(ee)._rgba;return D(b.map(we,function(ye,Ee){return(1-ie)*le[Ee]+ie*ye}))},toRgbaString:function(){var ee="rgba(",we=b.map(this._rgba,function(ie,le){return ie!=null?ie:le>2?1:0});return we[3]===1&&(we.pop(),ee="rgb("),ee+we.join()+")"},toHslaString:function(){var ee="hsla(",we=b.map(this.hsla(),function(ie,le){return ie==null&&(ie=le>2?1:0),le&&3>le&&(ie=Math.round(100*ie)+"%"),ie});return we[3]===1&&(we.pop(),ee="hsl("),ee+we.join()+")"},toHexString:function(ee){var we=this._rgba.slice(),ie=we.pop();return ee&&we.push(~~(255*ie)),"#"+b.map(we,function(le){return le=(le||0).toString(16),le.length===1?"0"+le:le}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),D.fn.parse.prototype=D.fn,z.hsla.to=function(q){if(q[0]==null||q[1]==null||q[2]==null)return[null,null,null,q[3]];var ee,we,ie=q[0]/255,le=q[1]/255,ye=q[2]/255,Ee=q[3],fe=Math.max(ie,le,ye),rt=Math.min(ie,le,ye),ct=fe-rt,Ot=fe+rt,_t=.5*Ot;return ee=rt===fe?0:ie===fe?60*(le-ye)/ct+360:le===fe?60*(ye-ie)/ct+120:60*(ie-le)/ct+240,we=ct===0?0:.5>=_t?ct/Ot:ct/(2-Ot),[Math.round(ee)%360,we,_t,Ee!=null?Ee:1]},z.hsla.from=function(q){if(q[0]==null||q[1]==null||q[2]==null)return[null,null,null,q[3]];var ee=q[0]/360,we=q[1],ie=q[2],le=q[3],ye=.5>=ie?ie*(1+we):ie+we-ie*we,Ee=2*ie-ye;return[Math.round(255*y(Ee,ye,ee+1/3)),Math.round(255*y(Ee,ye,ee)),Math.round(255*y(Ee,ye,ee-1/3)),le]},oe(z,function(q,ee){var we=ee.props,ie=ee.cache,le=ee.to,ye=ee.from;D.fn[q]=function(Ee){if(le&&!this[ie]&&(this[ie]=le(this._rgba)),Ee===u)return this[ie].slice();var fe,rt=b.type(Ee),ct=rt==="array"||rt==="object"?Ee:arguments,Ot=this[ie].slice();return oe(we,function(_t,De){var be=ct[rt==="object"?_t:De.idx];be==null&&(be=Ot[De.idx]),Ot[De.idx]=f(be,De)}),ye?(fe=D(ye(Ot)),fe[ie]=Ot,fe):D(Ot)},oe(we,function(Ee,fe){D.fn[Ee]||(D.fn[Ee]=function(rt){var ct,Ot=b.type(rt),_t=Ee==="alpha"?this._hsla?"hsla":"rgba":q,De=this[_t](),be=De[fe.idx];return Ot==="undefined"?be:(Ot==="function"&&(rt=rt.call(this,be),Ot=b.type(rt)),rt==null&&fe.empty?this:(Ot==="string"&&(ct=M.exec(rt),ct&&(rt=be+parseFloat(ct[2])*(ct[1]==="+"?1:-1))),De[fe.idx]=rt,this[_t](De)))})})}),D.hook=function(q){var ee=q.split(" ");oe(ee,function(we,ie){b.cssHooks[ie]={set:function(ye,Ee){var fe,rt,ct="";if(Ee!=="transparent"&&(b.type(Ee)!=="string"||(fe=m(Ee)))){if(Ee=D(fe||Ee),!W.rgba&&Ee._rgba[3]!==1){for(rt=ie==="backgroundColor"?ye.parentNode:ye;(ct===""||ct==="transparent")&&rt&&rt.style;)try{ct=b.css(rt,"backgroundColor"),rt=rt.parentNode}catch(Ot){}Ee=Ee.blend(ct&&ct!=="transparent"?ct:"_default")}Ee=Ee.toRgbaString()}try{ye.style[ie]=Ee}catch(Ot){}}},b.fx.step[ie]=function(le){le.colorInit||(le.start=D(le.elem,ie),le.end=D(le.end),le.colorInit=!0),b.cssHooks[ie].set(le.elem,le.start.transition(le.end,le.pos))}})},D.hook(C),b.cssHooks.borderColor={expand:function(ee){var we={};return oe(["Top","Right","Bottom","Left"],function(ie,le){we["border"+le+"Color"]=ee}),we}},w=b.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(T),function(){var b=function(w){var C,M,I=w.ownerDocument.defaultView?w.ownerDocument.defaultView.getComputedStyle(w,null):w.currentStyle,D={};if(I&&I.length&&I[0]&&I[I[0]])for(M=I.length;M--;)C=I[M],typeof I[C]=="string"&&(D[n.camelCase(C)]=I[C]);else for(C in I)typeof I[C]=="string"&&(D[C]=I[C]);return D},u=function(w,C){var M,I,D={};for(M in C)I=C[M],w[M]!==I&&(m[M]||(n.fx.step[M]||!isNaN(parseFloat(I)))&&(D[M]=I));return D},f=["add","remove","toggle"],m={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(y,w){n.fx.step[w]=function(C){(C.end!=="none"&&!C.setAttr||C.pos===1&&!C.setAttr)&&(T.style(C.elem,w,C.end),C.setAttr=!0)}}),n.fn.addBack||(n.fn.addBack=function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}),n.effects.animateClass=function(y,w,C,M){var I=n.speed(w,C,M);return this.queue(function(){var D,z=n(this),Q=z.attr("class")||"",W=I.children?z.find("*").addBack():z;W=W.map(function(){var me=n(this);return{el:me,start:b(this)}}),D=function(){n.each(f,function(oe,q){y[q]&&z[q+"Class"](y[q])})},D(),W=W.map(function(){return this.end=b(this.el[0]),this.diff=u(this.start,this.end),this}),z.attr("class",Q),W=W.map(function(){var me=this,oe=n.Deferred(),q=n.extend({},I,{queue:!1,complete:function(){oe.resolve(me)}});return this.el.animate(this.diff,q),oe.promise()}),n.when.apply(n,W.get()).done(function(){D(),n.each(arguments,function(){var me=this.el;n.each(this.diff,function(oe){me.css(oe,"")})}),I.complete.call(z[0])})})},n.fn.extend({addClass:function(y){return function(w,C,M,I){return C?n.effects.animateClass.call(this,{add:w},C,M,I):y.apply(this,arguments)}}(n.fn.addClass),removeClass:function(y){return function(w,C,M,I){return arguments.length>1?n.effects.animateClass.call(this,{remove:w},C,M,I):y.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(y){return function(w,C,M,I,D){return typeof C=="boolean"||C===void 0?M?n.effects.animateClass.call(this,C?{add:w}:{remove:w},M,I,D):y.apply(this,arguments):n.effects.animateClass.call(this,{toggle:w},C,M,I)}}(n.fn.toggleClass),switchClass:function(w,C,M,I,D){return n.effects.animateClass.call(this,{add:C,remove:w},M,I,D)}})}(),function(){var b=function(m,y,w,C){return n.isPlainObject(m)&&(y=m,m=m.effect),m={effect:m},y==null&&(y={}),n.isFunction(y)&&(C=y,w=null,y={}),(typeof y=="number"||n.fx.speeds[y])&&(C=w,w=y,y={}),n.isFunction(w)&&(C=w,w=null),y&&n.extend(m,y),w=w||y.duration,m.duration=n.fx.off?0:typeof w=="number"?w:w in n.fx.speeds?n.fx.speeds[w]:n.fx.speeds._default,m.complete=C||y.complete,m},u=function(m){return!m||typeof m=="number"||n.fx.speeds[m]?!0:typeof m!="string"||n.effects.effect[m]?n.isFunction(m)?!0:!(typeof m!="object"||m.effect):!0};n.extend(n.effects,{version:"1.11.1",save:function(m,y){for(var w=0;y.length>w;w++)y[w]!==null&&m.data(O+y[w],m[0].style[y[w]])},restore:function(m,y){var w,C;for(C=0;y.length>C;C++)y[C]!==null&&(w=m.data(O+y[C]),w===void 0&&(w=""),m.css(y[C],w))},setMode:function(m,y){return y==="toggle"&&(y=m.is(":hidden")?"show":"hide"),y},getBaseline:function(m,y){var w,C;switch(m[0]){case"top":w=0;break;case"middle":w=.5;break;case"bottom":w=1;break;default:w=m[0]/y.height}switch(m[1]){case"left":C=0;break;case"center":C=.5;break;case"right":C=1;break;default:C=m[1]/y.width}return{x:C,y:w}},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper"))return m.parent();var y={width:m.outerWidth(!0),height:m.outerHeight(!0),float:m.css("float")},w=n("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),C={width:m.width(),height:m.height()},M=document.activeElement;try{M.id}catch(I){M=document.body}return m.wrap(w),(m[0]===M||n.contains(m[0],M))&&n(M).focus(),w=m.parent(),m.css("position")==="static"?(w.css({position:"relative"}),m.css({position:"relative"})):(n.extend(y,{position:m.css("position"),zIndex:m.css("z-index")}),n.each(["top","left","bottom","right"],function(I,D){y[D]=m.css(D),isNaN(parseInt(y[D],10))&&(y[D]="auto")}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(C),w.css(y).show()},removeWrapper:function(m){var y=document.activeElement;return m.parent().is(".ui-effects-wrapper")&&(m.parent().replaceWith(m),(m[0]===y||n.contains(m[0],y))&&n(y).focus()),m},setTransition:function(m,y,w,C){return C=C||{},n.each(y,function(M,I){var D=m.cssUnit(I);D[0]>0&&(C[I]=D[0]*w+D[1])}),C}}),n.fn.extend({effect:function(){var m=function(D){function z(){n.isFunction(W)&&W.call(Q[0]),n.isFunction(D)&&D()}var Q=n(this),W=y.complete,me=y.mode;(Q.is(":hidden")?me==="hide":me==="show")?(Q[me](),z()):M.call(Q[0],y,z)},y=b.apply(this,arguments),w=y.mode,C=y.queue,M=n.effects.effect[y.effect];return n.fx.off||!M?w?this[w](y.duration,y.complete):this.each(function(){y.complete&&y.complete.call(this)}):C===!1?this.each(m):this.queue(C||"fx",m)},show:function(f){return function(m){if(u(m))return f.apply(this,arguments);var y=b.apply(this,arguments);return y.mode="show",this.effect.call(this,y)}}(n.fn.show),hide:function(f){return function(m){if(u(m))return f.apply(this,arguments);var y=b.apply(this,arguments);return y.mode="hide",this.effect.call(this,y)}}(n.fn.hide),toggle:function(f){return function(m){if(u(m)||typeof m=="boolean")return f.apply(this,arguments);var y=b.apply(this,arguments);return y.mode="toggle",this.effect.call(this,y)}}(n.fn.toggle),cssUnit:function(m){var y=this.css(m),w=[];return n.each(["em","px","%","pt"],function(C,M){y.indexOf(M)>0&&(w=[parseFloat(y),M])}),w}})}(),function(){var b={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(u,f){b[f]=function(m){return Math.pow(m,u+2)}}),n.extend(b,{Sine:function(f){return 1-Math.cos(f*Math.PI/2)},Circ:function(f){return 1-Math.sqrt(1-f*f)},Elastic:function(f){return f===0||f===1?f:-Math.pow(2,8*(f-1))*Math.sin((80*(f-1)-7.5)*Math.PI/15)},Back:function(f){return f*f*(3*f-2)},Bounce:function(f){for(var m,y=4;((m=Math.pow(2,--y))-1)/11>f;);return 1/Math.pow(4,3-y)-7.5625*Math.pow((3*m-2)/22-f,2)}}),n.each(b,function(u,f){n.easing["easeIn"+u]=f,n.easing["easeOut"+u]=function(m){return 1-f(1-m)},n.easing["easeInOut"+u]=function(m){return .5>m?f(2*m)/2:1-f(-2*m+2)/2}})}(),n.effects,n.effects.effect.blind=function(b,u){var f,m,y,w=n(this),C=/up|down|vertical/,M=/up|left|vertical|horizontal/,I=["position","top","bottom","left","right","height","width"],D=n.effects.setMode(w,b.mode||"hide"),z=b.direction||"up",Q=C.test(z),W=Q?"height":"width",me=Q?"top":"left",oe=M.test(z),q={},ee=D==="show";w.parent().is(".ui-effects-wrapper")?n.effects.save(w.parent(),I):n.effects.save(w,I),w.show(),f=n.effects.createWrapper(w).css({overflow:"hidden"}),m=f[W](),y=parseFloat(f.css(me))||0,q[W]=ee?m:0,oe||(w.css(Q?"bottom":"right",0).css(Q?"top":"left","auto").css({position:"absolute"}),q[me]=ee?y:m+y),ee&&(f.css(W,0),oe||f.css(me,y+m)),f.animate(q,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){D==="hide"&&w.hide(),n.effects.restore(w,I),n.effects.removeWrapper(w),u()}})},n.effects.effect.bounce=function(b,u){var f,m,y,w=n(this),C=["position","top","bottom","left","right","height","width"],M=n.effects.setMode(w,b.mode||"effect"),I=M==="hide",D=M==="show",z=b.direction||"up",Q=b.distance,W=b.times||5,me=2*W+(D||I?1:0),oe=b.duration/me,q=b.easing,ee=z==="up"||z==="down"?"top":"left",we=z==="up"||z==="left",ie=w.queue(),le=ie.length;for((D||I)&&C.push("opacity"),n.effects.save(w,C),w.show(),n.effects.createWrapper(w),Q||(Q=w[ee==="top"?"outerHeight":"outerWidth"]()/3),D&&(y={opacity:1},y[ee]=0,w.css("opacity",0).css(ee,we?2*-Q:2*Q).animate(y,oe,q)),I&&(Q/=Math.pow(2,W-1)),y={},y[ee]=0,f=0;W>f;f++)m={},m[ee]=(we?"-=":"+=")+Q,w.animate(m,oe,q).animate(y,oe,q),Q=I?2*Q:Q/2;I&&(m={opacity:0},m[ee]=(we?"-=":"+=")+Q,w.animate(m,oe,q)),w.queue(function(){I&&w.hide(),n.effects.restore(w,C),n.effects.removeWrapper(w),u()}),le>1&&ie.splice.apply(ie,[1,0].concat(ie.splice(le,me+1))),w.dequeue()},n.effects.effect.clip=function(b,u){var f,m,y,w=n(this),C=["position","top","bottom","left","right","height","width"],M=n.effects.setMode(w,b.mode||"hide"),I=M==="show",D=b.direction||"vertical",z=D==="vertical",Q=z?"height":"width",W=z?"top":"left",me={};n.effects.save(w,C),w.show(),f=n.effects.createWrapper(w).css({overflow:"hidden"}),m=w[0].tagName==="IMG"?f:w,y=m[Q](),I&&(m.css(Q,0),m.css(W,y/2)),me[Q]=I?y:0,me[W]=I?0:y/2,m.animate(me,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){I||w.hide(),n.effects.restore(w,C),n.effects.removeWrapper(w),u()}})},n.effects.effect.drop=function(b,u){var f,m=n(this),y=["position","top","bottom","left","right","opacity","height","width"],w=n.effects.setMode(m,b.mode||"hide"),C=w==="show",M=b.direction||"left",I=M==="up"||M==="down"?"top":"left",D=M==="up"||M==="left"?"pos":"neg",z={opacity:C?1:0};n.effects.save(m,y),m.show(),n.effects.createWrapper(m),f=b.distance||m[I==="top"?"outerHeight":"outerWidth"](!0)/2,C&&m.css("opacity",0).css(I,D==="pos"?-f:f),z[I]=(C?D==="pos"?"+=":"-=":D==="pos"?"-=":"+=")+f,m.animate(z,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){w==="hide"&&m.hide(),n.effects.restore(m,y),n.effects.removeWrapper(m),u()}})},n.effects.effect.explode=function(b,u){var f=function(){ie.push(this),ie.length===z*Q&&m()},m=function(){W.css({visibility:"visible"}),n(ie).remove(),oe||W.hide(),u()},y,w,C,M,I,D,z=b.pieces?Math.round(Math.sqrt(b.pieces)):3,Q=z,W=n(this),me=n.effects.setMode(W,b.mode||"hide"),oe=me==="show",q=W.show().css("visibility","hidden").offset(),ee=Math.ceil(W.outerWidth()/Q),we=Math.ceil(W.outerHeight()/z),ie=[];for(y=0;z>y;y++)for(M=q.top+y*we,D=y-(z-1)/2,w=0;Q>w;w++)C=q.left+w*ee,I=w-(Q-1)/2,W.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-w*ee,top:-y*we}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:ee,height:we,left:C+(oe?I*ee:0),top:M+(oe?D*we:0),opacity:oe?0:1}).animate({left:C+(oe?0:I*ee),top:M+(oe?0:D*we),opacity:oe?1:0},b.duration||500,b.easing,f)},n.effects.effect.fade=function(b,u){var f=n(this),m=n.effects.setMode(f,b.mode||"toggle");f.animate({opacity:m},{queue:!1,duration:b.duration,easing:b.easing,complete:u})},n.effects.effect.fold=function(b,u){var f,m,y=n(this),w=["position","top","bottom","left","right","height","width"],C=n.effects.setMode(y,b.mode||"hide"),M=C==="show",I=C==="hide",D=b.size||15,z=/([0-9]+)%/.exec(D),Q=!!b.horizFirst,W=M!==Q,me=W?["width","height"]:["height","width"],oe=b.duration/2,q={},ee={};n.effects.save(y,w),y.show(),f=n.effects.createWrapper(y).css({overflow:"hidden"}),m=W?[f.width(),f.height()]:[f.height(),f.width()],z&&(D=parseInt(z[1],10)/100*m[I?0:1]),M&&f.css(Q?{height:0,width:D}:{height:D,width:0}),q[me[0]]=M?m[0]:D,ee[me[1]]=M?m[1]:0,f.animate(q,oe,b.easing).animate(ee,oe,b.easing,function(){I&&y.hide(),n.effects.restore(y,w),n.effects.removeWrapper(y),u()})},n.effects.effect.highlight=function(b,u){var f=n(this),m=["backgroundImage","backgroundColor","opacity"],y=n.effects.setMode(f,b.mode||"show"),w={backgroundColor:f.css("backgroundColor")};y==="hide"&&(w.opacity=0),n.effects.save(f,m),f.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(w,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){y==="hide"&&f.hide(),n.effects.restore(f,m),u()}})},n.effects.effect.size=function(b,u){var f,m,y,w=n(this),C=["position","top","bottom","left","right","width","height","overflow","opacity"],M=["position","top","bottom","left","right","overflow","opacity"],I=["width","height","overflow"],D=["fontSize"],z=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],Q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],W=n.effects.setMode(w,b.mode||"effect"),me=b.restore||W!=="effect",oe=b.scale||"both",q=b.origin||["middle","center"],ee=w.css("position"),we=me?C:M,ie={height:0,width:0,outerHeight:0,outerWidth:0};W==="show"&&w.show(),f={height:w.height(),width:w.width(),outerHeight:w.outerHeight(),outerWidth:w.outerWidth()},b.mode==="toggle"&&W==="show"?(w.from=b.to||ie,w.to=b.from||f):(w.from=b.from||(W==="show"?ie:f),w.to=b.to||(W==="hide"?ie:f)),y={from:{y:w.from.height/f.height,x:w.from.width/f.width},to:{y:w.to.height/f.height,x:w.to.width/f.width}},(oe==="box"||oe==="both")&&(y.from.y!==y.to.y&&(we=we.concat(z),w.from=n.effects.setTransition(w,z,y.from.y,w.from),w.to=n.effects.setTransition(w,z,y.to.y,w.to)),y.from.x!==y.to.x&&(we=we.concat(Q),w.from=n.effects.setTransition(w,Q,y.from.x,w.from),w.to=n.effects.setTransition(w,Q,y.to.x,w.to))),(oe==="content"||oe==="both")&&y.from.y!==y.to.y&&(we=we.concat(D).concat(I),w.from=n.effects.setTransition(w,D,y.from.y,w.from),w.to=n.effects.setTransition(w,D,y.to.y,w.to)),n.effects.save(w,we),w.show(),n.effects.createWrapper(w),w.css("overflow","hidden").css(w.from),q&&(m=n.effects.getBaseline(q,f),w.from.top=(f.outerHeight-w.outerHeight())*m.y,w.from.left=(f.outerWidth-w.outerWidth())*m.x,w.to.top=(f.outerHeight-w.to.outerHeight)*m.y,w.to.left=(f.outerWidth-w.to.outerWidth)*m.x),w.css(w.from),(oe==="content"||oe==="both")&&(z=z.concat(["marginTop","marginBottom"]).concat(D),Q=Q.concat(["marginLeft","marginRight"]),I=C.concat(z).concat(Q),w.find("*[width]").each(function(){var le=n(this),ye={height:le.height(),width:le.width(),outerHeight:le.outerHeight(),outerWidth:le.outerWidth()};me&&n.effects.save(le,I),le.from={height:ye.height*y.from.y,width:ye.width*y.from.x,outerHeight:ye.outerHeight*y.from.y,outerWidth:ye.outerWidth*y.from.x},le.to={height:ye.height*y.to.y,width:ye.width*y.to.x,outerHeight:ye.height*y.to.y,outerWidth:ye.width*y.to.x},y.from.y!==y.to.y&&(le.from=n.effects.setTransition(le,z,y.from.y,le.from),le.to=n.effects.setTransition(le,z,y.to.y,le.to)),y.from.x!==y.to.x&&(le.from=n.effects.setTransition(le,Q,y.from.x,le.from),le.to=n.effects.setTransition(le,Q,y.to.x,le.to)),le.css(le.from),le.animate(le.to,b.duration,b.easing,function(){me&&n.effects.restore(le,I)})})),w.animate(w.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){w.to.opacity===0&&w.css("opacity",w.from.opacity),W==="hide"&&w.hide(),n.effects.restore(w,we),me||(ee==="static"?w.css({position:"relative",top:w.to.top,left:w.to.left}):n.each(["top","left"],function(ye,Ee){w.css(Ee,function(fe,rt){var ct=parseInt(rt,10),Ot=ye?w.to.left:w.to.top;return rt==="auto"?Ot+"px":ct+Ot+"px"})})),n.effects.removeWrapper(w),u()}})},n.effects.effect.scale=function(b,u){var f=n(this),m=n.extend(!0,{},b),y=n.effects.setMode(f,b.mode||"effect"),w=parseInt(b.percent,10)||(parseInt(b.percent,10)===0||y==="hide"?0:100),C=b.direction||"both",M=b.origin,I={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},D={y:C!=="horizontal"?w/100:1,x:C!=="vertical"?w/100:1};m.effect="size",m.queue=!1,m.complete=u,y!=="effect"&&(m.origin=M||["middle","center"],m.restore=!0),m.from=b.from||(y==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:I),m.to={height:I.height*D.y,width:I.width*D.x,outerHeight:I.outerHeight*D.y,outerWidth:I.outerWidth*D.x},m.fade&&(y==="show"&&(m.from.opacity=0,m.to.opacity=1),y==="hide"&&(m.from.opacity=1,m.to.opacity=0)),f.effect(m)},n.effects.effect.puff=function(b,u){var f=n(this),m=n.effects.setMode(f,b.mode||"hide"),y=m==="hide",w=parseInt(b.percent,10)||150,C=w/100,M={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};n.extend(b,{effect:"scale",queue:!1,fade:!0,mode:m,complete:u,percent:y?w:100,from:y?M:{height:M.height*C,width:M.width*C,outerHeight:M.outerHeight*C,outerWidth:M.outerWidth*C}}),f.effect(b)},n.effects.effect.pulsate=function(b,u){var f,m=n(this),y=n.effects.setMode(m,b.mode||"show"),w=y==="show",C=y==="hide",M=w||y==="hide",I=2*(b.times||5)+(M?1:0),D=b.duration/I,z=0,Q=m.queue(),W=Q.length;for((w||!m.is(":visible"))&&(m.css("opacity",0).show(),z=1),f=1;I>f;f++)m.animate({opacity:z},D,b.easing),z=1-z;m.animate({opacity:z},D,b.easing),m.queue(function(){C&&m.hide(),u()}),W>1&&Q.splice.apply(Q,[1,0].concat(Q.splice(W,I+1))),m.dequeue()},n.effects.effect.shake=function(b,u){var f,m=n(this),y=["position","top","bottom","left","right","height","width"],w=n.effects.setMode(m,b.mode||"effect"),C=b.direction||"left",M=b.distance||20,I=b.times||3,D=2*I+1,z=Math.round(b.duration/D),Q=C==="up"||C==="down"?"top":"left",W=C==="up"||C==="left",me={},oe={},q={},ee=m.queue(),we=ee.length;for(n.effects.save(m,y),m.show(),n.effects.createWrapper(m),me[Q]=(W?"-=":"+=")+M,oe[Q]=(W?"+=":"-=")+2*M,q[Q]=(W?"-=":"+=")+2*M,m.animate(me,z,b.easing),f=1;I>f;f++)m.animate(oe,z,b.easing).animate(q,z,b.easing);m.animate(oe,z,b.easing).animate(me,z/2,b.easing).queue(function(){w==="hide"&&m.hide(),n.effects.restore(m,y),n.effects.removeWrapper(m),u()}),we>1&&ee.splice.apply(ee,[1,0].concat(ee.splice(we,D+1))),m.dequeue()},n.effects.effect.slide=function(b,u){var f,m=n(this),y=["position","top","bottom","left","right","width","height"],w=n.effects.setMode(m,b.mode||"show"),C=w==="show",M=b.direction||"left",I=M==="up"||M==="down"?"top":"left",D=M==="up"||M==="left",z={};n.effects.save(m,y),m.show(),f=b.distance||m[I==="top"?"outerHeight":"outerWidth"](!0),n.effects.createWrapper(m).css({overflow:"hidden"}),C&&m.css(I,D?isNaN(f)?"-"+f:-f:f),z[I]=(C?D?"+=":"-=":D?"-=":"+=")+f,m.animate(z,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){w==="hide"&&m.hide(),n.effects.restore(m,y),n.effects.removeWrapper(m),u()}})},n.effects.effect.transfer=function(b,u){var f=n(this),m=n(b.to),y=m.css("position")==="fixed",w=n("body"),C=y?w.scrollTop():0,M=y?w.scrollLeft():0,I=m.offset(),D={top:I.top-C,left:I.left-M,height:m.innerHeight(),width:m.innerWidth()},z=f.offset(),Q=n("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:z.top-C,left:z.left-M,height:f.innerHeight(),width:f.innerWidth(),position:y?"fixed":"absolute"}).animate(D,b.duration,b.easing,function(){Q.remove(),u()})},n.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(u){return u===void 0?this.options.value:(this.options.value=this._constrainedValue(u),this._refreshValue(),void 0)},_constrainedValue:function(u){return u===void 0&&(u=this.options.value),this.indeterminate=u===!1,typeof u!="number"&&(u=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,u))},_setOptions:function(u){var f=u.value;delete u.value,this._super(u),this.options.value=this._constrainedValue(f),this._refreshValue()},_setOption:function(u,f){u==="max"&&(f=Math.max(this.min,f)),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!f).attr("aria-disabled",f),this._super(u,f)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var u=this.options.value,f=this._percentage();this.valueDiv.toggle(this.indeterminate||u>this.min).toggleClass("ui-corner-right",u===this.options.max).width(f.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":u}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==u&&(this.oldValue=u,this._trigger("change")),u===this.options.max&&this._trigger("complete")}}),n.widget("ui.selectable",n.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var u,f=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){u=n(f.options.filter,f.element[0]),u.addClass("ui-selectee"),u.each(function(){var m=n(this),y=m.offset();n.data(this,"selectable-item",{element:this,$element:m,left:y.left,top:y.top,right:y.left+m.outerWidth(),bottom:y.top+m.outerHeight(),startselected:!1,selected:m.hasClass("ui-selected"),selecting:m.hasClass("ui-selecting"),unselecting:m.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=u.addClass("ui-selectee"),this._mouseInit(),this.helper=n("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(u){var f=this,m=this.options;this.opos=[u.pageX,u.pageY],this.options.disabled||(this.selectees=n(m.filter,this.element[0]),this._trigger("start",u),n(m.appendTo).append(this.helper),this.helper.css({left:u.pageX,top:u.pageY,width:0,height:0}),m.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var y=n.data(this,"selectable-item");y.startselected=!0,u.metaKey||u.ctrlKey||(y.$element.removeClass("ui-selected"),y.selected=!1,y.$element.addClass("ui-unselecting"),y.unselecting=!0,f._trigger("unselecting",u,{unselecting:y.element}))}),n(u.target).parents().addBack().each(function(){var y,w=n.data(this,"selectable-item");return w?(y=!u.metaKey&&!u.ctrlKey||!w.$element.hasClass("ui-selected"),w.$element.removeClass(y?"ui-unselecting":"ui-selected").addClass(y?"ui-selecting":"ui-unselecting"),w.unselecting=!y,w.selecting=y,w.selected=y,y?f._trigger("selecting",u,{selecting:w.element}):f._trigger("unselecting",u,{unselecting:w.element}),!1):void 0}))},_mouseDrag:function(u){if(this.dragged=!0,!this.options.disabled){var f,m=this,y=this.options,w=this.opos[0],C=this.opos[1],M=u.pageX,I=u.pageY;return w>M&&(f=M,M=w,w=f),C>I&&(f=I,I=C,C=f),this.helper.css({left:w,top:C,width:M-w,height:I-C}),this.selectees.each(function(){var D=n.data(this,"selectable-item"),z=!1;D&&D.element!==m.element[0]&&(y.tolerance==="touch"?z=!(D.left>M||w>D.right||D.top>I||C>D.bottom):y.tolerance==="fit"&&(z=D.left>w&&M>D.right&&D.top>C&&I>D.bottom),z?(D.selected&&(D.$element.removeClass("ui-selected"),D.selected=!1),D.unselecting&&(D.$element.removeClass("ui-unselecting"),D.unselecting=!1),D.selecting||(D.$element.addClass("ui-selecting"),D.selecting=!0,m._trigger("selecting",u,{selecting:D.element}))):(D.selecting&&((u.metaKey||u.ctrlKey)&&D.startselected?(D.$element.removeClass("ui-selecting"),D.selecting=!1,D.$element.addClass("ui-selected"),D.selected=!0):(D.$element.removeClass("ui-selecting"),D.selecting=!1,D.startselected&&(D.$element.addClass("ui-unselecting"),D.unselecting=!0),m._trigger("unselecting",u,{unselecting:D.element}))),D.selected&&(u.metaKey||u.ctrlKey||D.startselected||(D.$element.removeClass("ui-selected"),D.selected=!1,D.$element.addClass("ui-unselecting"),D.unselecting=!0,m._trigger("unselecting",u,{unselecting:D.element})))))}),!1}},_mouseStop:function(u){var f=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var m=n.data(this,"selectable-item");m.$element.removeClass("ui-unselecting"),m.unselecting=!1,m.startselected=!1,f._trigger("unselected",u,{unselected:m.element})}),n(".ui-selecting",this.element[0]).each(function(){var m=n.data(this,"selectable-item");m.$element.removeClass("ui-selecting").addClass("ui-selected"),m.selecting=!1,m.selected=!0,m.startselected=!0,f._trigger("selected",u,{selected:m.element})}),this._trigger("stop",u),this.helper.remove(),!1}}),n.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var u=this.element.uniqueId().attr("id");this.ids={element:u,button:u+"-button",menu:u+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var u=this,f=this.element.attr("tabindex");this.label=n("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(y){this.button.focus(),y.preventDefault()}}),this.element.hide(),this.button=n("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:f||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),n("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=n("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){u.menuItems||u._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var u=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=n("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(m,y){m.preventDefault(),u._select(y.item.data("ui-selectmenu-item"),m)},focus:function(m,y){var w=y.item.data("ui-selectmenu-item");u.focusIndex!=null&&w.index!==u.focusIndex&&(u._trigger("focus",m,{item:w}),u.isOpen||u._select(w,m)),u.focusIndex=w.index,u.button.attr("aria-activedescendant",u.menuItems.eq(w.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var u,f=this.element.find("option");f.length&&(this._parseOptions(f),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),u=this._getSelectedItem(),this.menuInstance.focus(null,u),this._setAria(u.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(u){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",u))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(u){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",u))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(u,f){var m=this,y="";n.each(f,function(w,C){C.optgroup!==y&&(n("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(C.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:C.optgroup}).appendTo(u),y=C.optgroup),m._renderItemData(u,C)})},_renderItemData:function(u,f){return this._renderItem(u,f).data("ui-selectmenu-item",f)},_renderItem:function(u,f){var m=n("<li>");return f.disabled&&m.addClass("ui-state-disabled"),this._setText(m,f.label),m.appendTo(u)},_setText:function(u,f){f?u.text(f):u.html("&#160;")},_move:function(u,f){var m,y,w=".ui-menu-item";this.isOpen?m=this.menuItems.eq(this.focusIndex):(m=this.menuItems.eq(this.element[0].selectedIndex),w+=":not(.ui-state-disabled)"),y=u==="first"||u==="last"?m[u==="first"?"prevAll":"nextAll"](w).eq(-1):m[u+"All"](w).eq(0),y.length&&this.menuInstance.focus(f,y)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(u){this[this.isOpen?"close":"open"](u)},_documentClick:{mousedown:function(u){this.isOpen&&(n(u.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(u))}},_buttonEvents:{mousedown:function(u){u.preventDefault()},click:"_toggle",keydown:function(u){var f=!0;switch(u.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(u),f=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(u);break;case n.ui.keyCode.UP:u.altKey?this._toggle(u):this._move("prev",u);break;case n.ui.keyCode.DOWN:u.altKey?this._toggle(u):this._move("next",u);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(u):this._toggle(u);break;case n.ui.keyCode.LEFT:this._move("prev",u);break;case n.ui.keyCode.RIGHT:this._move("next",u);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",u);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",u);break;default:this.menu.trigger(u),f=!1}f&&u.preventDefault()}},_selectFocusedItem:function(u){var f=this.menuItems.eq(this.focusIndex);f.hasClass("ui-state-disabled")||this._select(f.data("ui-selectmenu-item"),u)},_select:function(u,f){var m=this.element[0].selectedIndex;this.element[0].selectedIndex=u.index,this._setText(this.buttonText,u.label),this._setAria(u),this._trigger("select",f,{item:u}),u.index!==m&&this._trigger("change",f,{item:u}),this.close(f)},_setAria:function(u){var f=this.menuItems.eq(u.index).attr("id");this.button.attr({"aria-labelledby":f,"aria-activedescendant":f}),this.menu.attr("aria-activedescendant",f)},_setOption:function(u,f){u==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(f.button),this._super(u,f),u==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),u==="disabled"&&(this.menuInstance.option("disabled",f),this.button.toggleClass("ui-state-disabled",f).attr("aria-disabled",f),this.element.prop("disabled",f),f?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),u==="width"&&this._resizeButton()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?n(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front")),u.length||(u=this.document[0].body),u},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var u=this.options.width;u||(u=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(u)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(u){var f=[];u.each(function(m,y){var w=n(y),C=w.parent("optgroup");f.push({element:w,index:m,value:w.attr("value"),label:w.text(),optgroup:C.attr("label")||"",disabled:C.prop("disabled")||w.prop("disabled")})}),this.items=f},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),n.widget("ui.slider",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var u,f,m=this.options,y=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),w="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",C=[];for(f=m.values&&m.values.length||1,y.length>f&&(y.slice(f).remove(),y=y.slice(0,f)),u=y.length;f>u;u++)C.push(w);this.handles=y.add(n(C.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(M){n(this).data("ui-slider-handle-index",M)})},_createRange:function(){var u=this.options,f="";u.range?(u.range===!0&&(u.values?u.values.length&&u.values.length!==2?u.values=[u.values[0],u.values[0]]:n.isArray(u.values)&&(u.values=u.values.slice(0)):u.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div></div>").appendTo(this.element),f="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(f+(u.range==="min"||u.range==="max"?" ui-slider-range-"+u.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(u){var f,m,y,w,C,M,I,D,z=this,Q=this.options;return Q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),f={x:u.pageX,y:u.pageY},m=this._normValueFromMouse(f),y=this._valueMax()-this._valueMin()+1,this.handles.each(function(W){var me=Math.abs(m-z.values(W));(y>me||y===me&&(W===z._lastChangedValue||z.values(W)===Q.min))&&(y=me,w=n(this),C=W)}),M=this._start(u,C),M===!1?!1:(this._mouseSliding=!0,this._handleIndex=C,w.addClass("ui-state-active").focus(),I=w.offset(),D=!n(u.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=D?{left:0,top:0}:{left:u.pageX-I.left-w.width()/2,top:u.pageY-I.top-w.height()/2-(parseInt(w.css("borderTopWidth"),10)||0)-(parseInt(w.css("borderBottomWidth"),10)||0)+(parseInt(w.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(u,C,m),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(u){var f={x:u.pageX,y:u.pageY},m=this._normValueFromMouse(f);return this._slide(u,this._handleIndex,m),!1},_mouseStop:function(u){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(u,this._handleIndex),this._change(u,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(u){var f,m,y,w,C;return this.orientation==="horizontal"?(f=this.elementSize.width,m=u.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(f=this.elementSize.height,m=u.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),y=m/f,y>1&&(y=1),0>y&&(y=0),this.orientation==="vertical"&&(y=1-y),w=this._valueMax()-this._valueMin(),C=this._valueMin()+y*w,this._trimAlignValue(C)},_start:function(u,f){var m={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(m.value=this.values(f),m.values=this.values()),this._trigger("start",u,m)},_slide:function(u,f,m){var y,w,C;this.options.values&&this.options.values.length?(y=this.values(f?0:1),this.options.values.length===2&&this.options.range===!0&&(f===0&&m>y||f===1&&y>m)&&(m=y),m!==this.values(f)&&(w=this.values(),w[f]=m,C=this._trigger("slide",u,{handle:this.handles[f],value:m,values:w}),y=this.values(f?0:1),C!==!1&&this.values(f,m))):m!==this.value()&&(C=this._trigger("slide",u,{handle:this.handles[f],value:m}),C!==!1&&this.value(m))},_stop:function(u,f){var m={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(m.value=this.values(f),m.values=this.values()),this._trigger("stop",u,m)},_change:function(u,f){if(!this._keySliding&&!this._mouseSliding){var m={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(m.value=this.values(f),m.values=this.values()),this._lastChangedValue=f,this._trigger("change",u,m)}},value:function(u){return arguments.length?(this.options.value=this._trimAlignValue(u),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(u,f){var m,y,w;if(arguments.length>1)return this.options.values[u]=this._trimAlignValue(f),this._refreshValue(),this._change(null,u),void 0;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(u):this.value();for(m=this.options.values,y=arguments[0],w=0;m.length>w;w+=1)m[w]=this._trimAlignValue(y[w]),this._change(null,w);this._refreshValue()},_setOption:function(u,f){var m,y=0;switch(u==="range"&&this.options.range===!0&&(f==="min"?(this.options.value=this._values(0),this.options.values=null):f==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(y=this.options.values.length),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!f),this._super(u,f),u){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(f==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),m=0;y>m;m+=1)this._change(null,m);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var u=this.options.value;return u=this._trimAlignValue(u)},_values:function(u){var f,m,y;if(arguments.length)return f=this.options.values[u],f=this._trimAlignValue(f);if(this.options.values&&this.options.values.length){for(m=this.options.values.slice(),y=0;m.length>y;y+=1)m[y]=this._trimAlignValue(m[y]);return m}return[]},_trimAlignValue:function(u){if(this._valueMin()>=u)return this._valueMin();if(u>=this._valueMax())return this._valueMax();var f=this.options.step>0?this.options.step:1,m=(u-this._valueMin())%f,y=u-m;return 2*Math.abs(m)>=f&&(y+=m>0?f:-f),parseFloat(y.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u,f,m,y,w,C=this.options.range,M=this.options,I=this,D=this._animateOff?!1:M.animate,z={};this.options.values&&this.options.values.length?this.handles.each(function(Q){f=100*((I.values(Q)-I._valueMin())/(I._valueMax()-I._valueMin())),z[I.orientation==="horizontal"?"left":"bottom"]=f+"%",n(this).stop(1,1)[D?"animate":"css"](z,M.animate),I.options.range===!0&&(I.orientation==="horizontal"?(Q===0&&I.range.stop(1,1)[D?"animate":"css"]({left:f+"%"},M.animate),Q===1&&I.range[D?"animate":"css"]({width:f-u+"%"},{queue:!1,duration:M.animate})):(Q===0&&I.range.stop(1,1)[D?"animate":"css"]({bottom:f+"%"},M.animate),Q===1&&I.range[D?"animate":"css"]({height:f-u+"%"},{queue:!1,duration:M.animate}))),u=f}):(m=this.value(),y=this._valueMin(),w=this._valueMax(),f=w!==y?100*((m-y)/(w-y)):0,z[this.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[D?"animate":"css"](z,M.animate),C==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[D?"animate":"css"]({width:f+"%"},M.animate),C==="max"&&this.orientation==="horizontal"&&this.range[D?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:M.animate}),C==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[D?"animate":"css"]({height:f+"%"},M.animate),C==="max"&&this.orientation==="vertical"&&this.range[D?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:M.animate}))},_handleEvents:{keydown:function(u){var f,m,y,w,C=n(u.target).data("ui-slider-handle-index");switch(u.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(u.target).addClass("ui-state-active"),f=this._start(u,C),f===!1))return}switch(w=this.options.step,m=y=this.options.values&&this.options.values.length?this.values(C):this.value(),u.keyCode){case n.ui.keyCode.HOME:y=this._valueMin();break;case n.ui.keyCode.END:y=this._valueMax();break;case n.ui.keyCode.PAGE_UP:y=this._trimAlignValue(m+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:y=this._trimAlignValue(m-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(m===this._valueMax())return;y=this._trimAlignValue(m+w);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(m===this._valueMin())return;y=this._trimAlignValue(m-w)}this._slide(u,C,y)},keyup:function(u){var f=n(u.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(u,f),this._change(u,f),n(u.target).removeClass("ui-state-active"))}}}),n.widget("ui.sortable",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(u,f,m){return u>=f&&f+m>u},_isFloating:function(u){return/left|right/.test(u.css("float"))||/inline|table-cell/.test(u.css("display"))},_create:function(){var u=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?u.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(u,f){this._super(u,f),u==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),n.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var u=this.items.length-1;u>=0;u--)this.items[u].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(u,f){var m=null,y=!1,w=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(u),n(u.target).parents().each(function(){return n.data(this,w.widgetName+"-item")===w?(m=n(this),!1):void 0}),n.data(u.target,w.widgetName+"-item")===w&&(m=n(u.target)),m&&(!this.options.handle||f||(n(this.options.handle,m).find("*").addBack().each(function(){this===u.target&&(y=!0)}),y))?(this.currentItem=m,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(u,f,m){var y,w,C=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(u),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(u),this.originalPageX=u.pageX,this.originalPageY=u.pageY,C.cursorAt&&this._adjustOffsetFromHelper(C.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),C.containment&&this._setContainment(),C.cursor&&C.cursor!=="auto"&&(w=this.document.find("body"),this.storedCursor=w.css("cursor"),w.css("cursor",C.cursor),this.storedStylesheet=n("<style>*{ cursor: "+C.cursor+" !important; }</style>").appendTo(w)),C.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",C.opacity)),C.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",C.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",u,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!m)for(y=this.containers.length-1;y>=0;y--)this.containers[y]._trigger("activate",u,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!C.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,u),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(u),!0},_mouseDrag:function(u){var f,m,y,w,C=this.options,M=!1;for(this.position=this._generatePosition(u),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-u.pageY<C.scrollSensitivity?this.scrollParent[0].scrollTop=M=this.scrollParent[0].scrollTop+C.scrollSpeed:u.pageY-this.overflowOffset.top<C.scrollSensitivity&&(this.scrollParent[0].scrollTop=M=this.scrollParent[0].scrollTop-C.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-u.pageX<C.scrollSensitivity?this.scrollParent[0].scrollLeft=M=this.scrollParent[0].scrollLeft+C.scrollSpeed:u.pageX-this.overflowOffset.left<C.scrollSensitivity&&(this.scrollParent[0].scrollLeft=M=this.scrollParent[0].scrollLeft-C.scrollSpeed)):(u.pageY-n(document).scrollTop()<C.scrollSensitivity?M=n(document).scrollTop(n(document).scrollTop()-C.scrollSpeed):n(window).height()-(u.pageY-n(document).scrollTop())<C.scrollSensitivity&&(M=n(document).scrollTop(n(document).scrollTop()+C.scrollSpeed)),u.pageX-n(document).scrollLeft()<C.scrollSensitivity?M=n(document).scrollLeft(n(document).scrollLeft()-C.scrollSpeed):n(window).width()-(u.pageX-n(document).scrollLeft())<C.scrollSensitivity&&(M=n(document).scrollLeft(n(document).scrollLeft()+C.scrollSpeed))),M!==!1&&n.ui.ddmanager&&!C.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,u)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;f>=0;f--)if(m=this.items[f],y=m.item[0],w=this._intersectsWithPointer(m),w&&m.instance===this.currentContainer&&y!==this.currentItem[0]&&this.placeholder[w===1?"next":"prev"]()[0]!==y&&!n.contains(this.placeholder[0],y)&&(this.options.type==="semi-dynamic"?!n.contains(this.element[0],y):!0)){if(this.direction=w===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(m))break;this._rearrange(u,m),this._trigger("change",u,this._uiHash());break}return this._contactContainers(u),n.ui.ddmanager&&n.ui.ddmanager.drag(this,u),this._trigger("sort",u,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(u,f){if(u){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,u),this.options.revert){var m=this,y=this.placeholder.offset(),w=this.options.axis,C={};w&&w!=="x"||(C.left=y.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),w&&w!=="y"||(C.top=y.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,n(this.helper).animate(C,parseInt(this.options.revert,10)||500,function(){m._clear(u)})}else this._clear(u,f);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var u=this.containers.length-1;u>=0;u--)this.containers[u]._trigger("deactivate",null,this._uiHash(this)),this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",null,this._uiHash(this)),this.containers[u].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(u){var f=this._getItemsAsjQuery(u&&u.connected),m=[];return u=u||{},n(f).each(function(){var y=(n(u.item||this).attr(u.attribute||"id")||"").match(u.expression||/(.+)[\-=_](.+)/);y&&m.push((u.key||y[1]+"[]")+"="+(u.key&&u.expression?y[1]:y[2]))}),!m.length&&u.key&&m.push(u.key+"="),m.join("&")},toArray:function(u){var f=this._getItemsAsjQuery(u&&u.connected),m=[];return u=u||{},f.each(function(){m.push(n(u.item||this).attr(u.attribute||"id")||"")}),m},_intersectsWith:function(u){var f=this.positionAbs.left,m=f+this.helperProportions.width,y=this.positionAbs.top,w=y+this.helperProportions.height,C=u.left,M=C+u.width,I=u.top,D=I+u.height,z=this.offset.click.top,Q=this.offset.click.left,W=this.options.axis==="x"||y+z>I&&D>y+z,me=this.options.axis==="y"||f+Q>C&&M>f+Q,oe=W&&me;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>u[this.floating?"width":"height"]?oe:f+this.helperProportions.width/2>C&&M>m-this.helperProportions.width/2&&y+this.helperProportions.height/2>I&&D>w-this.helperProportions.height/2},_intersectsWithPointer:function(u){var f=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top,u.height),m=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left,u.width),y=f&&m,w=this._getDragVerticalDirection(),C=this._getDragHorizontalDirection();return y?this.floating?C&&C==="right"||w==="down"?2:1:w&&(w==="down"?2:1):!1},_intersectsWithSides:function(u){var f=this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top+u.height/2,u.height),m=this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left+u.width/2,u.width),y=this._getDragVerticalDirection(),w=this._getDragHorizontalDirection();return this.floating&&w?w==="right"&&m||w==="left"&&!m:y&&(y==="down"&&f||y==="up"&&!f)},_getDragVerticalDirection:function(){var u=this.positionAbs.top-this.lastPositionAbs.top;return u!==0&&(u>0?"down":"up")},_getDragHorizontalDirection:function(){var u=this.positionAbs.left-this.lastPositionAbs.left;return u!==0&&(u>0?"right":"left")},refresh:function(u){return this._refreshItems(u),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var u=this.options;return u.connectWith.constructor===String?[u.connectWith]:u.connectWith},_getItemsAsjQuery:function(u){var f=function(){M.push(this)},m,y,w,C,M=[],I=[],D=this._connectWith();if(D&&u)for(m=D.length-1;m>=0;m--)for(w=n(D[m]),y=w.length-1;y>=0;y--)C=n.data(w[y],this.widgetFullName),C&&C!==this&&!C.options.disabled&&I.push([n.isFunction(C.options.items)?C.options.items.call(C.element):n(C.options.items,C.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),C]);for(I.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),m=I.length-1;m>=0;m--)I[m][0].each(f);return n(M)},_removeCurrentsFromItems:function(){var u=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(f){for(var m=0;u.length>m;m++)if(u[m]===f.item[0])return!1;return!0})},_refreshItems:function(u){this.items=[],this.containers=[this];var f,m,y,w,C,M,I,D,z=this.items,Q=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],u,{item:this.currentItem}):n(this.options.items,this.element),this]],W=this._connectWith();if(W&&this.ready)for(f=W.length-1;f>=0;f--)for(y=n(W[f]),m=y.length-1;m>=0;m--)w=n.data(y[m],this.widgetFullName),w&&w!==this&&!w.options.disabled&&(Q.push([n.isFunction(w.options.items)?w.options.items.call(w.element[0],u,{item:this.currentItem}):n(w.options.items,w.element),w]),this.containers.push(w));for(f=Q.length-1;f>=0;f--)for(C=Q[f][1],M=Q[f][0],m=0,D=M.length;D>m;m++)I=n(M[m]),I.data(this.widgetName+"-item",C),z.push({item:I,instance:C,width:0,height:0,left:0,top:0})},refreshPositions:function(u){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var f,m,y,w;for(f=this.items.length-1;f>=0;f--)m=this.items[f],m.instance!==this.currentContainer&&this.currentContainer&&m.item[0]!==this.currentItem[0]||(y=this.options.toleranceElement?n(this.options.toleranceElement,m.item):m.item,u||(m.width=y.outerWidth(),m.height=y.outerHeight()),w=y.offset(),m.left=w.left,m.top=w.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(f=this.containers.length-1;f>=0;f--)w=this.containers[f].element.offset(),this.containers[f].containerCache.left=w.left,this.containers[f].containerCache.top=w.top,this.containers[f].containerCache.width=this.containers[f].element.outerWidth(),this.containers[f].containerCache.height=this.containers[f].element.outerHeight();return this},_createPlaceholder:function(u){u=u||this;var f,m=u.options;m.placeholder&&m.placeholder.constructor!==String||(f=m.placeholder,m.placeholder={element:function(){var w=u.currentItem[0].nodeName.toLowerCase(),C=n("<"+w+">",u.document[0]).addClass(f||u.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return w==="tr"?u.currentItem.children().each(function(){n("<td>&#160;</td>",u.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(C)}):w==="img"&&C.attr("src",u.currentItem.attr("src")),f||C.css("visibility","hidden"),C},update:function(w,C){(!f||m.forcePlaceholderSize)&&(C.height()||C.height(u.currentItem.innerHeight()-parseInt(u.currentItem.css("paddingTop")||0,10)-parseInt(u.currentItem.css("paddingBottom")||0,10)),C.width()||C.width(u.currentItem.innerWidth()-parseInt(u.currentItem.css("paddingLeft")||0,10)-parseInt(u.currentItem.css("paddingRight")||0,10)))}}),u.placeholder=n(m.placeholder.element.call(u.element,u.currentItem)),u.currentItem.after(u.placeholder),m.placeholder.update(u,u.placeholder)},_contactContainers:function(u){var f,m,y,w,C,M,I,D,z,Q,W=null,me=null;for(f=this.containers.length-1;f>=0;f--)if(!n.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(W&&n.contains(this.containers[f].element[0],W.element[0]))continue;W=this.containers[f],me=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",u,this._uiHash(this)),this.containers[f].containerCache.over=0);if(W)if(this.containers.length===1)this.containers[me].containerCache.over||(this.containers[me]._trigger("over",u,this._uiHash(this)),this.containers[me].containerCache.over=1);else{for(y=1e4,w=null,z=W.floating||this._isFloating(this.currentItem),C=z?"left":"top",M=z?"width":"height",Q=z?"clientX":"clientY",m=this.items.length-1;m>=0;m--)n.contains(this.containers[me].element[0],this.items[m].item[0])&&this.items[m].item[0]!==this.currentItem[0]&&(I=this.items[m].item.offset()[C],D=!1,u[Q]-I>this.items[m][M]/2&&(D=!0),y>Math.abs(u[Q]-I)&&(y=Math.abs(u[Q]-I),w=this.items[m],this.direction=D?"up":"down"));if(!w&&!this.options.dropOnEmpty||this.currentContainer===this.containers[me])return;w?this._rearrange(u,w,null,!0):this._rearrange(u,null,this.containers[me].element,!0),this._trigger("change",u,this._uiHash()),this.containers[me]._trigger("change",u,this._uiHash(this)),this.currentContainer=this.containers[me],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[me]._trigger("over",u,this._uiHash(this)),this.containers[me].containerCache.over=1}},_createHelper:function(u){var f=this.options,m=n.isFunction(f.helper)?n(f.helper.apply(this.element[0],[u,this.currentItem])):f.helper==="clone"?this.currentItem.clone():this.currentItem;return m.parents("body").length||n(f.appendTo!=="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(m[0]),m[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!m[0].style.width||f.forceHelperSize)&&m.width(this.currentItem.width()),(!m[0].style.height||f.forceHelperSize)&&m.height(this.currentItem.height()),m},_adjustOffsetFromHelper:function(u){typeof u=="string"&&(u=u.split(" ")),n.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var u=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var u=this.currentItem.position();return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:u.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,f,m,y=this.options;y.containment==="parent"&&(y.containment=this.helper[0].parentNode),(y.containment==="document"||y.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(y.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(y.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(y.containment)||(u=n(y.containment)[0],f=n(y.containment).offset(),m=n(u).css("overflow")!=="hidden",this.containment=[f.left+(parseInt(n(u).css("borderLeftWidth"),10)||0)+(parseInt(n(u).css("paddingLeft"),10)||0)-this.margins.left,f.top+(parseInt(n(u).css("borderTopWidth"),10)||0)+(parseInt(n(u).css("paddingTop"),10)||0)-this.margins.top,f.left+(m?Math.max(u.scrollWidth,u.offsetWidth):u.offsetWidth)-(parseInt(n(u).css("borderLeftWidth"),10)||0)-(parseInt(n(u).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,f.top+(m?Math.max(u.scrollHeight,u.offsetHeight):u.offsetHeight)-(parseInt(n(u).css("borderTopWidth"),10)||0)-(parseInt(n(u).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(u,f){f||(f=this.position);var m=u==="absolute"?1:-1,y=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,w=/(html|body)/i.test(y[0].tagName);return{top:f.top+this.offset.relative.top*m+this.offset.parent.top*m-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():w?0:y.scrollTop())*m,left:f.left+this.offset.relative.left*m+this.offset.parent.left*m-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():w?0:y.scrollLeft())*m}},_generatePosition:function(u){var f,m,y=this.options,w=u.pageX,C=u.pageY,M=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,I=/(html|body)/i.test(M[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(u.pageX-this.offset.click.left<this.containment[0]&&(w=this.containment[0]+this.offset.click.left),u.pageY-this.offset.click.top<this.containment[1]&&(C=this.containment[1]+this.offset.click.top),u.pageX-this.offset.click.left>this.containment[2]&&(w=this.containment[2]+this.offset.click.left),u.pageY-this.offset.click.top>this.containment[3]&&(C=this.containment[3]+this.offset.click.top)),y.grid&&(f=this.originalPageY+Math.round((C-this.originalPageY)/y.grid[1])*y.grid[1],C=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-y.grid[1]:f+y.grid[1]:f,m=this.originalPageX+Math.round((w-this.originalPageX)/y.grid[0])*y.grid[0],w=this.containment?m-this.offset.click.left>=this.containment[0]&&m-this.offset.click.left<=this.containment[2]?m:m-this.offset.click.left>=this.containment[0]?m-y.grid[0]:m+y.grid[0]:m)),{top:C-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():I?0:M.scrollTop()),left:w-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():I?0:M.scrollLeft())}},_rearrange:function(u,f,m,y){m?m[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?f.item[0]:f.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var w=this.counter;this._delay(function(){w===this.counter&&this.refreshPositions(!y)})},_clear:function(u,f){var m=function(M,I,D){return function(z){D._trigger(M,z,I._uiHash(I))}};this.reverting=!1;var y,w=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(y in this._storedCSS)(this._storedCSS[y]==="auto"||this._storedCSS[y]==="static")&&(this._storedCSS[y]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!f&&w.push(function(C){this._trigger("receive",C,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||f||w.push(function(C){this._trigger("update",C,this._uiHash())}),this!==this.currentContainer&&(f||(w.push(function(C){this._trigger("remove",C,this._uiHash())}),w.push(function(C){return function(M){C._trigger("receive",M,this._uiHash(this))}}.call(this,this.currentContainer)),w.push(function(C){return function(M){C._trigger("update",M,this._uiHash(this))}}.call(this,this.currentContainer)))),y=this.containers.length-1;y>=0;y--)f||w.push(m("deactivate",this,this.containers[y])),this.containers[y].containerCache.over&&(w.push(m("out",this,this.containers[y])),this.containers[y].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!f){for(this._trigger("beforeStop",u,this._uiHash()),y=0;w.length>y;y++)w[y].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!1}if(f||this._trigger("beforeStop",u,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!f){for(y=0;w.length>y;y++)w[y].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(u){var f=u||this;return{helper:f.helper,placeholder:f.placeholder||n([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:u?u.element:null}}}),n.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var u={},f=this.element;return n.each(["min","max","step"],function(m,y){var w=f.attr(y);w!==void 0&&w.length&&(u[y]=w)}),u},_events:{keydown:function(u){this._start(u)&&this._keydown(u)&&u.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(u){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",u),void 0)},mousewheel:function(u,f){if(f){if(!this.spinning&&!this._start(u))return!1;this._spin((f>0?1:-1)*this.options.step,u),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(u)},100),u.preventDefault()}},"mousedown .ui-spinner-button":function(b){var u=function(){var y=this.element[0]===this.document[0].activeElement;y||(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f}))},f;f=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),u.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,u.call(this)}),this._start(b)!==!1&&this._repeat(null,n(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return n(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:(this._repeat(null,n(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var u=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=u.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*u.height())&&u.height()>0&&u.height(u.height()),this.options.disabled&&this.disable()},_keydown:function(u){var f=this.options,m=n.ui.keyCode;switch(u.keyCode){case m.UP:return this._repeat(null,1,u),!0;case m.DOWN:return this._repeat(null,-1,u),!0;case m.PAGE_UP:return this._repeat(null,f.page,u),!0;case m.PAGE_DOWN:return this._repeat(null,-f.page,u),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(u){return this.spinning||this._trigger("start",u)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(u,f,m){u=u||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,f,m)},u),this._spin(f*this.options.step,m)},_spin:function(u,f){var m=this.value()||0;this.counter||(this.counter=1),m=this._adjustValue(m+u*this._increment(this.counter)),this.spinning&&this._trigger("spin",f,{value:m})===!1||(this._value(m),this.counter++)},_increment:function(u){var f=this.options.incremental;return f?n.isFunction(f)?f(u):Math.floor(u*u*u/5e4-u*u/500+17*u/200+1):1},_precision:function(){var u=this._precisionOf(this.options.step);return this.options.min!==null&&(u=Math.max(u,this._precisionOf(this.options.min))),u},_precisionOf:function(u){var f=""+u,m=f.indexOf(".");return m===-1?0:f.length-m-1},_adjustValue:function(u){var f,m,y=this.options;return f=y.min!==null?y.min:0,m=u-f,m=Math.round(m/y.step)*y.step,u=f+m,u=parseFloat(u.toFixed(this._precision())),y.max!==null&&u>y.max?y.max:y.min!==null&&y.min>u?y.min:u},_stop:function(u){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",u))},_setOption:function(u,f){if(u==="culture"||u==="numberFormat"){var m=this._parse(this.element.val());return this.options[u]=f,this.element.val(this._format(m)),void 0}(u==="max"||u==="min"||u==="step")&&typeof f=="string"&&(f=this._parse(f)),u==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(u,f),u==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!f),this.element.prop("disabled",!!f),this.buttons.button(f?"disable":"enable"))},_setOptions:c(function(b){this._super(b)}),_parse:function(u){return typeof u=="string"&&u!==""&&(u=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(u,10,this.options.culture):+u),u===""||isNaN(u)?null:u},_format:function(u){return u===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(u,this.options.numberFormat,this.options.culture):u},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var u=this.value();return u===null?!1:u===this._adjustValue(u)},_value:function(u,f){var m;u!==""&&(m=this._parse(u),m!==null&&(f||(m=this._adjustValue(m)),u=this._format(m))),this.element.val(u),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:c(function(b){this._stepUp(b)}),_stepUp:function(u){this._start()&&(this._spin((u||1)*this.options.step),this._stop())},stepDown:c(function(b){this._stepDown(b)}),_stepDown:function(u){this._start()&&(this._spin((u||1)*-this.options.step),this._stop())},pageUp:c(function(b){this._stepUp((b||1)*this.options.page)}),pageDown:c(function(b){this._stepDown((b||1)*this.options.page)}),value:function(u){return arguments.length?(c(this._value).call(this,u),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),n.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var b=/#.*$/;return function(u){var f,m;u=u.cloneNode(!1),f=u.href.replace(b,""),m=location.href.replace(b,"");try{f=decodeURIComponent(f)}catch(y){}try{m=decodeURIComponent(m)}catch(y){}return u.hash.length>1&&f===m}}(),_create:function(){var u=this,f=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",f.collapsible),this._processTabs(),f.active=this._initialActive(),n.isArray(f.disabled)&&(f.disabled=n.unique(f.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(m){return u.tabs.index(m)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(f.active):n(),this._refresh(),this.active.length&&this.load(f.active)},_initialActive:function(){var u=this.options.active,f=this.options.collapsible,m=location.hash.substring(1);return u===null&&(m&&this.tabs.each(function(y,w){return n(w).attr("aria-controls")===m?(u=y,!1):void 0}),u===null&&(u=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(u===null||u===-1)&&(u=this.tabs.length?0:!1)),u!==!1&&(u=this.tabs.index(this.tabs.eq(u)),u===-1&&(u=f?!1:0)),!f&&u===!1&&this.anchors.length&&(u=0),u},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(u){var f=n(this.document[0].activeElement).closest("li"),m=this.tabs.index(f),y=!0;if(!this._handlePageNav(u)){switch(u.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:m++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:y=!1,m--;break;case n.ui.keyCode.END:m=this.anchors.length-1;break;case n.ui.keyCode.HOME:m=0;break;case n.ui.keyCode.SPACE:return u.preventDefault(),clearTimeout(this.activating),this._activate(m),void 0;case n.ui.keyCode.ENTER:return u.preventDefault(),clearTimeout(this.activating),this._activate(m===this.options.active?!1:m),void 0;default:return}u.preventDefault(),clearTimeout(this.activating),m=this._focusNextTab(m,y),u.ctrlKey||(f.attr("aria-selected","false"),this.tabs.eq(m).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",m)},this.delay))}},_panelKeydown:function(u){this._handlePageNav(u)||u.ctrlKey&&u.keyCode===n.ui.keyCode.UP&&(u.preventDefault(),this.active.focus())},_handlePageNav:function(u){return u.altKey&&u.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):u.altKey&&u.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(u,f){for(var m=function(){return u>y&&(u=0),0>u&&(u=y),u},y=this.tabs.length-1;n.inArray(m(),this.options.disabled)!==-1;)u=f?u+1:u-1;return u},_focusNextTab:function(u,f){return u=this._findNextTab(u,f),this.tabs.eq(u).focus(),u},_setOption:function(u,f){return u==="active"?(this._activate(f),void 0):u==="disabled"?(this._setupDisabled(f),void 0):(this._super(u,f),u==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",f),f||this.options.active!==!1||this._activate(0)),u==="event"&&this._setupEvents(f),u==="heightStyle"&&this._setupHeightStyle(f),void 0)},_sanitizeSelector:function(u){return u?u.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var u=this.options,f=this.tablist.children(":has(a[href])");u.disabled=n.map(f.filter(".ui-state-disabled"),function(m){return f.index(m)}),this._processTabs(),u.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===u.disabled.length?(u.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,u.active-1),!1)):u.active=this.tabs.index(this.active):(u.active=!1,this.active=n()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(f){n(this).is(".ui-state-disabled")&&f.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=n(),this.anchors.each(function(f,m){var y,w,C,M=n(m).uniqueId().attr("id"),I=n(m).closest("li"),D=I.attr("aria-controls");u._isLocal(m)?(y=m.hash,C=y.substring(1),w=u.element.find(u._sanitizeSelector(y))):(C=I.attr("aria-controls")||n({}).uniqueId()[0].id,y="#"+C,w=u.element.find(y),w.length||(w=u._createPanel(C),w.insertAfter(u.panels[f-1]||u.tablist)),w.attr("aria-live","polite")),w.length&&(u.panels=u.panels.add(w)),D&&I.data("ui-tabs-aria-controls",D),I.attr({"aria-controls":C,"aria-labelledby":M}),w.attr("aria-labelledby",M)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(u){return n("<div>").attr("id",u).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(u){n.isArray(u)&&(u.length?u.length===this.anchors.length&&(u=!0):u=!1);for(var f,m=0;f=this.tabs[m];m++)u===!0||n.inArray(m,u)!==-1?n(f).addClass("ui-state-disabled").attr("aria-disabled","true"):n(f).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=u},_setupEvents:function(u){var f={};u&&n.each(u.split(" "),function(m,y){f[y]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(y){y.preventDefault()}}),this._on(this.anchors,f),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(u){var f,m=this.element.parent();u==="fill"?(f=m.height(),f-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var y=n(this),w=y.css("position");w!=="absolute"&&w!=="fixed"&&(f-=y.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){f-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,f-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):u==="auto"&&(f=0,this.panels.each(function(){f=Math.max(f,n(this).height("").height())}).height(f))},_eventHandler:function(u){var f=this.options,m=this.active,y=n(u.currentTarget),w=y.closest("li"),C=w[0]===m[0],M=C&&f.collapsible,I=M?n():this._getPanelForTab(w),D=m.length?this._getPanelForTab(m):n(),z={oldTab:m,oldPanel:D,newTab:M?n():w,newPanel:I};u.preventDefault(),w.hasClass("ui-state-disabled")||w.hasClass("ui-tabs-loading")||this.running||C&&!f.collapsible||this._trigger("beforeActivate",u,z)===!1||(f.active=M?!1:this.tabs.index(w),this.active=C?n():w,this.xhr&&this.xhr.abort(),D.length||I.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),I.length&&this.load(this.tabs.index(w),u),this._toggle(u,z))},_toggle:function(u,f){var m=function(){w.running=!1,w._trigger("activate",u,f)},y=function(){f.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),C.length&&w.options.show?w._show(C,w.options.show,m):(C.show(),m())},w=this,C=f.newPanel,M=f.oldPanel;this.running=!0,M.length&&this.options.hide?this._hide(M,this.options.hide,function(){f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),y()}):(f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),M.hide(),y()),M.attr("aria-hidden","true"),f.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),C.length&&M.length?f.oldTab.attr("tabIndex",-1):C.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),C.attr("aria-hidden","false"),f.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(u){var f,m=this._findActive(u);m[0]!==this.active[0]&&(m.length||(m=this.active),f=m.find(".ui-tabs-anchor")[0],this._eventHandler({target:f,currentTarget:f,preventDefault:n.noop}))},_findActive:function(u){return u===!1?n():this.tabs.eq(u)},_getIndex:function(u){return typeof u=="string"&&(u=this.anchors.index(this.anchors.filter("[href$='"+u+"']"))),u},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var u=n(this),f=u.data("ui-tabs-aria-controls");f?u.attr("aria-controls",f).removeData("ui-tabs-aria-controls"):u.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(u){var f=this.options.disabled;f!==!1&&(u===void 0?f=!1:(u=this._getIndex(u),f=n.isArray(f)?n.map(f,function(m){return m!==u?m:null}):n.map(this.tabs,function(m,y){return y!==u?y:null})),this._setupDisabled(f))},disable:function(u){var f=this.options.disabled;if(f!==!0){if(u===void 0)f=!0;else{if(u=this._getIndex(u),n.inArray(u,f)!==-1)return;f=n.isArray(f)?n.merge([u],f).sort():[u]}this._setupDisabled(f)}},load:function(u,f){u=this._getIndex(u);var m=this,y=this.tabs.eq(u),w=y.find(".ui-tabs-anchor"),C=this._getPanelForTab(y),M={tab:y,panel:C};this._isLocal(w[0])||(this.xhr=n.ajax(this._ajaxSettings(w,f,M)),this.xhr&&this.xhr.statusText!=="canceled"&&(y.addClass("ui-tabs-loading"),C.attr("aria-busy","true"),this.xhr.success(function(I){setTimeout(function(){C.html(I),m._trigger("load",f,M)},1)}).complete(function(I,D){setTimeout(function(){D==="abort"&&m.panels.stop(!1,!0),y.removeClass("ui-tabs-loading"),C.removeAttr("aria-busy"),I===m.xhr&&delete m.xhr},1)})))},_ajaxSettings:function(u,f,m){var y=this;return{url:u.attr("href"),beforeSend:function(C,M){return y._trigger("beforeLoad",f,n.extend({jqXHR:C,ajaxSettings:M},m))}}},_getPanelForTab:function(u){var f=n(u).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+f))}}),n.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var u=n(this).attr("title")||"";return n("<a>").text(u).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(u,f){var m=(u.attr("aria-describedby")||"").split(/\s+/);m.push(f),u.data("ui-tooltip-id",f).attr("aria-describedby",n.trim(m.join(" ")))},_removeDescribedBy:function(u){var f=u.data("ui-tooltip-id"),m=(u.attr("aria-describedby")||"").split(/\s+/),y=n.inArray(f,m);y!==-1&&m.splice(y,1),u.removeData("ui-tooltip-id"),m=n.trim(m.join(" ")),m?u.attr("aria-describedby",m):u.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(u,f){var m=this;return u==="disabled"?(this[f?"_disable":"_enable"](),this.options[u]=f,void 0):(this._super(u,f),u==="content"&&n.each(this.tooltips,function(y,w){m._updateContent(w)}),void 0)},_disable:function(){var u=this;n.each(this.tooltips,function(f,m){var y=n.Event("blur");y.target=y.currentTarget=m[0],u.close(y,!0)}),this.element.find(this.options.items).addBack().each(function(){var f=n(this);f.is("[title]")&&f.data("ui-tooltip-title",f.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var u=n(this);u.data("ui-tooltip-title")&&u.attr("title",u.data("ui-tooltip-title"))})},open:function(u){var f=this,m=n(u?u.target:this.element).closest(this.options.items);m.length&&!m.data("ui-tooltip-id")&&(m.attr("title")&&m.data("ui-tooltip-title",m.attr("title")),m.data("ui-tooltip-open",!0),u&&u.type==="mouseover"&&m.parents().each(function(){var y,w=n(this);w.data("ui-tooltip-open")&&(y=n.Event("blur"),y.target=y.currentTarget=this,f.close(y,!0)),w.attr("title")&&(w.uniqueId(),f.parents[this.id]={element:this,title:w.attr("title")},w.attr("title",""))}),this._updateContent(m,u))},_updateContent:function(u,f){var m,y=this.options.content,w=this,C=f?f.type:null;return typeof y=="string"?this._open(f,u,y):(m=y.call(u[0],function(M){u.data("ui-tooltip-open")&&w._delay(function(){f&&(f.type=C),this._open(f,u,M)})}),m&&this._open(f,u,m),void 0)},_open:function(u,f,m){var y=function(Q){D.of=Q,w.is(":hidden")||w.position(D)},w,C,M,I,D=n.extend({},this.options.position);if(m){if(w=this._find(f),w.length)return w.find(".ui-tooltip-content").html(m),void 0;f.is("[title]")&&(u&&u.type==="mouseover"?f.attr("title",""):f.removeAttr("title")),w=this._tooltip(f),this._addDescribedBy(f,w.attr("id")),w.find(".ui-tooltip-content").html(m),this.liveRegion.children().hide(),m.clone?(I=m.clone(),I.removeAttr("id").find("[id]").removeAttr("id")):I=m,n("<div>").html(I).appendTo(this.liveRegion),this.options.track&&u&&/^mouse/.test(u.type)?(this._on(this.document,{mousemove:y}),y(u)):w.position(n.extend({of:f},this.options.position)),this.hiding=!1,this.closing=!1,w.hide(),this._show(w,this.options.show),this.options.show&&this.options.show.delay&&(M=this.delayedShow=setInterval(function(){w.is(":visible")&&(y(D.of),clearInterval(M))},n.fx.interval)),this._trigger("open",u,{tooltip:w}),C={keyup:function(Q){if(Q.keyCode===n.ui.keyCode.ESCAPE){var W=n.Event(Q);W.currentTarget=f[0],this.close(W,!0)}}},f[0]!==this.element[0]&&(C.remove=function(){this._removeTooltip(w)}),u&&u.type!=="mouseover"||(C.mouseleave="close"),u&&u.type!=="focusin"||(C.focusout="close"),this._on(!0,f,C)}},close:function(u){var f=this,m=n(u?u.currentTarget:this.element),y=this._find(m);this.closing||(clearInterval(this.delayedShow),m.data("ui-tooltip-title")&&!m.attr("title")&&m.attr("title",m.data("ui-tooltip-title")),this._removeDescribedBy(m),this.hiding=!0,y.stop(!0),this._hide(y,this.options.hide,function(){f._removeTooltip(n(this)),this.hiding=!1,this.closing=!1}),m.removeData("ui-tooltip-open"),this._off(m,"mouseleave focusout keyup"),m[0]!==this.element[0]&&this._off(m,"remove"),this._off(this.document,"mousemove"),u&&u.type==="mouseleave"&&n.each(this.parents,function(w,C){n(C.element).attr("title",C.title),delete f.parents[w]}),this.closing=!0,this._trigger("close",u,{tooltip:y}),this.hiding||(this.closing=!1))},_tooltip:function(u){var f=n("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),m=f.uniqueId().attr("id");return n("<div>").addClass("ui-tooltip-content").appendTo(f),f.appendTo(this.document[0].body),this.tooltips[m]=u,f},_find:function(u){var f=u.data("ui-tooltip-id");return f?n("#"+f):n()},_removeTooltip:function(u){u.remove(),delete this.tooltips[u.attr("id")]},_destroy:function(){var u=this;n.each(this.tooltips,function(f,m){var y=n.Event("blur");y.target=y.currentTarget=m[0],u.close(y,!0),n("#"+f).remove(),m.data("ui-tooltip-title")&&(m.attr("title")||m.attr("title",m.data("ui-tooltip-title")),m.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),Jp={},h3(Jp,{default:function(){return Qp}}),p3=Kp(Xp()),f3(Jp,Kp(Xp()));var g;ir=p3,g=ir,Zp=g.default,v3=Ri(ir,["default"]),Qp=Zp!==void 0?Zp:v3}}),ev={};bi(ev,{default:function(){return Qp}});var g3=Gt({"https-url:https://esm.archive.org/jqueryui@1.11.1/jquery-ui.min.js":function(){m3(),m3()}}),y3,Ej=Gt({"components/search/autocomplete.js":function(){Si(),bo(),y3=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"setup",value:function(){ne(".js-search-bar").each(function(){var t=ne(this),o=t.data("autocompleteFormat");o!=="off"&&Promise.resolve().then(function(){return g3(),ev}).then(function(){var l={minLength:3,source:function(a,r){ne.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:a.term,limit:15},dataType:"json",success:r,error:function(d,h,p){On("".concat(h,": ").concat(p)),r([])}})},open:function(){var a=ne(this).autocomplete("widget"),r=a.offset();r.left<0&&(a.width(a.width()-r.left),a.offset({top:r.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};o==="inline"?(l.appendTo=t.data("autocompleteAppendTo"),l.position={using:ne.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",o==="right"&&(l.position={my:"right top",at:"right bottom"})),t.autocomplete(l)})})}}]),g}()}}),Tj=Gt({"components/search/collection-search-submit.js":function(){Si(),ne(function(){var g=ne(".search-form--inside");if(g){var n=function(a){return a?encodeURIComponent(a.trim()).replace(/%20/g,"+"):""},e=function(a,r,c){c&&a.append(r,c)},t=function(a,r,c){return c?"".concat(a?"&":"").concat(r,"=").concat(c):""},o=g.find(".searchlist").val(),l=g.find('[name="sin"]:checked').val(),s=new URLSearchParams(window.location.search.substring(1));g.submit(function(a){a.preventDefault();var r=g.find(".searchlist").val(),c=g.find('[name="sin"]:checked').val(),d=new URLSearchParams;e(d,"query",r),e(d,"sin",c);var h=d.toString();if(o===r&&l===c){var p=!0,v=!1,k=void 0;try{for(var x=s.getAll("and[]")[Symbol.iterator](),S;!(p=(S=x.next()).done);p=!0){var A=S.value;h+=t(h,"and[]",n(A))}}catch(T){v=!0,k=T}finally{try{!p&&x.return!=null&&x.return()}finally{if(v)throw k}}}var E=s.get("sort");h+=t(h,"sort",n(E)),h&&(h="?".concat(h));var O=window.location;window.location="".concat(O.origin).concat(O.pathname).concat(h)})}})}}),jj=Gt({"components/util/onchange.js":function(){Si()}}),Pj=Gt({"components/util/onsubmit.js":function(){Si()}}),Ij=Gt({"components/util/debounce.js":function(){}}),jd,b3,Pd,w3,_3,k3,Id,x3=Gt({"https-url:https://esm.archive.org/v135/magic-snowflakes@6.3.0/esnext/magic-snowflakes.mjs":function(){jd="",(typeof window=="undefined"?"undefined":_typeof(window))<"u"&&(jd=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit"),b3=(typeof document=="undefined"?"undefined":_typeof(document))<"u"&&"onanimationend"in document,Pd=20,w3=function(){"use strict";function g(n){var e=this;_classCallCheck(this,g),this.size=0,this.sizeInner=0;var t=this.elem=document.createElement("div"),o=this.elemInner=document.createElement("div");this.update(n),yo(t,"snowflake"),yo(o,"snowflake__inner"),yo(t,"snowflake_animation"),b3?(yo(t,"snowflake_animation-end"),t.onanimationend=function(l){l.target===t&&(e.updateLeft(),e.reflow())}):yo(t,"snowflake_animation-infinity"),n.types&&yo(o,"snowflake__inner_type_"+Ik(0,n.types)),n.wind&&yo(o,"snowflake__inner_wind"),n.rotation&&yo(o,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),t.appendChild(o)}return _createClass(g,[{key:"getLeft",value:function(){return Math.random()*99+"%"}},{key:"updateLeft",value:function(){this.elem&&Ts(this.elem,{left:this.getLeft()})}},{key:"update",value:function(e){if(!(!this.elem||!this.elemInner)){var t=e.minSize===e.maxSize;this.sizeInner=t?0:Ik(0,Pd),this.size=Mk(this.sizeInner,e.minSize,e.maxSize);var o=this.getAnimationProps(e),l={animationName:"snowflake_gid_".concat(e.gid,"_y"),animationDelay:o.animationDelay,animationDuration:o.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};t||(l.opacity=String(Zf(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),Ts(this.elem,l);var s="snowflake_gid_".concat(e.gid,"_x_").concat(this.sizeInner);Ts(this.elemInner,{animationName:s,animationDelay:Math.random()*4+"s"})}}},{key:"reflow",value:function(){this.elem&&(jk(this.elem),this.elem.offsetHeight,Tk(this.elem))}},{key:"resize",value:function(e){if(this.elem){var t=this.getAnimationProps(e);Ts(this.elem,{animationDuration:t.animationDuration})}}},{key:"appendTo",value:function(e){this.elem&&e.appendChild(this.elem)}},{key:"destroy",value:function(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}},{key:"getAnimationProps",value:function(e){var t=e.containerHeight/50/e.speed,o=t/3;return{animationDelay:Math.random()*t+"s",animationDuration:Zf(this.size,e.minSize,e.maxSize,t,o)+"s"}}}]),g}(),_3='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',k3=".snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E\")}",Id=function(){"use strict";function g(n){var e=this;_classCallCheck(this,g),this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=function(){e.params.autoResize&&e.resize()},this.handleOrientationChange=function(){e.resize()},this.params=this.setParams(n),this.isBody=ST(this.params.container),g.gid++,this.gid=g.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}return _createClass(g,[{key:"start",value:function(){Pk(this.container,"snowflakes_paused")}},{key:"stop",value:function(){yo(this.container,"snowflakes_paused")}},{key:"show",value:function(){Pk(this.container,"snowflakes_hidden")}},{key:"hide",value:function(){yo(this.container,"snowflakes_hidden")}},{key:"resize",value:function(){var e=this.width(),t=this.height();if(t!==this.containerSize.height){this.containerSize.width=e,this.containerSize.height=t;var o=this.getFlakeParams();this.flakes.forEach(function(l){return l.resize(o)}),!this.isBody&&(jk(this.container),this.updateAnimationStyle(),Tk(this.container))}}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,g.instanceCounter&&g.instanceCounter--,this.removeStyles(),nd(this.container),this.flakes.forEach(function(e){return e.destroy()}),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}},{key:"appendContainer",value:function(){var e=document.createElement("div");return yo(e,"snowflakes"),yo(e,"snowflakes_gid_".concat(this.gid)),this.isBody&&yo(e,"snowflakes_body"),Ts(e,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(e),e}},{key:"appendStyles",value:function(){g.instanceCounter||(this.mainStyleNode=this.injectStyle(_3)),g.instanceCounter++,this.imagesStyleNode=this.injectStyle(k3.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}},{key:"injectStyle",value:function(e,t){return xT(e.replace(/_gid_value/g,"_gid_".concat(this.gid)),t)}},{key:"getFlakeParams",value:function(){var e=this.height(),t=this.params;return{containerHeight:e,gid:this.gid,count:t.count,speed:t.speed,rotation:t.rotation,minOpacity:t.minOpacity,maxOpacity:t.maxOpacity,minSize:t.minSize,maxSize:t.maxSize,types:t.types,wind:t.wind}}},{key:"appendFlakes",value:function(){var e=this,t=this.getFlakeParams();this.flakes=[];for(var o=0;o<this.params.count;o++)this.flakes.push(new w3(t));this.flakes.sort(function(l,s){return l.size-s.size}).forEach(function(l){l.appendTo(e.container)})}},{key:"setParams",value:function(e){var t=e||{},o={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(function(s){o[s]=_typeof(t[s])>"u"?l[s]:t[s]}),o}},{key:"getAnimationStyle",value:function(){for(var e="0px",t=this.params.maxSize*Math.sqrt(2),o=this.isBody?"calc(100vh + ".concat(t,"px)"):"".concat(this.height()+t,"px"),l=this.gid,s="@-webkit-keyframes snowflake_gid_".concat(l,"_y{from{-webkit-transform:translateY(").concat(e,")}to{-webkit-transform:translateY(").concat(o,");}}\n@keyframes snowflake_gid_").concat(l,"_y{from{transform:translateY(").concat(e,")}to{transform:translateY(").concat(o,");}}"),a=0;a<=Pd;a++){var r=Mk(a,this.params.minSize,this.params.maxSize)+"px";s+="@-webkit-keyframes snowflake_gid_".concat(l,"_x_").concat(a,"{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(").concat(r,");}}\n@keyframes snowflake_gid_").concat(l,"_x_").concat(a,"{from{transform:translateX(0px)}to{transform:translateX(").concat(r,")}}")}return s}},{key:"updateAnimationStyle",value:function(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}},{key:"removeStyles",value:function(){g.instanceCounter||(nd(this.mainStyleNode),delete this.mainStyleNode),nd(this.imagesStyleNode),delete this.imagesStyleNode,nd(this.animationStyleNode),delete this.animationStyleNode}},{key:"width",value:function(){return this.params.width||(this.isBody?kT():this.params.container.offsetWidth)}},{key:"height",value:function(){return this.params.height||(this.isBody?_T():this.params.container.offsetHeight+this.params.maxSize)}}]),g}(),Id.instanceCounter=0,Id.gid=0}}),Mj=Gt({"https-url:https://esm.archive.org/magic-snowflakes@^6.0.0":function(){x3(),x3()}});function Ho(g,n){var e=this;if(!_instanceof(e,Ho))return new Ho(g,n);var t=Object.assign({},S3,n),o=Md(t.precision),l=rd(g,t);e.intValue=l,e.value=l/o,t.increment=t.increment||1/o,t.useVedic?t.groups=O3:t.groups=A3,this.s=t,this.p=o}var S3,tv,Md,C3,A3,O3,nv,E3=Gt({"https-url:https://esm.archive.org/v135/currency.js@2.0.4/esnext/currency.mjs":function(){S3={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:CT,fromCents:!1},tv=function(n){return Math.round(n)},Md=function(n){return Math.pow(10,n)},C3=function(n,e){return tv(n/e)*e},A3=/(\d)(?=(\d{3})+\b)/g,O3=/(\d)(?=(\d\d)+\d\b)/g,Ho.prototype={add:function(n){var e=this.intValue,t=this.s,o=this.p;return Ho((e+=rd(n,t))/(t.fromCents?1:o),t)},subtract:function(n){var e=this.intValue,t=this.s,o=this.p;return Ho((e-=rd(n,t))/(t.fromCents?1:o),t)},multiply:function(n){var e=this.intValue,t=this.s;return Ho((e*=n)/(t.fromCents?1:Md(t.precision)),t)},divide:function(n){var e=this.intValue,t=this.s;return Ho(e/=rd(n,t,!1),t)},distribute:function(n){for(var e=this.intValue,t=this.p,o=this.s,l=[],s=Math[e>=0?"floor":"ceil"](e/n),a=Math.abs(e-s*n),r=o.fromCents?1:t;n!==0;n--){var c=Ho(s/r,o);a-- >0&&(c=c[e>=0?"add":"subtract"](1/r)),l.push(c)}return l},dollars:function(){return~~this.value},cents:function(){var n=this.intValue,e=this.p;return~~(n%e)},format:function(n){var e=this.s;return typeof n=="function"?n(this,e):e.format(this,Object.assign({},e,n))},toString:function(){var n=this.intValue,e=this.p,t=this.s;return C3(n/e,t.increment).toFixed(t.precision)},toJSON:function(){return this.value}},nv=Ho}}),T3,Ld,Uo,j3,P3,I3=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-data-models@0.3.5/esnext/donation-form-data-models.mjs":function(){(function(g){g.CreditCard="Credit Card",g.PayPal="PayPal",g.GooglePay="Google Pay",g.Venmo="Venmo",g.ApplePay="Apple Pay"})(T3||(T3={})),Ld=function(){"use strict";function g(n){_classCallCheck(this,g),this.donationType=n.donationType,this.amount=n.amount,this.coverFees=n.coverFees}return _createClass(g,[{key:"feeAmountCovered",get:function(){return this.coverFees?this.fee:0}},{key:"fee",get:function(){return g.calculateFeeAmount(this.amount)}},{key:"total",get:function(){return g.calculateTotal(this.amount,this.coverFees)}}],[{key:"calculateTotal",value:function(e,t){var o=t?this.calculateFeeAmount(e):0,l=e+o;return isNaN(l)?0:this.roundAmount(l)}},{key:"calculateFeeAmount",value:function(e){var t=e*.02+.49;return isNaN(t)?0:this.roundAmount(t)}},{key:"roundAmount",value:function(e){return Math.round(e*100)/100}}]),g}(),function(g){g.OneTime="one-time",g.Monthly="monthly",g.Upsell="up_sell"}(Uo||(Uo={})),j3=[5,10,25,50,100,500,1e3],P3=new Ld({donationType:Uo.OneTime,amount:10,coverFees:!1})}}),M3,L3=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-currency-validator@0.3.1/esnext/donation-form-currency-validator.mjs":function(){M3=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"keydown",value:function(e){var t,o,l=e.key;if(!e.metaKey){switch(l){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}var s=e.target,a=s.value,r=a.slice(0,(t=s.selectionStart)!==null&&t!==void 0?t:0),c=a.slice((o=s.selectionEnd)!==null&&o!==void 0?o:0),d="".concat(r).concat(l).concat(c),h=/^[0-9]+(\.[0-9]{0,2})?$/g;d.match(h)||e.preventDefault()}}}]),g}()}}),Wu,Rl,R3=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-section@0.3.6/esnext/donation-form-section.mjs":function(){Br(),Sn(),Wr(),function(g){g.HideBadge="hidebadge",g.ShowBadge="showbadge",g.HideBadgeLeaveSpacing="hidebadgeleavespacing"}(Wu||(Wu={})),Rl=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.sectionBadge="0",t.badgeMode=Wu.ShowBadge,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject44(),this.badgeMode,this.sectionBadge,this.headline?kt(_templateObject43(),this.headline):"")}}],[{key:"styles",get:function(){var o=zt(_templateObject45()),l=zt(_templateObject46()),s=zt(_templateObject47()),a=zt(_templateObject48()),r=zt(_templateObject49(),a),c=zt(_templateObject50()),d=zt(_templateObject51()),h=zt(_templateObject52()),p=zt(_templateObject53()),v=zt(_templateObject54()),k=zt(_templateObject55()),x=zt(_templateObject56()),S=zt(_templateObject57(),a);return zt(_templateObject58(),k,x,r,l,r,l,o,r,s,h,r,r,a,d,c,S,p,v)}}]),e}(rr),Ie([an({type:String})],Rl.prototype,"sectionBadge",void 0),Ie([an({type:String})],Rl.prototype,"headline",void 0),Ie([an({type:String})],Rl.prototype,"badgeMode",void 0),Rl=Ie([Jr("donation-form-section")],Rl)}}),Yu,Vo,Co,Ns,Rd,eo,Lj=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-edit-donation@1.1.3/esnext/donation-form-edit-donation.mjs":function(){Br(),Sn(),Wr(),E3(),I3(),L3(),R3(),function(g){g.HideNumbers="hidenumbers",g.ShowNumbers="shownumbers"}(Yu||(Yu={})),function(g){g.DonationType="donationType",g.Amount="amount"}(Vo||(Vo={})),function(g){g.ValidDonationAmount="valid_donation_amount",g.InvalidDonationAmount="invalid_donation_amount",g.DonationTooHigh="donation_too_high",g.DonationTooLow="donation_too_low"}(Co||(Co={})),function(g){g.Button="button",g.Checkbox="checkbox",g.Hide="hide"}(Ns||(Ns={})),function(g){g.SingleLine="single-line",g.MultiLine="multi-line"}(Rd||(Rd={})),eo=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.donationInfo=P3,t.stepNumberMode=Yu.ShowNumbers,t.amountOptions=j3,t.amountSelectionLayout=Rd.MultiLine,t.frequencySelectionMode=Ns.Button,t.customAmountMode="display",t.customFeesCheckboxMode="display",t.amountTitleDisplayMode="default",t.customAmountSelected=!1,t.currencyValidator=new M3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){var o=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return kt(_templateObject62(),this.frequencySelectionMode===Ns.Button?this.frequencyButtonsTemplate:Yn,this.amountSelectionSectionNumber,o,this.formSectionNumberMode,this.amountTitleDisplayMode==="slot"?kt(_templateObject59()):Yn,this.presetAmountsTemplate,this.customAmountMode==="display"?kt(_templateObject60(),this.customAmountTemplate):Yn,this.error,this.customFeesCheckboxMode==="display"?kt(_templateObject61(),this.customFeesCheckboxTemplate,this.frequencySelectionMode===Ns.Checkbox?this.frequencyCheckboxTemplate:Yn):Yn)}},{key:"updated",value:function(o){o.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),o.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),o.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),o.has("donationInfo")&&this.updateSelectedDonationInfo(),o.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new Ld({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}},{key:"frequencyButtonsTemplate",get:function(){return kt(_templateObject63(),this.formSectionNumberMode,this.frequencyTemplate)}},{key:"frequencyCheckboxTemplate",get:function(){return kt(_templateObject64(),this.monthlyCheckboxChecked,this.donationInfo.donationType===Uo.Monthly)}},{key:"customFeesCheckboxTemplate",get:function(){return kt(_templateObject65(),this.coverFeesChecked,this.donationInfo.coverFees,this.coverFeesTextTemplate)}},{key:"amountSelectionSectionNumber",get:function(){return this.frequencySelectionMode===Ns.Button?2:1}},{key:"formSectionNumberMode",get:function(){switch(this.stepNumberMode){case Yu.ShowNumbers:return Wu.ShowBadge;case Yu.HideNumbers:return Wu.HideBadge}}},{key:"setupAmountColumnsLayoutConfig",value:function(){var o=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===Ns.Hide,l=this.amountOptions.length,s=5,a=3;switch(l){case 7:s=5,a=3;break;case 6:s=4,a=2;break;case 5:s=4,a=3;break;case 4:if(o){s=4,a=0;break}s=3,a=2;break;case 3:s=2,a=1;break}this.amountSelectionLayout===Rd.SingleLine&&(s=l+3,a=3),this.style.setProperty("--paymentSelectorAmountColumnCount","".concat(s)),this.style.setProperty("--paymentSelectorCustomAmountColSpan","".concat(a))}},{key:"updateSelectedDonationInfo",value:function(){var o,l;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){var s=(o=this.shadowRoot)===null||o===void 0?void 0:o.querySelector('input[type="radio"][name="'.concat(Vo.Amount,'"][value="').concat(this.donationInfo.amount,'"]'));s.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((l=this.shadowRoot)===null||l===void 0?void 0:l.activeElement)!==this.customAmountInput){this.customAmountInput.value="".concat(this.donationInfo.amount);var a=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(a)}}},{key:"coverFeesTextTemplate",get:function(){var o=nv(this.donationInfo.fee,{symbol:"$"}).format();return kt(_templateObject66(),o)}},{key:"formatShortenedAmount",value:function(o){var l=o%1===0?0:2;return nv(o,{symbol:"$",precision:l}).format()}},{key:"frequencyTemplate",get:function(){return kt(_templateObject67(),this.getRadioButton({group:Vo.DonationType,value:Uo.OneTime,displayText:"One time",checked:this.donationInfo.donationType===Uo.OneTime}),this.getRadioButton({group:Vo.DonationType,value:Uo.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===Uo.Monthly}))}},{key:"presetAmountsTemplate",get:function(){var o=this;return kt(_templateObject69(),this.amountOptions.map(function(l){var s=!o.customAmountSelected&&l===o.donationInfo.amount,a=o.formatShortenedAmount(l);return kt(_templateObject68(),o.getRadioButton({group:Vo.Amount,value:"".concat(l),displayText:"".concat(a),checked:s}))}))}},{key:"getRadioButton",value:function(o){var l=this,s="".concat(o.group,"-").concat(o.value,"-option");return kt(_templateObject70(),o.group,o.value,s,o.checked,this.radioSelected,function(a){o.group===Vo.Amount&&parseFloat(o.value)===l.donationInfo.amount&&(console.log("SAME VALUE"),l.radioSelected(a))},s,o.displayText)}},{key:"customAmountTemplate",get:function(){var o=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return kt(_templateObject71(),Vo.Amount,this.customRadioSelected,o,this.customAmountChanged,this.currencyValidator.keydown,this.customAmountFocused)}},{key:"customRadioSelected",value:function(){this.customAmountInput.focus()}},{key:"customAmountFocused",value:function(o){var l=o.target;this.customAmountSelected=!0,this.handleCustomAmountInput(l.value)}},{key:"coverFeesChecked",value:function(o){var l=o.target.checked;this.updateDonationInfo({coverFees:l})}},{key:"customAmountChanged",value:function(o){var l=o.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(l)}},{key:"handleCustomAmountInput",value:function(o){var l=parseFloat(o);isNaN(l)?this.dispatchEditDonationError(Co.InvalidDonationAmount):this.amountChanged(l)}},{key:"handleDonationInfoStatus",value:function(o){switch(o){case Co.ValidDonationAmount:this.error=void 0;break;case Co.DonationTooHigh:this.error=kt(_templateObject72()),this.dispatchEditDonationError(o);break;case Co.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=kt(_templateObject73())),this.dispatchEditDonationError(o);break;case Co.InvalidDonationAmount:this.error=kt(_templateObject74()),this.dispatchEditDonationError(o);break}}},{key:"amountChanged",value:function(o){var l=this.getDonationInfoStatus(o);this.handleDonationInfoStatus(l),l===Co.ValidDonationAmount&&this.updateDonationInfo({amount:o})}},{key:"getDonationInfoStatus",value:function(o){return isNaN(o)?Co.InvalidDonationAmount:o>=1e4?Co.DonationTooHigh:o<1?Co.DonationTooLow:Co.ValidDonationAmount}},{key:"radioSelected",value:function(o){var l=o.target,s=l.name,a=l.value;switch(s){case Vo.Amount:this.presetAmountChanged(parseFloat(a));break;case Vo.DonationType:this.updateDonationInfo({donationType:a});break;default:break}}},{key:"monthlyCheckboxChecked",value:function(o){var l=o.target.checked?Uo.Monthly:Uo.OneTime;this.updateDonationInfo({donationType:l})}},{key:"dispatchEditDonationError",value:function(o){var l=new CustomEvent("editDonationError",{detail:{error:o}});this.dispatchEvent(l)}},{key:"presetAmountChanged",value:function(o){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:o})}},{key:"updateDonationInfo",value:function(o){var l,s,a,r=new Ld({donationType:(l=o.donationType)!==null&&l!==void 0?l:this.donationInfo.donationType,amount:(s=o.amount)!==null&&s!==void 0?s:this.donationInfo.amount,coverFees:(a=o.coverFees)!==null&&a!==void 0?a:this.donationInfo.coverFees});this.donationInfo=r;var c=new CustomEvent("donationInfoChanged",{detail:{donationInfo:r}});this.dispatchEvent(c)}}],[{key:"styles",get:function(){var o=zt(_templateObject75()),l=zt(_templateObject76()),s=zt(_templateObject77()),a=zt(_templateObject78()),r=zt(_templateObject79()),c=zt(_templateObject80()),d=zt(_templateObject81()),h=zt(_templateObject82()),p=zt(_templateObject83()),v=zt(_templateObject84()),k=zt(_templateObject85()),x=zt(_templateObject86()),S=zt(_templateObject87()),A=zt(_templateObject88()),E=zt(_templateObject89());return zt(_templateObject90(),l,A,E,s,o,a,h,r,c,d,p,v,k,x,S)}}]),e}(rr),Ie([an({type:Object})],eo.prototype,"donationInfo",void 0),Ie([an({type:String})],eo.prototype,"stepNumberMode",void 0),Ie([an({type:Number})],eo.prototype,"defaultSelectedAmount",void 0),Ie([an({type:Array})],eo.prototype,"amountOptions",void 0),Ie([an({type:String})],eo.prototype,"amountSelectionLayout",void 0),Ie([an({type:String,reflect:!0})],eo.prototype,"frequencySelectionMode",void 0),Ie([an({type:String,reflect:!0})],eo.prototype,"customAmountMode",void 0),Ie([an({type:String,reflect:!0})],eo.prototype,"customFeesCheckboxMode",void 0),Ie([an({type:String,reflect:!0})],eo.prototype,"amountTitleDisplayMode",void 0),Ie([an({type:Object})],eo.prototype,"error",void 0),Ie([an({type:Boolean})],eo.prototype,"customAmountSelected",void 0),Ie([li("#custom-amount-button")],eo.prototype,"customAmountButton",void 0),Ie([li("#custom-amount-input")],eo.prototype,"customAmountInput",void 0),eo=Ie([Jr("donation-form-edit-donation")],eo)}}),Rj=Gt({"https-url:https://esm.archive.org/@internetarchive/donation-form-edit-donation@^1.1.3":function(){Br(),Sn(),Wr(),E3(),I3(),L3(),R3(),Lj()}}),lo,Dj=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/donation-banner-thermometer@0.4.3/esnext/donation-banner-thermometer.mjs":function(){Br(),Sn(),Wr(),lo=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.goalMessageMode="amount",t.goalNearMessage="We\u2019ve almost reached our goal!",t.goalReachedMessage="We've reached our goal!",t.goalAmount=75e5,t.currentAmountMode="on",t.currentAmount=0,t.thermometerValueWidth=0,t.thermometerFillWidth=0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject92(),this.goalAmount,this.currentAmount,this.currentAmountDisplayValue,this.thermometerValuePosition,this.percentComplete,this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:Yn,this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:Yn,this.goalMessageMode!=="off"?kt(_templateObject91(),this.currentGoalMessage):Yn)}},{key:"thermometerValueTemplate",get:function(){return this.currentAmountMode==="off"?kt(_templateObject93(),Yn):kt(_templateObject94(),this.currentAmountDisplayValue)}},{key:"thermometerValuePosition",get:function(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}},{key:"updated",value:function(o){if(o.has("resizeObserver")){var l=o.get("resizeObserver");this.disconnectResizeObserver(l),this.setupResizeObserver(this.resizeObserver)}o.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}},{key:"disconnectedCallback",value:function(){this.disconnectResizeObserver(this.resizeObserver)}},{key:"handleResize",value:function(o){var l;switch(o.target){case((l=this.shadowRoot)===null||l===void 0?void 0:l.host):this.style.setProperty("--bannerThermometerHeight",o.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=o.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=o.contentRect.width;break}}},{key:"setupResizeObserver",value:function(o){var l;!(!((l=this.shadowRoot)===null||l===void 0)&&l.host)||!o||(o.addObserver({handler:this,target:this.shadowRoot.host}),o.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(o))}},{key:"disconnectResizeObserver",value:function(o){var l;!(!((l=this.shadowRoot)===null||l===void 0)&&l.host)||!o||(o.removeObserver({handler:this,target:this.shadowRoot.host}),o.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(o))}},{key:"observeCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.addObserver({handler:this,target:this.thermometerValue}))}},{key:"unobserveCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.removeObserver({handler:this,target:this.thermometerValue}))}},{key:"goalMessage",get:function(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}},{key:"currentAmountDisplayValue",get:function(){return this.formatNumber(this.currentAmount)}},{key:"goalAmountDisplayValue",get:function(){return this.formatNumber(this.goalAmount)}},{key:"formatNumber",value:function(o){if(o===0)return"$0";var l="MM",s=o/1e6,a=s<10,r=0;return a?r=Math.round((s+Number.EPSILON)*10)/10:r=Math.round(s),"$".concat(r).concat(l)}},{key:"currentGoalMessage",get:function(){switch(this.goalMessageMode){case"amount":return"".concat(this.goalAmountDisplayValue," goal");case"message":return this.goalMessage;case"off":return""}}},{key:"percentComplete",get:function(){return Math.min(this.currentAmount/this.goalAmount*100,100)}}],[{key:"styles",get:function(){var o=zt(_templateObject95()),l=zt(_templateObject96()),s=zt(_templateObject97()),a=zt(_templateObject98(),s),r=zt(_templateObject99()),c=zt(_templateObject100(),s),d=zt(_templateObject101(),o),h=zt(_templateObject102()),p=zt(_templateObject103());return zt(_templateObject104(),r,d,c,s,l,a,h,p)}}]),e}(rr),Ie([an({type:String})],lo.prototype,"goalMessageMode",void 0),Ie([an({type:String})],lo.prototype,"goalNearMessage",void 0),Ie([an({type:String})],lo.prototype,"goalReachedMessage",void 0),Ie([an({type:Number})],lo.prototype,"goalAmount",void 0),Ie([an({type:String})],lo.prototype,"currentAmountMode",void 0),Ie([an({type:Number})],lo.prototype,"currentAmount",void 0),Ie([an({type:Object})],lo.prototype,"resizeObserver",void 0),Ie([li(".thermometer-value")],lo.prototype,"thermometerValue",void 0),Ie([li(".thermometer-fill")],lo.prototype,"thermometerFill",void 0),Ie([Wi()],lo.prototype,"thermometerValueWidth",void 0),Ie([Wi()],lo.prototype,"thermometerFillWidth",void 0),lo=Ie([Jr("donation-banner-thermometer")],lo)}}),$j=Gt({"https-url:https://esm.archive.org/@internetarchive/donation-banner-thermometer@^0.4.3":function(){Br(),Sn(),Wr(),Dj()}}),Fa,D3,$3,rv,N3,Gu,za,B3,iv,Dd,ov,av,F3,Dl,Ku,sv,z3,H3,Lo,Bs,lv,uv,cv,U3,dv,V3,hv,q3,fv,pv,W3,Y3,G3,Xu,K3,X3,J3,vv,mv,$d,Z3,Nd,gv,Q3,e5,t5,Ju,yv,Zu,n5,Nj=Gt({"https-url:https://esm.archive.org/v135/@juggle/resize-observer@3.4.0/esnext/resize-observer.mjs":function(){Fa=[],D3=function(){return Fa.some(function(n){return n.activeTargets.length>0})},$3=function(){return Fa.some(function(n){return n.skippedTargets.length>0})},rv="ResizeObserver loop completed with undelivered notifications.",N3=function(){var n;typeof ErrorEvent=="function"?n=new ErrorEvent("error",{message:rv}):(n=document.createEvent("Event"),n.initEvent("error",!1,!1),n.message=rv),window.dispatchEvent(n)},function(g){g.BORDER_BOX="border-box",g.CONTENT_BOX="content-box",g.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Gu||(Gu={})),za=function(n){return Object.freeze(n)},B3=function(){var g=function(e,t){this.inlineSize=e,this.blockSize=t,za(this)};return g}(),iv=function(){var g=function(e,t,o,l){return this.x=e,this.y=t,this.width=o,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,za(this)};return g.prototype.toJSON=function(){var n=this,e=n.x,t=n.y,o=n.top,l=n.right,s=n.bottom,a=n.left,r=n.width,c=n.height;return{x:e,y:t,top:o,right:l,bottom:s,left:a,width:r,height:c}},g.fromRect=function(n){return new g(n.x,n.y,n.width,n.height)},g}(),Dd=function(n){return _instanceof(n,SVGElement)&&"getBBox"in n},ov=function(n){if(Dd(n)){var e=n.getBBox(),t=e.width,o=e.height;return!t&&!o}var l=n,s=l.offsetWidth,a=l.offsetHeight;return!(s||a||n.getClientRects().length)},av=function(n){var e;if(_instanceof(n,Element))return!0;var t=(e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&_instanceof(n,t.Element))},F3=function(n){switch(n.tagName){case"INPUT":if(n.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Dl=(typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:{},Ku=new WeakMap,sv=/auto|scroll/,z3=/^tb|vertical/,H3=/msie|trident/i.test(Dl.navigator&&Dl.navigator.userAgent),Lo=function(n){return parseFloat(n||"0")},Bs=function(n,e,t){return n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=!1),new B3((t?e:n)||0,(t?n:e)||0)},lv=za({devicePixelContentBoxSize:Bs(),borderBoxSize:Bs(),contentBoxSize:Bs(),contentRect:new iv(0,0,0,0)}),uv=function(n,e){if(e===void 0&&(e=!1),Ku.has(n)&&!e)return Ku.get(n);if(ov(n))return Ku.set(n,lv),lv;var t=getComputedStyle(n),o=Dd(n)&&n.ownerSVGElement&&n.getBBox(),l=!H3&&t.boxSizing==="border-box",s=z3.test(t.writingMode||""),a=!o&&sv.test(t.overflowY||""),r=!o&&sv.test(t.overflowX||""),c=o?0:Lo(t.paddingTop),d=o?0:Lo(t.paddingRight),h=o?0:Lo(t.paddingBottom),p=o?0:Lo(t.paddingLeft),v=o?0:Lo(t.borderTopWidth),k=o?0:Lo(t.borderRightWidth),x=o?0:Lo(t.borderBottomWidth),S=o?0:Lo(t.borderLeftWidth),A=p+d,E=c+h,O=S+k,T=v+x,b=r?n.offsetHeight-T-n.clientHeight:0,u=a?n.offsetWidth-O-n.clientWidth:0,f=l?A+O:0,m=l?E+T:0,y=o?o.width:Lo(t.width)-f-u,w=o?o.height:Lo(t.height)-m-b,C=y+A+u+O,M=w+E+b+T,I=za({devicePixelContentBoxSize:Bs(Math.round(y*devicePixelRatio),Math.round(w*devicePixelRatio),s),borderBoxSize:Bs(C,M,s),contentBoxSize:Bs(y,w,s),contentRect:new iv(p,c,y,w)});return Ku.set(n,I),I},cv=function(n,e,t){var o=uv(n,t),l=o.borderBoxSize,s=o.contentBoxSize,a=o.devicePixelContentBoxSize;switch(e){case Gu.DEVICE_PIXEL_CONTENT_BOX:return a;case Gu.BORDER_BOX:return l;default:return s}},U3=function(){var g=function(e){var t=uv(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=za([t.borderBoxSize]),this.contentBoxSize=za([t.contentBoxSize]),this.devicePixelContentBoxSize=za([t.devicePixelContentBoxSize])};return g}(),dv=function(n){if(ov(n))return 1/0;for(var e=0,t=n.parentNode;t;)e+=1,t=t.parentNode;return e},V3=function(){var n=1/0,e=[];Fa.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(r){var c=new U3(r.target),d=dv(r.target);a.push(c),r.lastReportedSize=cv(r.target,r.observedBox),d<n&&(n=d)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,o=e;t<o.length;t++){var l=o[t];l()}return n},hv=function(n){Fa.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(t){t.isActive()&&(dv(t.target)>n?e.activeTargets.push(t):e.skippedTargets.push(t))})})},q3=function(){var n=0;for(hv(n);D3();)n=V3(),hv(n);return $3()&&N3(),n>0},pv=[],W3=function(){return pv.splice(0).forEach(function(n){return n()})},Y3=function(n){if(!fv){var e=0,t=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return W3()}).observe(t,o),fv=function(){t.textContent="".concat(e?e--:e++)}}pv.push(n),fv()},G3=function(n){Y3(function(){requestAnimationFrame(n)})},Xu=0,K3=function(){return!!Xu},X3=250,J3={attributes:!0,characterData:!0,childList:!0,subtree:!0},vv=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],mv=function(n){return n===void 0&&(n=0),Date.now()+n},$d=!1,Z3=function(){var g=function(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}};return g.prototype.run=function(n){var e=this;if(n===void 0&&(n=X3),!$d){$d=!0;var t=mv(n);G3(function(){var o=!1;try{o=q3()}finally{if($d=!1,n=t-mv(),!K3())return;o?e.run(1e3):n>0?e.run(n):e.start()}})}},g.prototype.schedule=function(){this.stop(),this.run()},g.prototype.observe=function(){var n=this,e=function(){return n.observer&&n.observer.observe(document.body,J3)};document.body?e():Dl.addEventListener("DOMContentLoaded",e)},g.prototype.start=function(){var n=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),vv.forEach(function(e){return Dl.addEventListener(e,n.listener,!0)}))},g.prototype.stop=function(){var n=this;this.stopped||(this.observer&&this.observer.disconnect(),vv.forEach(function(e){return Dl.removeEventListener(e,n.listener,!0)}),this.stopped=!0)},g}(),Nd=new Z3,gv=function(n){!Xu&&n>0&&Nd.start(),Xu+=n,!Xu&&Nd.stop()},Q3=function(n){return!Dd(n)&&!F3(n)&&getComputedStyle(n).display==="inline"},e5=function(){var g=function(e,t){this.target=e,this.observedBox=t||Gu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}};return g.prototype.isActive=function(){var n=cv(this.target,this.observedBox,!0);return Q3(this.target)&&(this.lastReportedSize=n),this.lastReportedSize.inlineSize!==n.inlineSize||this.lastReportedSize.blockSize!==n.blockSize},g}(),t5=function(){var g=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t};return g}(),Ju=new WeakMap,yv=function(n,e){for(var t=0;t<n.length;t+=1)if(n[t].target===e)return t;return-1},Zu=function(){var g=function(){};return g.connect=function(n,e){var t=new t5(n,e);Ju.set(n,t)},g.observe=function(n,e,t){var o=Ju.get(n),l=o.observationTargets.length===0;yv(o.observationTargets,e)<0&&(l&&Fa.push(o),o.observationTargets.push(new e5(e,t&&t.box)),gv(1),Nd.schedule())},g.unobserve=function(n,e){var t=Ju.get(n),o=yv(t.observationTargets,e),l=t.observationTargets.length===1;o>=0&&(l&&Fa.splice(Fa.indexOf(t),1),t.observationTargets.splice(o,1),gv(-1))},g.disconnect=function(n){var e=this,t=Ju.get(n);t.observationTargets.slice().forEach(function(o){return e.unobserve(n,o.target)}),t.activeTargets.splice(0,t.activeTargets.length)},g}(),n5=function(){var g=function(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Zu.connect(this,e)};return g.prototype.observe=function(n,e){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!av(n))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Zu.observe(this,n,e)},g.prototype.unobserve=function(n){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!av(n))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Zu.unobserve(this,n)},g.prototype.disconnect=function(){Zu.disconnect(this)},g.toString=function(){return"function ResizeObserver () { [polyfill code] }"},g}()}}),Bj=Gt({"https-url:https://esm.archive.org/@juggle/resize-observer@^3.3.1":function(){Nj()}}),r5,Fj=Gt({"components/resize-observer-polyfill/resize-observer-polyfill.js":function(){Bj(),r5=window.ResizeObserver||n5,window.ResizeObserver=r5}}),Ha,$l=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/shared-resize-observer@0.2.0/esnext/shared-resize-observer.mjs":function(){Ha=function(){"use strict";function g(){var n=this;_classCallCheck(this,g),this.resizeObserver=new ResizeObserver(function(e){var t=n;window.requestAnimationFrame(function(){var o=!0,l=!1,s=void 0;try{for(var a=function(d,h){var p=h.value,v=t.resizeHandlers.get(p.target);v==null||v.forEach(function(k){k.handleResize(p)})},r=e[Symbol.iterator](),c;!(o=(c=r.next()).done);o=!0)a(r,c)}catch(d){l=!0,s=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw s}}})}),this.resizeHandlers=new Map}return _createClass(g,[{key:"shutdown",value:function(){var e=this;this.resizeHandlers.forEach(function(t,o){e.resizeObserver.unobserve(o)}),this.resizeHandlers.clear()}},{key:"addObserver",value:function(e){var t,o=(t=this.resizeHandlers.get(e.target))!==null&&t!==void 0?t:new Set;o.add(e.handler),this.resizeHandlers.set(e.target,o),this.resizeObserver.observe(e.target,e.options)}},{key:"removeObserver",value:function(e){var t=this.resizeHandlers.get(e.target);t&&(t.delete(e.handler),t.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}]),g}()}}),zj=Gt({"https-url:https://esm.archive.org/@internetarchive/shared-resize-observer@^0.2.0":function(){$l()}}),bv=Gt({"components/ia-shared-resizeobserver/ia-shared-resizeobserver.js":function(){Fj(),zj(),window.SharedResizeObserver=Ha}}),wv,qo,i5=Gt({"components/donation-banner/donation-banner-iframe-handler.js":function(){Si(),bo(),wv=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"get_banner_height",value:function(){return ne("#donate_banner").outerHeight()}},{key:"postMessage",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;On("postin",{event:e,incomingValue:t});var o=g.get_banner_height(),l=g.preventResizeEventResponse?g.calculateBannerWithReminderForm():0,s=Math.max(l,t);window.parent.postMessage(JSON.stringify({event:e,value:s,bannerHeight:o}),"*"),e==="close modal"&&g.adjust_height()}},{key:"openReminderForm",value:function(){g.preventResizeEventResponse=!0,g.postMessage("set height"),window.scrollTo(0,0)}},{key:"closeReminderForm",value:function(){g.preventResizeEventResponse=!1,g.postMessage("close modal"),window.scrollTo(0,0)}},{key:"onSubmitReminderForm",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;g.preventResizeEventResponse=!1,g.postMessage("set cookie",e)}},{key:"calculateBannerWithReminderForm",value:function(){var e=document.querySelector(".js-donate-banner"),t=document.querySelector(".js-donate-form"),o=document.querySelector(".js-donate-later-dropdown"),l=15,s=e.offsetHeight,a=o.offsetHeight,r=t.offsetHeight+t.offsetTop,c=s-r,d=s-c+a+l;return d}},{key:"adjust_height",value:function(e){var t=e!=null?e:g.get_banner_height();g.postMessage("set height",t),On({banner_height:t}),this.currentBannerHeight=t}},{key:"init",value:function(){On("donato tornado"),ne(window).on("resize  orientationchange",function(){g.fixBannerHeightIfNeeded(),clearTimeout(g.adjust_height_throttler),g.adjust_height_throttler=setTimeout(g.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=g.get_banner_height(),g.adjust_height()}},{key:"fixBannerHeightIfNeeded",value:function(){if(window.innerWidth===this.currentWindowWidth){var e=g.get_banner_height();e!==this.currentBannerHeight&&(On("Performing banner height correction: current, new",this.currentBannerHeight,e),g.adjust_height(e))}else this.currentWindowWidth=window.innerWidth}}]),g}(),wv.preventResizeEventResponse=!1,qo=wv}}),_v,o5=Gt({"components/analyticsHandler/analyticsHandler.js":function(){_v=function(){"use strict";function g(n){_classCallCheck(this,g),this.analyticsBackend=n||window.archive_analytics}return _createClass(g,[{key:"send_event",value:function(e,t,o,l){this.analyticsBackend&&this.analyticsBackend.send_event(e,t,o,l)}},{key:"send_event_no_sampling",value:function(e,t,o,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(e,t,o,l)}}]),g}()}}),a5,Qu,s5,Hj=Gt({"components/donation-banner/remind_form.js":function(){i5(),a5=27,Qu="RemindForm",s5=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.$form=n,this.$trigger=e,this.setDonationCookie=t||$.noop}return _createClass(g,[{key:"setup",value:function(){var e=this,t=$("#donate_dropdown"),o=$("#close_donate_dropdown"),l=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on("click.".concat(Qu),function(s){t.hasClass("is-open")||t.addClass("is-open"),e.$form.find("input").filter(function(a,r){return!r.value}).eq(0).focus(),qo.openReminderForm(),s.preventDefault()}),o.on("click.".concat(Qu),function(){t.removeClass("is-open"),qo.closeReminderForm(),e.$trigger.focus()}),$(window).on("keydown.".concat(Qu),function(s){var a=t.hasClass("is-open");a&&s.keyCode===a5&&o.click()}),this.$form.on("submit.".concat(Qu),function(s){var a=e;if(s.preventDefault(),!g.validateDonorEmail(e.$form.find("[name=email]").val())){e.$form.find(".error-email").show();return}["first_name","last_name"].forEach(function(c){g.validateNameField(a.$form.find("[name='".concat(c,"']")).val())||a.$form.find("[name='".concat(c,"']")).val("")});var r=e.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling("DonateBanner".concat(r),"MaybeLaterFormSubmit",window.location.pathname),e.sendForm(l)})}},{key:"sendForm",value:function(e){var t=this,o=$("#donate_reminder_success").addClass("hidden"),l=function(s,a){return"<h2>".concat(s,"</h2><p>").concat(a,"</p>")};$.ajax({type:"post",url:"".concat(e,"/donate/remindDonate.php"),data:this.$form.serialize(),success:function(){t.$form.addClass("hidden"),o.html(l("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");var s=90;t.setDonationCookie(s),qo.onSubmitReminderForm(s)},error:function(){o.html(l("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}}],[{key:"validateDonorEmail",value:function(e){return/.+@.+\..+/.test(e)}},{key:"validateNameField",value:function(e){return!/[<>&:?'"]/.test(e)}}]),g}()}}),l5,Uj=Gt({"components/donation-banner/donation-banner.js":function(){$s(),Mj(),Rj(),$j(),bv(),Si(),i5(),o5(),Hj(),console==null||console.log("donation-banner loaded",{version:"1.1.1"}),l5=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"addCloseSupport",value:function(){var e=function(){var l=42;qo.postMessage("hide banner",l),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(l)},t=document.getElementById("donate-close-button");t&&t.addEventListener("click",e.bind(this))}},{key:"initialize",value:function(){if(this.bannerElement){this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),qo.init();var e=new s5(ne("#donate_reminder_form"),ne("#donate_later"),this.setDonationCookie);e.setup(),this.logEvent("Viewed")}}},{key:"setDonationCookie",value:function(e){g.setDonationCookie(e),qo.postMessage("set cookie",e)}},{key:"bannerElement",get:function(){return document.querySelector("#donate_banner")}},{key:"donationFormElement",get:function(){return document.querySelector("donation-form-edit-donation")}},{key:"bannerThermometerElement",get:function(){return document.querySelector("donation-banner-thermometer")}},{key:"minimalDonateButtonElement",get:function(){return document.querySelector("#minimal-donate-button")}},{key:"donationOrigin",get:function(){var e=this.bannerElement,t=e.dataset.exp,o=e.dataset.variant,l;try{l=window.parent.innerWidth}catch(r){l=qo.currentWindowWidth}var s=l<768?"Mobile":"Desktop",a="DonateBanner-".concat(t,"-").concat(o,"-").concat(s);return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:s,currentWindowWidth:l,origin:a}),a}},{key:"setupSnow",value:function(){if(this.bannerElement.dataset.snowfall==="on"){var e=new Id({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15});e.start()}}},{key:"setupMinimalDonateButton",value:function(){var e=this,t=this.minimalDonateButtonElement;t&&t.addEventListener("click",function(){e.logEvent("MinimalDonateButtonClicked"),qo.postMessage("set cookie",30),window.top.location=e.baseDonatePageUrl})}},{key:"baseDonatePageUrl",get:function(){var e=this.bannerElement,t=e.dataset.baseurl,o=e.dataset.donationsourcedata,l=e.dataset.variantdollaramounts,s=e.dataset.variantamountlayout,a=e.dataset.variantfrequencymode,r=e.dataset.bannertemplate,c=e.dataset.platform,d=new URLSearchParams;this.donationOrigin&&d.set("origin",this.donationOrigin),o&&d.set("referer",o),l&&d.set("dollarAmounts",l),s&&d.set("amountLayout",s),a&&d.set("frequencyMode",a),c&&d.set("platform",c),r&&d.set("bannerTemplate",r);var h="".concat(t,"/donate?").concat(d.toString());return h}},{key:"setupDonationForm",value:function(){var e=this,t=this.donationFormElement;if(t){var o=t.donationInfo,l=this.bannerElement.classList.contains("formdesign-psa");if(l){var s=this,a=document.querySelector("#psa-cta");if(console.log("PSA Donation Banner CTA: ",a),!a)return;a.addEventListener("click",function(c){var d="".concat(s.baseDonatePageUrl,"&amt=").concat(o.amount);s.logEvent("ContinueClicked"),s.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:d}),window.top.location=d});return}t.addEventListener("donationInfoChanged",function(c){e.donationInfoError=!1,o=c.detail.donationInfo;var d=e.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",ei({isMinimalBanner:d},o)),d){var h="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount);e.logEvent("ContinueClicked"),e.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:h}),window.top.location=h}}),t.addEventListener("editDonationError",function(c){e.donationInfoError=!0});var r=document.querySelector("#continue-button");r&&r.addEventListener("click",function(){if(!e.donationInfoError){e.logEvent("ContinueClicked");var c=e.bannerElement.dataset,d=c.selectedtextcolor?"&selectedTextColor=".concat(encodeURIComponent(c.selectedtextcolor)):"",h=c.selectedfillcolor?"&selectedFillColor=".concat(encodeURIComponent(c.selectedfillcolor)):"";c.donatepageselectedfillcolor&&(h="&selectedFillColor=".concat(encodeURIComponent(c.donatepageselectedfillcolor))),c.donatepageselectedtextcolor&&(d="&selectedTextColor=".concat(encodeURIComponent(c.donatepageselectedtextcolor)));var p=c.formtextcolor?"&formTextColor=".concat(encodeURIComponent(c.formtextcolor)):"",v="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount,"&contrib_type=").concat(o.donationType,"&coverFees=").concat(o.coverFees).concat(d).concat(h).concat(p);qo.postMessage("set cookie",30),window.top.location=v}})}}},{key:"setupThermometer",value:function(){var e=this.bannerThermometerElement;if(e){var t=new Ha;e.resizeObserver=t}}},{key:"logEvent",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=new _v,l=this.bannerElement,s=l.dataset.debugmode==="true",a=l.dataset.platform,r=s?"DonateBannerDebug":"DonateBanner";t||e==="Viewed"&&(a==="ia"||a==="wb")?o.send_event(r,e,this.donationOrigin):o.send_event_no_sampling(r,e,this.donationOrigin)}}],[{key:"setDonationCookie",value:function(e){var t=parseInt(e,10);if(t){var o={path:"/",expires:t,domain:".archive.org"};Ai.set("donation","x",o),Ai.set("donation","x",ne.extend(o,{domain:".openlibrary.org"}))}}}]),g}(),document.addEventListener("DOMContentLoaded",function(){var g=new l5;g.initialize()})}}),u5,Bd,c5,d5,h5,f5,uo,p5,Fd,v5,kv,m5,g5,y5,b5,w5,_5,k5,x5,S5,C5,A5,O5,xv,Sv,E5,ir,Cv,T5,Av,j5=Gt({"https-url:https://esm.archive.org/v135/bootstrap@3.4.1/esnext/bootstrap.mjs":function(){u5=Object.create,Bd=Object.defineProperty,c5=Object.getOwnPropertyDescriptor,d5=Object.getOwnPropertyNames,h5=Object.getPrototypeOf,f5=Object.prototype.hasOwnProperty,uo=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},p5=function(n,e){for(var t in e)Bd(n,t,{get:e[t],enumerable:!0})},Fd=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!f5.call(n,v)&&v!==t&&Bd(n,v,{get:function(){return e[v]},enumerable:!(o=c5(e,v))||o.enumerable})},c=d5(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},v5=function(n,e,t){return Fd(n,e,"default"),t&&Fd(t,e,"default")},kv=function(n,e,t){return t=n!=null?u5(h5(n)):{},Fd(e||!n||!n.__esModule?Bd(t,"default",{value:n,enumerable:!0}):t,n)},m5=uo(function(){+function(n){"use strict";var e=function(){var o=document.createElement("bootstrap"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var s in l)if(o.style[s]!==void 0)return{end:l[s]};return!1};n.fn.emulateTransitionEnd=function(t){var o=!1,l=this;n(this).one("bsTransitionEnd",function(){o=!0});var s=function(){o||n(l).trigger(n.support.transition.end)};return setTimeout(s,t),this},n(function(){n.support.transition=e(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(o){if(n(o.target).is(this))return o.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),g5=uo(function(){+function(n){"use strict";var e=function(a){return this.each(function(){var r=n(this),c=r.data("bs.alert");c||r.data("bs.alert",c=new o(this)),typeof a=="string"&&c[a].call(r)})},t='[data-dismiss="alert"]',o=function(a){n(a).on("click",t,this.close)};o.VERSION="3.4.1",o.TRANSITION_DURATION=150,o.prototype.close=function(s){var a=function(){d.detach().trigger("closed.bs.alert").remove()},r=n(this),c=r.attr("data-target");c||(c=r.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),c=c==="#"?[]:c;var d=n(document).find(c);s&&s.preventDefault(),d.length||(d=r.closest(".alert")),d.trigger(s=n.Event("close.bs.alert")),!s.isDefaultPrevented()&&(d.removeClass("in"),n.support.transition&&d.hasClass("fade")?d.one("bsTransitionEnd",a).emulateTransitionEnd(o.TRANSITION_DURATION):a())};var l=n.fn.alert;n.fn.alert=e,n.fn.alert.Constructor=o,n.fn.alert.noConflict=function(){return n.fn.alert=l,this},n(document).on("click.bs.alert.data-api",t,o.prototype.close)}(jQuery)}),y5=uo(function(){+function(n){"use strict";var e=function(s){return this.each(function(){var a=n(this),r=a.data("bs.button"),c=typeof s=="object"&&s;r||a.data("bs.button",r=new t(this,c)),s=="toggle"?r.toggle():s&&r.setState(s)})},t=function(l,s){this.$element=n(l),this.options=n.extend({},t.DEFAULTS,s),this.isLoading=!1};t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(l){var s="disabled",a=this.$element,r=a.is("input")?"val":"html",c=a.data();l+="Text",c.resetText==null&&a.data("resetText",a[r]()),setTimeout(n.proxy(function(){a[r](c[l]==null?this.options[l]:c[l]),l=="loadingText"?(this.isLoading=!0,a.addClass(s).attr(s,s).prop(s,!0)):this.isLoading&&(this.isLoading=!1,a.removeClass(s).removeAttr(s).prop(s,!1))},this),0)},t.prototype.toggle=function(){var l=!0,s=this.$element.closest('[data-toggle="buttons"]');if(s.length){var a=this.$element.find("input");a.prop("type")=="radio"?(a.prop("checked")&&(l=!1),s.find(".active").removeClass("active"),this.$element.addClass("active")):a.prop("type")=="checkbox"&&(a.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),a.prop("checked",this.$element.hasClass("active")),l&&a.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=n.fn.button;n.fn.button=e,n.fn.button.Constructor=t,n.fn.button.noConflict=function(){return n.fn.button=o,this},n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var s=n(l.target).closest(".btn");e.call(s,"toggle"),n(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),s.is("input,button")?s.trigger("focus"):s.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){n(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),b5=uo(function(){+function(n){"use strict";var e=function(a){return this.each(function(){var r=n(this),c=r.data("bs.carousel"),d=n.extend({},t.DEFAULTS,r.data(),typeof a=="object"&&a),h=typeof a=="string"?a:d.slide;c||r.data("bs.carousel",c=new t(this,d)),typeof a=="number"?c.to(a):h?c[h]():d.interval&&c.pause().cycle()})},t=function(a,r){this.$element=n(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=r,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(s){if(!/input|textarea/i.test(s.target.tagName)){switch(s.which){case 37:this.prev();break;case 39:this.next();break;default:return}s.preventDefault()}},t.prototype.cycle=function(s){return s||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(s){return this.$items=s.parent().children(".item"),this.$items.index(s||this.$active)},t.prototype.getItemForDirection=function(s,a){var r=this.getItemIndex(a),c=s=="prev"&&r===0||s=="next"&&r==this.$items.length-1;if(c&&!this.options.wrap)return a;var d=s=="prev"?-1:1,h=(r+d)%this.$items.length;return this.$items.eq(h)},t.prototype.to=function(s){var a=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(s>this.$items.length-1||s<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){a.to(s)}):r==s?this.pause().cycle():this.slide(s>r?"next":"prev",this.$items.eq(s))},t.prototype.pause=function(s){return s||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(s,a){var r=this.$element.find(".item.active"),c=a||this.getItemForDirection(s,r),d=this.interval,h=s=="next"?"left":"right",p=this;if(c.hasClass("active"))return this.sliding=!1;var v=c[0],k=n.Event("slide.bs.carousel",{relatedTarget:v,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,d&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var x=n(this.$indicators.children()[this.getItemIndex(c)]);x&&x.addClass("active")}var S=n.Event("slid.bs.carousel",{relatedTarget:v,direction:h});return n.support.transition&&this.$element.hasClass("slide")?(c.addClass(s),typeof c=="object"&&c.length&&c[0].offsetWidth,r.addClass(h),c.addClass(h),r.one("bsTransitionEnd",function(){c.removeClass([s,h].join(" ")).addClass("active"),r.removeClass(["active",h].join(" ")),p.sliding=!1,setTimeout(function(){p.$element.trigger(S)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(r.removeClass("active"),c.addClass("active"),this.sliding=!1,this.$element.trigger(S)),d&&this.cycle(),this}};var o=n.fn.carousel;n.fn.carousel=e,n.fn.carousel.Constructor=t,n.fn.carousel.noConflict=function(){return n.fn.carousel=o,this};var l=function(a){var r=n(this),c=r.attr("href");c&&(c=c.replace(/.*(?=#[^\s]+$)/,""));var d=r.attr("data-target")||c,h=n(document).find(d);if(h.hasClass("carousel")){var p=n.extend({},h.data(),r.data()),v=r.attr("data-slide-to");v&&(p.interval=!1),e.call(h,p),v&&h.data("bs.carousel").to(v),a.preventDefault()}};n(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var s=n(this);e.call(s,s.data())})})}(jQuery)}),w5=uo(function(){+function(n){"use strict";var e=function(a){var r,c=a.attr("data-target")||(r=a.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"");return n(document).find(c)},t=function(a){return this.each(function(){var r=n(this),c=r.data("bs.collapse"),d=n.extend({},o.DEFAULTS,r.data(),typeof a=="object"&&a);!c&&d.toggle&&/show|hide/.test(a)&&(d.toggle=!1),c||r.data("bs.collapse",c=new o(this,d)),typeof a=="string"&&c[a]()})},o=function(s,a){this.$element=n(s),this.options=n.extend({},o.DEFAULTS,a),this.$trigger=n('[data-toggle="collapse"][href="#'+s.id+'"],[data-toggle="collapse"][data-target="#'+s.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.4.1",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var s=this.$element.hasClass("width");return s?"width":"height"},o.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var s,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(s=a.data("bs.collapse"),s&&s.transitioning))){var r=n.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){a&&a.length&&(t.call(a,"hide"),s||a.data("bs.collapse",null));var c=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[c](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[c](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!n.support.transition)return d.call(this);var h=n.camelCase(["scroll",c].join("-"));this.$element.one("bsTransitionEnd",n.proxy(d,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[c](this.$element[0][h])}}}},o.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var s=n.Event("hide.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!n.support.transition)return r.call(this);this.$element[a](0).one("bsTransitionEnd",n.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return n(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(s,a){var r=n(a);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(s,a){var r=s.hasClass("in");s.attr("aria-expanded",r),a.toggleClass("collapsed",!r).attr("aria-expanded",r)};var l=n.fn.collapse;n.fn.collapse=t,n.fn.collapse.Constructor=o,n.fn.collapse.noConflict=function(){return n.fn.collapse=l,this},n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var a=n(this);a.attr("data-target")||s.preventDefault();var r=e(a),c=r.data("bs.collapse"),d=c?"toggle":a.data();t.call(r,d)})}(jQuery)}),_5=uo(function(){+function(n){"use strict";var e=function(d){var h=d.attr("data-target");h||(h=d.attr("href"),h=h&&/#[A-Za-z]/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,""));var p=h!=="#"?n(document).find(h):null;return p&&p.length?p:d.parent()},t=function(d){d&&d.which===3||(n(l).remove(),n(s).each(function(){var h=n(this),p=e(h),v={relatedTarget:this};p.hasClass("open")&&(d&&d.type=="click"&&/input|textarea/i.test(d.target.tagName)&&n.contains(p[0],d.target)||(p.trigger(d=n.Event("hide.bs.dropdown",v)),!d.isDefaultPrevented()&&(h.attr("aria-expanded","false"),p.removeClass("open").trigger(n.Event("hidden.bs.dropdown",v)))))}))},o=function(d){return this.each(function(){var h=n(this),p=h.data("bs.dropdown");p||h.data("bs.dropdown",p=new a(this)),typeof d=="string"&&p[d].call(h)})},l=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(d){n(d).on("click.bs.dropdown",this.toggle)};a.VERSION="3.4.1",a.prototype.toggle=function(c){var d=n(this);if(!d.is(".disabled, :disabled")){var h=e(d),p=h.hasClass("open");if(t(),!p){"ontouchstart"in document.documentElement&&!h.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",t);var v={relatedTarget:this};if(h.trigger(c=n.Event("show.bs.dropdown",v)),c.isDefaultPrevented())return;d.trigger("focus").attr("aria-expanded","true"),h.toggleClass("open").trigger(n.Event("shown.bs.dropdown",v))}return!1}},a.prototype.keydown=function(c){if(!(!/(38|40|27|32)/.test(c.which)||/input|textarea/i.test(c.target.tagName))){var d=n(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var h=e(d),p=h.hasClass("open");if(!p&&c.which!=27||p&&c.which==27)return c.which==27&&h.find(s).trigger("focus"),d.trigger("click");var v=" li:not(.disabled):visible a",k=h.find(".dropdown-menu"+v);if(k.length){var x=k.index(c.target);c.which==38&&x>0&&x--,c.which==40&&x<k.length-1&&x++,~x||(x=0),k.eq(x).trigger("focus")}}}};var r=n.fn.dropdown;n.fn.dropdown=o,n.fn.dropdown.Constructor=a,n.fn.dropdown.noConflict=function(){return n.fn.dropdown=r,this},n(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(c){c.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery)}),k5=uo(function(){+function(n){"use strict";var e=function(s,a){return this.each(function(){var r=n(this),c=r.data("bs.modal"),d=n.extend({},t.DEFAULTS,r.data(),typeof s=="object"&&s);c||r.data("bs.modal",c=new t(this,d)),typeof s=="string"?c[s](a):d.show&&c.show(a)})},t=function(s,a){this.options=a,this.$body=n(document.body),this.$element=n(s),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},t.prototype.show=function(l){var s=this,a=n.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(a),!(this.isShown||a.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){s.$element.one("mouseup.dismiss.bs.modal",function(r){n(r.target).is(s.$element)&&(s.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=n.support.transition&&s.$element.hasClass("fade");s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),s.adjustDialog(),r&&s.$element[0].offsetWidth,s.$element.addClass("in"),s.enforceFocus();var c=n.Event("shown.bs.modal",{relatedTarget:l});r?s.$dialog.one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(c)}).emulateTransitionEnd(t.TRANSITION_DURATION):s.$element.trigger("focus").trigger(c)}))},t.prototype.hide=function(l){l&&l.preventDefault(),l=n.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(l){var s=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=n.support.transition&&a;if(this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(d){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}d.target===d.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;r?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var c=function(){s.removeBackdrop(),l&&l()};n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):c()}else l&&l()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var s=document.documentElement.getBoundingClientRect();l=s.right-Math.abs(s.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var s=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+s),n(this.fixedContent).each(function(a,r){var c=r.style.paddingRight,d=n(r).css("padding-right");n(r).data("padding-right",c).css("padding-right",parseFloat(d)+s+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),n(this.fixedContent).each(function(l,s){var a=n(s).data("padding-right");n(s).removeData("padding-right"),s.style.paddingRight=a||""})},t.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var s=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),s};var o=n.fn.modal;n.fn.modal=e,n.fn.modal.Constructor=t,n.fn.modal.noConflict=function(){return n.fn.modal=o,this},n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var s=n(this),a=s.attr("href"),r=s.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,""),c=n(document).find(r),d=c.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(a)&&a},c.data(),s.data());s.is("a")&&l.preventDefault(),c.one("show.bs.modal",function(h){h.isDefaultPrevented()||c.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})}),e.call(c,d,this)})}(jQuery)}),x5=uo(function(){+function(n){"use strict";var e=function(k,x){var S=k.nodeName.toLowerCase();if(n.inArray(S,x)!==-1)return n.inArray(S,s)!==-1?!!(k.nodeValue.match(c)||k.nodeValue.match(d)):!0;for(var A=n(x).filter(function(T,b){return _instanceof(b,RegExp)}),E=0,O=A.length;E<O;E++)if(S.match(A[E]))return!0;return!1},t=function(k,x,S){if(k.length===0)return k;if(S&&typeof S=="function")return S(k);if(!document.implementation||!document.implementation.createHTMLDocument)return k;var A=document.implementation.createHTMLDocument("sanitization");A.body.innerHTML=k;for(var E=n.map(x,function(M,I){return I}),O=n(A.body).find("*"),T=0,b=O.length;T<b;T++){var u=O[T],f=u.nodeName.toLowerCase();if(n.inArray(f,E)===-1){u.parentNode.removeChild(u);continue}for(var m=n.map(u.attributes,function(M){return M}),y=[].concat(x["*"]||[],x[f]||[]),w=0,C=m.length;w<C;w++)e(m[w],y)||u.removeAttribute(m[w].nodeName)}return A.body.innerHTML},o=function(k){return this.each(function(){var x=n(this),S=x.data("bs.tooltip"),A=typeof k=="object"&&k;!S&&/destroy|hide/.test(k)||(S||x.data("bs.tooltip",S=new h(this,A)),typeof k=="string"&&S[k]())})},l=["sanitize","whiteList","sanitizeFn"],s=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^aria-[\w-]*$/i,r={"*":["class","dir","id","lang","role",a],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},c=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,d=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,h=function(k,x){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",k,x)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:r},h.prototype.init=function(v,k,x){if(this.enabled=!0,this.type=v,this.$element=n(k),this.options=this.getOptions(x),this.$viewport=this.options.viewport&&n(document).find(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},_instanceof(this.$element[0],document.constructor)&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var S=this.options.trigger.split(" "),A=S.length;A--;){var E=S[A];if(E=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(E!="manual"){var O=E=="hover"?"mouseenter":"focusin",T=E=="hover"?"mouseleave":"focusout";this.$element.on(O+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(T+"."+this.type,this.options.selector,n.proxy(this.leave,this))}}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(v){var k=this.$element.data();for(var x in k)k.hasOwnProperty(x)&&n.inArray(x,l)!==-1&&delete k[x];return v=n.extend({},this.getDefaults(),k,v),v.delay&&typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),v.sanitize&&(v.template=t(v.template,v.whiteList,v.sanitizeFn)),v},h.prototype.getDelegateOptions=function(){var v={},k=this.getDefaults();return this._options&&n.each(this._options,function(x,S){k[x]!=S&&(v[x]=S)}),v},h.prototype.enter=function(v){var k=_instanceof(v,this.constructor)?v:n(v.currentTarget).data("bs."+this.type);if(k||(k=new this.constructor(v.currentTarget,this.getDelegateOptions()),n(v.currentTarget).data("bs."+this.type,k)),_instanceof(v,n.Event)&&(k.inState[v.type=="focusin"?"focus":"hover"]=!0),k.tip().hasClass("in")||k.hoverState=="in"){k.hoverState="in";return}if(clearTimeout(k.timeout),k.hoverState="in",!k.options.delay||!k.options.delay.show)return k.show();k.timeout=setTimeout(function(){k.hoverState=="in"&&k.show()},k.options.delay.show)},h.prototype.isInStateTrue=function(){for(var v in this.inState)if(this.inState[v])return!0;return!1},h.prototype.leave=function(v){var k=_instanceof(v,this.constructor)?v:n(v.currentTarget).data("bs."+this.type);if(k||(k=new this.constructor(v.currentTarget,this.getDelegateOptions()),n(v.currentTarget).data("bs."+this.type,k)),_instanceof(v,n.Event)&&(k.inState[v.type=="focusout"?"focus":"hover"]=!1),!k.isInStateTrue()){if(clearTimeout(k.timeout),k.hoverState="out",!k.options.delay||!k.options.delay.hide)return k.hide();k.timeout=setTimeout(function(){k.hoverState=="out"&&k.hide()},k.options.delay.hide)}},h.prototype.show=function(){var v=n.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(v);var k=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(v.isDefaultPrevented()||!k)return;var x=this,S=this.tip(),A=this.getUID(this.type);this.setContent(),S.attr("id",A),this.$element.attr("aria-describedby",A),this.options.animation&&S.addClass("fade");var E=typeof this.options.placement=="function"?this.options.placement.call(this,S[0],this.$element[0]):this.options.placement,O=/\s?auto?\s?/i,T=O.test(E);T&&(E=E.replace(O,"")||"top"),S.detach().css({top:0,left:0,display:"block"}).addClass(E).data("bs."+this.type,this),this.options.container?S.appendTo(n(document).find(this.options.container)):S.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var b=this.getPosition(),u=S[0].offsetWidth,f=S[0].offsetHeight;if(T){var m=E,y=this.getPosition(this.$viewport);E=E=="bottom"&&b.bottom+f>y.bottom?"top":E=="top"&&b.top-f<y.top?"bottom":E=="right"&&b.right+u>y.width?"left":E=="left"&&b.left-u<y.left?"right":E,S.removeClass(m).addClass(E)}var w=this.getCalculatedOffset(E,b,u,f);this.applyPlacement(w,E);var C=function(){var I=x.hoverState;x.$element.trigger("shown.bs."+x.type),x.hoverState=null,I=="out"&&x.leave(x)};n.support.transition&&this.$tip.hasClass("fade")?S.one("bsTransitionEnd",C).emulateTransitionEnd(h.TRANSITION_DURATION):C()}},h.prototype.applyPlacement=function(v,k){var x=this.tip(),S=x[0].offsetWidth,A=x[0].offsetHeight,E=parseInt(x.css("margin-top"),10),O=parseInt(x.css("margin-left"),10);isNaN(E)&&(E=0),isNaN(O)&&(O=0),v.top+=E,v.left+=O,n.offset.setOffset(x[0],n.extend({using:function(C){x.css({top:Math.round(C.top),left:Math.round(C.left)})}},v),0),x.addClass("in");var T=x[0].offsetWidth,b=x[0].offsetHeight;k=="top"&&b!=A&&(v.top=v.top+A-b);var u=this.getViewportAdjustedDelta(k,v,T,b);u.left?v.left+=u.left:v.top+=u.top;var f=/top|bottom/.test(k),m=f?u.left*2-S+T:u.top*2-A+b,y=f?"offsetWidth":"offsetHeight";x.offset(v),this.replaceArrow(m,x[0][y],f)},h.prototype.replaceArrow=function(v,k,x){this.arrow().css(x?"left":"top",50*(1-v/k)+"%").css(x?"top":"left","")},h.prototype.setContent=function(){var v=this.tip(),k=this.getTitle();this.options.html?(this.options.sanitize&&(k=t(k,this.options.whiteList,this.options.sanitizeFn)),v.find(".tooltip-inner").html(k)):v.find(".tooltip-inner").text(k),v.removeClass("fade in top bottom left right")},h.prototype.hide=function(v){var k=function(){x.hoverState!="in"&&S.detach(),x.$element&&x.$element.removeAttr("aria-describedby").trigger("hidden.bs."+x.type),v&&v()},x=this,S=n(this.$tip),A=n.Event("hide.bs."+this.type);if(this.$element.trigger(A),!A.isDefaultPrevented())return S.removeClass("in"),n.support.transition&&S.hasClass("fade")?S.one("bsTransitionEnd",k).emulateTransitionEnd(h.TRANSITION_DURATION):k(),this.hoverState=null,this},h.prototype.fixTitle=function(){var v=this.$element;(v.attr("title")||typeof v.attr("data-original-title")!="string")&&v.attr("data-original-title",v.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(v){v=v||this.$element;var k=v[0],x=k.tagName=="BODY",S=k.getBoundingClientRect();S.width==null&&(S=n.extend({},S,{width:S.right-S.left,height:S.bottom-S.top}));var A=window.SVGElement&&_instanceof(k,window.SVGElement),E=x?{top:0,left:0}:A?null:v.offset(),O={scroll:x?document.documentElement.scrollTop||document.body.scrollTop:v.scrollTop()},T=x?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},S,O,T,E)},h.prototype.getCalculatedOffset=function(v,k,x,S){return v=="bottom"?{top:k.top+k.height,left:k.left+k.width/2-x/2}:v=="top"?{top:k.top-S,left:k.left+k.width/2-x/2}:v=="left"?{top:k.top+k.height/2-S/2,left:k.left-x}:{top:k.top+k.height/2-S/2,left:k.left+k.width}},h.prototype.getViewportAdjustedDelta=function(v,k,x,S){var A={top:0,left:0};if(!this.$viewport)return A;var E=this.options.viewport&&this.options.viewport.padding||0,O=this.getPosition(this.$viewport);if(/right|left/.test(v)){var T=k.top-E-O.scroll,b=k.top+E-O.scroll+S;T<O.top?A.top=O.top-T:b>O.top+O.height&&(A.top=O.top+O.height-b)}else{var u=k.left-E,f=k.left+E+x;u<O.left?A.left=O.left-u:f>O.right&&(A.left=O.left+O.width-f)}return A},h.prototype.getTitle=function(){var v,k=this.$element,x=this.options;return v=k.attr("data-original-title")||(typeof x.title=="function"?x.title.call(k[0]):x.title),v},h.prototype.getUID=function(v){do v+=~~(Math.random()*1e6);while(document.getElementById(v));return v},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(v){var k=this;v&&(k=n(v.currentTarget).data("bs."+this.type),k||(k=new this.constructor(v.currentTarget,this.getDelegateOptions()),n(v.currentTarget).data("bs."+this.type,k))),v?(k.inState.click=!k.inState.click,k.isInStateTrue()?k.enter(k):k.leave(k)):k.tip().hasClass("in")?k.leave(k):k.enter(k)},h.prototype.destroy=function(){var v=this;clearTimeout(this.timeout),this.hide(function(){v.$element.off("."+v.type).removeData("bs."+v.type),v.$tip&&v.$tip.detach(),v.$tip=null,v.$arrow=null,v.$viewport=null,v.$element=null})},h.prototype.sanitizeHtml=function(v){return t(v,this.options.whiteList,this.options.sanitizeFn)};var p=n.fn.tooltip;n.fn.tooltip=o,n.fn.tooltip.Constructor=h,n.fn.tooltip.noConflict=function(){return n.fn.tooltip=p,this}}(jQuery)}),S5=uo(function(){+function(n){"use strict";var e=function(s){return this.each(function(){var a=n(this),r=a.data("bs.popover"),c=typeof s=="object"&&s;!r&&/destroy|hide/.test(s)||(r||a.data("bs.popover",r=new t(this,c)),typeof s=="string"&&r[s]())})},t=function(s,a){this.init("popover",s,a)};if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var l=this.tip(),s=this.getTitle(),a=this.getContent();if(this.options.html){var r=typeof a=="undefined"?"undefined":_typeof(a);this.options.sanitize&&(s=this.sanitizeHtml(s),r==="string"&&(a=this.sanitizeHtml(a))),l.find(".popover-title").html(s),l.find(".popover-content").children().detach().end()[r==="string"?"html":"append"](a)}else l.find(".popover-title").text(s),l.find(".popover-content").children().detach().end().text(a);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var l=this.$element,s=this.options;return l.attr("data-content")||(typeof s.content=="function"?s.content.call(l[0]):s.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=n.fn.popover;n.fn.popover=e,n.fn.popover.Constructor=t,n.fn.popover.noConflict=function(){return n.fn.popover=o,this}}(jQuery)}),C5=uo(function(){+function(n){"use strict";var e=function(s){return this.each(function(){var a=n(this),r=a.data("bs.scrollspy"),c=typeof s=="object"&&s;r||a.data("bs.scrollspy",r=new t(this,c)),typeof s=="string"&&r[s]()})};function t(l,s){this.$body=n(document.body),this.$scrollElement=n(l).is(document.body)?n(window):n(l),this.options=n.extend({},t.DEFAULTS,s),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this)),this.refresh(),this.process()}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var l=this,s="offset",a=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),n.isWindow(this.$scrollElement[0])||(s="position",a=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var r=n(this),c=r.data("target")||r.attr("href"),d=/^#./.test(c)&&n(c);return d&&d.length&&d.is(":visible")&&[[d[s]().top+a,c]]||null}).sort(function(r,c){return r[0]-c[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},t.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,s=this.getScrollHeight(),a=this.options.offset+s-this.$scrollElement.height(),r=this.offsets,c=this.targets,d=this.activeTarget,h;if(this.scrollHeight!=s&&this.refresh(),l>=a)return d!=(h=c[c.length-1])&&this.activate(h);if(d&&l<r[0])return this.activeTarget=null,this.clear();for(h=r.length;h--;)d!=c[h]&&l>=r[h]&&(r[h+1]===void 0||l<r[h+1])&&this.activate(c[h])},t.prototype.activate=function(l){this.activeTarget=l,this.clear();var s=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',a=n(s).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=n.fn.scrollspy;n.fn.scrollspy=e,n.fn.scrollspy.Constructor=t,n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=o,this},n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var l=n(this);e.call(l,l.data())})})}(jQuery)}),A5=uo(function(){+function(n){"use strict";var e=function(a){return this.each(function(){var r=n(this),c=r.data("bs.tab");c||r.data("bs.tab",c=new t(this)),typeof a=="string"&&c[a]()})},t=function(a){this.element=n(a)};t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var s=this.element,a=s.closest("ul:not(.dropdown-menu)"),r=s.data("target");if(r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!s.parent("li").hasClass("active")){var c=a.find(".active:last a"),d=n.Event("hide.bs.tab",{relatedTarget:s[0]}),h=n.Event("show.bs.tab",{relatedTarget:c[0]});if(c.trigger(d),s.trigger(h),!(h.isDefaultPrevented()||d.isDefaultPrevented())){var p=n(document).find(r);this.activate(s.closest("li"),a),this.activate(p,p.parent(),function(){c.trigger({type:"hidden.bs.tab",relatedTarget:s[0]}),s.trigger({type:"shown.bs.tab",relatedTarget:c[0]})})}}},t.prototype.activate=function(s,a,r){var c=function(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),s.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(s[0].offsetWidth,s.addClass("in")):s.removeClass("fade"),s.parent(".dropdown-menu").length&&s.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()},d=a.find("> .active"),h=r&&n.support.transition&&(d.length&&d.hasClass("fade")||!!a.find("> .fade").length);d.length&&h?d.one("bsTransitionEnd",c).emulateTransitionEnd(t.TRANSITION_DURATION):c(),d.removeClass("in")};var o=n.fn.tab;n.fn.tab=e,n.fn.tab.Constructor=t,n.fn.tab.noConflict=function(){return n.fn.tab=o,this};var l=function(a){a.preventDefault(),e.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),O5=uo(function(){+function(n){"use strict";var e=function(s){return this.each(function(){var a=n(this),r=a.data("bs.affix"),c=typeof s=="object"&&s;r||a.data("bs.affix",r=new t(this,c)),typeof s=="string"&&r[s]()})},t=function(l,s){this.options=n.extend({},t.DEFAULTS,s);var a=this.options.target===t.DEFAULTS.target?n(this.options.target):n(document).find(this.options.target);this.$target=a.on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this)),this.$element=n(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(l,s,a,r){var c=this.$target.scrollTop(),d=this.$element.offset(),h=this.$target.height();if(a!=null&&this.affixed=="top")return c<a?"top":!1;if(this.affixed=="bottom")return a!=null?c+this.unpin<=d.top?!1:"bottom":c+h<=l-r?!1:"bottom";var p=this.affixed==null,v=p?c:d.top,k=p?h:s;return a!=null&&c<=a?"top":r!=null&&v+k>=l-r?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var l=this.$target.scrollTop(),s=this.$element.offset();return this.pinnedOffset=s.top-l},t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),s=this.options.offset,a=s.top,r=s.bottom,c=Math.max(n(document).height(),n(document.body).height());typeof s!="object"&&(r=a=s),typeof a=="function"&&(a=s.top(this.$element)),typeof r=="function"&&(r=s.bottom(this.$element));var d=this.getState(c,l,a,r);if(this.affixed!=d){this.unpin!=null&&this.$element.css("top","");var h="affix"+(d?"-"+d:""),p=n.Event(h+".bs.affix");if(this.$element.trigger(p),p.isDefaultPrevented())return;this.affixed=d,this.unpin=d=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}d=="bottom"&&this.$element.offset({top:c-l-r})}};var o=n.fn.affix;n.fn.affix=e,n.fn.affix.Constructor=t,n.fn.affix.noConflict=function(){return n.fn.affix=o,this},n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var l=n(this),s=l.data();s.offset=s.offset||{},s.offsetBottom!=null&&(s.offset.bottom=s.offsetBottom),s.offsetTop!=null&&(s.offset.top=s.offsetTop),e.call(l,s)})})}(jQuery)}),xv=uo(function(){m5(),g5(),y5(),b5(),w5(),_5(),k5(),x5(),S5(),C5(),A5(),O5()}),Sv={},p5(Sv,{default:function(){return Av}}),E5=kv(xv()),v5(Sv,kv(xv()));var g;ir=E5,g=ir,Cv=g.default,T5=Ri(ir,["default"]),Av=Cv!==void 0?Cv:T5}}),Ov={};bi(Ov,{default:function(){return Av}});var P5=Gt({"https-url:https://esm.archive.org/bootstrap@^3.0.0":function(){j5(),j5()}}),I5,zd,M5,L5,R5,D5,$5,N5,Hd,B5,Ev,Tv,jv,F5,ir,Pv,z5,Iv,H5=Gt({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/flot.mjs":function(){I5=Object.create,zd=Object.defineProperty,M5=Object.getOwnPropertyDescriptor,L5=Object.getOwnPropertyNames,R5=Object.getPrototypeOf,D5=Object.prototype.hasOwnProperty,$5=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},N5=function(n,e){for(var t in e)zd(n,t,{get:e[t],enumerable:!0})},Hd=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!D5.call(n,v)&&v!==t&&zd(n,v,{get:function(){return e[v]},enumerable:!(o=M5(e,v))||o.enumerable})},c=L5(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},B5=function(n,e,t){return Hd(n,e,"default"),t&&Hd(t,e,"default")},Ev=function(n,e,t){return t=n!=null?I5(R5(n)):{},Hd(e||!n||!n.__esModule?zd(t,"default",{value:n,enumerable:!0}):t,n)},Tv=$5(function(){(function(n){n.color={},n.color.make=function(t,o,l,s){var a={};return a.r=t||0,a.g=o||0,a.b=l||0,a.a=s!=null?s:1,a.add=function(r,c){for(var d=0;d<r.length;++d)a[r.charAt(d)]+=c;return a.normalize()},a.scale=function(r,c){for(var d=0;d<r.length;++d)a[r.charAt(d)]*=c;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){var r=function(d,h,p){return h<d?d:h>p?p:h};return a.r=r(0,parseInt(a.r),255),a.g=r(0,parseInt(a.g),255),a.b=r(0,parseInt(a.b),255),a.a=r(0,a.a,1),a},a.clone=function(){return n.color.make(a.r,a.b,a.g,a.a)},a.normalize()},n.color.extract=function(t,o){var l;do{if(l=t.css(o).toLowerCase(),l!=""&&l!="transparent")break;t=t.parent()}while(t.length&&!n.nodeName(t.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),n.color.parse(l)},n.color.parse=function(t){var o,l=n.color.make;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return l(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return l(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return l(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55);if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return l(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55,parseFloat(o[4]));if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return l(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return l(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));var s=n.trim(t).toLowerCase();return s=="transparent"?l(255,255,255,0):(o=e[s]||[0,0,0],l(o[0],o[1],o[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(n){var e=function(a,r){var c=r.children("."+a)[0];if(c==null&&(c=document.createElement("canvas"),c.className=a,n(c).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(r),!c.getContext))if(window.G_vmlCanvasManager)c=window.G_vmlCanvasManager.initElement(c);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=c;var d=this.context=c.getContext("2d"),h=window.devicePixelRatio||1,p=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;this.pixelRatio=h/p,this.resize(r.width(),r.height()),this.textContainer=null,this.text={},this._textCache={}},t=function(a,r,c,d){var h=[],p={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},v=null,k=null,x=null,S=null,A=null,E=[],O=[],T={left:0,right:0,top:0,bottom:0},b=0,u=0,f={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},m=this;m.setData=M,m.setupGrid=ct,m.draw=Xe,m.getPlaceholder=function(){return a},m.getCanvas=function(){return v.element},m.getPlotOffset=function(){return T},m.width=function(){return b},m.height=function(){return u},m.offset=function(){var R=x.offset();return R.left+=T.left,R.top+=T.top,R},m.getData=function(){return h},m.getAxes=function(){var R={},nt;return n.each(E.concat(O),function(je,ue){ue&&(R[ue.direction+(ue.n!=1?ue.n:"")+"axis"]=ue)}),R},m.getXAxes=function(){return E},m.getYAxes=function(){return O},m.c2p=Q,m.p2c=W,m.getOptions=function(){return p},m.highlight=Bt,m.unhighlight=ut,m.triggerRedrawOverlay=$t,m.pointOffset=function(R){return{left:parseInt(E[D(R,"x")-1].p2c(+R.x)+T.left,10),top:parseInt(O[D(R,"y")-1].p2c(+R.y)+T.top,10)}},m.shutdown=ie,m.destroy=function(){ie(),a.removeData("plot").empty(),h=[],p=null,v=null,k=null,x=null,S=null,A=null,E=[],O=[],f=null,$e=[],m=null},m.resize=function(){var R=a.width(),nt=a.height();v.resize(R,nt),k.resize(R,nt)},m.hooks=f,w(m),C(c),ee(),M(r),ct(),Xe(),we();function y(R,nt){nt=[m].concat(nt);for(var je=0;je<R.length;++je)R[je].apply(this,nt)}function w(){for(var R={Canvas:e},nt=0;nt<d.length;++nt){var je=d[nt];je.init(m,R),je.options&&n.extend(!0,p,je.options)}}function C(R){n.extend(!0,p,R),R&&R.colors&&(p.colors=R.colors),p.xaxis.color==null&&(p.xaxis.color=n.color.parse(p.grid.color).scale("a",.22).toString()),p.yaxis.color==null&&(p.yaxis.color=n.color.parse(p.grid.color).scale("a",.22).toString()),p.xaxis.tickColor==null&&(p.xaxis.tickColor=p.grid.tickColor||p.xaxis.color),p.yaxis.tickColor==null&&(p.yaxis.tickColor=p.grid.tickColor||p.yaxis.color),p.grid.borderColor==null&&(p.grid.borderColor=p.grid.color),p.grid.tickColor==null&&(p.grid.tickColor=n.color.parse(p.grid.color).scale("a",.22).toString());var nt,je,ue,J=a.css("font-size"),K=J?+J.replace("px",""):13,Z={style:a.css("font-style"),size:Math.round(.8*K),variant:a.css("font-variant"),weight:a.css("font-weight"),family:a.css("font-family")};for(ue=p.xaxes.length||1,nt=0;nt<ue;++nt)je=p.xaxes[nt],je&&!je.tickColor&&(je.tickColor=je.color),je=n.extend(!0,{},p.xaxis,je),p.xaxes[nt]=je,je.font&&(je.font=n.extend({},Z,je.font),je.font.color||(je.font.color=je.color),je.font.lineHeight||(je.font.lineHeight=Math.round(je.font.size*1.15)));for(ue=p.yaxes.length||1,nt=0;nt<ue;++nt)je=p.yaxes[nt],je&&!je.tickColor&&(je.tickColor=je.color),je=n.extend(!0,{},p.yaxis,je),p.yaxes[nt]=je,je.font&&(je.font=n.extend({},Z,je.font),je.font.color||(je.font.color=je.color),je.font.lineHeight||(je.font.lineHeight=Math.round(je.font.size*1.15)));for(p.xaxis.noTicks&&p.xaxis.ticks==null&&(p.xaxis.ticks=p.xaxis.noTicks),p.yaxis.noTicks&&p.yaxis.ticks==null&&(p.yaxis.ticks=p.yaxis.noTicks),p.x2axis&&(p.xaxes[1]=n.extend(!0,{},p.xaxis,p.x2axis),p.xaxes[1].position="top",p.x2axis.min==null&&(p.xaxes[1].min=null),p.x2axis.max==null&&(p.xaxes[1].max=null)),p.y2axis&&(p.yaxes[1]=n.extend(!0,{},p.yaxis,p.y2axis),p.yaxes[1].position="right",p.y2axis.min==null&&(p.yaxes[1].min=null),p.y2axis.max==null&&(p.yaxes[1].max=null)),p.grid.coloredAreas&&(p.grid.markings=p.grid.coloredAreas),p.grid.coloredAreasColor&&(p.grid.markingsColor=p.grid.coloredAreasColor),p.lines&&n.extend(!0,p.series.lines,p.lines),p.points&&n.extend(!0,p.series.points,p.points),p.bars&&n.extend(!0,p.series.bars,p.bars),p.shadowSize!=null&&(p.series.shadowSize=p.shadowSize),p.highlightColor!=null&&(p.series.highlightColor=p.highlightColor),nt=0;nt<p.xaxes.length;++nt)me(E,nt+1).options=p.xaxes[nt];for(nt=0;nt<p.yaxes.length;++nt)me(O,nt+1).options=p.yaxes[nt];for(var se in f)p.hooks[se]&&p.hooks[se].length&&(f[se]=f[se].concat(p.hooks[se]));y(f.processOptions,[p])}function M(R){h=I(R),oe(),q()}function I(R){for(var nt=[],je=0;je<R.length;++je){var ue=n.extend(!0,{},p.series);R[je].data!=null?(ue.data=R[je].data,delete R[je].data,n.extend(!0,ue,R[je]),R[je].data=ue.data):ue.data=R[je],nt.push(ue)}return nt}function D(R,nt){var je=R[nt+"axis"];return typeof je=="object"&&(je=je.n),typeof je!="number"&&(je=1),je}function z(){return n.grep(E.concat(O),function(R){return R})}function Q(R){var nt={},je,ue;for(je=0;je<E.length;++je)ue=E[je],ue&&ue.used&&(nt["x"+ue.n]=ue.c2p(R.left));for(je=0;je<O.length;++je)ue=O[je],ue&&ue.used&&(nt["y"+ue.n]=ue.c2p(R.top));return nt.x1!==void 0&&(nt.x=nt.x1),nt.y1!==void 0&&(nt.y=nt.y1),nt}function W(R){var nt={},je,ue,J;for(je=0;je<E.length;++je)if(ue=E[je],ue&&ue.used&&(J="x"+ue.n,R[J]==null&&ue.n==1&&(J="x"),R[J]!=null)){nt.left=ue.p2c(R[J]);break}for(je=0;je<O.length;++je)if(ue=O[je],ue&&ue.used&&(J="y"+ue.n,R[J]==null&&ue.n==1&&(J="y"),R[J]!=null)){nt.top=ue.p2c(R[J]);break}return nt}function me(R,nt){return R[nt-1]||(R[nt-1]={n:nt,direction:R==E?"x":"y",options:n.extend(!0,{},R==E?p.xaxis:p.yaxis)}),R[nt-1]}function oe(){var R=h.length,nt=-1,je;for(je=0;je<h.length;++je){var ue=h[je].color;ue!=null&&(R--,typeof ue=="number"&&ue>nt&&(nt=ue))}R<=nt&&(R=nt+1);var J,K=[],Z=p.colors,se=Z.length,he=0;for(je=0;je<R;je++)J=n.color.parse(Z[je%se]||"#666"),je%se==0&&je&&(he>=0?he<.5?he=-he-.2:he=0:he=-he),K[je]=J.scale("rgb",1+he);var Ae=0,Te;for(je=0;je<h.length;++je){if(Te=h[je],Te.color==null?(Te.color=K[Ae].toString(),++Ae):typeof Te.color=="number"&&(Te.color=K[Te.color].toString()),Te.lines.show==null){var He,qe=!0;for(He in Te)if(Te[He]&&Te[He].show){qe=!1;break}qe&&(Te.lines.show=!0)}Te.lines.zero==null&&(Te.lines.zero=!!Te.lines.fill),Te.xaxis=me(E,D(Te,"x")),Te.yaxis=me(O,D(Te,"y"))}}function q(){var R=Number.POSITIVE_INFINITY,nt=Number.NEGATIVE_INFINITY,je=Number.MAX_VALUE,ue,J,K,Z,se,he,Ae,Te,He,qe,We,Je,Tt,It,Nt,Lt;function Rt(Dn,tr,en){tr<Dn.datamin&&tr!=-je&&(Dn.datamin=tr),en>Dn.datamax&&en!=je&&(Dn.datamax=en)}for(n.each(z(),function(Dn,tr){tr.datamin=R,tr.datamax=nt,tr.used=!1}),ue=0;ue<h.length;++ue)he=h[ue],he.datapoints={points:[]},y(f.processRawData,[he,he.data,he.datapoints]);for(ue=0;ue<h.length;++ue){if(he=h[ue],Nt=he.data,Lt=he.datapoints.format,!Lt){if(Lt=[],Lt.push({x:!0,number:!0,required:!0}),Lt.push({y:!0,number:!0,required:!0}),he.bars.show||he.lines.show&&he.lines.fill){var sn=!!(he.bars.show&&he.bars.zero||he.lines.show&&he.lines.zero);Lt.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:sn}),he.bars.horizontal&&(delete Lt[Lt.length-1].y,Lt[Lt.length-1].x=!0)}he.datapoints.format=Lt}if(he.datapoints.pointsize==null){he.datapoints.pointsize=Lt.length,Te=he.datapoints.pointsize,Ae=he.datapoints.points;var ln=he.lines.show&&he.lines.steps;for(he.xaxis.used=he.yaxis.used=!0,J=K=0;J<Nt.length;++J,K+=Te){It=Nt[J];var jt=It==null;if(!jt)for(Z=0;Z<Te;++Z)Je=It[Z],Tt=Lt[Z],Tt&&(Tt.number&&Je!=null&&(Je=+Je,isNaN(Je)?Je=null:Je==1/0?Je=je:Je==-1/0&&(Je=-je)),Je==null&&(Tt.required&&(jt=!0),Tt.defaultValue!=null&&(Je=Tt.defaultValue))),Ae[K+Z]=Je;if(jt)for(Z=0;Z<Te;++Z)Je=Ae[K+Z],Je!=null&&(Tt=Lt[Z],Tt.autoscale!==!1&&(Tt.x&&Rt(he.xaxis,Je,Je),Tt.y&&Rt(he.yaxis,Je,Je))),Ae[K+Z]=null;else if(ln&&K>0&&Ae[K-Te]!=null&&Ae[K-Te]!=Ae[K]&&Ae[K-Te+1]!=Ae[K+1]){for(Z=0;Z<Te;++Z)Ae[K+Te+Z]=Ae[K+Z];Ae[K+1]=Ae[K-Te+1],K+=Te}}}}for(ue=0;ue<h.length;++ue)he=h[ue],y(f.processDatapoints,[he,he.datapoints]);for(ue=0;ue<h.length;++ue){he=h[ue],Ae=he.datapoints.points,Te=he.datapoints.pointsize,Lt=he.datapoints.format;var rn=R,Qt=R,Rn=nt,Vt=nt;for(J=0;J<Ae.length;J+=Te)if(Ae[J]!=null)for(Z=0;Z<Te;++Z)Je=Ae[J+Z],Tt=Lt[Z],!(!Tt||Tt.autoscale===!1||Je==je||Je==-je)&&(Tt.x&&(Je<rn&&(rn=Je),Je>Rn&&(Rn=Je)),Tt.y&&(Je<Qt&&(Qt=Je),Je>Vt&&(Vt=Je)));if(he.bars.show){var ur;switch(he.bars.align){case"left":ur=0;break;case"right":ur=-he.bars.barWidth;break;default:ur=-he.bars.barWidth/2}he.bars.horizontal?(Qt+=ur,Vt+=ur+he.bars.barWidth):(rn+=ur,Rn+=ur+he.bars.barWidth)}Rt(he.xaxis,rn,Rn),Rt(he.yaxis,Qt,Vt)}n.each(z(),function(Dn,tr){tr.datamin==R&&(tr.datamin=null),tr.datamax==nt&&(tr.datamax=null)})}function ee(){a.css("padding",0).children().filter(function(){return!n(this).hasClass("flot-overlay")&&!n(this).hasClass("flot-base")}).remove(),a.css("position")=="static"&&a.css("position","relative"),v=new e("flot-base",a),k=new e("flot-overlay",a),S=v.context,A=k.context,x=n(k.element).unbind();var R=a.data("plot");R&&(R.shutdown(),k.clear()),a.data("plot",m)}function we(){p.grid.hoverable&&(x.mousemove(bt),x.bind("mouseleave",lt)),p.grid.clickable&&x.click(Ze),y(f.bindEvents,[x])}function ie(){ze&&clearTimeout(ze),x.unbind("mousemove",bt),x.unbind("mouseleave",lt),x.unbind("click",Ze),y(f.shutdown,[x])}function le(R){function nt(Z){return Z}var je,ue,J=R.options.transform||nt,K=R.options.inverseTransform;R.direction=="x"?(je=R.scale=b/Math.abs(J(R.max)-J(R.min)),ue=Math.min(J(R.max),J(R.min))):(je=R.scale=u/Math.abs(J(R.max)-J(R.min)),je=-je,ue=Math.max(J(R.max),J(R.min))),J==nt?R.p2c=function(Z){return(Z-ue)*je}:R.p2c=function(Z){return(J(Z)-ue)*je},K?R.c2p=function(Z){return K(ue+Z/je)}:R.c2p=function(Z){return ue+Z/je}}function ye(R){for(var nt=R.options,je=R.ticks||[],ue=nt.labelWidth||0,J=nt.labelHeight||0,K=ue||(R.direction=="x"?Math.floor(v.width/(je.length||1)):null),Z=R.direction+"Axis "+R.direction+R.n+"Axis",se="flot-"+R.direction+"-axis flot-"+R.direction+R.n+"-axis "+Z,he=nt.font||"flot-tick-label tickLabel",Ae=0;Ae<je.length;++Ae){var Te=je[Ae];if(Te.label){var He=v.getTextInfo(se,Te.label,he,null,K);ue=Math.max(ue,He.width),J=Math.max(J,He.height)}}R.labelWidth=nt.labelWidth||ue,R.labelHeight=nt.labelHeight||J}function Ee(R){var nt=R.labelWidth,je=R.labelHeight,ue=R.options.position,J=R.direction==="x",K=R.options.tickLength,Z=p.grid.axisMargin,se=p.grid.labelMargin,he=!0,Ae=!0,Te=!0,He=!1;n.each(J?E:O,function(qe,We){We&&(We.show||We.reserveSpace)&&(We===R?He=!0:We.options.position===ue&&(He?Ae=!1:he=!1),He||(Te=!1))}),Ae&&(Z=0),K==null&&(K=Te?"full":5),isNaN(+K)||(se+=+K),J?(je+=se,ue=="bottom"?(T.bottom+=je+Z,R.box={top:v.height-T.bottom,height:je}):(R.box={top:T.top+Z,height:je},T.top+=je+Z)):(nt+=se,ue=="left"?(R.box={left:T.left+Z,width:nt},T.left+=nt+Z):(T.right+=nt+Z,R.box={left:v.width-T.right,width:nt})),R.position=ue,R.tickLength=K,R.box.padding=se,R.innermost=he}function fe(R){R.direction=="x"?(R.box.left=T.left-R.labelWidth/2,R.box.width=v.width-T.left-T.right+R.labelWidth):(R.box.top=T.top-R.labelHeight/2,R.box.height=v.height-T.bottom-T.top+R.labelHeight)}function rt(){var R=p.grid.minBorderMargin,nt,je;if(R==null)for(R=0,je=0;je<h.length;++je)R=Math.max(R,2*(h[je].points.radius+h[je].points.lineWidth/2));var ue={left:R,right:R,top:R,bottom:R};n.each(z(),function(J,K){K.reserveSpace&&K.ticks&&K.ticks.length&&(K.direction==="x"?(ue.left=Math.max(ue.left,K.labelWidth/2),ue.right=Math.max(ue.right,K.labelWidth/2)):(ue.bottom=Math.max(ue.bottom,K.labelHeight/2),ue.top=Math.max(ue.top,K.labelHeight/2)))}),T.left=Math.ceil(Math.max(ue.left,T.left)),T.right=Math.ceil(Math.max(ue.right,T.right)),T.top=Math.ceil(Math.max(ue.top,T.top)),T.bottom=Math.ceil(Math.max(ue.bottom,T.bottom))}function ct(){var R,nt=z(),je=p.grid.show;for(var ue in T){var J=p.grid.margin||0;T[ue]=typeof J=="number"?J:J[ue]||0}y(f.processOffset,[T]);for(var ue in T)typeof p.grid.borderWidth=="object"?T[ue]+=je?p.grid.borderWidth[ue]:0:T[ue]+=je?p.grid.borderWidth:0;if(n.each(nt,function(Z,se){var he=se.options;se.show=he.show==null?se.used:he.show,se.reserveSpace=he.reserveSpace==null?se.show:he.reserveSpace,Ot(se)}),je){var K=n.grep(nt,function(Z){return Z.show||Z.reserveSpace});for(n.each(K,function(Z,se){_t(se),De(se),be(se,se.ticks),ye(se)}),R=K.length-1;R>=0;--R)Ee(K[R]);rt(),n.each(K,function(Z,se){fe(se)})}b=v.width-T.left-T.right,u=v.height-T.bottom-T.top,n.each(nt,function(Z,se){le(se)}),je&&Ve(),Ge()}function Ot(R){var nt=R.options,je=+(nt.min!=null?nt.min:R.datamin),ue=+(nt.max!=null?nt.max:R.datamax),J=ue-je;if(J==0){var K=ue==0?1:.01;nt.min==null&&(je-=K),(nt.max==null||nt.min!=null)&&(ue+=K)}else{var Z=nt.autoscaleMargin;Z!=null&&(nt.min==null&&(je-=J*Z,je<0&&R.datamin!=null&&R.datamin>=0&&(je=0)),nt.max==null&&(ue+=J*Z,ue>0&&R.datamax!=null&&R.datamax<=0&&(ue=0)))}R.min=je,R.max=ue}function _t(R){var nt=R.options,je;typeof nt.ticks=="number"&&nt.ticks>0?je=nt.ticks:je=.3*Math.sqrt(R.direction=="x"?v.width:v.height);var ue=(R.max-R.min)/je,J=-Math.floor(Math.log(ue)/Math.LN10),K=nt.tickDecimals;K!=null&&J>K&&(J=K);var Z=Math.pow(10,-J),se=ue/Z,he;if(se<1.5?he=1:se<3?(he=2,se>2.25&&(K==null||J+1<=K)&&(he=2.5,++J)):se<7.5?he=5:he=10,he*=Z,nt.minTickSize!=null&&he<nt.minTickSize&&(he=nt.minTickSize),R.delta=ue,R.tickDecimals=Math.max(0,K!=null?K:J),R.tickSize=nt.tickSize||he,nt.mode=="time"&&!R.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(R.tickGenerator||(R.tickGenerator=function(We){var Je=[],Tt=o(We.min,We.tickSize),It=0,Nt=Number.NaN,Lt;do Lt=Nt,Nt=Tt+It*We.tickSize,Je.push(Nt),++It;while(Nt<We.max&&Nt!=Lt);return Je},R.tickFormatter=function(We,Je){var Tt=Je.tickDecimals?Math.pow(10,Je.tickDecimals):1,It=""+Math.round(We*Tt)/Tt;if(Je.tickDecimals!=null){var Nt=It.indexOf("."),Lt=Nt==-1?0:It.length-Nt-1;if(Lt<Je.tickDecimals)return(Lt?It:It+".")+(""+Tt).substr(1,Je.tickDecimals-Lt)}return It}),n.isFunction(nt.tickFormatter)&&(R.tickFormatter=function(We,Je){return""+nt.tickFormatter(We,Je)}),nt.alignTicksWithAxis!=null){var Ae=(R.direction=="x"?E:O)[nt.alignTicksWithAxis-1];if(Ae&&Ae.used&&Ae!=R){var Te=R.tickGenerator(R);if(Te.length>0&&(nt.min==null&&(R.min=Math.min(R.min,Te[0])),nt.max==null&&Te.length>1&&(R.max=Math.max(R.max,Te[Te.length-1]))),R.tickGenerator=function(We){var Je=[],Tt,It;for(It=0;It<Ae.ticks.length;++It)Tt=(Ae.ticks[It].v-Ae.min)/(Ae.max-Ae.min),Tt=We.min+Tt*(We.max-We.min),Je.push(Tt);return Je},!R.mode&&nt.tickDecimals==null){var He=Math.max(0,-Math.floor(Math.log(R.delta)/Math.LN10)+1),qe=R.tickGenerator(R);qe.length>1&&/\..*0$/.test((qe[1]-qe[0]).toFixed(He))||(R.tickDecimals=He)}}}}function De(R){var nt=R.options.ticks,je=[];nt==null||typeof nt=="number"&&nt>0?je=R.tickGenerator(R):nt&&(n.isFunction(nt)?je=nt(R):je=nt);var ue,J;for(R.ticks=[],ue=0;ue<je.length;++ue){var K=null,Z=je[ue];typeof Z=="object"?(J=+Z[0],Z.length>1&&(K=Z[1])):J=+Z,K==null&&(K=R.tickFormatter(J,R)),isNaN(J)||R.ticks.push({v:J,label:K})}}function be(R,nt){R.options.autoscaleMargin&&nt.length>0&&(R.options.min==null&&(R.min=Math.min(R.min,nt[0].v)),R.options.max==null&&nt.length>1&&(R.max=Math.max(R.max,nt[nt.length-1].v)))}function Xe(){v.clear(),y(f.drawBackground,[S]);var R=p.grid;R.show&&R.backgroundColor&&Qe(),R.show&&!R.aboveData&&Me();for(var nt=0;nt<h.length;++nt)y(f.drawSeries,[S,h[nt]]),st(h[nt]);y(f.draw,[S]),R.show&&R.aboveData&&Me(),v.render(),$t()}function Ne(R,nt){for(var je,ue,J,K,Z=z(),se=0;se<Z.length;++se)if(je=Z[se],je.direction==nt&&(K=nt+je.n+"axis",!R[K]&&je.n==1&&(K=nt+"axis"),R[K])){ue=R[K].from,J=R[K].to;break}if(R[K]||(je=nt=="x"?E[0]:O[0],ue=R[nt+"1"],J=R[nt+"2"]),ue!=null&&J!=null&&ue>J){var he=ue;ue=J,J=he}return{from:ue,to:J,axis:je}}function Qe(){S.save(),S.translate(T.left,T.top),S.fillStyle=Xt(p.grid.backgroundColor,u,0,"rgba(255, 255, 255, 0)"),S.fillRect(0,0,b,u),S.restore()}function Me(){var R,nt,je,ue;S.save(),S.translate(T.left,T.top);var J=p.grid.markings;if(J)for(n.isFunction(J)&&(nt=m.getAxes(),nt.xmin=nt.xaxis.min,nt.xmax=nt.xaxis.max,nt.ymin=nt.yaxis.min,nt.ymax=nt.yaxis.max,J=J(nt)),R=0;R<J.length;++R){var K=J[R],Z=Ne(K,"x"),se=Ne(K,"y");if(Z.from==null&&(Z.from=Z.axis.min),Z.to==null&&(Z.to=Z.axis.max),se.from==null&&(se.from=se.axis.min),se.to==null&&(se.to=se.axis.max),!(Z.to<Z.axis.min||Z.from>Z.axis.max||se.to<se.axis.min||se.from>se.axis.max)){Z.from=Math.max(Z.from,Z.axis.min),Z.to=Math.min(Z.to,Z.axis.max),se.from=Math.max(se.from,se.axis.min),se.to=Math.min(se.to,se.axis.max);var he=Z.from===Z.to,Ae=se.from===se.to;if(!(he&&Ae))if(Z.from=Math.floor(Z.axis.p2c(Z.from)),Z.to=Math.floor(Z.axis.p2c(Z.to)),se.from=Math.floor(se.axis.p2c(se.from)),se.to=Math.floor(se.axis.p2c(se.to)),he||Ae){var Te=K.lineWidth||p.grid.markingsLineWidth,He=Te%2?.5:0;S.beginPath(),S.strokeStyle=K.color||p.grid.markingsColor,S.lineWidth=Te,he?(S.moveTo(Z.to+He,se.from),S.lineTo(Z.to+He,se.to)):(S.moveTo(Z.from,se.to+He),S.lineTo(Z.to,se.to+He)),S.stroke()}else S.fillStyle=K.color||p.grid.markingsColor,S.fillRect(Z.from,se.to,Z.to-Z.from,se.from-se.to)}}nt=z(),je=p.grid.borderWidth;for(var qe=0;qe<nt.length;++qe){var We=nt[qe],Je=We.box,Tt=We.tickLength,It,Nt,Lt,Rt;if(!(!We.show||We.ticks.length==0)){for(S.lineWidth=1,We.direction=="x"?(It=0,Tt=="full"?Nt=We.position=="top"?0:u:Nt=Je.top-T.top+(We.position=="top"?Je.height:0)):(Nt=0,Tt=="full"?It=We.position=="left"?0:b:It=Je.left-T.left+(We.position=="left"?Je.width:0)),We.innermost||(S.strokeStyle=We.options.color,S.beginPath(),Lt=Rt=0,We.direction=="x"?Lt=b+1:Rt=u+1,S.lineWidth==1&&(We.direction=="x"?Nt=Math.floor(Nt)+.5:It=Math.floor(It)+.5),S.moveTo(It,Nt),S.lineTo(It+Lt,Nt+Rt),S.stroke()),S.strokeStyle=We.options.tickColor,S.beginPath(),R=0;R<We.ticks.length;++R){var sn=We.ticks[R].v;Lt=Rt=0,!(isNaN(sn)||sn<We.min||sn>We.max||Tt=="full"&&(typeof je=="object"&&je[We.position]>0||je>0)&&(sn==We.min||sn==We.max))&&(We.direction=="x"?(It=We.p2c(sn),Rt=Tt=="full"?-u:Tt,We.position=="top"&&(Rt=-Rt)):(Nt=We.p2c(sn),Lt=Tt=="full"?-b:Tt,We.position=="left"&&(Lt=-Lt)),S.lineWidth==1&&(We.direction=="x"?It=Math.floor(It)+.5:Nt=Math.floor(Nt)+.5),S.moveTo(It,Nt),S.lineTo(It+Lt,Nt+Rt))}S.stroke()}}je&&(ue=p.grid.borderColor,typeof je=="object"||typeof ue=="object"?(typeof je!="object"&&(je={top:je,right:je,bottom:je,left:je}),typeof ue!="object"&&(ue={top:ue,right:ue,bottom:ue,left:ue}),je.top>0&&(S.strokeStyle=ue.top,S.lineWidth=je.top,S.beginPath(),S.moveTo(0-je.left,0-je.top/2),S.lineTo(b,0-je.top/2),S.stroke()),je.right>0&&(S.strokeStyle=ue.right,S.lineWidth=je.right,S.beginPath(),S.moveTo(b+je.right/2,0-je.top),S.lineTo(b+je.right/2,u),S.stroke()),je.bottom>0&&(S.strokeStyle=ue.bottom,S.lineWidth=je.bottom,S.beginPath(),S.moveTo(b+je.right,u+je.bottom/2),S.lineTo(0,u+je.bottom/2),S.stroke()),je.left>0&&(S.strokeStyle=ue.left,S.lineWidth=je.left,S.beginPath(),S.moveTo(0-je.left/2,u+je.bottom),S.lineTo(0-je.left/2,0),S.stroke())):(S.lineWidth=je,S.strokeStyle=p.grid.borderColor,S.strokeRect(-je/2,-je/2,b+je,u+je))),S.restore()}function Ve(){n.each(z(),function(R,nt){var je=nt.box,ue=nt.direction+"Axis "+nt.direction+nt.n+"Axis",J="flot-"+nt.direction+"-axis flot-"+nt.direction+nt.n+"-axis "+ue,K=nt.options.font||"flot-tick-label tickLabel",Z,se,he,Ae,Te;if(v.removeText(J),!(!nt.show||nt.ticks.length==0))for(var He=0;He<nt.ticks.length;++He)Z=nt.ticks[He],!(!Z.label||Z.v<nt.min||Z.v>nt.max)&&(nt.direction=="x"?(Ae="center",se=T.left+nt.p2c(Z.v),nt.position=="bottom"?he=je.top+je.padding:(he=je.top+je.height-je.padding,Te="bottom")):(Te="middle",he=T.top+nt.p2c(Z.v),nt.position=="left"?(se=je.left+je.width-je.padding,Ae="right"):se=je.left+je.padding),v.addText(J,se,he,Z.label,K,null,null,Ae,Te))})}function st(R){R.lines.show&&gt(R),R.bars.show&&Be(R),R.points.show&&Mt(R)}function gt(R){function nt(se,he,Ae,Te,He){var qe=se.points,We=se.pointsize,Je=null,Tt=null;S.beginPath();for(var It=We;It<qe.length;It+=We){var Nt=qe[It-We],Lt=qe[It-We+1],Rt=qe[It],sn=qe[It+1];if(!(Nt==null||Rt==null)){if(Lt<=sn&&Lt<He.min){if(sn<He.min)continue;Nt=(He.min-Lt)/(sn-Lt)*(Rt-Nt)+Nt,Lt=He.min}else if(sn<=Lt&&sn<He.min){if(Lt<He.min)continue;Rt=(He.min-Lt)/(sn-Lt)*(Rt-Nt)+Nt,sn=He.min}if(Lt>=sn&&Lt>He.max){if(sn>He.max)continue;Nt=(He.max-Lt)/(sn-Lt)*(Rt-Nt)+Nt,Lt=He.max}else if(sn>=Lt&&sn>He.max){if(Lt>He.max)continue;Rt=(He.max-Lt)/(sn-Lt)*(Rt-Nt)+Nt,sn=He.max}if(Nt<=Rt&&Nt<Te.min){if(Rt<Te.min)continue;Lt=(Te.min-Nt)/(Rt-Nt)*(sn-Lt)+Lt,Nt=Te.min}else if(Rt<=Nt&&Rt<Te.min){if(Nt<Te.min)continue;sn=(Te.min-Nt)/(Rt-Nt)*(sn-Lt)+Lt,Rt=Te.min}if(Nt>=Rt&&Nt>Te.max){if(Rt>Te.max)continue;Lt=(Te.max-Nt)/(Rt-Nt)*(sn-Lt)+Lt,Nt=Te.max}else if(Rt>=Nt&&Rt>Te.max){if(Nt>Te.max)continue;sn=(Te.max-Nt)/(Rt-Nt)*(sn-Lt)+Lt,Rt=Te.max}(Nt!=Je||Lt!=Tt)&&S.moveTo(Te.p2c(Nt)+he,He.p2c(Lt)+Ae),Je=Rt,Tt=sn,S.lineTo(Te.p2c(Rt)+he,He.p2c(sn)+Ae)}}S.stroke()}function je(se,he,Ae){for(var Te=se.points,He=se.pointsize,qe=Math.min(Math.max(0,Ae.min),Ae.max),We=0,Je,Tt=!1,It=1,Nt=0,Lt=0;!(He>0&&We>Te.length+He);){We+=He;var Rt=Te[We-He],sn=Te[We-He+It],ln=Te[We],jt=Te[We+It];if(Tt){if(He>0&&Rt!=null&&ln==null){Lt=We,He=-He,It=2;continue}if(He<0&&We==Nt+He){S.fill(),Tt=!1,He=-He,It=1,We=Nt=Lt+He;continue}}if(!(Rt==null||ln==null)){if(Rt<=ln&&Rt<he.min){if(ln<he.min)continue;sn=(he.min-Rt)/(ln-Rt)*(jt-sn)+sn,Rt=he.min}else if(ln<=Rt&&ln<he.min){if(Rt<he.min)continue;jt=(he.min-Rt)/(ln-Rt)*(jt-sn)+sn,ln=he.min}if(Rt>=ln&&Rt>he.max){if(ln>he.max)continue;sn=(he.max-Rt)/(ln-Rt)*(jt-sn)+sn,Rt=he.max}else if(ln>=Rt&&ln>he.max){if(Rt>he.max)continue;jt=(he.max-Rt)/(ln-Rt)*(jt-sn)+sn,ln=he.max}if(Tt||(S.beginPath(),S.moveTo(he.p2c(Rt),Ae.p2c(qe)),Tt=!0),sn>=Ae.max&&jt>=Ae.max){S.lineTo(he.p2c(Rt),Ae.p2c(Ae.max)),S.lineTo(he.p2c(ln),Ae.p2c(Ae.max));continue}else if(sn<=Ae.min&&jt<=Ae.min){S.lineTo(he.p2c(Rt),Ae.p2c(Ae.min)),S.lineTo(he.p2c(ln),Ae.p2c(Ae.min));continue}var rn=Rt,Qt=ln;sn<=jt&&sn<Ae.min&&jt>=Ae.min?(Rt=(Ae.min-sn)/(jt-sn)*(ln-Rt)+Rt,sn=Ae.min):jt<=sn&&jt<Ae.min&&sn>=Ae.min&&(ln=(Ae.min-sn)/(jt-sn)*(ln-Rt)+Rt,jt=Ae.min),sn>=jt&&sn>Ae.max&&jt<=Ae.max?(Rt=(Ae.max-sn)/(jt-sn)*(ln-Rt)+Rt,sn=Ae.max):jt>=sn&&jt>Ae.max&&sn<=Ae.max&&(ln=(Ae.max-sn)/(jt-sn)*(ln-Rt)+Rt,jt=Ae.max),Rt!=rn&&S.lineTo(he.p2c(rn),Ae.p2c(sn)),S.lineTo(he.p2c(Rt),Ae.p2c(sn)),S.lineTo(he.p2c(ln),Ae.p2c(jt)),ln!=Qt&&(S.lineTo(he.p2c(ln),Ae.p2c(jt)),S.lineTo(he.p2c(Qt),Ae.p2c(jt)))}}}S.save(),S.translate(T.left,T.top),S.lineJoin="round";var ue=R.lines.lineWidth,J=R.shadowSize;if(ue>0&&J>0){S.lineWidth=J,S.strokeStyle="rgba(0,0,0,0.1)";var K=Math.PI/18;nt(R.datapoints,Math.sin(K)*(ue/2+J/2),Math.cos(K)*(ue/2+J/2),R.xaxis,R.yaxis),S.lineWidth=J/2,nt(R.datapoints,Math.sin(K)*(ue/2+J/4),Math.cos(K)*(ue/2+J/4),R.xaxis,R.yaxis)}S.lineWidth=ue,S.strokeStyle=R.color;var Z=et(R.lines,R.color,0,u);Z&&(S.fillStyle=Z,je(R.datapoints,R.xaxis,R.yaxis)),ue>0&&nt(R.datapoints,0,0,R.xaxis,R.yaxis),S.restore()}function Mt(R){function nt(se,he,Ae,Te,He,qe,We,Je){for(var Tt=se.points,It=se.pointsize,Nt=0;Nt<Tt.length;Nt+=It){var Lt=Tt[Nt],Rt=Tt[Nt+1];Lt==null||Lt<qe.min||Lt>qe.max||Rt<We.min||Rt>We.max||(S.beginPath(),Lt=qe.p2c(Lt),Rt=We.p2c(Rt)+Te,Je=="circle"?S.arc(Lt,Rt,he,0,He?Math.PI:Math.PI*2,!1):Je(S,Lt,Rt,he,He),S.closePath(),Ae&&(S.fillStyle=Ae,S.fill()),S.stroke())}}S.save(),S.translate(T.left,T.top);var je=R.points.lineWidth,ue=R.shadowSize,J=R.points.radius,K=R.points.symbol;if(je==0&&(je=1e-4),je>0&&ue>0){var Z=ue/2;S.lineWidth=Z,S.strokeStyle="rgba(0,0,0,0.1)",nt(R.datapoints,J,null,Z+Z/2,!0,R.xaxis,R.yaxis,K),S.strokeStyle="rgba(0,0,0,0.2)",nt(R.datapoints,J,null,Z/2,!0,R.xaxis,R.yaxis,K)}S.lineWidth=je,S.strokeStyle=R.color,nt(R.datapoints,J,et(R.points,R.color),0,!1,R.xaxis,R.yaxis,K),S.restore()}function Ue(R,nt,je,ue,J,K,Z,se,he,Ae,Te){var He,qe,We,Je,Tt,It,Nt,Lt,Rt;Ae?(Lt=It=Nt=!0,Tt=!1,He=je,qe=R,Je=nt+ue,We=nt+J,qe<He&&(Rt=qe,qe=He,He=Rt,Tt=!0,It=!1)):(Tt=It=Nt=!0,Lt=!1,He=R+ue,qe=R+J,We=je,Je=nt,Je<We&&(Rt=Je,Je=We,We=Rt,Lt=!0,Nt=!1)),!(qe<Z.min||He>Z.max||Je<se.min||We>se.max)&&(He<Z.min&&(He=Z.min,Tt=!1),qe>Z.max&&(qe=Z.max,It=!1),We<se.min&&(We=se.min,Lt=!1),Je>se.max&&(Je=se.max,Nt=!1),He=Z.p2c(He),We=se.p2c(We),qe=Z.p2c(qe),Je=se.p2c(Je),K&&(he.fillStyle=K(We,Je),he.fillRect(He,Je,qe-He,We-Je)),Te>0&&(Tt||It||Nt||Lt)&&(he.beginPath(),he.moveTo(He,We),Tt?he.lineTo(He,Je):he.moveTo(He,Je),Nt?he.lineTo(qe,Je):he.moveTo(qe,Je),It?he.lineTo(qe,We):he.moveTo(qe,We),Lt?he.lineTo(He,We):he.moveTo(He,We),he.stroke()))}function Be(R){function nt(J,K,Z,se,he,Ae){for(var Te=J.points,He=J.pointsize,qe=0;qe<Te.length;qe+=He)Te[qe]!=null&&Ue(Te[qe],Te[qe+1],Te[qe+2],K,Z,se,he,Ae,S,R.bars.horizontal,R.bars.lineWidth)}S.save(),S.translate(T.left,T.top),S.lineWidth=R.bars.lineWidth,S.strokeStyle=R.color;var je;switch(R.bars.align){case"left":je=0;break;case"right":je=-R.bars.barWidth;break;default:je=-R.bars.barWidth/2}var ue=R.bars.fill?function(K,Z){return et(R.bars,R.color,K,Z)}:null;nt(R.datapoints,je,je+R.bars.barWidth,ue,R.xaxis,R.yaxis),S.restore()}function et(R,nt,je,ue){var J=R.fill;if(!J)return null;if(R.fillColor)return Xt(R.fillColor,je,ue,nt);var K=n.color.parse(nt);return K.a=typeof J=="number"?J:.4,K.normalize(),K.toString()}function Ge(){if(p.legend.container!=null?n(p.legend.container).html(""):a.find(".legend").remove(),!!p.legend.show){for(var R=[],nt=[],je=!1,ue=p.legend.labelFormatter,J,K,Z=0;Z<h.length;++Z)J=h[Z],J.label&&(K=ue?ue(J.label,J):J.label,K&&nt.push({label:K,color:J.color}));if(p.legend.sorted)if(n.isFunction(p.legend.sorted))nt.sort(p.legend.sorted);else if(p.legend.sorted=="reverse")nt.reverse();else{var se=p.legend.sorted!="descending";nt.sort(function(It,Nt){return It.label==Nt.label?0:It.label<Nt.label!=se?1:-1})}for(var Z=0;Z<nt.length;++Z){var he=nt[Z];Z%p.legend.noColumns==0&&(je&&R.push("</tr>"),R.push("<tr>"),je=!0),R.push('<td class="legendColorBox"><div style="border:1px solid '+p.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+he.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+he.label+"</td>")}if(je&&R.push("</tr>"),R.length!=0){var Ae='<table style="font-size:smaller;color:'+p.grid.color+'">'+R.join("")+"</table>";if(p.legend.container!=null)n(p.legend.container).html(Ae);else{var Te="",He=p.legend.position,qe=p.legend.margin;qe[0]==null&&(qe=[qe,qe]),He.charAt(0)=="n"?Te+="top:"+(qe[1]+T.top)+"px;":He.charAt(0)=="s"&&(Te+="bottom:"+(qe[1]+T.bottom)+"px;"),He.charAt(1)=="e"?Te+="right:"+(qe[0]+T.right)+"px;":He.charAt(1)=="w"&&(Te+="left:"+(qe[0]+T.left)+"px;");var We=n('<div class="legend">'+Ae.replace('style="','style="position:absolute;'+Te+";")+"</div>").appendTo(a);if(p.legend.backgroundOpacity!=0){var Je=p.legend.backgroundColor;Je==null&&(Je=p.grid.backgroundColor,Je&&typeof Je=="string"?Je=n.color.parse(Je):Je=n.color.extract(We,"background-color"),Je.a=1,Je=Je.toString());var Tt=We.children();n('<div style="position:absolute;width:'+Tt.width()+"px;height:"+Tt.height()+"px;"+Te+"background-color:"+Je+';"> </div>').prependTo(We).css("opacity",p.legend.backgroundOpacity)}}}}}var $e=[],ze=null;function xt(R,nt,je){var ue=p.grid.mouseActiveRadius,J=ue*ue+1,K=null,Z=!1,se,he,Ae;for(se=h.length-1;se>=0;--se)if(je(h[se])){var Te=h[se],He=Te.xaxis,qe=Te.yaxis,We=Te.datapoints.points,Je=He.c2p(R),Tt=qe.c2p(nt),It=ue/He.scale,Nt=ue/qe.scale;if(Ae=Te.datapoints.pointsize,He.options.inverseTransform&&(It=Number.MAX_VALUE),qe.options.inverseTransform&&(Nt=Number.MAX_VALUE),Te.lines.show||Te.points.show)for(he=0;he<We.length;he+=Ae){var Lt=We[he],Rt=We[he+1];if(Lt!=null&&!(Lt-Je>It||Lt-Je<-It||Rt-Tt>Nt||Rt-Tt<-Nt)){var sn=Math.abs(He.p2c(Lt)-R),ln=Math.abs(qe.p2c(Rt)-nt),jt=sn*sn+ln*ln;jt<J&&(J=jt,K=[se,he/Ae])}}if(Te.bars.show&&!K){var rn,Qt;switch(Te.bars.align){case"left":rn=0;break;case"right":rn=-Te.bars.barWidth;break;default:rn=-Te.bars.barWidth/2}for(Qt=rn+Te.bars.barWidth,he=0;he<We.length;he+=Ae){var Lt=We[he],Rt=We[he+1],Rn=We[he+2];Lt!=null&&(h[se].bars.horizontal?Je<=Math.max(Rn,Lt)&&Je>=Math.min(Rn,Lt)&&Tt>=Rt+rn&&Tt<=Rt+Qt:Je>=Lt+rn&&Je<=Lt+Qt&&Tt>=Math.min(Rn,Rt)&&Tt<=Math.max(Rn,Rt))&&(K=[se,he/Ae])}}}return K?(se=K[0],he=K[1],Ae=h[se].datapoints.pointsize,{datapoint:h[se].datapoints.points.slice(he*Ae,(he+1)*Ae),dataIndex:he,series:h[se],seriesIndex:se}):null}function bt(R){p.grid.hoverable&&dt("plothover",R,function(nt){return nt.hoverable!=!1})}function lt(R){p.grid.hoverable&&dt("plothover",R,function(nt){return!1})}function Ze(R){dt("plotclick",R,function(nt){return nt.clickable!=!1})}function dt(R,nt,je){var ue=x.offset(),J=nt.pageX-ue.left-T.left,K=nt.pageY-ue.top-T.top,Z=Q({left:J,top:K});Z.pageX=nt.pageX,Z.pageY=nt.pageY;var se=xt(J,K,je);if(se&&(se.pageX=parseInt(se.series.xaxis.p2c(se.datapoint[0])+ue.left+T.left,10),se.pageY=parseInt(se.series.yaxis.p2c(se.datapoint[1])+ue.top+T.top,10)),p.grid.autoHighlight){for(var he=0;he<$e.length;++he){var Ae=$e[he];Ae.auto==R&&!(se&&Ae.series==se.series&&Ae.point[0]==se.datapoint[0]&&Ae.point[1]==se.datapoint[1])&&ut(Ae.series,Ae.point)}se&&Bt(se.series,se.datapoint,R)}a.trigger(R,[Z,se])}function $t(){var R=p.interaction.redrawOverlayInterval;if(R==-1){qt();return}ze||(ze=setTimeout(qt,R))}function qt(){ze=null,A.save(),k.clear(),A.translate(T.left,T.top);var R,nt;for(R=0;R<$e.length;++R)nt=$e[R],nt.series.bars.show?Ft(nt.series,nt.point):Kt(nt.series,nt.point);A.restore(),y(f.drawOverlay,[A])}function Bt(R,nt,je){if(typeof R=="number"&&(R=h[R]),typeof nt=="number"){var ue=R.datapoints.pointsize;nt=R.datapoints.points.slice(ue*nt,ue*(nt+1))}var J=Y(R,nt);J==-1?($e.push({series:R,point:nt,auto:je}),$t()):je||($e[J].auto=!1)}function ut(R,nt){if(R==null&&nt==null){$e=[],$t();return}if(typeof R=="number"&&(R=h[R]),typeof nt=="number"){var je=R.datapoints.pointsize;nt=R.datapoints.points.slice(je*nt,je*(nt+1))}var ue=Y(R,nt);ue!=-1&&($e.splice(ue,1),$t())}function Y(R,nt){for(var je=0;je<$e.length;++je){var ue=$e[je];if(ue.series==R&&ue.point[0]==nt[0]&&ue.point[1]==nt[1])return je}return-1}function Kt(R,nt){var je=nt[0],ue=nt[1],J=R.xaxis,K=R.yaxis,Z=typeof R.highlightColor=="string"?R.highlightColor:n.color.parse(R.color).scale("a",.5).toString();if(!(je<J.min||je>J.max||ue<K.min||ue>K.max)){var se=R.points.radius+R.points.lineWidth/2;A.lineWidth=se,A.strokeStyle=Z;var he=1.5*se;je=J.p2c(je),ue=K.p2c(ue),A.beginPath(),R.points.symbol=="circle"?A.arc(je,ue,he,0,2*Math.PI,!1):R.points.symbol(A,je,ue,he,!1),A.closePath(),A.stroke()}}function Ft(R,nt){var je=typeof R.highlightColor=="string"?R.highlightColor:n.color.parse(R.color).scale("a",.5).toString(),ue=je,J;switch(R.bars.align){case"left":J=0;break;case"right":J=-R.bars.barWidth;break;default:J=-R.bars.barWidth/2}A.lineWidth=R.bars.lineWidth,A.strokeStyle=je,Ue(nt[0],nt[1],nt[2]||0,J,J+R.bars.barWidth,function(){return ue},R.xaxis,R.yaxis,A,R.bars.horizontal,R.bars.lineWidth)}function Xt(R,nt,je,ue){if(typeof R=="string")return R;for(var J=S.createLinearGradient(0,je,0,nt),K=0,Z=R.colors.length;K<Z;++K){var se=R.colors[K];if(typeof se!="string"){var he=n.color.parse(ue);se.brightness!=null&&(he=he.scale("rgb",se.brightness)),se.opacity!=null&&(he.a*=se.opacity),se=he.toString()}J.addColorStop(K/(Z-1),se)}return J}},o=function(a,r){return r*Math.floor(a/r)},l=Object.prototype.hasOwnProperty;n.fn.detach||(n.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(s,a){if(s<=0||a<=0)throw new Error("Invalid dimensions for plot, width = "+s+", height = "+a);var r=this.element,c=this.context,d=this.pixelRatio;this.width!=s&&(r.width=s*d,r.style.width=s+"px",this.width=s),this.height!=a&&(r.height=a*d,r.style.height=a+"px",this.height=a),c.restore(),c.save(),c.scale(d,d)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var s=this._textCache;for(var a in s)if(l.call(s,a)){var r=this.getTextLayer(a),c=s[a];r.hide();for(var d in c)if(l.call(c,d)){var h=c[d];for(var p in h)if(l.call(h,p)){for(var v=h[p].positions,k=0,x;x=v[k];k++)x.active?x.rendered||(r.append(x.element),x.rendered=!0):(v.splice(k--,1),x.rendered&&x.element.detach());v.length==0&&delete h[p]}}r.show()}},e.prototype.getTextLayer=function(s){var a=this.text[s];return a==null&&(this.textContainer==null&&(this.textContainer=n("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),a=this.text[s]=n("<div></div>").addClass(s).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),a},e.prototype.getTextInfo=function(s,a,r,c,d){var h,p,v,k;if(a=""+a,typeof r=="object"?h=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:h=r,p=this._textCache[s],p==null&&(p=this._textCache[s]={}),v=p[h],v==null&&(v=p[h]={}),k=v[a],k==null){var x=n("<div></div>").html(a).css({position:"absolute","max-width":d,top:-9999}).appendTo(this.getTextLayer(s));typeof r=="object"?x.css({font:h,color:r.color}):typeof r=="string"&&x.addClass(r),k=v[a]={width:x.outerWidth(!0),height:x.outerHeight(!0),element:x,positions:[]},x.detach()}return k},e.prototype.addText=function(s,a,r,c,d,h,p,v,k){var x=this.getTextInfo(s,c,d,h,p),S=x.positions;v=="center"?a-=x.width/2:v=="right"&&(a-=x.width),k=="middle"?r-=x.height/2:k=="bottom"&&(r-=x.height);for(var A=0,E;E=S[A];A++)if(E.x==a&&E.y==r){E.active=!0;return}E={active:!0,rendered:!1,element:S.length?x.element.clone():x.element,x:a,y:r},S.push(E),E.element.css({top:Math.round(r),left:Math.round(a),"text-align":v})},e.prototype.removeText=function(s,a,r,c,d,h){if(c==null){var p=this._textCache[s];if(p!=null){for(var v in p)if(l.call(p,v)){var k=p[v];for(var x in k)if(l.call(k,x))for(var S=k[x].positions,A=0,E;E=S[A];A++)E.active=!1}}}else for(var S=this.getTextInfo(s,c,d,h).positions,A=0,E;E=S[A];A++)E.x==a&&E.y==r&&(E.active=!1)},n.plot=function(s,a,r){var c=new t(n(s),a,r,n.plot.plugins);return c},n.plot.version="0.8.3",n.plot.plugins=[],n.fn.plot=function(s,a){return this.each(function(){n.plot(this,s,a)})}}(jQuery)}),jv={},N5(jv,{default:function(){return Iv}}),F5=Ev(Tv()),B5(jv,Ev(Tv()));var g;ir=F5,g=ir,Pv=g.default,z5=Ri(ir,["default"]),Iv=Pv!==void 0?Pv:z5}}),U5={};bi(U5,{default:function(){return Iv}});var Vj=Gt({"https-url:https://esm.archive.org/flot@%5E0.8.0":function(){H5(),H5()}}),V5,Ud,q5,W5,Y5,G5,K5,X5,Vd,J5,Mv,Lv,Rv,Z5,ir,Dv,Q5,$v,e7=Gt({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/jquery.flot.time.js":function(){V5=Object.create,Ud=Object.defineProperty,q5=Object.getOwnPropertyDescriptor,W5=Object.getOwnPropertyNames,Y5=Object.getPrototypeOf,G5=Object.prototype.hasOwnProperty,K5=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},X5=function(n,e){for(var t in e)Ud(n,t,{get:e[t],enumerable:!0})},Vd=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!G5.call(n,v)&&v!==t&&Ud(n,v,{get:function(){return e[v]},enumerable:!(o=q5(e,v))||o.enumerable})},c=W5(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},J5=function(n,e,t){return Vd(n,e,"default"),t&&Vd(t,e,"default")},Mv=function(n,e,t){return t=n!=null?V5(Y5(n)):{},Vd(e||!n||!n.__esModule?Ud(t,"default",{value:n,enumerable:!0}):t,n)},Lv=K5(function(){(function(n){var e=function(v,k){return k*Math.floor(v/k)},t=function(v,k,x,S){if(typeof v.strftime=="function")return v.strftime(k);var A=function(w,C){return w=""+w,C=""+(C!=null?C:"0"),w.length==1?C+w:w},E=[],O=!1,T=v.getHours(),b=T<12;x==null&&(x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),S==null&&(S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var u;T>12?u=T-12:T==0?u=12:u=T;for(var f=0;f<k.length;++f){var m=k.charAt(f);if(O){switch(m){case"a":m=""+S[v.getDay()];break;case"b":m=""+x[v.getMonth()];break;case"d":m=A(v.getDate());break;case"e":m=A(v.getDate()," ");break;case"h":case"H":m=A(T);break;case"I":m=A(u);break;case"l":m=A(u," ");break;case"m":m=A(v.getMonth()+1);break;case"M":m=A(v.getMinutes());break;case"q":m=""+(Math.floor(v.getMonth()/3)+1);break;case"S":m=A(v.getSeconds());break;case"y":m=A(v.getFullYear()%100);break;case"Y":m=""+v.getFullYear();break;case"p":m=b?"am":"pm";break;case"P":m=b?"AM":"PM";break;case"w":m=""+v.getDay();break}E.push(m),O=!1}else m=="%"?O=!0:E.push(m)}return E.join("")},o=function(v){function k(E,O,T,b){E[O]=function(){return T[b].apply(T,arguments)}}var x={date:v};v.strftime!=null&&k(x,"strftime",v,"strftime"),k(x,"getTime",v,"getTime"),k(x,"setTime",v,"setTime");for(var S=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],A=0;A<S.length;A++)k(x,"get"+S[A],v,"getUTC"+S[A]),k(x,"set"+S[A],v,"setUTC"+S[A]);return x},l=function(v,k){if(k.timezone=="browser")return new Date(v);if(!k.timezone||k.timezone=="utc")return o(new Date(v));if((typeof timezoneJS=="undefined"?"undefined":_typeof(timezoneJS))<"u"&&_typeof(timezoneJS.Date)<"u"){var x=new timezoneJS.Date;return x.setTimezone(k.timezone),x.setTime(v),x}else return o(new Date(v))},s=function(v){v.hooks.processOptions.push(function(k,x){n.each(k.getAxes(),function(S,A){var E=A.options;E.mode=="time"&&(A.tickGenerator=function(O){var T=[],b=l(O.min,E),u=0,f=E.tickSize&&E.tickSize[1]==="quarter"||E.minTickSize&&E.minTickSize[1]==="quarter"?h:d;E.minTickSize!=null&&(typeof E.tickSize=="number"?u=E.tickSize:u=E.minTickSize[0]*r[E.minTickSize[1]]);for(var m=0;m<f.length-1&&!(O.delta<(f[m][0]*r[f[m][1]]+f[m+1][0]*r[f[m+1][1]])/2&&f[m][0]*r[f[m][1]]>=u);++m);var y=f[m][0],w=f[m][1];if(w=="year"){if(E.minTickSize!=null&&E.minTickSize[1]=="year")y=Math.floor(E.minTickSize[0]);else{var C=Math.pow(10,Math.floor(Math.log(O.delta/r.year)/Math.LN10)),M=O.delta/r.year/C;M<1.5?y=1:M<3?y=2:M<7.5?y=5:y=10,y*=C}y<1&&(y=1)}O.tickSize=E.tickSize||[y,w];var I=O.tickSize[0];w=O.tickSize[1];var D=I*r[w];w=="second"?b.setSeconds(e(b.getSeconds(),I)):w=="minute"?b.setMinutes(e(b.getMinutes(),I)):w=="hour"?b.setHours(e(b.getHours(),I)):w=="month"?b.setMonth(e(b.getMonth(),I)):w=="quarter"?b.setMonth(3*e(b.getMonth()/3,I)):w=="year"&&b.setFullYear(e(b.getFullYear(),I)),b.setMilliseconds(0),D>=r.minute&&b.setSeconds(0),D>=r.hour&&b.setMinutes(0),D>=r.day&&b.setHours(0),D>=r.day*4&&b.setDate(1),D>=r.month*2&&b.setMonth(e(b.getMonth(),3)),D>=r.quarter*2&&b.setMonth(e(b.getMonth(),6)),D>=r.year&&b.setMonth(0);var z=0,Q=Number.NaN,W;do if(W=Q,Q=b.getTime(),T.push(Q),w=="month"||w=="quarter")if(I<1){b.setDate(1);var me=b.getTime();b.setMonth(b.getMonth()+(w=="quarter"?3:1));var oe=b.getTime();b.setTime(Q+z*r.hour+(oe-me)*I),z=b.getHours(),b.setHours(0)}else b.setMonth(b.getMonth()+I*(w=="quarter"?3:1));else w=="year"?b.setFullYear(b.getFullYear()+I):b.setTime(Q+D);while(Q<O.max&&Q!=W);return T},A.tickFormatter=function(O,T){var b=l(O,T.options);if(E.timeformat!=null)return t(b,E.timeformat,E.monthNames,E.dayNames);var u=T.options.tickSize&&T.options.tickSize[1]=="quarter"||T.options.minTickSize&&T.options.minTickSize[1]=="quarter",f=T.tickSize[0]*r[T.tickSize[1]],m=T.max-T.min,y=E.twelveHourClock?" %p":"",w=E.twelveHourClock?"%I":"%H",C;f<r.minute?C=w+":%M:%S"+y:f<r.day?m<2*r.day?C=w+":%M"+y:C="%b %d "+w+":%M"+y:f<r.month?C="%b %d":u&&f<r.quarter||!u&&f<r.year?m<r.year?C="%b":C="%b %Y":u&&f<r.year?m<r.year?C="Q%q":C="Q%q %Y":C="%Y";var M=t(b,C,E.monthNames,E.dayNames);return M})})})},a={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},r={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},c=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],d=c.concat([[3,"month"],[6,"month"],[1,"year"]]),h=c.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);n.plot.plugins.push({init:s,options:a,name:"time",version:"1.0"}),n.plot.formatDate=t,n.plot.dateGenerator=l})(jQuery)}),Rv={},X5(Rv,{default:function(){return $v}}),Z5=Mv(Lv()),J5(Rv,Mv(Lv()));var g;ir=Z5,g=ir,Dv=g.default,Q5=Ri(ir,["default"]),$v=Dv!==void 0?Dv:Q5}}),t7={};bi(t7,{default:function(){return $v}});var qj=Gt({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.time.js":function(){e7(),e7()}}),n7,qd,r7,i7,o7,a7,s7,l7,Wd,u7,Nv,Bv,Fv,c7,ir,zv,d7,Hv,h7=Gt({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/jquery.flot.stack.js":function(){n7=Object.create,qd=Object.defineProperty,r7=Object.getOwnPropertyDescriptor,i7=Object.getOwnPropertyNames,o7=Object.getPrototypeOf,a7=Object.prototype.hasOwnProperty,s7=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},l7=function(n,e){for(var t in e)qd(n,t,{get:e[t],enumerable:!0})},Wd=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!a7.call(n,v)&&v!==t&&qd(n,v,{get:function(){return e[v]},enumerable:!(o=r7(e,v))||o.enumerable})},c=i7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},u7=function(n,e,t){return Wd(n,e,"default"),t&&Wd(t,e,"default")},Nv=function(n,e,t){return t=n!=null?n7(o7(n)):{},Wd(e||!n||!n.__esModule?qd(t,"default",{value:n,enumerable:!0}):t,n)},Bv=s7(function(){(function(n){var e=function(l){function s(r,c){for(var d=null,h=0;h<c.length&&r!=c[h];++h)c[h].stack==r.stack&&(d=c[h]);return d}function a(r,c,d){if(!(c.stack==null||c.stack===!1)){var h=s(c,r.getData());if(h){for(var p=d.pointsize,v=d.points,k=h.datapoints.pointsize,x=h.datapoints.points,S=[],A,E,O,T,b,u,f=c.lines.show,m=c.bars.horizontal,y=p>2&&(m?d.format[2].x:d.format[2].y),w=f&&c.lines.steps,C=!0,M=m?1:0,I=m?0:1,D=0,z=0,Q,W;!(D>=v.length);){if(Q=S.length,v[D]==null){for(W=0;W<p;++W)S.push(v[D+W]);D+=p}else if(z>=x.length){if(!f)for(W=0;W<p;++W)S.push(v[D+W]);D+=p}else if(x[z]==null){for(W=0;W<p;++W)S.push(null);C=!0,z+=k}else{if(A=v[D+M],E=v[D+I],T=x[z+M],b=x[z+I],u=0,A==T){for(W=0;W<p;++W)S.push(v[D+W]);S[Q+I]+=b,u=b,D+=p,z+=k}else if(A>T){if(f&&D>0&&v[D-p]!=null){for(O=E+(v[D-p+I]-E)*(T-A)/(v[D-p+M]-A),S.push(T),S.push(O+b),W=2;W<p;++W)S.push(v[D+W]);u=b}z+=k}else{if(C&&f){D+=p;continue}for(W=0;W<p;++W)S.push(v[D+W]);f&&z>0&&x[z-k]!=null&&(u=b+(x[z-k+I]-b)*(A-T)/(x[z-k+M]-T)),S[Q+I]+=u,D+=p}C=!1,Q!=S.length&&y&&(S[Q+2]+=u)}if(w&&Q!=S.length&&Q>0&&S[Q]!=null&&S[Q]!=S[Q-p]&&S[Q+1]!=S[Q-p+1]){for(W=0;W<p;++W)S[Q+p+W]=S[Q+W];S[Q+1]=S[Q-p+1]}}d.points=S}}}l.hooks.processDatapoints.push(a)},t={series:{stack:null}};n.plot.plugins.push({init:e,options:t,name:"stack",version:"1.2"})})(jQuery)}),Fv={},l7(Fv,{default:function(){return Hv}}),c7=Nv(Bv()),u7(Fv,Nv(Bv()));var g;ir=c7,g=ir,zv=g.default,d7=Ri(ir,["default"]),Hv=zv!==void 0?zv:d7}}),f7={};bi(f7,{default:function(){return Hv}});var Wj=Gt({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.stack.js":function(){h7(),h7()}}),Wo,p7,Yd,v7,m7,g7,y7,b7,w7,_7,Gd,k7,Uv,Vv,qv,x7,ir,Wv,S7,Yv,C7=Gt({"https-url:https://esm.archive.org/v135/tablesorter@2.32.0/X-ZC9qcXVlcnlAMy42LjE/esnext/tablesorter.mjs":function(){_d(),Wo=function(n){var e=function(o){return _typeof(o.default)<"u"?o.default:o},t=function(o){return Object.assign({},o)};switch(n){case"jquery":return e(wx);default:throw new Error('module "'+n+'" not found')}},p7=Object.create,Yd=Object.defineProperty,v7=Object.getOwnPropertyDescriptor,m7=Object.getOwnPropertyNames,g7=Object.getPrototypeOf,y7=Object.prototype.hasOwnProperty,b7=function(n){return(typeof Wo=="undefined"?"undefined":_typeof(Wo))<"u"?Wo:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(n,{get:function(e,t){return((typeof Wo=="undefined"?"undefined":_typeof(Wo))<"u"?Wo:e)[t]}}):n}(function(n){if((typeof Wo=="undefined"?"undefined":_typeof(Wo))<"u")return Wo.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')}),w7=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},_7=function(n,e){for(var t in e)Yd(n,t,{get:e[t],enumerable:!0})},Gd=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!y7.call(n,v)&&v!==t&&Yd(n,v,{get:function(){return e[v]},enumerable:!(o=v7(e,v))||o.enumerable})},c=m7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},k7=function(n,e,t){return Gd(n,e,"default"),t&&Gd(t,e,"default")},Uv=function(n,e,t){return t=n!=null?p7(g7(n)):{},Gd(e||!n||!n.__esModule?Yd(t,"default",{value:n,enumerable:!0}):t,n)},Vv=w7(function(n,e){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):typeof e=="object"&&typeof e.exports=="object"?e.exports=t(b7("jquery")):t(jQuery)})(function(t){return function(o){"use strict";var l=o.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(a,r){if(!a||!a.tHead||a.tBodies.length===0||a.hasInitialized===!0){l.debug(r,"core")&&(a.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",a));return}var c="",d=o(a),h=o.metadata;a.hasInitialized=!1,a.isProcessing=!0,a.config=r,o.data(a,"tablesorter",r),l.debug(r,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),o.data(a,"startoveralltimer",new Date)),r.supportsDataObject=function(p){return p[0]=parseInt(p[0],10),p[0]>1||p[0]===1&&parseInt(p[1],10)>=4}(o.fn.jquery.split(".")),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(d.attr("class"))||(c=r.theme!==""?" tablesorter-"+r.theme:""),r.namespace?r.namespace="."+r.namespace.replace(l.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.table=a,r.$table=d.addClass(l.css.table+" "+r.tableClass+c+" "+r.namespace.slice(1)).attr("role","grid"),r.$headers=d.find(r.selectorHeaders),r.$table.children().children("tr").attr("role","row"),r.$tbodies=d.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&(c=r.$table.children("caption")[0],c.id||(c.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",c.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",l.buildHeaders(r),l.fixColumnWidth(a),l.addWidgetFromClass(a),l.applyWidgetOptions(a),l.setupParsers(r),r.totalRows=0,r.debug&&l.validateOptions(r),r.delayInit||l.buildCache(r),l.bindEvents(a,r.$headers,!0),l.bindMethods(r),r.supportsDataObject&&_typeof(d.data().sortlist)<"u"?r.sortList=d.data().sortlist:h&&d.metadata()&&d.metadata().sortlist&&(r.sortList=d.metadata().sortlist),l.applyWidget(a,!0),r.sortList.length>0?(r.last.sortList=r.sortList,l.sortOn(r,r.sortList,{},!r.initWidgets)):(l.setHeadersCss(r),r.initWidgets&&l.applyWidget(a,!1)),r.showProcessing&&d.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(p){clearTimeout(r.timerProcessing),l.isProcessing(a),p.type==="sortBegin"&&(r.timerProcessing=setTimeout(function(){l.isProcessing(a,!0)},500))}),a.hasInitialized=!0,a.isProcessing=!1,l.debug(r,"core")&&(console.log("Overall initialization time:"+l.benchmark(o.data(a,"startoveralltimer"))),l.debug(r,"core")&&console.groupEnd&&console.groupEnd()),d.triggerHandler("tablesorter-initialized",a),typeof r.initialized=="function"&&r.initialized(a)},bindMethods:function(a){var r=a.$table,c=a.namespace,d="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(c+" ");r.unbind(d.replace(l.regex.spaces," ")).bind("sortReset"+c,function(h,p){h.stopPropagation(),l.sortReset(this.config,function(v){v.isApplyingWidgets?setTimeout(function(){l.applyWidget(v,"",p)},100):l.applyWidget(v,"",p)})}).bind("updateAll"+c,function(h,p,v){h.stopPropagation(),l.updateAll(this.config,p,v)}).bind("update"+c+" updateRows"+c,function(h,p,v){h.stopPropagation(),l.update(this.config,p,v)}).bind("updateHeaders"+c,function(h,p){h.stopPropagation(),l.updateHeaders(this.config,p)}).bind("updateCell"+c,function(h,p,v,k){h.stopPropagation(),l.updateCell(this.config,p,v,k)}).bind("addRows"+c,function(h,p,v,k){h.stopPropagation(),l.addRows(this.config,p,v,k)}).bind("updateComplete"+c,function(){this.isUpdating=!1}).bind("sorton"+c,function(h,p,v,k){h.stopPropagation(),l.sortOn(this.config,p,v,k)}).bind("appendCache"+c,function(h,p,v){h.stopPropagation(),l.appendCache(this.config,v),o.isFunction(p)&&p(this)}).bind("updateCache"+c,function(h,p,v){h.stopPropagation(),l.updateCache(this.config,p,v)}).bind("applyWidgetId"+c,function(h,p){h.stopPropagation(),l.applyWidgetId(this,p)}).bind("applyWidgets"+c,function(h,p){h.stopPropagation(),l.applyWidget(this,!1,p)}).bind("refreshWidgets"+c,function(h,p,v){h.stopPropagation(),l.refreshWidgets(this,p,v)}).bind("removeWidget"+c,function(h,p,v){h.stopPropagation(),l.removeWidget(this,p,v)}).bind("destroy"+c,function(h,p,v){h.stopPropagation(),l.destroy(this,p,v)}).bind("resetToLoadState"+c,function(h){h.stopPropagation(),l.removeWidget(this,!0,!1);var p=o.extend(!0,{},a.originalSettings);a=o.extend(!0,{},l.defaults,p),a.originalSettings=p,this.hasInitialized=!1,l.setup(this,a)})},bindEvents:function(a,r,c){a=o(a)[0];var d,h=a.config,p=h.namespace,v=null;c!==!0&&(r.addClass(p.slice(1)+"_extra_headers"),d=l.getClosest(r,"table"),d.length&&d[0].nodeName==="TABLE"&&d[0]!==a&&o(d[0]).addClass(p.slice(1)+"_extra_table")),d=(h.pointerDown+" "+h.pointerUp+" "+h.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(p+" "),r.find(h.selectorSort).add(r.filter(h.selectorSort)).unbind(d).bind(d,function(k,x){var S,A,E,O=o(k.target),T=" "+k.type+" ";if(!((k.which||k.button)!==1&&!T.match(" "+h.pointerClick+" | sort | keyup ")||T===" keyup "&&k.which!==l.keyCodes.enter||T.match(" "+h.pointerClick+" ")&&_typeof(k.which)<"u")&&!(T.match(" "+h.pointerUp+" ")&&v!==k.target&&x!==!0)){if(T.match(" "+h.pointerDown+" ")){v=k.target,E=O.jquery.split("."),E[0]==="1"&&E[1]<4&&k.preventDefault();return}if(v=null,S=l.getClosest(o(this),"."+l.css.header),l.regex.formElements.test(k.target.nodeName)||O.hasClass(h.cssNoSort)||O.parents("."+h.cssNoSort).length>0||S.hasClass("sorter-false")||O.parents("button").length>0)return!h.cancelSelection;h.delayInit&&l.isEmptyObject(h.cache)&&l.buildCache(h),h.last.clickedIndex=S.attr("data-column")||S.index(),A=h.$headerIndexed[h.last.clickedIndex][0],A&&!A.sortDisabled&&l.initSort(h,A,k)}}),h.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(a){var r,c,d,h;for(a.headerList=[],a.headerContent=[],a.sortVars=[],l.debug(a,"core")&&(d=new Date),a.columns=l.computeColumnIndex(a.$table.children("thead, tfoot").children("tr")),c=a.cssIcon?'<i class="'+(a.cssIcon===l.css.icon?l.css.icon:a.cssIcon+" "+l.css.icon)+'"></i>':"",a.$headers=o(o.map(a.$table.find(a.selectorHeaders),function(p,v){var k,x,S,A,E,O=o(p);if(!l.getClosest(O,"tr").hasClass(a.cssIgnoreRow))return/(th|td)/i.test(p.nodeName)||(E=l.getClosest(O,"th, td"),O.attr("data-column",E.attr("data-column"))),k=l.getColumnData(a.table,a.headers,v,!0),a.headerContent[v]=O.html(),a.headerTemplate!==""&&!O.find("."+l.css.headerIn).length&&(A=a.headerTemplate.replace(l.regex.templateContent,O.html()).replace(l.regex.templateIcon,O.find("."+l.css.icon).length?"":c),a.onRenderTemplate&&(x=a.onRenderTemplate.apply(O,[v,A]),x&&typeof x=="string"&&(A=x)),O.html('<div class="'+l.css.headerIn+'">'+A+"</div>")),a.onRenderHeader&&a.onRenderHeader.apply(O,[v,a,a.$table]),S=parseInt(O.attr("data-column"),10),p.column=S,E=l.getOrder(l.getData(O,k,"sortInitialOrder")||a.sortInitialOrder),a.sortVars[S]={count:-1,order:E?a.sortReset?[1,0,2]:[1,0]:a.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},E=l.getData(O,k,"lockedOrder")||!1,(typeof E=="undefined"?"undefined":_typeof(E))<"u"&&E!==!1&&(a.sortVars[S].lockedOrder=!0,a.sortVars[S].order=l.getOrder(E)?[1,1]:[0,0]),a.headerList[v]=p,O.addClass(l.css.header+" "+a.cssHeader),l.getClosest(O,"tr").addClass(l.css.headerRow+" "+a.cssHeaderRow).attr("role","row"),a.tabIndex&&O.attr("tabindex",0),p})),a.$headerIndexed=[],h=0;h<a.columns;h++)l.isEmptyObject(a.sortVars[h])&&(a.sortVars[h]={}),r=a.$headers.filter('[data-column="'+h+'"]'),a.$headerIndexed[h]=r.length?r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last"):o();a.$table.find(a.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(a),l.debug(a,"core")&&(console.log("Built headers:"+l.benchmark(d)),console.log(a.$headers))},addInstanceMethods:function(a){o.extend(l.instanceMethods,a)},setupParsers:function(a,r){var c,d,h,p,v,k,x,S,A,E,O,T,b,u,f=a.table,m=0,y=l.debug(a,"core"),w={};if(a.$tbodies=a.$table.children("tbody:not(."+a.cssInfoBlock+")"),b=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?a.$tbodies:r,u=b.length,u===0)return y?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(y&&(T=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),d={extractors:[],parsers:[]};m<u;){if(c=b[m].rows,c.length)for(v=0,p=a.columns,k=0;k<p;k++){if(x=a.$headerIndexed[v],x&&x.length&&(S=l.getColumnData(f,a.headers,v),O=l.getParserById(l.getData(x,S,"extractor")),E=l.getParserById(l.getData(x,S,"sorter")),A=l.getData(x,S,"parser")==="false",a.empties[v]=(l.getData(x,S,"empty")||a.emptyTo||(a.emptyToBottom?"bottom":"top")).toLowerCase(),a.strings[v]=(l.getData(x,S,"string")||a.stringTo||"max").toLowerCase(),A&&(E=l.getParserById("no-parser")),O||(O=!1),E||(E=l.detectParserForColumn(a,c,-1,v)),y&&(w["("+v+") "+x.text()]={parser:E.id,extractor:O?O.id:"none",string:a.strings[v],empty:a.empties[v]}),d.parsers[v]=E,d.extractors[v]=O,h=x[0].colSpan-1,h>0))for(v+=h,p+=h;h+1>0;)d.parsers[v-h]=E,d.extractors[v-h]=O,h--;v++}m+=d.parsers.length?u:1}y&&(l.isEmptyObject(w)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](w),console.log("Completed detecting parsers"+l.benchmark(T)),console.groupEnd&&console.groupEnd()),a.parsers=d.parsers,a.extractors=d.extractors},addParser:function(a){var r,c=l.parsers.length,d=!0;for(r=0;r<c;r++)l.parsers[r].id.toLowerCase()===a.id.toLowerCase()&&(d=!1);d&&(l.parsers[l.parsers.length]=a)},getParserById:function(a){if(a=="false")return!1;var r,c=l.parsers.length;for(r=0;r<c;r++)if(l.parsers[r].id.toLowerCase()===a.toString().toLowerCase())return l.parsers[r];return!1},detectParserForColumn:function(a,r,c,d){for(var h,p,v,k=l.parsers.length,x=!1,S="",A=l.debug(a,"core"),E=!0;S===""&&E;)c++,v=r[c],v&&c<50?v.className.indexOf(l.cssIgnoreRow)<0&&(x=r[c].cells[d],S=l.getElementText(a,x,d),p=o(x),A&&console.log("Checking if value was empty on row "+c+", column: "+d+': "'+S+'"')):E=!1;for(;--k>=0;)if(h=l.parsers[k],h&&h.id!=="text"&&h.is&&h.is(S,a.table,x,p))return h;return l.getParserById("text")},getElementText:function(a,r,c){if(!r)return"";var d,h=a.textExtraction||"",p=r.jquery?r:o(r);return typeof h=="string"?h==="basic"&&_typeof(d=p.attr(a.textAttribute))<"u"?o.trim(d):o.trim(r.textContent||p.text()):typeof h=="function"?o.trim(h(p[0],a.table,c)):typeof(d=l.getColumnData(a.table,h,c))=="function"?o.trim(d(p[0],a.table,c)):o.trim(p[0].textContent||p.text())},getParsedText:function(a,r,c,d){(typeof d=="undefined"?"undefined":_typeof(d))>"u"&&(d=l.getElementText(a,r,c));var h=""+d,p=a.parsers[c],v=a.extractors[c];return p&&(v&&typeof v.format=="function"&&(d=v.format(d,a.table,r,c)),h=p.id==="no-parser"?"":p.format(""+d,a.table,r,c),a.ignoreCase&&typeof h=="string"&&(h=h.toLowerCase())),h},buildCache:function(a,r,c){var d,h,p,v,k,x,S,A,E,O,T,b,u,f,m,y,w,C,M,I,D,z,Q=a.table,W=a.parsers,me=l.debug(a,"core");if(a.$tbodies=a.$table.children("tbody:not(."+a.cssInfoBlock+")"),S=(typeof c=="undefined"?"undefined":_typeof(c))>"u"?a.$tbodies:c,a.cache={},a.totalRows=0,!W)return me?console.warn("Warning: *Empty table!* Not building a cache"):"";for(me&&(b=new Date),a.showProcessing&&l.isProcessing(Q,!0),x=0;x<S.length;x++){for(y=[],d=a.cache[x]={normalized:[]},u=S[x]&&S[x].rows.length||0,v=0;v<u;++v)if(f={child:[],raw:[]},A=o(S[x].rows[v]),E=[],!A.hasClass(a.selectorRemove.slice(1))){if(A.hasClass(a.cssChildRow)&&v!==0){for(D=d.normalized.length-1,m=d.normalized[D][a.columns],m.$row=m.$row.add(A),A.prev().hasClass(a.cssChildRow)||A.prev().addClass(l.css.cssHasChild),O=A.children("th, td"),D=m.child.length,m.child[D]=[],C=0,I=a.columns,k=0;k<I;k++)T=O[k],T&&(m.child[D][k]=l.getParsedText(a,T,k),w=O[k].colSpan-1,w>0&&(C+=w,I+=w)),C++;continue}for(f.$row=A,f.order=v,C=0,I=a.columns,k=0;k<I;++k){if(T=A[0].cells[k],T&&C<a.columns&&(M=_typeof(W[C])<"u",!M&&me&&console.warn("No parser found for row: "+v+", column: "+k+'; cell containing: "'+o(T).text()+'"; does it have a header?'),h=l.getElementText(a,T,C),f.raw[C]=h,p=l.getParsedText(a,T,C,h),E[C]=p,M&&(W[C].type||"").toLowerCase()==="numeric"&&(y[C]=Math.max(Math.abs(p)||0,y[C]||0)),w=T.colSpan-1,w>0)){for(z=0;z<=w;)p=a.duplicateSpan||z===0?p:typeof a.textExtraction!="string"&&l.getElementText(a,T,C+z)||"",f.raw[C+z]=p,E[C+z]=p,z++;C+=w,I+=w}C++}E[a.columns]=f,d.normalized[d.normalized.length]=E}d.colMax=y,a.totalRows+=d.normalized.length}if(a.showProcessing&&l.isProcessing(Q),me){for(D=Math.min(5,a.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+a.totalRows+" rows (showing "+D+" rows in log) and "+a.columns+" columns"+l.benchmark(b)),h={},k=0;k<a.columns;k++)for(C=0;C<D;C++)h["row: "+C]||(h["row: "+C]={}),h["row: "+C][a.$headerIndexed[k].text()]=a.cache[0].normalized[C][k];console[console.table?"table":"log"](h),console.groupEnd&&console.groupEnd()}o.isFunction(r)&&r(Q)},getColumnText:function(a,r,c,d){a=o(a)[0];var h,p,v,k,x,S,A,E,O,T,b=typeof c=="function",u=r==="all",f={raw:[],parsed:[],$cell:[]},m=a.config;if(l.isEmptyObject(m))l.debug(m,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(x=m.$tbodies.length,h=0;h<x;h++)for(v=m.cache[h].normalized,S=v.length,p=0;p<S;p++)k=v[p],!(d&&!k[m.columns].$row.is(d))&&(T=!0,E=u?k.slice(0,m.columns):k[r],k=k[m.columns],A=u?k.raw:k.raw[r],O=u?k.$row.children():k.$row.children().eq(r),b&&(T=c({tbodyIndex:h,rowIndex:p,parsed:E,raw:A,$row:k.$row,$cell:O})),T!==!1&&(f.parsed[f.parsed.length]=E,f.raw[f.raw.length]=A,f.$cell[f.$cell.length]=O));return f}},setHeadersCss:function(a){var r,c,d=a.sortList,h=d.length,p=l.css.sortNone+" "+a.cssNone,v=[l.css.sortAsc+" "+a.cssAsc,l.css.sortDesc+" "+a.cssDesc],k=[a.cssIconAsc,a.cssIconDesc,a.cssIconNone],x=["ascending","descending"],S=function(T,b){T.removeClass(p).addClass(v[b]).attr("aria-sort",x[b]).find("."+l.css.icon).removeClass(k[2]).addClass(k[b])},A=a.$table.find("tfoot tr").children("td, th").add(o(a.namespace+"_extra_headers")).removeClass(v.join(" ")),E=a.$headers.add(o("thead "+a.namespace+"_extra_headers")).removeClass(v.join(" ")).addClass(p).attr("aria-sort","none").find("."+l.css.icon).removeClass(k.join(" ")).end();for(E.not(".sorter-false").find("."+l.css.icon).addClass(k[2]),a.cssIconDisabled&&E.filter(".sorter-false").find("."+l.css.icon).addClass(a.cssIconDisabled),r=0;r<h;r++)if(d[r][1]!==2){if(E=a.$headers.filter(function(O){for(var T=!0,b=a.$headers.eq(O),u=parseInt(b.attr("data-column"),10),f=u+l.getClosest(b,"th, td")[0].colSpan;u<f;u++)T=T?T||l.isValueInArray(u,a.sortList)>-1:!1;return T}),E=E.not(".sorter-false").filter('[data-column="'+d[r][0]+'"]'+(h===1?":last":"")),E.length)for(c=0;c<E.length;c++)E[c].sortDisabled||S(E.eq(c),d[r][1]);A.length&&S(A.filter('[data-column="'+d[r][0]+'"]'),d[r][1])}for(h=a.$headers.length,r=0;r<h;r++)l.setColumnAriaLabel(a,a.$headers.eq(r))},getClosest:function(a,r){return o.fn.closest?a.closest(r):a.is(r)?a:a.parents(r).filter(":first")},setColumnAriaLabel:function(a,r,c){if(r.length){var d=parseInt(r.attr("data-column"),10),h=a.sortVars[d],p=r.hasClass(l.css.sortAsc)?"sortAsc":r.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",v=o.trim(r.text())+": "+l.language[p];r.hasClass("sorter-false")||c===!1?v+=l.language.sortDisabled:(p=(h.count+1)%h.order.length,c=h.order[p],v+=l.language[c===0?"nextAsc":c===1?"nextDesc":"nextNone"]),r.attr("aria-label",v),h.sortedBy?r.attr("data-sortedBy",h.sortedBy):r.removeAttr("data-sortedBy")}},updateHeader:function(a){var r,c,d,h,p=a.table,v=a.$headers.length;for(r=0;r<v;r++)d=a.$headers.eq(r),h=l.getColumnData(p,a.headers,r,!0),c=l.getData(d,h,"sorter")==="false"||l.getData(d,h,"parser")==="false",l.setColumnSort(a,d,c)},setColumnSort:function(a,r,c){var d=a.table.id;r[0].sortDisabled=c,r[c?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+c),a.tabIndex&&(c?r.removeAttr("tabindex"):r.attr("tabindex","0")),d&&(c?r.removeAttr("aria-controls"):r.attr("aria-controls",d))},updateHeaderSortCount:function(a,r){var c,d,h,p,v,k,x,S,A=r||a.sortList,E=A.length;for(a.sortList=[],p=0;p<E;p++)if(x=A[p],c=parseInt(x[0],10),c<a.columns){switch(a.sortVars[c].order||(l.getOrder(a.sortInitialOrder)?S=a.sortReset?[1,0,2]:[1,0]:S=a.sortReset?[0,1,2]:[0,1],a.sortVars[c].order=S,a.sortVars[c].count=0),S=a.sortVars[c].order,d=(""+x[1]).match(/^(1|d|s|o|n)/),d=d?d[0]:"",d){case"1":case"d":d=1;break;case"s":d=v||0;break;case"o":k=S[(v||0)%S.length],d=k===0?1:k===1?0:2;break;case"n":d=S[++a.sortVars[c].count%S.length];break;default:d=0;break}v=p===0?d:v,h=[c,parseInt(d,10)||0],a.sortList[a.sortList.length]=h,d=o.inArray(h[1],S),a.sortVars[c].count=d>=0?d:h[1]%S.length}},updateAll:function(a,r,c){var d=a.table;d.isUpdating=!0,l.refreshWidgets(d,!0,!0),l.buildHeaders(a),l.bindEvents(d,a.$headers,!0),l.bindMethods(a),l.commonUpdate(a,r,c)},update:function(a,r,c){var d=a.table;d.isUpdating=!0,l.updateHeader(a),l.commonUpdate(a,r,c)},updateHeaders:function(a,r){a.table.isUpdating=!0,l.buildHeaders(a),l.bindEvents(a.table,a.$headers,!0),l.resortComplete(a,r)},updateCell:function(a,r,c,d){if(o(r).closest("tr").hasClass(a.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(a.cache)){l.updateHeader(a),l.commonUpdate(a,c,d);return}a.table.isUpdating=!0,a.$table.find(a.selectorRemove).remove();var h,p,v,k,x,S,A=a.$tbodies,E=o(r),O=A.index(l.getClosest(E,"tbody")),T=a.cache[O],b=l.getClosest(E,"tr");if(r=E[0],A.length&&O>=0){if(v=A.eq(O).find("tr").not("."+a.cssChildRow).index(b),x=T.normalized[v],S=b[0].cells.length,S!==a.columns)for(k=0,h=!1,p=0;p<S;p++)!h&&b[0].cells[p]!==r?k+=b[0].cells[p].colSpan:h=!0;else k=E.index();h=l.getElementText(a,r,k),x[a.columns].raw[k]=h,h=l.getParsedText(a,r,k,h),x[k]=h,(a.parsers[k].type||"").toLowerCase()==="numeric"&&(T.colMax[k]=Math.max(Math.abs(h)||0,T.colMax[k]||0)),h=c!=="undefined"?c:a.resort,h!==!1?l.checkResort(a,h,d):l.resortComplete(a,d)}else l.debug(a,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),a.table.isUpdating=!1},addRows:function(a,r,c,d){var h,p,v,k,x,S,A,E,O,T,b,u,f,m=typeof r=="string"&&a.$tbodies.length===1&&/<tr/.test(r||""),y=a.table;if(m)r=o(r),a.$tbodies.append(r);else if(!r||!_instanceof(r,o)||l.getClosest(r,"table")[0]!==a.table)return l.debug(a,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(y.isUpdating=!0,l.isEmptyObject(a.cache))l.updateHeader(a),l.commonUpdate(a,c,d);else{for(x=r.filter("tr").attr("role","row").length,v=a.$tbodies.index(r.parents("tbody").filter(":first")),a.parsers&&a.parsers.length||l.setupParsers(a),k=0;k<x;k++){for(O=0,A=r[k].cells.length,E=a.cache[v].normalized.length,b=[],T={child:[],raw:[],$row:r.eq(k),order:E},S=0;S<A;S++)u=r[k].cells[S],h=l.getElementText(a,u,O),T.raw[O]=h,p=l.getParsedText(a,u,O,h),b[O]=p,(a.parsers[O].type||"").toLowerCase()==="numeric"&&(a.cache[v].colMax[O]=Math.max(Math.abs(p)||0,a.cache[v].colMax[O]||0)),f=u.colSpan-1,f>0&&(O+=f),O++;b[a.columns]=T,a.cache[v].normalized[E]=b}l.checkResort(a,c,d)}},updateCache:function(a,r,c){a.parsers&&a.parsers.length||l.setupParsers(a,c),l.buildCache(a,r,c)},appendCache:function(a,r){var c,d,h,p,v,k,x,S=a.table,A=a.$tbodies,E=[],O=a.cache;if(l.isEmptyObject(O))return a.appender?a.appender(S,E):S.isUpdating?a.$table.triggerHandler("updateComplete",S):"";for(l.debug(a,"core")&&(x=new Date),k=0;k<A.length;k++)if(h=A.eq(k),h.length){for(p=l.processTbody(S,h,!0),c=O[k].normalized,d=c.length,v=0;v<d;v++)E[E.length]=c[v][a.columns].$row,(!a.appender||a.pager&&!a.pager.removeRows&&!a.pager.ajax)&&p.append(c[v][a.columns].$row);l.processTbody(S,p,!1)}a.appender&&a.appender(S,E),l.debug(a,"core")&&console.log("Rebuilt table"+l.benchmark(x)),!r&&!a.appender&&l.applyWidget(S),S.isUpdating&&a.$table.triggerHandler("updateComplete",S)},commonUpdate:function(a,r,c){a.$table.find(a.selectorRemove).remove(),l.setupParsers(a),l.buildCache(a),l.checkResort(a,r,c)},initSort:function(a,r,c){if(a.table.isUpdating)return setTimeout(function(){l.initSort(a,r,c)},50);var d,h,p,v,k,x,S,A=!c[a.sortMultiSortKey],E=a.table,O=a.$headers.length,T=l.getClosest(o(r),"th, td"),b=parseInt(T.attr("data-column"),10),u=c.type==="mouseup"?"user":c.type,f=a.sortVars[b].order;if(T=T[0],a.$table.triggerHandler("sortStart",E),x=(a.sortVars[b].count+1)%f.length,a.sortVars[b].count=c[a.sortResetKey]?2:x,a.sortRestart)for(p=0;p<O;p++)S=a.$headers.eq(p),x=parseInt(S.attr("data-column"),10),b!==x&&(A||S.hasClass(l.css.sortNone))&&(a.sortVars[x].count=-1);if(A){if(o.each(a.sortVars,function(m){a.sortVars[m].sortedBy=""}),a.sortList=[],a.last.sortList=[],a.sortForce!==null)for(d=a.sortForce,h=0;h<d.length;h++)d[h][0]!==b&&(a.sortList[a.sortList.length]=d[h],a.sortVars[d[h][0]].sortedBy="sortForce");if(v=f[a.sortVars[b].count],v<2&&(a.sortList[a.sortList.length]=[b,v],a.sortVars[b].sortedBy=u,T.colSpan>1))for(h=1;h<T.colSpan;h++)a.sortList[a.sortList.length]=[b+h,v],a.sortVars[b+h].count=o.inArray(v,f),a.sortVars[b+h].sortedBy=u}else if(a.sortList=o.extend([],a.last.sortList),l.isValueInArray(b,a.sortList)>=0)for(a.sortVars[b].sortedBy=u,h=0;h<a.sortList.length;h++)x=a.sortList[h],x[0]===b&&(x[1]=f[a.sortVars[b].count],x[1]===2&&(a.sortList.splice(h,1),a.sortVars[b].count=-1));else if(v=f[a.sortVars[b].count],a.sortVars[b].sortedBy=u,v<2&&(a.sortList[a.sortList.length]=[b,v],T.colSpan>1))for(h=1;h<T.colSpan;h++)a.sortList[a.sortList.length]=[b+h,v],a.sortVars[b+h].count=o.inArray(v,f),a.sortVars[b+h].sortedBy=u;if(a.last.sortList=o.extend([],a.sortList),a.sortList.length&&a.sortAppend&&(d=o.isArray(a.sortAppend)?a.sortAppend:a.sortAppend[a.sortList[0][0]],!l.isEmptyObject(d))){for(h=0;h<d.length;h++)if(d[h][0]!==b&&l.isValueInArray(d[h][0],a.sortList)<0){if(v=d[h][1],k=(""+v).match(/^(a|d|s|o|n)/),k)switch(x=a.sortList[0][1],k[0]){case"d":v=1;break;case"s":v=x;break;case"o":v=x===0?1:0;break;case"n":v=(x+1)%f.length;break;default:v=0;break}a.sortList[a.sortList.length]=[d[h][0],v],a.sortVars[d[h][0]].sortedBy="sortAppend"}}a.$table.triggerHandler("sortBegin",E),setTimeout(function(){l.setHeadersCss(a),l.multisort(a),l.appendCache(a),a.$table.triggerHandler("sortBeforeEnd",E),a.$table.triggerHandler("sortEnd",E)},1)},multisort:function(a){var r,c,d,h,p,v=a.table,k=[],x=0,S=a.textSorter||"",A=a.sortList,E=A.length,O=a.$tbodies.length;if(!(a.serverSideSorting||l.isEmptyObject(a.cache))){if(l.debug(a,"core")&&(c=new Date),typeof S=="object")for(d=a.columns;d--;)p=l.getColumnData(v,S,d),typeof p=="function"&&(k[d]=p);for(r=0;r<O;r++)d=a.cache[r].colMax,h=a.cache[r].normalized,h.sort(function(T,b){var u,f,m,y,w,C,M;for(u=0;u<E;u++){if(m=A[u][0],y=A[u][1],x=y===0,a.sortStable&&T[m]===b[m]&&E===1)return T[a.columns].order-b[a.columns].order;if(f=/n/i.test(l.getSortType(a.parsers,m)),f&&a.strings[m]?(typeof l.string[a.strings[m]]=="boolean"?f=(x?1:-1)*(l.string[a.strings[m]]?-1:1):f=a.strings[m]&&l.string[a.strings[m]]||0,w=a.numberSorter?a.numberSorter(T[m],b[m],x,d[m],v):l["sortNumeric"+(x?"Asc":"Desc")](T[m],b[m],f,d[m],m,a)):(C=x?T:b,M=x?b:T,typeof S=="function"?w=S(C[m],M[m],x,m,v):typeof k[m]=="function"?w=k[m](C[m],M[m],x,m,v):w=l["sortNatural"+(x?"Asc":"Desc")](T[m]||"",b[m]||"",m,a)),w)return w}return T[a.columns].order-b[a.columns].order});l.debug(a,"core")&&console.log("Applying sort "+A.toString()+l.benchmark(c))}},resortComplete:function(a,r){a.table.isUpdating&&a.$table.triggerHandler("updateComplete",a.table),o.isFunction(r)&&r(a.table)},checkResort:function(a,r,c){var d=o.isArray(r)?r:a.sortList,h=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?a.resort:r;h!==!1&&!a.serverSideSorting&&!a.table.isProcessing?d.length?l.sortOn(a,d,function(){l.resortComplete(a,c)},!0):l.sortReset(a,function(){l.resortComplete(a,c),l.applyWidget(a.table,!1)}):(l.resortComplete(a,c),l.applyWidget(a.table,!1))},sortOn:function(a,r,c,d){var h,p=a.table;for(a.$table.triggerHandler("sortStart",p),h=0;h<a.columns;h++)a.sortVars[h].sortedBy=l.isValueInArray(h,r)>-1?"sorton":"";l.updateHeaderSortCount(a,r),l.setHeadersCss(a),a.delayInit&&l.isEmptyObject(a.cache)&&l.buildCache(a),a.$table.triggerHandler("sortBegin",p),l.multisort(a),l.appendCache(a,d),a.$table.triggerHandler("sortBeforeEnd",p),a.$table.triggerHandler("sortEnd",p),l.applyWidget(p),o.isFunction(c)&&c(p)},sortReset:function(a,r){a.sortList=[];var c;for(c=0;c<a.columns;c++)a.sortVars[c].count=-1,a.sortVars[c].sortedBy="";l.setHeadersCss(a),l.multisort(a),l.appendCache(a),o.isFunction(r)&&r(a.table)},getSortType:function(a,r){return a&&a[r]&&a[r].type||""},getOrder:function(a){return/^d/i.test(a)||a===1},sortNatural:function(a,r){if(a===r)return 0;a=(a||"").toString(),r=(r||"").toString();var c,d,h,p,v,k,x=l.regex;if(x.hex.test(r)){if(c=parseInt(a.match(x.hex),16),d=parseInt(r.match(x.hex),16),c<d)return-1;if(c>d)return 1}for(c=a.replace(x.chunk,"\\0$1\\0").replace(x.chunks,"").split("\\0"),d=r.replace(x.chunk,"\\0$1\\0").replace(x.chunks,"").split("\\0"),k=Math.max(c.length,d.length),v=0;v<k;v++){if(h=isNaN(c[v])?c[v]||0:parseFloat(c[v])||0,p=isNaN(d[v])?d[v]||0:parseFloat(d[v])||0,isNaN(h)!==isNaN(p))return isNaN(h)?1:-1;if((typeof h=="undefined"?"undefined":_typeof(h))!=(typeof p=="undefined"?"undefined":_typeof(p))&&(h+="",p+=""),h<p)return-1;if(h>p)return 1}return 0},sortNaturalAsc:function(a,r,c,d){if(a===r)return 0;var h=l.string[d.empties[c]||d.emptyTo];return a===""&&h!==0?typeof h=="boolean"?h?-1:1:-h||-1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:h||1:l.sortNatural(a,r)},sortNaturalDesc:function(a,r,c,d){if(a===r)return 0;var h=l.string[d.empties[c]||d.emptyTo];return a===""&&h!==0?typeof h=="boolean"?h?-1:1:h||1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:-h||-1:l.sortNatural(r,a)},sortText:function(a,r){return a>r?1:a<r?-1:0},getTextValue:function(a,r,c){if(c){var d,h=a?a.length:0,p=c+r;for(d=0;d<h;d++)p+=a.charCodeAt(d);return r*p}return 0},sortNumericAsc:function(a,r,c,d,h,p){if(a===r)return 0;var v=l.string[p.empties[h]||p.emptyTo];return a===""&&v!==0?typeof v=="boolean"?v?-1:1:-v||-1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:v||1:(isNaN(a)&&(a=l.getTextValue(a,c,d)),isNaN(r)&&(r=l.getTextValue(r,c,d)),a-r)},sortNumericDesc:function(a,r,c,d,h,p){if(a===r)return 0;var v=l.string[p.empties[h]||p.emptyTo];return a===""&&v!==0?typeof v=="boolean"?v?-1:1:v||1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:-v||-1:(isNaN(a)&&(a=l.getTextValue(a,c,d)),isNaN(r)&&(r=l.getTextValue(r,c,d)),r-a)},sortNumeric:function(a,r){return a-r},addWidget:function(a){a.id&&!l.isEmptyObject(l.getWidgetById(a.id))&&console.warn('"'+a.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=a},hasWidget:function(a,r){return a=o(a),a.length&&a[0].config&&a[0].config.widgetInit[r]||!1},getWidgetById:function(a){var r,c,d=l.widgets.length;for(r=0;r<d;r++)if(c=l.widgets[r],c&&c.id&&c.id.toLowerCase()===a.toLowerCase())return c},applyWidgetOptions:function(a){var r,c,d,h=a.config,p=h.widgets.length;if(p)for(r=0;r<p;r++)c=l.getWidgetById(h.widgets[r]),c&&c.options&&(d=o.extend(!0,{},c.options),h.widgetOptions=o.extend(!0,d,h.widgetOptions),o.extend(!0,l.defaults.widgetOptions,c.options))},addWidgetFromClass:function(a){var r,c,d=a.config,h="^"+d.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",p=new RegExp(h,"g"),v=(a.className||"").split(l.regex.spaces);if(v.length)for(r=v.length,c=0;c<r;c++)v[c].match(p)&&(d.widgets[d.widgets.length]=v[c].replace(p,"$1"))},applyWidgetId:function(a,r,c){a=o(a)[0];var d,h,p,v=a.config,k=v.widgetOptions,x=l.debug(v,"core"),S=l.getWidgetById(r);S&&(p=S.id,d=!1,o.inArray(p,v.widgets)<0&&(v.widgets[v.widgets.length]=p),x&&(h=new Date),(c||!v.widgetInit[p])&&(v.widgetInit[p]=!0,a.hasInitialized&&l.applyWidgetOptions(a),typeof S.init=="function"&&(d=!0,x&&console[console.group?"group":"log"]("Initializing "+p+" widget"),S.init(a,S,v,k))),!c&&typeof S.format=="function"&&(d=!0,x&&console[console.group?"group":"log"]("Updating "+p+" widget"),S.format(a,v,k,!1)),x&&d&&(console.log("Completed "+(c?"initializing ":"applying ")+p+" widget"+l.benchmark(h)),console.groupEnd&&console.groupEnd()))},applyWidget:function(a,r,c){a=o(a)[0];var d,h,p,v,k,x=a.config,S=l.debug(x,"core"),A=[];if(!(r!==!1&&a.hasInitialized&&(a.isApplyingWidgets||a.isUpdating))){if(S&&(k=new Date),l.addWidgetFromClass(a),clearTimeout(x.timerReady),x.widgets.length){for(a.isApplyingWidgets=!0,x.widgets=o.grep(x.widgets,function(E,O){return o.inArray(E,x.widgets)===O}),p=x.widgets||[],h=p.length,d=0;d<h;d++)v=l.getWidgetById(p[d]),v&&v.id?(v.priority||(v.priority=10),A[d]=v):S&&console.warn('"'+p[d]+'" was enabled, but the widget code has not been loaded!');for(A.sort(function(E,O){return E.priority<O.priority?-1:E.priority===O.priority?0:1}),h=A.length,S&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),d=0;d<h;d++)v=A[d],v&&v.id&&l.applyWidgetId(a,v.id,r);S&&console.groupEnd&&console.groupEnd()}x.timerReady=setTimeout(function(){a.isApplyingWidgets=!1,o.data(a,"lastWidgetApplication",new Date),x.$table.triggerHandler("tablesorter-ready"),!r&&typeof c=="function"&&c(a),S&&(v=x.widgets.length,console.log("Completed "+(r===!0?"initializing ":"applying ")+v+" widget"+(v!==1?"s":"")+l.benchmark(k)))},10)}},removeWidget:function(a,r,c){a=o(a)[0];var d,h,p,v,k=a.config;if(r===!0)for(r=[],v=l.widgets.length,p=0;p<v;p++)h=l.widgets[p],h&&h.id&&(r[r.length]=h.id);else r=(o.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(v=r.length,d=0;d<v;d++)h=l.getWidgetById(r[d]),p=o.inArray(r[d],k.widgets),p>=0&&c!==!0&&k.widgets.splice(p,1),h&&h.remove&&(l.debug(k,"core")&&console.log((c?"Refreshing":"Removing")+' "'+r[d]+'" widget'),h.remove(a,k,k.widgetOptions,c),k.widgetInit[r[d]]=!1);k.$table.triggerHandler("widgetRemoveEnd",a)},refreshWidgets:function(a,r,c){a=o(a)[0];var d,h,p=a.config,v=p.widgets,k=l.widgets,x=k.length,S=[],A=function(O){o(O).triggerHandler("refreshComplete")};for(d=0;d<x;d++)h=k[d],h&&h.id&&(r||o.inArray(h.id,v)<0)&&(S[S.length]=h.id);l.removeWidget(a,S.join(","),!0),c!==!0?(l.applyWidget(a,r||!1,A),r&&l.applyWidget(a,!1,A)):A(a)},benchmark:function(a){return" ("+(new Date().getTime()-a.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(a,r){return a&&(a.debug===!0||typeof a.debug=="string"&&a.debug.indexOf(r)>-1)},isEmptyObject:function(a){for(var r in a)return!1;return!0},isValueInArray:function(a,r){var c,d=r&&r.length||0;for(c=0;c<d;c++)if(r[c][0]===a)return c;return-1},formatFloat:function(a,r){if(typeof a!="string"||a==="")return a;var c,d=r&&r.config?r.config.usNumberFormat!==!1:(typeof r=="undefined"?"undefined":_typeof(r))<"u"?r:!0;return d?a=a.replace(l.regex.comma,""):a=a.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(a)&&(a=a.replace(l.regex.digitNegativeReplace,"-$1")),c=parseFloat(a),isNaN(c)?o.trim(a):c},isDigit:function(a){return isNaN(a)?l.regex.digitTest.test(a.toString().replace(l.regex.digitReplace,"")):a!==""},computeColumnIndex:function(a,r){var c,d,h,p,v,k,x,S,A,E,O=r&&r.columns||0,T=[],b=new Array(O);for(c=0;c<a.length;c++)for(k=a[c].cells,d=0;d<k.length;d++){for(v=k[d],x=c,S=v.rowSpan||1,A=v.colSpan||1,_typeof(T[x])>"u"&&(T[x]=[]),h=0;h<T[x].length+1;h++)if(_typeof(T[x][h])>"u"){E=h;break}for(O&&v.cellIndex===E||(v.setAttribute?v.setAttribute("data-column",E):o(v).attr("data-column",E)),h=x;h<x+S;h++)for(_typeof(T[h])>"u"&&(T[h]=[]),b=T[h],p=E;p<E+A;p++)b[p]="x"}return l.checkColumnCount(a,T,b.length),b.length},checkColumnCount:function(a,r,c){var d,h,p=!0,v=[];for(d=0;d<r.length;d++)if(r[d]&&(h=r[d].length,r[d].length!==c)){p=!1;break}p||(a.each(function(k,x){var S=x.parentElement.nodeName;v.indexOf(S)<0&&v.push(S)}),console.error("Invalid or incorrect number of columns in the "+v.join(" or ")+"; expected "+c+", but found "+h+" columns"))},fixColumnWidth:function(a){a=o(a)[0];var r,c,d,h,p,v=a.config,k=v.$table.children("colgroup");if(k.length&&k.hasClass(l.css.colgroup)&&k.remove(),v.widthFixed&&v.$table.children("colgroup").length===0){for(k=o('<colgroup class="'+l.css.colgroup+'">'),r=v.$table.width(),d=v.$tbodies.find("tr:first").children(":visible"),h=d.length,p=0;p<h;p++)c=parseInt(d.eq(p).width()/r*1e3,10)/10+"%",k.append(o("<col>").css("width",c));v.$table.prepend(k)}},getData:function(a,r,c){var d,h,p="",v=o(a);return v.length?(d=o.metadata?v.metadata():!1,h=" "+(v.attr("class")||""),_typeof(v.data(c))<"u"||_typeof(v.data(c.toLowerCase()))<"u"?p+=v.data(c)||v.data(c.toLowerCase()):d&&_typeof(d[c])<"u"?p+=d[c]:r&&_typeof(r[c])<"u"?p+=r[c]:h!==" "&&h.match(" "+c+"-")&&(p=h.match(new RegExp("\\s"+c+"-([\\w-]+)"))[1]||""),o.trim(p)):""},getColumnData:function(a,r,c,d,h){if(typeof r!="object"||r===null)return r;a=o(a)[0];var p,v,k=a.config,x=h||k.$headers,S=k.$headerIndexed&&k.$headerIndexed[c]||x.find('[data-column="'+c+'"]:last');if(_typeof(r[c])<"u")return d?r[c]:r[x.index(S)];for(v in r)if(typeof v=="string"&&(p=S.filter(v).add(S.find(v)),p.length))return r[v]},isProcessing:function(a,r,c){a=o(a);var d=a[0].config,h=c||a.find("."+l.css.header);r?((typeof c=="undefined"?"undefined":_typeof(c))<"u"&&d.sortList.length>0&&(h=h.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(o(this).attr("data-column")),d.sortList)>=0})),a.add(h).addClass(l.css.processing+" "+d.cssProcessing)):a.add(h).removeClass(l.css.processing+" "+d.cssProcessing)},processTbody:function(a,r,c){if(a=o(a)[0],c)return a.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),o.fn.detach?r.detach():r.remove();var d=o(a).find("colgroup.tablesorter-savemyplace");r.insertAfter(d),d.remove(),a.isProcessing=!1},clearTableBody:function(a){o(a)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(a){var r,c="[",d=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(r in d)typeof r=="string"&&(c+=d[r],l.characterRegexArray[r]=new RegExp("["+d[r]+"]","g"));l.characterRegex=new RegExp(c+"]")}if(l.characterRegex.test(a))for(r in d)typeof r=="string"&&(a=a.replace(l.characterRegexArray[r],r));return a},validateOptions:function(a){var r,c,d,h,p="headers sortForce sortList sortAppend widgets".split(" "),v=a.originalSettings;if(v){l.debug(a,"core")&&(h=new Date);for(r in v)if(d=_typeof(l.defaults[r]),d==="undefined")console.warn('Tablesorter Warning! "table.config.'+r+'" option not recognized');else if(d==="object")for(c in v[r])d=l.defaults[r]&&_typeof(l.defaults[r][c]),o.inArray(r,p)<0&&d==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+r+"."+c+'" option not recognized');l.debug(a,"core")&&console.log("validate options time:"+l.benchmark(h))}},restoreHeaders:function(a){var r,c,d=o(a)[0].config,h=d.$table.find(d.selectorHeaders),p=h.length;for(r=0;r<p;r++)c=h.eq(r),c.find("."+l.css.headerIn).length&&c.html(d.headerContent[r])},destroy:function(a,r,c){if(a=o(a)[0],!!a.hasInitialized){l.removeWidget(a,!0,!1);var d,h=o(a),p=a.config,v=h.find("thead:first"),k=v.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+p.cssHeaderRow),x=h.find("tfoot:first > tr").children("th, td");r===!1&&o.inArray("uitheme",p.widgets)>=0&&(h.triggerHandler("applyWidgetId",["uitheme"]),h.triggerHandler("applyWidgetId",["zebra"])),v.find("tr").not(k).remove(),d="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(p.namespace+" "),h.removeData("tablesorter").unbind(d.replace(l.regex.spaces," ")),p.$headers.add(x).removeClass([l.css.header,p.cssHeader,p.cssAsc,p.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),k.find(p.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(p.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(a),h.toggleClass(l.css.table+" "+p.tableClass+" tablesorter-"+p.theme,r===!1),h.removeClass(p.namespace.slice(1)),a.hasInitialized=!1,delete a.config.cache,typeof c=="function"&&c(a),l.debug(p,"core")&&console.log("tablesorter has been removed")}}};o.fn.tablesorter=function(s){return this.each(function(){var a=this,r=o.extend(!0,{},l.defaults,s,l.instanceMethods);r.originalSettings=s,!a.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(a,r):l.setup(a,r)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var s=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:s}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(a,r){var c=r.config;return a&&(a=o.trim(c.ignoreCase?a.toLocaleLowerCase():a),a=c.sortLocaleCompare?l.replaceAccents(a):a),a},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(a){return l.isDigit(a)},format:function(a,r){var c=l.formatFloat((a||"").replace(l.regex.nondigit,""),r);return a&&typeof c=="number"?c:a&&o.trim(a&&r.config.ignoreCase?a.toLocaleLowerCase():a)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(a){return a=(a||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(a)},format:function(a,r){var c=l.formatFloat((a||"").replace(l.regex.nondigit,""),r);return a&&typeof c=="number"?c:a&&o.trim(a&&r.config.ignoreCase?a.toLocaleLowerCase():a)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(a){return l.regex.urlProtocolTest.test(a)},format:function(a){return a&&o.trim(a.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(a){return l.regex.isoDate.test(a)},format:function(a){var r=a&&new Date(a.replace(l.regex.dash,"/"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():a},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(a){return l.regex.percentTest.test(a)&&a.length<15},format:function(a,r){return a&&l.formatFloat(a.replace(l.regex.percent,""),r)},type:"numeric"}),l.addParser({id:"image",is:function(a,r,c,d){return d.find("img").length>0},format:function(a,r,c){return o(c).find("img").attr(r.config.imgAttr||"alt")||a},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(a){return l.regex.usLongDateTest1.test(a)||l.regex.usLongDateTest2.test(a)},format:function(a){var r=a&&new Date(a.replace(l.regex.dateReplace,"$1 $2"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():a},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(s,a){s=(s||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),a==="mmddyyyy"?s=s.replace(l.regex.shortDateXXY,"$3/$1/$2"):a==="ddmmyyyy"?s=s.replace(l.regex.shortDateXXY,"$3/$2/$1"):a==="yyyymmdd"&&(s=s.replace(l.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(s);return _instanceof(r,Date)&&isFinite(r)?r.getTime():""},l.addParser({id:"shortDate",is:function(a){return a=(a||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(a)},format:function(a,r,c,d){if(a){var h=r.config,p=h.$headerIndexed[d],v=p.length&&p.data("dateFormat")||l.getData(p,l.getColumnData(r,h.headers,d),"dateFormat")||h.dateFormat;return p.length&&p.data("dateFormat",v),l.convertFormat(a,v)||a}return a},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(a){return l.regex.timeTest.test(a)},format:function(a){var r,c=(a||"").match(l.regex.timeMatch),d=new Date(a),h=a&&(c!==null?c[0]:"00:00 AM"),p=h&&new Date("2000/01/01 "+h.replace(l.regex.dateReplace,"$1 $2"));return _instanceof(p,Date)&&isFinite(p)?(r=_instanceof(d,Date)&&isFinite(d)?d.getTime():0,r?parseFloat(p.getTime()+"."+d.getTime()):p.getTime()):a},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(a,r,c){var d=r.config,h=d.parserMetadataName?d.parserMetadataName:"sortValue";return o(c).metadata()[h]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(a,r,c){var d,h,p,v,k,x,S,A=new RegExp(r.cssChildRow,"i"),E=r.$tbodies.add(o(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(k=0;k<E.length;k++)for(p=0,d=E.eq(k).children("tr:visible").not(r.selectorRemove),S=d.length,x=0;x<S;x++)h=d.eq(x),A.test(h[0].className)||p++,v=p%2===0,h.removeClass(c.zebra[v?1:0]).addClass(c.zebra[v?0:1])},remove:function(a,r,c,d){if(!d){var h,p,v=r.$tbodies,k=(c.zebra||["even","odd"]).join(" ");for(h=0;h<v.length;h++)p=l.processTbody(a,v.eq(h),!0),p.children().removeClass(k),l.processTbody(a,p,!1)}}})}(t),function(o,l,s){"use strict";var a=o.tablesorter||{};o.extend(!0,a.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),a.storage=function(r,c,d,h){r=o(r)[0];var p,v,k,x=!1,S={},A=r.config,E=A&&A.widgetOptions,O=a.debug(A,"storage"),T=(h&&h.storageType||E&&E.storage_storageType).toString().charAt(0).toLowerCase(),b=T?"":h&&h.useSessionStorage||E&&E.storage_useSessionStorage,u=o(r),f=h&&h.id||u.attr(h&&h.group||E&&E.storage_group||"data-table-group")||E&&E.storage_tableId||r.id||o(".tablesorter").index(u),m=h&&h.url||u.attr(h&&h.page||E&&E.storage_page||"data-table-page")||E&&E.storage_fixedUrl||A&&A.fixedUrl||l.location.pathname;if(T!=="c"&&(T=T==="s"||b?"sessionStorage":"localStorage",T in l))try{l[T].setItem("_tmptest","temp"),x=!0,l[T].removeItem("_tmptest")}catch(y){console.warn(T+" is not supported in this browser")}if(O&&console.log("Storage >> Using",x?T:"cookies"),o.parseJSON&&(x?S=o.parseJSON(l[T][c]||"null")||{}:(v=s.cookie.split(/[;\s|=]/),p=o.inArray(c,v)+1,S=p!==0?o.parseJSON(v[p]||"null")||{}:{})),(typeof d=="undefined"?"undefined":_typeof(d))<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))S[m]||(S[m]={}),S[m][f]=d,x?l[T][c]=JSON.stringify(S):(k=new Date,k.setTime(k.getTime()+31536e6),s.cookie=c+"="+JSON.stringify(S).replace(/\"/g,'"')+"; expires="+k.toGMTString()+"; path=/");else return S&&S[m]?S[m][f]:""}}(t,window,document),function(o){"use strict";var l=o.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},o.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(a,r,c){var d,h,p,v,k,x,S,A,E,O,T,b,u,f=l.themes,m=r.$table.add(o(r.namespace+"_extra_table")),y=r.$headers.add(o(r.namespace+"_extra_headers")),w=r.theme||"jui",C=f[w]||{},M=o.trim([C.sortNone,C.sortDesc,C.sortAsc,C.active].join(" ")),I=o.trim([C.iconSortNone,C.iconSortDesc,C.iconSortAsc].join(" ")),D=l.debug(r,"uitheme");for(D&&(k=new Date),(!m.hasClass("tablesorter-"+w)||r.theme!==r.appliedTheme||!c.uitheme_applied)&&(c.uitheme_applied=!0,O=f[r.appliedTheme]||{},u=!o.isEmptyObject(O),T=u?[O.sortNone,O.sortDesc,O.sortAsc,O.active].join(" "):"",b=u?[O.iconSortNone,O.iconSortDesc,O.iconSortAsc].join(" "):"",u&&(c.zebra[0]=o.trim(" "+c.zebra[0].replace(" "+O.even,"")),c.zebra[1]=o.trim(" "+c.zebra[1].replace(" "+O.odd,"")),r.$tbodies.children().removeClass([O.even,O.odd].join(" "))),C.even&&(c.zebra[0]+=" "+C.even),C.odd&&(c.zebra[1]+=" "+C.odd),m.children("caption").removeClass(O.caption||"").addClass(C.caption),A=m.removeClass((r.appliedTheme?"tablesorter-"+(r.appliedTheme||""):"")+" "+(O.table||"")).addClass("tablesorter-"+w+" "+(C.table||"")).children("tfoot"),r.appliedTheme=r.theme,A.length&&A.children("tr").removeClass(O.footerRow||"").addClass(C.footerRow).children("th, td").removeClass(O.footerCells||"").addClass(C.footerCells),y.removeClass((u?[O.header,O.hover,T].join(" "):"")||"").addClass(C.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(z){o(this)[z.type==="mouseenter"?"addClass":"removeClass"](C.hover||"")}),y.each(function(){var z=o(this);z.find("."+l.css.wrapper).length||z.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),r.cssIcon&&y.find("."+l.css.icon).removeClass(u?[O.icons,b].join(" "):"").addClass(C.icons||""),l.hasWidget(r.table,"filter")&&(h=function(){m.children("thead").children("."+l.css.filterRow).removeClass(u&&O.filterRow||"").addClass(C.filterRow||"")},c.filter_initialized?h():m.one("filterInit",function(){h()}))),d=0;d<r.columns;d++)x=r.$headers.add(o(r.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+d+'"]'),S=l.css.icon?x.find("."+l.css.icon):o(),E=y.not(".sorter-false").filter('[data-column="'+d+'"]:last'),E.length&&(x.removeClass(M),S.removeClass(I),E[0].sortDisabled?S.removeClass(C.icons||""):(p=C.sortNone,v=C.iconSortNone,E.hasClass(l.css.sortAsc)?(p=[C.sortAsc,C.active].join(" "),v=C.iconSortAsc):E.hasClass(l.css.sortDesc)&&(p=[C.sortDesc,C.active].join(" "),v=C.iconSortDesc),x.addClass(p),S.addClass(v||"")));D&&console.log("uitheme >> Applied "+w+" theme"+l.benchmark(k))},remove:function(a,r,c,d){if(c.uitheme_applied){var h=r.$table,p=r.appliedTheme||"jui",v=l.themes[p]||l.themes.jui,k=h.children("thead").children(),x=v.sortNone+" "+v.sortDesc+" "+v.sortAsc,S=v.iconSortNone+" "+v.iconSortDesc+" "+v.iconSortAsc;h.removeClass("tablesorter-"+p+" "+v.table),c.uitheme_applied=!1,!d&&(h.find(l.css.header).removeClass(v.header),k.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(v.hover+" "+x+" "+v.active).filter("."+l.css.filterRow).removeClass(v.filterRow),k.find("."+l.css.icon).removeClass(v.icons+" "+S))}}})}(t),function(o){"use strict";var l=o.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(a,r,c){var d,h,p,v,k,x,S,A,E=r.$table,O=r.$tbodies,T=r.sortList,b=T.length,u=c&&c.columns||["primary","secondary","tertiary"],f=u.length-1;for(S=u.join(" "),h=0;h<O.length;h++)d=l.processTbody(a,O.eq(h),!0),p=d.children("tr"),p.each(function(){if(k=o(this),this.style.display!=="none"&&(x=k.children().removeClass(S),T&&T[0]&&(x.eq(T[0][0]).addClass(u[0]),b>1)))for(A=1;A<b;A++)x.eq(T[A][0]).addClass(u[A]||u[f])}),l.processTbody(a,d,!1);if(v=c.columns_thead!==!1?["thead tr"]:[],c.columns_tfoot!==!1&&v.push("tfoot tr"),v.length&&(p=E.find(v.join(",")).children().removeClass(S),b))for(A=0;A<b;A++)p.filter('[data-column="'+T[A][0]+'"]').addClass(u[A]||u[f])},remove:function(a,r,c){var d,h,p=r.$tbodies,v=(c.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(v),r.$table.children("tfoot").children("tr").children("th, td").removeClass(v),d=0;d<p.length;d++)h=l.processTbody(a,p.eq(d),!0),h.children("tr").each(function(){o(this).children().removeClass(v)}),l.processTbody(a,h,!1)}})}(t),function(o){"use strict";var l,s,a=o.tablesorter||{},r=a.css,c=a.keyCodes;o.extend(r,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),o.extend(c,{backSpace:8,escape:27,space:32,left:37,down:40}),a.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(h,p,v){p.$table.hasClass("hasFilters")||l.init(h,p,v)},remove:function(h,p,v,k){var x,S,A=p.$table,E=p.$tbodies,O="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(p.namespace+"filter ");if(A.removeClass("hasFilters").unbind(O.replace(a.regex.spaces," ")).find("."+r.filterRow).remove(),v.filter_initialized=!1,!k){for(x=0;x<E.length;x++)S=a.processTbody(h,E.eq(x),!0),S.children().removeClass(v.filter_filteredRow).show(),a.processTbody(h,S,!1);v.filter_reset&&o(document).undelegate(v.filter_reset,"click"+p.namespace+"filter")}}}),l=a.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(h,p,v){if((s.orTest.test(p.iFilter)||s.orSplit.test(p.filter))&&!s.regex.test(p.filter)){var k,x,S,A,E=o.extend({},p),O=p.filter.split(s.orSplit),T=p.iFilter.split(s.orSplit),b=O.length;for(k=0;k<b;k++){E.nestedFilters=!0,E.filter=""+(l.parseFilter(h,O[k],p)||""),E.iFilter=""+(l.parseFilter(h,T[k],p)||""),S="("+(l.parseFilter(h,E.filter,p)||"")+")";try{if(A=new RegExp(p.isMatch?S:"^"+S+"$",h.widgetOptions.filter_ignoreCase?"i":""),x=A.test(E.exact)||l.processTypes(h,E,v),x)return x}catch(u){return null}}return x||!1}return null},and:function(h,p,v){if(s.andTest.test(p.filter)){var k,x,S,A,E,O=o.extend({},p),T=p.filter.split(s.andSplit),b=p.iFilter.split(s.andSplit),u=T.length;for(k=0;k<u;k++){O.nestedFilters=!0,O.filter=""+(l.parseFilter(h,T[k],p)||""),O.iFilter=""+(l.parseFilter(h,b[k],p)||""),A=("("+(l.parseFilter(h,O.filter,p)||"")+")").replace(s.wild01,"\\S{1}").replace(s.wild0More,"\\S*");try{E=new RegExp(p.isMatch?A:"^"+A+"$",h.widgetOptions.filter_ignoreCase?"i":""),S=E.test(O.exact)||l.processTypes(h,O,v),k===0?x=S:x=x&&S}catch(f){return null}}return x||!1}return null},regex:function(h,p){if(s.regex.test(p.filter)){var v,k=p.filter_regexCache[p.index]||s.regex.exec(p.filter),x=_instanceof(k,RegExp);try{x||(p.filter_regexCache[p.index]=k=new RegExp(k[1],k[2])),v=k.test(p.exact)}catch(S){v=!1}return v}return null},operators:function(h,p){if(s.operTest.test(p.iFilter)&&p.iExact!==""){var v,k,x,S=h.table,A=p.parsed[p.index],E=a.formatFloat(p.iFilter.replace(s.operators,""),S),O=h.parsers[p.index]||{},T=E;return(A||O.type==="numeric")&&(x=o.trim(""+p.iFilter.replace(s.operators,"")),k=l.parseFilter(h,x,p,!0),E=typeof k=="number"&&k!==""&&!isNaN(k)?k:E),(A||O.type==="numeric")&&!isNaN(E)&&_typeof(p.cache)<"u"?v=p.cache:(x=isNaN(p.iExact)?p.iExact.replace(a.regex.nondigit,""):p.iExact,v=a.formatFloat(x,S)),s.gtTest.test(p.iFilter)?k=s.gteTest.test(p.iFilter)?v>=E:v>E:s.ltTest.test(p.iFilter)&&(k=s.lteTest.test(p.iFilter)?v<=E:v<E),!k&&T===""&&(k=!0),k}return null},notMatch:function(h,p){if(s.notTest.test(p.iFilter)){var v,k=p.iFilter.replace("!",""),x=l.parseFilter(h,k,p)||"";return s.exact.test(x)?(x=x.replace(s.exact,""),x===""?!0:o.trim(x)!==p.iExact):(v=p.iExact.search(o.trim(x)),x===""?!0:p.anyMatch?v<0:!(h.widgetOptions.filter_startsWith?v===0:v>=0))}return null},exact:function(h,p){if(s.exact.test(p.iFilter)){var v=p.iFilter.replace(s.exact,""),k=l.parseFilter(h,v,p)||"";return p.anyMatch?o.inArray(k,p.rowArray)>=0:k==p.iExact}return null},range:function(h,p){if(s.toTest.test(p.iFilter)){var v,k,x,S,A=h.table,E=p.index,O=p.parsed[E],T=p.iFilter.split(s.toSplit);return k=T[0].replace(a.regex.nondigit,"")||"",x=a.formatFloat(l.parseFilter(h,k,p),A),k=T[1].replace(a.regex.nondigit,"")||"",S=a.formatFloat(l.parseFilter(h,k,p),A),(O||h.parsers[E].type==="numeric")&&(v=h.parsers[E].format(""+T[0],A,h.$headers.eq(E),E),x=v!==""&&!isNaN(v)?v:x,v=h.parsers[E].format(""+T[1],A,h.$headers.eq(E),E),S=v!==""&&!isNaN(v)?v:S),(O||h.parsers[E].type==="numeric")&&!isNaN(x)&&!isNaN(S)?v=p.cache:(k=isNaN(p.iExact)?p.iExact.replace(a.regex.nondigit,""):p.iExact,v=a.formatFloat(k,A)),x>S&&(k=x,x=S,S=k),v>=x&&v<=S||x===""||S===""}return null},wild:function(h,p){if(s.wildOrTest.test(p.iFilter)){var v=""+(l.parseFilter(h,p.iFilter,p)||"");!s.wildTest.test(v)&&p.nestedFilters&&(v=p.isMatch?v:"^("+v+")$");try{return new RegExp(v.replace(s.wild01,"\\S{1}").replace(s.wild0More,"\\S*"),h.widgetOptions.filter_ignoreCase?"i":"").test(p.exact)}catch(k){return null}}return null},fuzzy:function(h,p){if(s.fuzzyTest.test(p.iFilter)){var v,k=0,x=p.iExact.length,S=p.iFilter.slice(1),A=l.parseFilter(h,S,p)||"";for(v=0;v<x;v++)p.iExact[v]===A[k]&&(k+=1);return k===A.length}return null}},init:function(h){a.language=o.extend(!0,{},{to:"to",or:"or",and:"and"},a.language);var p,v,k,x,S,A,E,O,T=h.config,b=T.widgetOptions,u=function(m,y,w){return y=y.trim(),y===""?"":(m||"")+y+(w||"")};if(T.$table.addClass("hasFilters"),T.lastSearch=[],b.filter_searchTimer=null,b.filter_initTimer=null,b.filter_formatterCount=0,b.filter_formatterInit=[],b.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',b.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',A="\\{"+s.query+"\\}",o.extend(s,{child:new RegExp(T.cssChildRow),filtered:new RegExp(b.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+u("|",a.language.or)+u("|",a.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+u("|",a.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+u("|",a.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+u("",a.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+u("",a.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+u("|\\s+",a.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+u("|\\s+(?:",a.language.or,")\\s+")+")","gi"),iQuery:new RegExp(A,"i"),igQuery:new RegExp(A,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),A=T.$headers.filter(".filter-false, .parser-false").length,b.filter_columnFilters!==!1&&A!==T.$headers.length&&l.buildRow(h,T,b),k="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(T.namespace+"filter "),T.$table.bind(k,function(f,m){return A=b.filter_hideEmpty&&o.isEmptyObject(T.cache)&&!(T.delayInit&&f.type==="appendCache"),T.$table.find("."+r.filterRow).toggleClass(b.filter_filteredRow,A),/(search|filter)/.test(f.type)||(f.stopPropagation(),l.buildDefault(h,!0)),f.type==="filterReset"||f.type==="filterAndSortReset"?(T.$table.find("."+r.filter).add(b.filter_$externalFilters).val(""),f.type==="filterAndSortReset"?a.sortReset(this.config,function(){l.searching(h,[])}):l.searching(h,[])):f.type==="filterResetSaved"?a.storage(h,"tablesorter-filters",""):f.type==="filterEnd"?l.buildDefault(h,!0):(m=f.type==="search"?m:f.type==="updateComplete"?T.$table.data("lastSearch"):"",/(update|add)/.test(f.type)&&f.type!=="updateComplete"&&(T.lastCombinedFilter=null,T.lastSearch=[],setTimeout(function(){T.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(h,m,!0)),!1}),b.filter_reset&&(_instanceof(b.filter_reset,o)?b.filter_reset.click(function(){T.$table.triggerHandler("filterReset")}):o(b.filter_reset).length&&o(document).undelegate(b.filter_reset,"click"+T.namespace+"filter").delegate(b.filter_reset,"click"+T.namespace+"filter",function(){T.$table.triggerHandler("filterReset")})),b.filter_functions){for(S=0;S<T.columns;S++)if(E=a.getColumnData(h,b.filter_functions,S),E){if(x=T.$headerIndexed[S].removeClass("filter-select"),O=!(x.hasClass("filter-false")||x.hasClass("parser-false")),p="",E===!0&&O)l.buildSelect(h,S);else if(typeof E=="object"&&O){for(v in E)typeof v=="string"&&(p+=p===""?'<option value="">'+(x.data("placeholder")||x.attr("data-placeholder")||b.filter_placeholder.select||"")+"</option>":"",A=v,k=v,v.indexOf(b.filter_selectSourceSeparator)>=0&&(A=v.split(b.filter_selectSourceSeparator),k=A[1],A=A[0]),p+="<option "+(k===A?"":'data-function-name="'+v+'" ')+'value="'+A+'">'+k+"</option>");T.$table.find("thead").find("select."+r.filter+'[data-column="'+S+'"]').append(p),k=b.filter_selectSource,E=typeof k=="function"?!0:a.getColumnData(h,k,S),E&&l.buildSelect(T.table,S,"",!0,x.hasClass(b.filter_onlyAvail))}}}l.buildDefault(h,!0),l.bindSearch(h,T.$table.find("."+r.filter),!0),b.filter_external&&l.bindSearch(h,b.filter_external),b.filter_hideFilters&&l.hideFilters(T),T.showProcessing&&(k="filterStart filterEnd ".split(" ").join(T.namespace+"filter-sp "),T.$table.unbind(k.replace(a.regex.spaces," ")).bind(k,function(f,m){x=m?T.$table.find("."+r.header).filter("[data-column]").filter(function(){return m[o(this).data("column")]!==""}):"",a.isProcessing(h,f.type==="filterStart",m?x:"")})),T.filteredRows=T.totalRows,k="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(T.namespace+"filter "),T.$table.unbind(k.replace(a.regex.spaces," ")).bind(k,function(){l.completeInit(this)}),T.pager&&T.pager.initialized&&!b.filter_initialized?(T.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(T)},100)):b.filter_initialized||l.completeInit(h)},completeInit:function(h){var p=h.config,v=p.widgetOptions,k=l.setDefaults(h,p,v)||[];k.length&&(p.delayInit&&k.join("")===""||a.setFilters(h,k,!0)),p.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){v.filter_initialized||l.filterInitComplete(p)},100)},formatterUpdated:function(h,p){var v=h&&h.closest("table"),k=v.length&&v[0].config,x=k&&k.widgetOptions;x&&!x.filter_initialized&&(x.filter_formatterInit[p]=1)},filterInitComplete:function(h){var p,v,k=h.widgetOptions,x=0,S=function(){k.filter_initialized=!0,h.lastSearch=h.$table.data("lastSearch"),h.$table.triggerHandler("filterInit",h),l.findRows(h.table,h.lastSearch||[]),a.debug(h,"filter")&&console.log("Filter >> Widget initialized")};if(o.isEmptyObject(k.filter_formatter))S();else{for(v=k.filter_formatterInit.length,p=0;p<v;p++)k.filter_formatterInit[p]===1&&x++;clearTimeout(k.filter_initTimer),!k.filter_initialized&&x===k.filter_formatterCount?S():k.filter_initialized||(k.filter_initTimer=setTimeout(function(){S()},500))}},processFilters:function(h,p){var v,k=[],x=p?encodeURIComponent:decodeURIComponent,S=h.length;for(v=0;v<S;v++)h[v]&&(k[v]=x(h[v]));return k},setDefaults:function(h,p,v){var k,x,S,A,E,O=a.getFilters(h)||[];if(v.filter_saveFilters&&a.storage&&(x=a.storage(h,"tablesorter-filters")||[],k=o.isArray(x),k&&x.join("")===""||!k||(O=l.processFilters(x))),O.join("")==="")for(E=p.$headers.add(v.filter_$externalFilters).filter("["+v.filter_defaultAttrib+"]"),S=0;S<=p.columns;S++)A=S===p.columns?"all":S,O[S]=E.filter('[data-column="'+A+'"]').attr(v.filter_defaultAttrib)||O[S]||"";return p.$table.data("lastSearch",O),O},parseFilter:function(h,p,v,k){return k||v.parsed[v.index]?h.parsers[v.index].format(p,h.table,[],v.index):p},buildRow:function(h,p,v){var k,x,S,A,E,O,T,b,u,f=v.filter_cellFilter,m=p.columns,y=o.isArray(f),w='<tr role="search" class="'+r.filterRow+" "+p.cssIgnoreRow+'">';for(S=0;S<m;S++)p.$headerIndexed[S].length&&(u=p.$headerIndexed[S]&&p.$headerIndexed[S][0].colSpan||0,u>1?w+='<td data-column="'+S+"-"+(S+u-1)+'" colspan="'+u+'"':w+='<td data-column="'+S+'"',y?w+=f[S]?' class="'+f[S]+'"':"":w+=f!==""?' class="'+f+'"':"",w+="></td>");for(p.$filters=o(w+="</tr>").appendTo(p.$table.children("thead").eq(0)).children("td"),S=0;S<m;S++)O=!1,A=p.$headerIndexed[S],A&&A.length&&(k=l.getColumnElm(p,p.$filters,S),b=a.getColumnData(h,v.filter_functions,S),E=v.filter_functions&&b&&typeof b!="function"||A.hasClass("filter-select"),x=a.getColumnData(h,p.headers,S),O=a.getData(A[0],x,"filter")==="false"||a.getData(A[0],x,"parser")==="false",E?w=o("<select>").appendTo(k):(b=a.getColumnData(h,v.filter_formatter,S),b?(v.filter_formatterCount++,w=b(k,S),w&&w.length===0&&(w=k.children("input")),w&&(w.parent().length===0||w.parent().length&&w.parent()[0]!==k[0])&&k.append(w)):w=o('<input type="search">').appendTo(k),w&&(u=A.data("placeholder")||A.attr("data-placeholder")||v.filter_placeholder.search||"",w.attr("placeholder",u))),w&&(T=(o.isArray(v.filter_cssFilter)?_typeof(v.filter_cssFilter[S])<"u"&&v.filter_cssFilter[S]||"":v.filter_cssFilter)||"",w.addClass(r.filter+" "+T),T=v.filter_filterLabel,u=T.match(/{{([^}]+?)}}/g),u||(u=["{{label}}"]),o.each(u,function(C,M){var I=new RegExp(M,"g"),D=A.attr("data-"+M.replace(/{{|}}/g,"")),z=(typeof D=="undefined"?"undefined":_typeof(D))>"u"?A.text():D;T=T.replace(I,o.trim(z))}),w.attr({"data-column":k.attr("data-column"),"aria-label":T}),O&&(w.attr("placeholder","").addClass(r.filterDisabled)[0].disabled=!0)))},bindSearch:function(h,p,v){if(h=o(h)[0],p=o(p),!!p.length){var k,x=h.config,S=x.widgetOptions,A=x.namespace+"filter",E=S.filter_$externalFilters;v!==!0&&(k=S.filter_anyColumnSelector+","+S.filter_multipleColumnSelector,S.filter_$anyMatch=p.filter(k),E&&E.length?S.filter_$externalFilters=S.filter_$externalFilters.add(p):S.filter_$externalFilters=p,a.setFilters(h,x.$table.data("lastSearch")||[],v===!1)),k="keypress keyup keydown search change input ".split(" ").join(A+" "),p.attr("data-lastSearchTime",new Date().getTime()).unbind(k.replace(a.regex.spaces," ")).bind("keydown"+A,function(O){if(O.which===c.escape&&!h.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+A,function(O){S=h.config.widgetOptions;var T=parseInt(o(this).attr("data-column"),10),b=typeof S.filter_liveSearch=="boolean"?S.filter_liveSearch:a.getColumnData(h,S.filter_liveSearch,T);if((typeof b=="undefined"?"undefined":_typeof(b))>"u"&&(b=S.filter_liveSearch.fallback||!1),o(this).attr("data-lastSearchTime",new Date().getTime()),O.which===c.escape)this.value=S.filter_resetOnEsc?"":x.lastSearch[T];else if(this.value!==""&&(typeof b=="number"&&this.value.length<b||O.which!==c.enter&&O.which!==c.backSpace&&(O.which<c.space||O.which>=c.left&&O.which<=c.down))||b===!1&&this.value!==""&&O.which!==c.enter)return;l.searching(h,!0,!0,T)}).bind("search change keypress input blur ".split(" ").join(A+" "),function(O){var T=parseInt(o(this).attr("data-column"),10),b=O.type,u=typeof S.filter_liveSearch=="boolean"?S.filter_liveSearch:a.getColumnData(h,S.filter_liveSearch,T);h.config.widgetOptions.filter_initialized&&(O.which===c.enter||b==="search"||b==="blur"||(b==="change"||b==="input")&&(u===!0||u!==!0&&O.target.nodeName!=="INPUT")&&this.value!==x.lastSearch[T])&&(O.preventDefault(),o(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(h,b!=="keypress"||O.which===c.enter,!0,T))})}},searching:function(h,p,v,k){var x,S=h.config.widgetOptions;(typeof k=="undefined"?"undefined":_typeof(k))>"u"?x=!1:(x=typeof S.filter_liveSearch=="boolean"?S.filter_liveSearch:a.getColumnData(h,S.filter_liveSearch,k),(typeof x=="undefined"?"undefined":_typeof(x))>"u"&&(x=S.filter_liveSearch.fallback||!1)),clearTimeout(S.filter_searchTimer),(typeof p=="undefined"?"undefined":_typeof(p))>"u"||p===!0?S.filter_searchTimer=setTimeout(function(){l.checkFilters(h,p,v)},x?S.filter_searchDelay:10):l.checkFilters(h,p,v)},equalFilters:function(h,p,v){var k,x=[],S=[],A=h.columns+1;for(p=o.isArray(p)?p:[],v=o.isArray(v)?v:[],k=0;k<A;k++)x[k]=p[k]||"",S[k]=v[k]||"";return x.join(",")===S.join(",")},checkFilters:function(h,p,v){var k=h.config,x=k.widgetOptions,S=o.isArray(p),A=S?p:a.getFilters(h,!0),E=A||[];if(o.isEmptyObject(k.cache)){k.delayInit&&(!k.pager||k.pager&&k.pager.initialized)&&a.updateCache(k,function(){l.checkFilters(h,!1,v)});return}if(S&&(a.setFilters(h,A,!1,v!==!0),x.filter_initialized||(k.lastSearch=[],k.lastCombinedFilter="")),x.filter_hideFilters&&k.$table.find("."+r.filterRow).triggerHandler(l.hideFiltersCheck(k)?"mouseleave":"mouseenter"),l.equalFilters(k,k.lastSearch,E)){if(p!==!1)return;k.lastCombinedFilter="",k.lastSearch=[]}if(A=A||[],A=Array.prototype.map?A.map(String):A.join("\uFFFD").split("\uFFFD"),x.filter_initialized&&k.$table.triggerHandler("filterStart",[A]),k.showProcessing)setTimeout(function(){return l.findRows(h,A,E),!1},30);else return l.findRows(h,A,E),!1},hideFiltersCheck:function(h){if(typeof h.widgetOptions.filter_hideFilters=="function"){var p=h.widgetOptions.filter_hideFilters(h);if(typeof p=="boolean")return p}return a.getFilters(h.$table).join("")===""},hideFilters:function(h,p){var v;(p||h.$table).find("."+r.filterRow).addClass(r.filterRowHide).bind("mouseenter mouseleave",function(k){var x=k,S=o(this);clearTimeout(v),v=setTimeout(function(){/enter|over/.test(x.type)?S.removeClass(r.filterRowHide):o(document.activeElement).closest("tr")[0]!==S[0]&&S.toggleClass(r.filterRowHide,l.hideFiltersCheck(h))},200)}).find("input, select").bind("focus blur",function(k){var x=k,S=o(this).closest("tr");clearTimeout(v),v=setTimeout(function(){clearTimeout(v),S.toggleClass(r.filterRowHide,l.hideFiltersCheck(h)&&x.type!=="focus")},200)})},defaultFilter:function(h,p){if(h==="")return h;var v=s.iQuery,k=p.match(s.igQuery).length,x=k>1?o.trim(h).split(/\s/):[o.trim(h)],S=x.length-1,A=0,E=p;for(S<1&&k>1&&(x[1]=x[0]);v.test(E);)E=E.replace(v,x[A++]||""),v.test(E)&&A<S&&(x[A]||"")!==""&&(E=p.replace(v,E));return E},getLatestSearch:function(h){return h?h.sort(function(p,v){return o(v).attr("data-lastSearchTime")-o(p).attr("data-lastSearchTime")}):h||o()},findRange:function(h,p,v){var k,x,S,A,E,O,T,b,u,f=[];if(/^[0-9]+$/.test(p))return[parseInt(p,10)];if(!v&&/-/.test(p))for(x=p.match(/(\d+)\s*-\s*(\d+)/g),u=x?x.length:0,b=0;b<u;b++){for(S=x[b].split(/\s*-\s*/),A=parseInt(S[0],10)||0,E=parseInt(S[1],10)||h.columns-1,A>E&&(k=A,A=E,E=k),E>=h.columns&&(E=h.columns-1);A<=E;A++)f[f.length]=A;p=p.replace(x[b],"")}if(!v&&/,/.test(p))for(O=p.split(/\s*,\s*/),u=O.length,T=0;T<u;T++)O[T]!==""&&(b=parseInt(O[T],10),b<h.columns&&(f[f.length]=b));if(!f.length)for(b=0;b<h.columns;b++)f[f.length]=b;return f},getColumnElm:function(h,p,v){return p.filter(function(){var k=l.findRange(h,o(this).attr("data-column"));return o.inArray(v,k)>-1})},multipleColumns:function(h,p){var v=h.widgetOptions,k=v.filter_initialized||!p.filter(v.filter_anyColumnSelector).length,x=o.trim(l.getLatestSearch(p).attr("data-column")||"");return l.findRange(h,x,!k)},processTypes:function(h,p,v){var k,x=null,S=null;for(k in l.types)o.inArray(k,v.excludeMatch)<0&&S===null&&(S=l.types[k](h,p,v),S!==null&&(p.matchedOn=k,x=S));return x},matchType:function(h,p){var v,k=h.widgetOptions,x=h.$headerIndexed[p];return x.hasClass("filter-exact")?v=!1:x.hasClass("filter-match")?v=!0:(k.filter_columnFilters?x=h.$filters.find("."+r.filter).add(k.filter_$externalFilters).filter('[data-column="'+p+'"]'):k.filter_$externalFilters&&(x=k.filter_$externalFilters.filter('[data-column="'+p+'"]')),v=x.length?h.widgetOptions.filter_matchType[(x[0].nodeName||"").toLowerCase()]==="match":!1),v},processRow:function(h,p,v){var k,x,S,A,E,O=h.widgetOptions,T=!0,b=O.filter_$anyMatch&&O.filter_$anyMatch.length,u=O.filter_$anyMatch&&O.filter_$anyMatch.length?l.multipleColumns(h,O.filter_$anyMatch):[];if(p.$cells=p.$row.children(),p.matchedOn=null,p.anyMatchFlag&&u.length>1||p.anyMatchFilter&&!b){if(p.anyMatch=!0,p.isMatch=!0,p.rowArray=p.$cells.map(function(f){if(o.inArray(f,u)>-1||p.anyMatchFilter&&!b)return p.parsed[f]?E=p.cacheArray[f]:(E=p.rawArray[f],E=o.trim(O.filter_ignoreCase?E.toLowerCase():E),h.sortLocaleCompare&&(E=a.replaceAccents(E))),E}).get(),p.filter=p.anyMatchFilter,p.iFilter=p.iAnyMatchFilter,p.exact=p.rowArray.join(" "),p.iExact=O.filter_ignoreCase?p.exact.toLowerCase():p.exact,p.cache=p.cacheArray.slice(0,-1).join(" "),v.excludeMatch=v.noAnyMatch,x=l.processTypes(h,p,v),x!==null)T=x;else if(O.filter_startsWith)for(T=!1,u=Math.min(h.columns,p.rowArray.length);!T&&u>0;)u--,T=T||p.rowArray[u].indexOf(p.iFilter)===0;else T=(p.iExact+p.childRowText).indexOf(p.iFilter)>=0;if(p.anyMatch=!1,p.filters.join("")===p.filter)return T}for(u=0;u<h.columns;u++)p.filter=p.filters[u],p.index=u,v.excludeMatch=v.excludeFilter[u],p.filter&&(p.cache=p.cacheArray[u],k=p.parsed[u]?p.cache:p.rawArray[u]||"",p.exact=h.sortLocaleCompare?a.replaceAccents(k):k,p.iExact=!s.type.test(_typeof(p.exact))&&O.filter_ignoreCase?p.exact.toLowerCase():p.exact,p.isMatch=l.matchType(h,u),k=T,A=O.filter_columnFilters&&h.$filters.add(O.filter_$externalFilters).filter('[data-column="'+u+'"]').find("select option:selected").attr("data-function-name")||"",h.sortLocaleCompare&&(p.filter=a.replaceAccents(p.filter)),O.filter_defaultFilter&&s.iQuery.test(v.defaultColFilter[u])&&(p.filter=l.defaultFilter(p.filter,v.defaultColFilter[u])),p.iFilter=O.filter_ignoreCase?(p.filter||"").toLowerCase():p.filter,S=v.functions[u],x=null,S&&(typeof S=="function"?x=S(p.exact,p.cache,p.filter,u,p.$row,h,p):typeof S[A||p.filter]=="function"&&(E=A||p.filter,x=S[E](p.exact,p.cache,p.filter,u,p.$row,h,p))),x===null?(x=l.processTypes(h,p,v),E=S===!0&&(p.matchedOn==="and"||p.matchedOn==="or"),x!==null&&!E?k=x:S===!0?k=p.isMatch?(""+p.iExact).search(p.iFilter)>=0:p.filter===p.exact:(E=(p.iExact+p.childRowText).indexOf(l.parseFilter(h,p.iFilter,p)),k=!O.filter_startsWith&&E>=0||O.filter_startsWith&&E===0)):k=x,T=k?T:!1);return T},findRows:function(h,p,v){if(!(l.equalFilters(h.config,h.config.lastSearch,v)||!h.config.widgetOptions.filter_initialized)){var k,x,S,A,E,O,T,b,u,f,m,y,w,C,M,I,D,z,Q,W,me,oe,q,ee,we=o.extend([],p),ie=h.config,le=ie.widgetOptions,ye=a.debug(ie,"filter"),Ee={anyMatch:!1,filters:p,filter_regexCache:[]},fe={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:a.getColumnData(h,le.filter_defaultFilter,ie.columns,!0)||""};for(Ee.parsed=[],u=0;u<ie.columns;u++)Ee.parsed[u]=le.filter_useParsedData||ie.parsers&&ie.parsers[u]&&ie.parsers[u].parsed||a.getData&&a.getData(ie.$headerIndexed[u],a.getColumnData(h,ie.headers,u),"filter")==="parsed"||ie.$headerIndexed[u].hasClass("filter-parsed"),fe.functions[u]=a.getColumnData(h,le.filter_functions,u)||ie.$headerIndexed[u].hasClass("filter-select"),fe.defaultColFilter[u]=a.getColumnData(h,le.filter_defaultFilter,u)||"",fe.excludeFilter[u]=(a.getColumnData(h,le.filter_excludeFilter,u,!0)||"").split(/\s+/);for(ye&&(console.log("Filter >> Starting filter widget search",p),M=new Date),ie.filteredRows=0,ie.totalRows=0,v=we||[],T=0;T<ie.$tbodies.length;T++){if(b=a.processTbody(h,ie.$tbodies.eq(T),!0),u=ie.columns,x=ie.cache[T].normalized,A=o(o.map(x,function(rt){return rt[u].$row.get()})),v.join("")===""||le.filter_serversideFiltering)A.removeClass(le.filter_filteredRow).not("."+ie.cssChildRow).css("display","");else{if(A=A.not("."+ie.cssChildRow),k=A.length,(le.filter_$anyMatch&&le.filter_$anyMatch.length||_typeof(p[ie.columns])<"u")&&(Ee.anyMatchFlag=!0,Ee.anyMatchFilter=""+(p[ie.columns]||le.filter_$anyMatch&&l.getLatestSearch(le.filter_$anyMatch).val()||""),le.filter_columnAnyMatch)){for(W=Ee.anyMatchFilter.split(s.andSplit),me=!1,D=0;D<W.length;D++)oe=W[D].split(":"),oe.length>1&&(isNaN(oe[0])?o.each(ie.headerContent,function(rt,ct){ct.toLowerCase().indexOf(oe[0])>-1&&(q=rt,p[q]=oe[1])}):q=parseInt(oe[0],10)-1,q>=0&&q<ie.columns&&(p[q]=oe[1],W.splice(D,1),D--,me=!0));me&&(Ee.anyMatchFilter=W.join(" && "))}if(Q=le.filter_searchFiltered,y=ie.lastSearch||ie.$table.data("lastSearch")||[],Q)for(D=0;D<u+1;D++)I=p[D]||"",Q||(D=u),Q=Q&&y.length&&I.indexOf(y[D]||"")===0&&!s.alreadyFiltered.test(I)&&!s.exactTest.test(I)&&!(s.isNeg1.test(I)||s.isNeg2.test(I))&&!(I!==""&&ie.$filters&&ie.$filters.filter('[data-column="'+D+'"]').find("select").length&&!l.matchType(ie,D));for(z=A.not("."+le.filter_filteredRow).length,Q&&z===0&&(Q=!1),ye&&console.log("Filter >> Searching through "+(Q&&z<k?z:"all")+" rows"),Ee.anyMatchFlag&&(ie.sortLocaleCompare&&(Ee.anyMatchFilter=a.replaceAccents(Ee.anyMatchFilter)),le.filter_defaultFilter&&s.iQuery.test(fe.defaultAnyFilter)&&(Ee.anyMatchFilter=l.defaultFilter(Ee.anyMatchFilter,fe.defaultAnyFilter),Q=!1),Ee.iAnyMatchFilter=le.filter_ignoreCase&&ie.ignoreCase?Ee.anyMatchFilter.toLowerCase():Ee.anyMatchFilter),O=0;O<k;O++)if(ee=A[O].className,f=O&&s.child.test(ee),!(f||Q&&s.filtered.test(ee))){if(Ee.$row=A.eq(O),Ee.rowIndex=O,Ee.cacheArray=x[O],S=Ee.cacheArray[ie.columns],Ee.rawArray=S.raw,Ee.childRowText="",!le.filter_childByColumn){for(ee="",m=S.child,D=0;D<m.length;D++)ee+=" "+m[D].join(" ")||"";Ee.childRowText=le.filter_childRows?le.filter_ignoreCase?ee.toLowerCase():ee:""}if(w=!1,C=l.processRow(ie,Ee,fe),E=S.$row,I=!!C,m=S.$row.filter(":gt(0)"),le.filter_childRows&&m.length){if(le.filter_childByColumn)for(le.filter_childWithSibs||(m.addClass(le.filter_filteredRow),E=E.eq(0)),D=0;D<m.length;D++)Ee.$row=m.eq(D),Ee.cacheArray=S.child[D],Ee.rawArray=Ee.cacheArray,I=l.processRow(ie,Ee,fe),w=w||I,!le.filter_childWithSibs&&I&&m.eq(D).removeClass(le.filter_filteredRow);w=w||C}else w=I;E.toggleClass(le.filter_filteredRow,!w)[0].display=w?"":"none"}}ie.filteredRows+=A.not("."+le.filter_filteredRow).length,ie.totalRows+=A.length,a.processTbody(h,b,!1)}ie.lastCombinedFilter=we.join(""),ie.lastSearch=we,ie.$table.data("lastSearch",we),le.filter_saveFilters&&a.storage&&a.storage(h,"tablesorter-filters",l.processFilters(we,!0)),ye&&console.log("Filter >> Completed search"+a.benchmark(M)),le.filter_initialized&&(ie.$table.triggerHandler("filterBeforeEnd",ie),ie.$table.triggerHandler("filterEnd",ie)),setTimeout(function(){a.applyWidget(ie.table)},0)}},getOptionSource:function(h,p,v){h=o(h)[0];var k=h.config,x=k.widgetOptions,S=!1,A=x.filter_selectSource,E=k.$table.data("lastSearch")||[],O=typeof A=="function"?!0:a.getColumnData(h,A,p);if(v&&E[p]!==""&&(v=!1),O===!0)S=A(h,p,v);else{if(_instanceof(O,o)||o.type(O)==="string"&&O.indexOf("</option>")>=0)return O;if(o.isArray(O))S=O;else if(o.type(A)==="object"&&O&&(S=O(h,p,v),S===null))return null}return S===!1&&(S=l.getOptions(h,p,v)),l.processOptions(h,p,S)},processOptions:function(h,p,v){if(!o.isArray(v))return!1;h=o(h)[0];var k,x,S,A,E,O,T=h.config,b=(typeof p=="undefined"?"undefined":_typeof(p))<"u"&&p!==null&&p>=0&&p<T.columns,u=b?T.$headerIndexed[p].hasClass("filter-select-sort-desc"):!1,f=[];if(v=o.grep(v,function(m,y){return m.text?!0:o.inArray(m,v)===y}),b&&T.$headerIndexed[p].hasClass("filter-select-nosort"))return v;for(A=v.length,S=0;S<A;S++)x=v[S],O=x.text?x.text:x,E=(b&&T.parsers&&T.parsers.length&&T.parsers[p].format(O,h,[],p)||O).toString(),E=T.widgetOptions.filter_ignoreCase?E.toLowerCase():E,x.text?(x.parsed=E,f[f.length]=x):f[f.length]={text:x,parsed:E};for(k=T.textSorter||"",f.sort(function(m,y){var w=u?y.parsed:m.parsed,C=u?m.parsed:y.parsed;return b&&typeof k=="function"?k(w,C,!0,p,h):b&&typeof k=="object"&&k.hasOwnProperty(p)?k[p](w,C,!0,p,h):a.sortNatural?a.sortNatural(w,C):!0}),v=[],A=f.length,S=0;S<A;S++)v[v.length]=f[S];return v},getOptions:function(h,p,v){h=o(h)[0];var k,x,S,A,E,O,T,b,u=h.config,f=u.widgetOptions,m=[];for(x=0;x<u.$tbodies.length;x++)for(E=u.cache[x],S=u.cache[x].normalized.length,k=0;k<S;k++)if(A=E.row?E.row[k]:E.normalized[k][u.columns].$row[0],!(v&&A.className.match(f.filter_filteredRow))){if(f.filter_useParsedData||u.parsers[p].parsed||u.$headerIndexed[p].hasClass("filter-parsed")){if(m[m.length]=""+E.normalized[k][p],f.filter_childRows&&f.filter_childByColumn)for(b=E.normalized[k][u.columns].$row.length-1,O=0;O<b;O++)m[m.length]=""+E.normalized[k][u.columns].child[O][p]}else if(m[m.length]=E.normalized[k][u.columns].raw[p],f.filter_childRows&&f.filter_childByColumn)for(b=E.normalized[k][u.columns].$row.length,O=1;O<b;O++)T=E.normalized[k][u.columns].$row.eq(O).children().eq(p),m[m.length]=""+a.getElementText(u,T,p)}return m},buildSelect:function(h,p,v,k,x){if(h=o(h)[0],p=parseInt(p,10),!(!h.config.cache||o.isEmptyObject(h.config.cache))){var S,A,E,O,T,b,u,f=h.config,m=f.widgetOptions,y=f.$headerIndexed[p],w='<option value="">'+(y.data("placeholder")||y.attr("data-placeholder")||m.filter_placeholder.select||"")+"</option>",C=f.$table.find("thead").find("select."+r.filter+'[data-column="'+p+'"]').val();if(!(((typeof v=="undefined"?"undefined":_typeof(v))>"u"||v==="")&&(v=l.getOptionSource(h,p,x),v===null))){if(o.isArray(v)){for(S=0;S<v.length;S++)if(u=v[S],u.text){u["data-function-name"]=_typeof(u.value)>"u"?u.text:u.value,w+="<option";for(A in u)u.hasOwnProperty(A)&&A!=="text"&&(w+=" "+A+'="'+u[A].replace(s.quote,"&quot;")+'"');u.value||(w+=' value="'+u.text.replace(s.quote,"&quot;")+'"'),w+=">"+u.text.replace(s.quote,"&quot;")+"</option>"}else""+u!="[object Object]"&&(E=u=(""+u).replace(s.quote,"&quot;"),A=E,E.indexOf(m.filter_selectSourceSeparator)>=0&&(O=E.split(m.filter_selectSourceSeparator),A=O[0],E=O[1]),w+=u!==""?"<option "+(A===E?"":'data-function-name="'+u+'" ')+'value="'+A+'">'+E+"</option>":"");v=[]}T=(f.$filters?f.$filters:f.$table.children("thead")).find("."+r.filter),m.filter_$externalFilters&&(T=T&&T.length?T.add(m.filter_$externalFilters):m.filter_$externalFilters),b=T.filter('select[data-column="'+p+'"]'),b.length&&(b[k?"html":"append"](w),o.isArray(v)||b.append(v).val(C),b.val(C))}}},buildDefault:function(h,p){var v,k,x,S=h.config,A=S.widgetOptions,E=S.columns;for(v=0;v<E;v++)k=S.$headerIndexed[v],x=!(k.hasClass("filter-false")||k.hasClass("parser-false")),(k.hasClass("filter-select")||a.getColumnData(h,A.filter_functions,v)===!0)&&x&&l.buildSelect(h,v,"",p,k.hasClass(A.filter_onlyAvail))}},s=l.regex,a.getFilters=function(d,h,p,v){var k,x,S,A,E=[],O=d?o(d)[0].config:"",T=O?O.widgetOptions:"";if(h!==!0&&T&&!T.filter_columnFilters||o.isArray(p)&&l.equalFilters(O,p,O.lastSearch))return o(d).data("lastSearch")||[];if(O&&(O.$filters&&(x=O.$filters.find("."+r.filter)),T.filter_$externalFilters&&(x=x&&x.length?x.add(T.filter_$externalFilters):T.filter_$externalFilters),x&&x.length))for(E=p||[],k=0;k<O.columns+1;k++)A=k===O.columns?T.filter_anyColumnSelector+","+T.filter_multipleColumnSelector:'[data-column="'+k+'"]',S=x.filter(A),S.length&&(S=l.getLatestSearch(S),o.isArray(p)?(v&&S.length>1&&(S=S.slice(1)),k===O.columns&&(A=S.filter(T.filter_anyColumnSelector),S=A.length?A:S),S.val(p[k]).trigger("change"+O.namespace)):(E[k]=S.val()||"",k===O.columns?S.slice(1).filter('[data-column*="'+S.attr("data-column")+'"]').val(E[k]):S.slice(1).val(E[k])),k===O.columns&&S.length&&(T.filter_$anyMatch=S));return E},a.setFilters=function(d,h,p,v){var k=d?o(d)[0].config:"",x=a.getFilters(d,!0,h,v);return(typeof p=="undefined"?"undefined":_typeof(p))>"u"&&(p=!0),k&&p&&(k.lastCombinedFilter=null,k.lastSearch=[],l.searching(k.table,h,v),k.$table.triggerHandler("filterFomatterUpdate")),x.length!==0}}(t),function(o,l){"use strict";var s=function(c,d){var h=isNaN(d.stickyHeaders_offset)?o(d.stickyHeaders_offset):[];return h.length?h.height()||0:parseInt(d.stickyHeaders_offset,10)||0},a=o.tablesorter||{};o.extend(a.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),a.addHeaderResizeEvent=function(r,c,d){if(r=o(r)[0],!!r.config){var h={timer:250},p=o.extend({},h,d),v=r.config,k=v.widgetOptions,x=function(A){var E,O,T,b,u,f,m=v.$headers.length;for(k.resize_flag=!0,O=[],E=0;E<m;E++)T=v.$headers.eq(E),b=T.data("savedSizes")||[0,0],u=T[0].offsetWidth,f=T[0].offsetHeight,(u!==b[0]||f!==b[1])&&(T.data("savedSizes",[u,f]),O.push(T[0]));O.length&&A!==!1&&v.$table.triggerHandler("resize",[O]),k.resize_flag=!1};if(clearInterval(k.resize_timer),c)return k.resize_flag=!1,!1;x(!1),k.resize_timer=setInterval(function(){k.resize_flag||x()},p.timer)}},a.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(c,d,h){if(!(d.$table.hasClass("hasStickyHeaders")||o.inArray("filter",d.widgets)>=0&&!d.$table.hasClass("hasFilters"))){var p,v,k,x=d.$table,S=o(h.stickyHeaders_attachTo||h.stickyHeaders_appendTo),A=d.namespace+"stickyheaders ",E=o(h.stickyHeaders_yScroll||h.stickyHeaders_attachTo||l),O=o(h.stickyHeaders_xScroll||h.stickyHeaders_attachTo||l),T=x.children("thead:first"),b=T.children("tr").not(".sticky-false").children(),u=x.children("tfoot"),f=s(d,h),m=x.parent().closest("."+a.css.table).hasClass("hasStickyHeaders")?x.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],y=m.length?m.height():0,w=h.$sticky=x.clone().addClass("containsStickyHeaders "+a.css.sticky+" "+h.stickyHeaders+" "+d.namespace.slice(1)+"_extra_table").wrap('<div class="'+a.css.stickyWrap+'">'),C=w.parent().addClass(a.css.stickyHide).css({position:S.length?"absolute":"fixed",padding:parseInt(w.parent().parent().css("padding-left"),10),top:f+y,left:0,visibility:"hidden",zIndex:h.stickyHeaders_zIndex||2}),M=w.children("thead:first"),I,D="",z=function(q,ee){var we,ie,le,ye,Ee,fe=q.filter(":visible"),rt=fe.length;for(we=0;we<rt;we++)ye=ee.filter(":visible").eq(we),Ee=fe.eq(we),Ee.css("box-sizing")==="border-box"?ie=Ee.outerWidth():ye.css("border-collapse")==="collapse"?l.getComputedStyle?ie=parseFloat(l.getComputedStyle(Ee[0],null).width):(le=parseFloat(Ee.css("border-width")),ie=Ee.outerWidth()-parseFloat(Ee.css("padding-left"))-parseFloat(Ee.css("padding-right"))-le):ie=Ee.width(),ye.css({width:ie,"min-width":ie,"max-width":ie})},Q=function(q){return q===!1&&m.length?x.position().left:S.length?parseInt(S.css("padding-left"),10)||0:x.offset().left-parseInt(x.css("margin-left"),10)-o(l).scrollLeft()},W=function(){C.css({left:Q(),width:x.outerWidth()}),z(x,w),z(b,I)},me=function(q){if(x.is(":visible")){y=m.length?m.offset().top-E.scrollTop()+m.height():0;var ee,we=x.offset(),ie=s(d,h),le=o.isWindow(E[0]),ye=le?E.scrollTop():m.length?parseInt(m[0].style.top,10):E.offset().top,Ee=S.length?ye:E.scrollTop(),fe=h.stickyHeaders_includeCaption?0:x.children("caption").height()||0,rt=Ee+ie+y-fe,ct=x.height()-(C.height()+(u.height()||0))-fe,Ot=rt>we.top&&rt<we.top+ct?"visible":"hidden",_t=Ot==="visible"?a.css.stickyVis:a.css.stickyHide,De=!C.hasClass(_t),be={visibility:Ot};S.length&&(De=!0,be.top=le?rt-S.offset().top:S.scrollTop()),ee=Q(le),ee!==parseInt(C.css("left"),10)&&(De=!0,be.left=ee),be.top=(be.top||0)+(!le&&m.length?m.height():ie+y),De&&C.removeClass(a.css.stickyVis+" "+a.css.stickyHide).addClass(_t).css(be),(Ot!==D||q)&&(W(),D=Ot)}};if(S.length&&!S.css("position")&&S.css("position","relative"),w.attr("id")&&(w[0].id+=h.stickyHeaders_cloneId),w.find("> thead:gt(0), tr.sticky-false").hide(),w.find("> tbody, > tfoot").remove(),w.find("caption").toggle(h.stickyHeaders_includeCaption),I=M.children().children(),w.css({height:0,width:0,margin:0}),I.find("."+a.css.resizer).remove(),x.addClass("hasStickyHeaders").bind("pagerComplete"+A,function(){W()}),a.bindEvents(c,M.children().children("."+a.css.header)),h.stickyHeaders_appendTo?o(h.stickyHeaders_appendTo).append(C):x.after(C),d.onRenderHeader)for(k=M.children("tr").children(),v=k.length,p=0;p<v;p++)d.onRenderHeader.apply(k.eq(p),[p,d,w]);O.add(E).unbind("scroll resize ".split(" ").join(A).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(A),function(oe){me(oe.type==="resize")}),d.$table.unbind("stickyHeadersUpdate"+A).bind("stickyHeadersUpdate"+A,function(){me(!0)}),h.stickyHeaders_addResizeEvent&&a.addHeaderResizeEvent(c),x.hasClass("hasFilters")&&h.filter_columnFilters&&(x.bind("filterEnd"+A,function(){var oe=o(document.activeElement).closest("td"),q=oe.parent().children().index(oe);C.hasClass(a.css.stickyVis)&&h.stickyHeaders_filteredToTop&&(l.scrollTo(0,x.position().top),q>=0&&d.$filters&&d.$filters.eq(q).find("a, select, input").filter(":visible").focus())}),a.filter.bindSearch(x,I.find("."+a.css.filter)),h.filter_hideFilters&&a.filter.hideFilters(d,w)),h.stickyHeaders_addResizeEvent&&x.bind("resize"+d.namespace+"stickyheaders",function(){W()}),me(!0),x.triggerHandler("stickyHeadersInit")}},remove:function(c,d,h){var p=d.namespace+"stickyheaders ";d.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(p).replace(/\s+/g," ")).next("."+a.css.stickyWrap).remove(),h.$sticky&&h.$sticky.length&&h.$sticky.remove(),o(l).add(h.stickyHeaders_xScroll).add(h.stickyHeaders_yScroll).add(h.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(p).replace(/\s+/g," ")),a.addHeaderResizeEvent(c,!0)}})}(t,window),function(o,l){"use strict";var s=o.tablesorter||{};o.extend(s.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),o(function(){var a="<style>body."+s.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+s.css.resizableContainer+" { position: relative; height: 1px; }."+s.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";o("head").append(a)}),s.resizable={init:function(r,c){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable");var d,h,p,v,k,x=r.$table,S=x.parent(),A=parseInt(x.css("margin-top"),10),E=c.resizable_vars={useStorage:s.storage&&c.resizable!==!1,$wrap:S,mouseXPosition:0,$target:null,$next:null,overflow:S.css("overflow")==="auto"||S.css("overflow")==="scroll"||S.css("overflow-x")==="auto"||S.css("overflow-x")==="scroll",storedSizes:[]};for(s.resizableReset(r.table,!0),E.tableWidth=x.width(),E.fullWidth=Math.abs(S.width()-E.tableWidth)<20,E.useStorage&&E.overflow&&(s.storage(r.table,"tablesorter-table-original-css-width",E.tableWidth),k=s.storage(r.table,"tablesorter-table-resized-width")||"auto",s.resizable.setWidth(x,k,!0)),c.resizable_vars.storedSizes=v=(E.useStorage?s.storage(r.table,s.css.resizableStorage):[])||[],s.resizable.setWidths(r,c,v),s.resizable.updateStoredSizes(r,c),c.$resizable_container=o('<div class="'+s.css.resizableContainer+'">').css({top:A}).insertBefore(x),p=0;p<r.columns;p++)h=r.$headerIndexed[p],k=s.getColumnData(r.table,r.headers,p),d=s.getData(h,k,"resizable")==="false",d||o('<div class="'+s.css.resizableHandle+'">').appendTo(c.$resizable_container).attr({"data-column":p,unselectable:"on"}).data("header",h).bind("selectstart",!1);s.resizable.bindings(r,c)}},updateStoredSizes:function(r,c){var d,h,p=r.columns,v=c.resizable_vars;for(v.storedSizes=[],d=0;d<p;d++)h=r.$headerIndexed[d],v.storedSizes[d]=h.is(":visible")?h.width():0},setWidth:function(r,c,d){r.css({width:c,"min-width":d?c:"","max-width":d?c:""})},setWidths:function(r,c,d){var h,p,v=c.resizable_vars,k=o(r.namespace+"_extra_headers"),x=r.$table.children("colgroup").children("col");if(d=d||v.storedSizes||[],d.length){for(h=0;h<r.columns;h++)s.resizable.setWidth(r.$headerIndexed[h],d[h],v.overflow),k.length&&(p=k.eq(h).add(x.eq(h)),s.resizable.setWidth(p,d[h],v.overflow));p=o(r.namespace+"_extra_table"),p.length&&!s.hasWidget(r.table,"scroller")&&s.resizable.setWidth(p,r.$table.outerWidth(),v.overflow)}},setHandlePosition:function(r,c){var d,h=r.$table.height(),p=c.$resizable_container.children(),v=Math.floor(p.width()/2);s.hasWidget(r.table,"scroller")&&(h=0,r.$table.closest("."+s.css.scrollerWrap).children().each(function(){var k=o(this);h+=k.filter('[style*="height"]').length?k.height():k.children("table").height()})),!c.resizable_includeFooter&&r.$table.children("tfoot").length&&(h-=r.$table.children("tfoot").height()),d=parseFloat(o.fn.jquery)>=3.3?0:r.$table.position().left,p.each(function(){var k=o(this),x=parseInt(k.attr("data-column"),10),S=r.columns-1,A=k.data("header");A&&(!A.is(":visible")||!c.resizable_addLastColumn&&s.resizable.checkVisibleColumns(r,x)?k.hide():(x<S||x===S&&c.resizable_addLastColumn)&&k.css({display:"inline-block",height:h,left:A.position().left-d+A.outerWidth()-v}))})},checkVisibleColumns:function(r,c){var d,h=0;for(d=c+1;d<r.columns;d++)h+=r.$headerIndexed[d].is(":visible")?1:0;return h===0},toggleTextSelection:function(r,c,d){var h=r.namespace+"tsresize";c.resizable_vars.disabled=d,o("body").toggleClass(s.css.resizableNoSelect,d),d?o("body").attr("unselectable","on").bind("selectstart"+h,!1):o("body").removeAttr("unselectable").unbind("selectstart"+h)},bindings:function(r,c){var d=r.namespace+"tsresize";c.$resizable_container.children().bind("mousedown",function(h){var p,v=c.resizable_vars,k=o(r.namespace+"_extra_headers"),x=o(h.target).data("header");p=parseInt(x.attr("data-column"),10),v.$target=x=x.add(k.filter('[data-column="'+p+'"]')),v.target=p,v.$next=h.shiftKey||c.resizable_targetLast?x.parent().children().not(".resizable-false").filter(":last"):x.nextAll(":not(.resizable-false)").eq(0),p=parseInt(v.$next.attr("data-column"),10),v.$next=v.$next.add(k.filter('[data-column="'+p+'"]')),v.next=p,v.mouseXPosition=h.pageX,s.resizable.updateStoredSizes(r,c),s.resizable.toggleTextSelection(r,c,!0)}),o(document).bind("mousemove"+d,function(h){var p=c.resizable_vars;!p.disabled||p.mouseXPosition===0||!p.$target||(c.resizable_throttle?(clearTimeout(p.timer),p.timer=setTimeout(function(){s.resizable.mouseMove(r,c,h)},isNaN(c.resizable_throttle)?5:c.resizable_throttle)):s.resizable.mouseMove(r,c,h))}).bind("mouseup"+d,function(){c.resizable_vars.disabled&&(s.resizable.toggleTextSelection(r,c,!1),s.resizable.stopResize(r,c),s.resizable.setHandlePosition(r,c))}),o(l).bind("resize"+d+" resizeEnd"+d,function(){s.resizable.setHandlePosition(r,c)}),r.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(d+" "),function(){s.resizable.setHandlePosition(r,c)}).bind("resizableReset"+d,function(){s.resizableReset(r.table)}).find("thead:first").add(o(r.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+d,function(){var h=c.resizable_vars.storedSizes.length===0;return s.resizableReset(r.table),s.resizable.setHandlePosition(r,c),c.resizable_vars.storedSizes=[],h})},mouseMove:function(r,c,d){if(!(c.resizable_vars.mouseXPosition===0||!c.resizable_vars.$target)){var h,p=0,v=c.resizable_vars,k=v.$next,x=v.storedSizes[v.target],S=d.pageX-v.mouseXPosition;if(v.overflow){if(x+S>0){for(v.storedSizes[v.target]+=S,s.resizable.setWidth(v.$target,v.storedSizes[v.target],!0),h=0;h<r.columns;h++)p+=v.storedSizes[h];s.resizable.setWidth(r.$table.add(o(r.namespace+"_extra_table")),p)}k.length||(v.$wrap[0].scrollLeft=r.$table.width())}else v.fullWidth?(v.storedSizes[v.target]+=S,v.storedSizes[v.next]-=S,s.resizable.setWidths(r,c)):(v.storedSizes[v.target]+=S,s.resizable.setWidths(r,c));v.mouseXPosition=d.pageX,r.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(r,c){var d=c.resizable_vars;s.resizable.updateStoredSizes(r,c),d.useStorage&&(s.storage(r.table,s.css.resizableStorage,d.storedSizes),s.storage(r.table,"tablesorter-table-resized-width",r.$table.width())),d.mouseXPosition=0,d.$target=d.$next=null,r.$table.triggerHandler("stickyHeadersUpdate"),r.$table.triggerHandler("resizableComplete")}},s.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(r,c,d,h){s.resizable.init(d,h)},format:function(r,c,d){s.resizable.setHandlePosition(c,d)},remove:function(r,c,d,h){if(d.$resizable_container){var p=c.namespace+"tsresize";c.$table.add(o(c.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+p),d.$resizable_container.remove(),s.resizable.toggleTextSelection(c,d,!1),s.resizableReset(r,h),o(document).unbind("mousemove"+p+" mouseup"+p)}}}),s.resizableReset=function(a,r){o(a).each(function(){var c,d,h=this.config,p=h&&h.widgetOptions,v=p.resizable_vars;if(a&&h&&h.$headerIndexed.length){for(v.overflow&&v.tableWidth&&(s.resizable.setWidth(h.$table,v.tableWidth,!0),v.useStorage&&s.storage(a,"tablesorter-table-resized-width",v.tableWidth)),c=0;c<h.columns;c++)d=h.$headerIndexed[c],p.resizable_widths&&p.resizable_widths[c]?s.resizable.setWidth(d,p.resizable_widths[c],v.overflow):d.hasClass("resizable-false")||s.resizable.setWidth(d,"",v.overflow);h.$table.triggerHandler("stickyHeadersUpdate"),s.storage&&!r&&s.storage(this,s.css.resizableStorage,[])}})}}(t,window),function(o){"use strict";var l=function(c){var d=a.storage(c.table,"tablesorter-savesort");return d&&d.hasOwnProperty("sortList")&&o.isArray(d.sortList)?d.sortList:[]},s=function(c,d){return(d||l(c)).join(",")!==c.sortList.join(",")},a=o.tablesorter||{};a.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(c,d,h,p){d.format(c,h,p,!0)},format:function(c,d,h,p){var v,k=d.$table,x=h.saveSort!==!1,S={sortList:d.sortList},A=a.debug(d,"saveSort");A&&(v=new Date),k.hasClass("hasSaveSort")?x&&c.hasInitialized&&a.storage&&s(d)&&(a.storage(c,"tablesorter-savesort",S),A&&console.log("saveSort >> Saving last sort: "+d.sortList+a.benchmark(v))):(k.addClass("hasSaveSort"),S="",a.storage&&(S=l(d),A&&console.log('saveSort >> Last sort loaded: "'+S+'"'+a.benchmark(v)),k.bind("saveSortReset",function(E){E.stopPropagation(),a.storage(c,"tablesorter-savesort","")})),p&&S&&S.length>0?d.sortList=S:c.hasInitialized&&S&&S.length>0&&s(d,S)&&a.sortOn(d,S))},remove:function(c,d){d.$table.removeClass("hasSaveSort"),a.storage&&a.storage(c,"tablesorter-savesort","")}})}(t),t.tablesorter})}),qv={},_7(qv,{default:function(){return Yv}}),x7=Uv(Vv()),k7(qv,Uv(Vv()));var g;ir=x7,g=ir,Wv=g.default,S7=Ri(ir,["default"]),Yv=Wv!==void 0?Wv:S7}}),A7={};bi(A7,{default:function(){return Yv}});var Yj=Gt({"https-url:https://esm.archive.org/tablesorter?deps=jquery@3.6.1":function(){_d(),C7(),C7()}}),wr,Kd=Gt({"components/archive/archive.js":function(){$s(),Si(),Rx(),vj(),zx(),wj(),_j(),kj(),xj(),Sj(),Cj(),bo(),r3(),i3(),Lx(),Aj(),Oj(),Ej(),Tj(),Yp(),jj(),Pj(),Ij(),Uj(),wr=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"paramsToJSON",value:function(){return t3()}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||window.DocumentTouch&&_instanceof(document,window.DocumentTouch)}},{key:"emulate_setup",value:function(e){e.toString=function(){return e.identifier},g.emulator=new IALoader(ne("#canvas").get(0),e,null),ne("#theatre-ia .iconochive-unmute, #theatre-ia .iconochive-mute").hide(),Ai.get("unmute")?(ne("#theatre-ia .iconochive-unmute").show(),g.emulator.unmute()):(ne("#theatre-ia .iconochive-mute").show(),g.emulator.mute()),g.theatre_controls_position(),ne(window).on("resize  orientationchange",function(){clearTimeout(g.theatre_controls_position_throttler),g.theatre_controls_position_throttler=setTimeout(g.theatre_controls_position,250)})}},{key:"emulate",value:function(){return ne(".ui-keyboard").prepend('\n      <button style="position:relative;top:-5px;right:-8px;" type="button"\n              class="close js-emulate-keyboard" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span></button>').appendTo(ne("#emulate .posrel")).addClass("showing"),ne("#jsmessSS").fadeOut("slow"),ne("#canvasholder").css("visibility","visible"),g.emulator.start({hasCustomCSS:!0}),ne(".js-ajs-emulate-fullscreen").on("click",g.emulator.requestFullScreen),Qr(".js-emulate-keyboard",function(){return ne(".ui-keyboard").removeClass("showing").hide()}),setTimeout(g.theatre_controls_position,100),setTimeout(g.theatre_controls_position,500),setTimeout(g.theatre_controls_position,3e3),setTimeout(g.theatre_controls_position,1e4),!1}},{key:"theatre_controls_position",value:function(e,t,o,l){var s=e,a=l&&!e;if(!(!a&&(e||(s=ne("#canvas")),!s.length))){var r=a?l:s.height()||0,c=a?o:s.width()||0;!a&&typeof t!="undefined"&&ne("#theatre-controls").offset({top:t});var d=Math.round((ne("#theatre-ia-wrap").width()-ne("#theatre-controls").width()-c)/2);On("width",c),On("right_gutter_width",d),ne("#theatre-controls").css({height:r,visibility:"visible",right:Math.max(20,d/2)})}}},{key:"theatresize",value:function(e){g.theatresize_maxheight||(g.theatresize_maxheight=null);var t=function(){var o=100,l=1e3,s=Math.min(ne(window).width(),400),a=ne(window).height()-(ne("#navwrap1").height()||0)-o;g.theatresize_maxheight&&(a=Math.min(a,g.theatresize_maxheight)),a=Math.max(a,s);var r=Math.min(a,l);ne("#theatre-ia-wrap").addClass("resized").css("height",r),e&&e(ne("#theatre-ia-wrap").height()||0)};t(),ne(window).on("resize  orientationchange",function(){clearTimeout(g.theatresize_throttler),g.theatresize_throttler=setTimeout(t,250)})}},{key:"carouselsize",value:function(e,t){var o,l=ne(e),s=l.find("img.carousel-image").map(function(a,r){var c=ne.Deferred(),d;return r.complete?d=c.resolve(r.naturalHeight).promise():(r.addEventListener("load",function(){c.resolve(r.naturalHeight)}),d=c),d}).get();(o=ne).when.apply(o,_toConsumableArray(s)).then(function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var d,h=l.height(),p=(d=Math).max.apply(d,_toConsumableArray(r));h>p&&(l.css("maxHeight",p),t&&(g.theatresize_maxheight=p,ne(window).trigger("resize")))})}},{key:"popover_menu",value:function(e,t){var o={trigger:"hover focus click",container:e,content:t.content,html:!0};t.title&&(o.title=t.title),t.placement&&(o.placement=t.placement),t.trigger&&(o.trigger=t.trigger),ne(e).popover(o)}},{key:"date_switcher",value:function(e){var t="#date_switcher";ne(t).tooltip({html:!0,trigger:"manual",placement:"bottom",title:e}).on("mouseenter focusin",function(){ne(t).parent().find(".tooltip").length||ne(this).tooltip("show")}),ne(".sortbar").on("mouseleave",function(){On("not hovering sortbar anymore"),ne(t).tooltip("hide")}),ne(t).on("shown.bs.tooltip",function(){ne(t).parent().find(".date_switcher").on("click",function(){ne(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),ne(this).addClass("in")})})}},{key:"lists_v_tiles_setup",value:function(e){var t="tiles",o=Ai.get("view-".concat(e)),l=Ai.get("showdetails-".concat(e)),s=l==="showdetails"||l===void 0&&t==="lists";if(o==="lists"||!o&&t==="lists"){if(s)return;ne("body").removeClass("showdetails")}else ne("body").removeClass("lists".concat(s?"":" showdetails")).addClass("tiles")}},{key:"showdetails_toggle",value:function(e){var t=ne("body"),o=t.hasClass("showdetails")?"":"showdetails";On("showdetails_toggle() going to: ",o),Ai.set("showdetails-".concat(e),o,{path:"/",expires:30,domain:".archive.org"}),t.toggleClass("showdetails")}},{key:"tiles_toggle",value:function(e,t){var o=ne("body"),l=o.hasClass("tiles")?"lists":"tiles";return On("tiles_toggle() going to",l),o.removeClass("lists tiles").addClass(l),g.tiler(),Ai.set("view-".concat(t),l,{path:"/",expires:30,domain:".archive.org"}),!1}},{key:"inTab",value:function(){var e=ne(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return e.indexOf("forum")===0?e.split(" ").shift():e}},{key:"selector",value:function(){var e=g.inTab();if(e==="forum"||e==="posts"||e==="about")return!1;var t=!1;if(e){On("inTab",e);var o="#tabby-".concat(e.replace(" ","-"));if(e==="collection"||e==="collections"||e==="uploads"||e==="reviews"||e==="web archives")t="#".concat(ne(o.concat(" div.ikind.in:first")).attr("id"));else{var l=ne(o.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");t="#ikind-".concat(e).concat(l===""?"":"-").concat(l)}}else t="#ikind-".concat(ne(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),ne(t).length||(t="#ikind-search");return On("SELECTOR",t),t}},{key:"parent_hover",value:function(e){e.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(function(t){return ne(t.currentTarget).find(".item-parent").addClass("hoverin")}).mouseout(function(t){return ne(t.currentTarget).find(".item-parent").removeClass("hoverin")})}},{key:"tiler",value:function(e,t){ne("body").hasClass("tiles")||ne("body").hasClass("showdetails")&&ne(".sortbar input[name=showdetails]").prop("checked",!0);var o=e||g.selector();if(o!==!1){var l=ne(o).first();g.parent_hovered=g.parent_hovered||{},g.parent_hovered[o]||(g.parent_hover(l),g.parent_hovered[o]=!0)}}},{key:"ikind",value:function(e,t){var o="#".concat(t);On("ikind",t),ne(o).parent().find("div.ikind.in").hide(),ne(o).removeClass("hidden").addClass("in").show(),ne(o).parents(".tabby-data").find("a.ikind").removeClass("in"),ne(e).addClass("in"),g.tiler(o);var l=ne(o).parents(".tabby-data").find("select.ikind-mobile"),s=l.find("option:contains(".concat(ne(e).text(),")")),a=l.find("option:selected");return s.text().trim()!==a.text().trim()&&(On("changing ikind mobile now to ",s.text()),g.ikind_mobile_change_ignore_next=!0,s.attr("selected","selected")),!1}},{key:"ikind_mobile_change",value:function(e){if(g.ikind_mobile_change_ignore_next){g.ikind_mobile_change_ignore_next=!1;return}var t=ne(e).find("option:selected");On("ikind mobile changed to: ",t.text());var o=ne(e).parents(".tabby-data").find("a.ikind");if(o.length||(o=ne("body").find("a.ikind")),!!o.length){var l=o.filter(function(a,r){return ne(r).text()===t.text()}),s=l.attr("href");On("goto",s),s&&(s.substr(0,1)==="#"?ne("a.ikind[data-id=".concat(s.substr(1),"]")).click():location.href=s)}}},{key:"popState",value:function(e){if(g.pushState=typeof history.pushState!="undefined",On("popState(",e,") called, modern browser: ",g.pushState?"y":"n"),!e){var t=function(o){var l=Jf("tab",!0);l?l="#tabby-".concat(l,"-finder"):o?l="#tabby-".concat(o,"-finder"):l=".tabby-default-finder",g.pushState&&On("goto tab: ",l," ################################################### STATE"),g.tabby_no_pushState_next_click=!0,ne(l).click()};g.pushState&&ne(window).on("popstate",function(){return t()}),t()}}},{key:"tabby",value:function(e,t){On("AJS.tabby()",t);var o=t.replace(/tabby-/,"").trim();if(!(o==="uploads"||o==="reviews"||o==="collections"||o==="loans"||o==="web archives")){if(ne(".tabby-data.in").removeClass("in").hide(),ne("#".concat(t)).removeClass("hidden").addClass("in").show(),ne(".tabby").removeClass("in"),ne(e).parents(".tabby").addClass("in"),g.tabby_no_pushState_next_click)delete g.tabby_no_pushState_next_click;else if(g.pushState&&typeof history.pushState!="undefined"){var l=ne(e).attr("href"),s=location.href,a=location.protocol.concat("//",location.host,l);s!==a&&(On("pushState: ",l," ################################################### STATE"),history.pushState({},"",a))}(o==="collection"||o==="about")&&(o==="about"&&g.grafs(),g.tiler()),g.pushState&&(event==null||event.preventDefault())}}},{key:"collectionSummaryMoreClicked",value:function(){return g.tabby("#tabby-about-finder","tabby-about")}},{key:"head_img_dragdrop_setup",value:function(e){g.head_img_dragdrop_setup_done||(On("head_img_dragdrop_setup"),g.head_img_dragdrop_setup_done=!0,ne("#file-dropper-wrap").bind("mouseenter",function(){On("enter"),g.head_img_replaceable(e),ne("#file-dropper").show()}).bind("mouseleave",function(){On("ouddie"),g.file_picked||ne("#file-dropper").hide()}),ne("body").bind("dragover",function(t){return On("dragover"),t.stopPropagation(),t.preventDefault(),g.head_img_replaceable(e),ne("#file-dropper").addClass("drag_over").show(),!1}),ne("body").bind("dragleave",function(t){On("dragleave");var o=ne("#file-dropper-wrap").is(":hover")||ne("#file-dropper     ").is(":hover")||ne("#file-dropper-img ").is(":hover"),l=t.pageX||t.originalEvent.pageX,s=t.pageY||t.originalEvent.pageY;if(!o){var a=ne("#file-dropper-wrap"),r=a.offset(),c=r.left,d=r.top;l>=c&&l<=c+a.outerWidth()&&s>=d&&s<=d+a.outerHeight()&&(o=!0)}if(!o){var h=ne("#file-dropper"),p=h.offset(),v=p.left,k=p.top;l>=v&&l<=v+h.outerWidth()&&s>=k&&s<=k+h.outerHeight()&&(o=!0)}o||ne("#file-dropper").removeClass("drag_over").hide()}))}},{key:"head_img_replaceable",value:function(e){if(ne("#file-dropper").html().trim()===""){ne("#file-dropper").show().html('\n<div>\n<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"\n        title="cancel file upload" alt="cancel file upload">\n  &times;\n</button>\n<b>\n  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />\n</b><br/>\n<b>\n  Drag & Drop an image file here or\n</b>\n<button id="file-picker" type="button" class="btn btn-info btn-xs">\n  Pick image to upload\n</button>\n<form method="POST" action="/services/post-file.php?submit=1&identifier='.concat(e,'"\n      enctype="multipart/form-data" id="poster">\n  <div class="hidden">\n    <input id="file-selector" name="file" type="file" accept="image/*"/>\n  </div>\n  <input type="hidden" name="identifier" value="').concat(e,'"/>\n  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>\n  <div id="file-uploading">\n    Uploading your file..\n  </div>\n</form>\n</div>')),Qr("#file-picker",function(){return ne("#file-selector").click()}),ne("#file-cancel").bind("click",function(c){return g.cancelFile(),c.stopPropagation(),c.preventDefault(),!1});var t=function(){On("success!")},o=function(){var c=!1;typeof XMLHttpRequest=="undefined"&&(c="browser appears to not have HTML5 functionality"),c||(c=g.badFile());var d=new XMLHttpRequest;if(c||(On(g.file2post),d.upload||(c="browser submit setup failed")),c)return c;On("post");var h=Math.round(Date.now()/1e3);d.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",e,"&fname=",encodeURIComponent(g.file2post.name))),d.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),d.send(g.file2post),On("posted in background"),ne("#file-dropper").html("waiting for your tasks to queue");var p=!1,v=function(){On("STALKING..."),ne.getJSON("/metadata/".concat(e,"?rand=").concat(Math.random()),function(k){var x=k.pending_tasks&&k.tasks?k.tasks.length:0;if(!x)On("last update",k.item_last_updated,"vs now",h),k.item_last_updated<h?ne("#file-dropper").html("waiting for your tasks to queue"):(On("task(s) done!"),clearInterval(p),ne("#file-dropper").html("reloading page with your image"),window.location.reload());else{var S=k.tasks.filter(function(A){return A.wait_admin===2}).length;S?(ne("#file-dropper").html('\n                  <div class="alert alert-danger">\n                    status task failure -- an admin will need to resolve\n                  </div>'),clearInterval(p)):ne("#file-dropper").html("waiting for your ".concat(x," tasks to finish"))}})};return p=setInterval(v,2e3),""};ne("#file-selector").bind("click",function(){g.file_picked="selected"}).bind("change",function(c){if(On("file dropdown selected!"),ne("#file-submit, #file-cancel").show(),On(c),c.target&&c.target.files&&c.target.files.length){var d;d=_slicedToArray(c.target.files,1),g.file2post=d[0],g.previewFile()}}),ne("#file-dropper").bind("drop",function(c){var d,h;if(c.stopPropagation(),c.preventDefault(),ne("#file-dropper").removeClass("drag_over"),ne("#file-submit, #file-cancel").show(),(h=(d=c.originalEvent)==null?void 0:d.dataTransfer)!=null&&h.files){On(c.originalEvent.dataTransfer.files),g.file_picked="dropped";var p;p=_slicedToArray(c.originalEvent.dataTransfer.files,1),g.file2post=p[0],g.previewFile(),ne("#file-selector").files=c.originalEvent.dataTransfer.files}}),ne("#poster").bind("focusin",function(c){On(c.type),ne("#file-uploading").show()}).bind("submit",function(c){On("submit!"),ne("#file-uploading").show();var d=o();return d===""?(t(),c.stopPropagation(),c.preventDefault(),!1):g.file_picked==="dropped"?(g.cancelFile(),alert("Failure: ".concat(d)),c.stopPropagation(),c.preventDefault(),!1):!0});var l=ne("#file-dropper-img").outerWidth(),s=ne("#file-dropper-img").outerHeight(),a=ne("#file-dropper").outerWidth(),r=ne("#file-dropper").outerHeight();ne("#file-dropper").css({left:Math.round((l-a)/2),top:Math.round((s-r)/2)}),qu&&(ne("#file-dropper > form > div.hidden").removeClass("hidden"),ne("#file-dropper > button").addClass("hidden"))}}},{key:"previewFile",value:function(){if(ne("#file-dropper .uppreview").remove(),g.badFile())return g.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;var e=new FileReader;return e.onload=function(t){On(t.target);var o=new Image;o.src=t.target.result,ne("#file-dropper").append(o),ne(o).addClass("uppreview")},On(g.file2post),e.readAsDataURL(g.file2post),!0}},{key:"cancelFile",value:function(){ne("#file-dropper .uppreview").remove(),ne("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),g.file_picked&&delete g.file_picked,g.file2post&&delete g.file2post}},{key:"badFile",value:function(){var e=!1;if(!e&&!g.file2post&&(e="file is missing"),!e&&g.file2post.size>8e6&&(e="file is over 8MB in size"),!e){var t=g.file2post.type.toLowerCase();t!=="image/jpeg"&&t!=="image/png"&&t!=="image/gif"&&(e="file not required format of JPEG or PNG or GIF")}return e&&alert(e),e}},{key:"drawPDF",value:function(e,t){var o="/download/".concat(e,"/",e,"_pdf.zip/",e,"_pdf/",e,"_"),l=!1,s=!1,a=!0,r=!1,c=void 0;try{for(var d=Object.keys(t)[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value,v=p.slice(0,4);if(s===!1&&(s=v),s!==v){l=!0;break}}}catch(oe){r=!0,c=oe}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}var k="",x=k,S=666,A=!0,E=!1,O=void 0;try{for(var T=Object.keys(t)[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u!=="yyyymmdd"){var f=t[u].split(","),m=u.slice(0,4),y=parseInt(u.slice(4,6),10),w=parseInt(u.slice(6,8),10),C=m.concat("-",y),M=!1,I="";C!==S&&(y===1?I="January":y===2?I="February":y===3?I="March":y===4?I="April":y===5?I="May":y===6?I="June":y===7?I="July":y===8?I="August":y===9?I="September":y===10?I="October":y===11?I="November":y===12?I="December":y===void 0?I="Single Page PDFs":I="Unknown_".concat(y),l&&(I=m.concat(" ",I)),x+=x?"</div><!--mo--><br/>":"",x+='\n<a href="#'.concat(I,",").concat(m,'" class="year-month" data-toggle="#m').concat(C,'">\n  <span class="iconochive-folder"></span> ').concat(I,'\n</a>\n<div class="mo" id="m').concat(C,'">')),(w===void 0||w==="")&&(M=!0),M?x+='<div class="day">':x+='\n<div class="day">\n<a href="#'.concat(C,"-").concat(w,'" class="year-month-day" data-toggle="#m').concat(C,"d").concat(w,'">\n  <span class="iconochive-folder" /> ').concat(w,'\n</a>\n<div class="pages" id="m').concat(C,"d").concat(w,'">');for(var D=1,z=void 0,Q=void 0,W=0;W<f.length;W++)if(z=f[W],!!z){D>0&&(D=1-z),Q=parseInt(z,10)+D,z="0000".concat(z),z=z.substr(z.length-4,4);var me=o.concat(z,".pdf");x+='<a href="'.concat(me,'">[').concat(Q,"]</a> ")}M?x+="</div>":x+="</div><!--pages--></div><!--day-->",S=C}}}catch(oe){E=!0,O=oe}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}x+="</div><!--mo-->",ne("#pdfs .replaced").html(x),Qr("#pdfs .year-month",function(oe){return ne(ne(oe.currentTarget).data().toggle).toggle()}),Qr("#pdfs .year-month-day",function(oe){return ne(ne(oe.currentTarget).data().toggle).toggle()})}},{key:"grafs",value:function(){var e=ne("#grafs_views_api"),t=ne("#grafs2"),o=t.attr("data-id");On("loading grafs"),e.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),t.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();var l="<h2>";ne.get("/details/".concat(o,"&grafs=1&v=3"),function(s){var a=s.split(l);a.length>=3&&(ne("#activity-reviewsN").html(a[1]).parents(".activity-box").show(),ne("#activity-forumN  ").html(a[2]).parents(".activity-box").show()),a.length===6?(e.html(l+a[3]),t.html(l+a[5])):(e.html("(graph data not available)"),t.html("(graph data not available)")),g.plot_graphs()}),Gp.setUpTopRegionsTable()}},{key:"quick_down",value:function(e,t){var o="#".concat(e);if(ne(".format-group.in").length)ne(".format-group").slideDown(400),setTimeout(function(){ne(".format-group.in").removeClass("in"),ne(".download-button").html("DOWNLOAD OPTIONS")},400),ne(o).slideUp();else{var l=ne(t).text(),s=ne(o).parents(".format-group");ne(".download-button").html(l.concat(" FILES")),s.addClass("in"),ne(".format-group:not(.in)").slideUp(),ne(o).slideDown()}return!1}},{key:"arg",value:function(e,t){for(var o=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),l=0;l<o.length;l++)if(o[l].slice(0,o[l].indexOf("="))===e){var s=o[l].slice(o[l].indexOf("=")+1);return s.length>0?unescape(s):""}return""}},{key:"scrolled",value:function(){var e=ne(window).scrollTop(),t=".more_search:visible",o=ne(t);if(o.length){var l=o.offset().top+o.outerHeight()-ne(window).height()-40;e>l&&(On("hit rock bottom > ",l),g.more_searching||ne(t.concat(" > a")).get(0).click())}}},{key:"more_search",value:function(e,t,o){var l=g.selector();if(l===!1)return!1;var s=l.replace(/#ikind-/,""),a=ne(l.concat(" .more_search")),r=l;if(typeof g.page_map=="undefined"&&(g.page_map={}),typeof g.page_map[r]=="undefined"&&(g.page_map[r]=o||1),g.page_map[r]<0)return!1;g.page_map[r]+=1;var c=g.page_map[r];a.find(".more-search-fetching").show(),g.more_searching=!0;var d=t+c,h=location.protocol.concat("//",location.host,d);return d+="&scroll=1",On("url: ",d),On("urlreplace",h),On("more_search(selector=",l,"sort=",s,"page=",c,"url=",d,")"),ne.get(d,function(p){if(p.length<100&&ne(p).find("div.no-results")){a.find(".more-search-fetching, a.btn").hide(),g.page_map[r]=-1,g.more_searching=!1;return}g.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",h);var v=ne(l).attr("id");g.tilerPREV&&g.tilerPREV.unsourced&&g.tilerPREV.unsourced[v]&&delete g.tilerPREV.unsourced[v];var k=ne(l.concat(" .results"));k.append(g.addNotes(g.addingNotesKind,p)),g.tiler(l),a.find(".more-search-fetching").hide(),g.more_searching=!1,g.parent_hover(k),ne(l.concat(" img")).on("load",function(){clearTimeout(g.more_search_throttler),g.more_search_throttler=setTimeout(g.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(c)}),!1}},{key:"embed_codes_adjust",value:function(){On("showing embeds!");var e=!0,t=!1,o=void 0;try{for(var l=["embedcodehere","embedcodehereWP"][Symbol.iterator](),s;!(e=(s=l.next()).done);e=!0){var a=s.value,r=ne("#".concat(a));r.removeAttr("rows").css("height","");var c=r.text();ne("body").prepend(ne("<div/>").attr({id:"".concat(a,"Shadow"),class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(c));var d=ne("#".concat(a,"Shadow")).outerHeight()+15;On(a,"bestie height",d,"for current width",r.width()),ne("#".concat(a,"Shadow")).remove(),r.height(d)}}catch(h){t=!0,o=h}finally{try{!e&&l.return!=null&&l.return()}finally{if(t)throw o}}}},{key:"modal_add",value:function(e,t){ne(e).length&&ne(e).remove();var o=e.replace(/#/,""),l=t.prepended_el,s=l===void 0?document.body:l;return ne(s).prepend('\n<div id="'.concat(o,'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header ').concat(t.headerClass!==void 0?t.headerClass:"modal-header-std",'">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span>\n      </button>\n      <h1 class="modal-title">\n        ').concat(typeof t.title=="undefined"?"Confirmed":t.title,'\n      </h1>\n    </div>\n    <div id="').concat(o,'-body">\n      ').concat(typeof t.body=="undefined"?"":t.body,"\n    </div>\n  </div>\n</div>\n</div>")),ne(e)}},{key:"isFavoriteSuccessful",value:function(e){return e.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}},{key:"modal_go",value:function(e,t){var o=t,l=ne(e);if(typeof ne.fn.modal=="undefined"){if(t.recalling)throw Error("still cant modal -- are there two jquery on the page?");return t.recalling=1,Promise.resolve().then(function(){return P5(),Ov}).then(function(){return g.modal_go(e,t)}),!1}o.favorite&&(o.login=!0,Ai.get("logged-in-user")!==void 0&&(So.toggle_favorite_icon(l,!0),So.update_favorite_count(!0)));var s=l.attr("data-target"),a=o.favorite?l.attr("data-href"):l.attr("href");if((!o.ignore_lnk||o.add_modal)&&g.modal_add(s,o),o.shown&&ne(s).on("shown.bs.modal",function(){o.shown()}),o.follow_link_on_dismiss&&ne(s).on("hidden.bs.modal",function(){On("modal hidden, going to ",a,".."),ne("body").removeClass("blurry"),location.href=a}),o.login&&Ai.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;var r="/account/login";return ne.get(r,function(c){var d=ne(c).find(".container-ia > div").length?ne(c).find(".container-ia > div").get(0):c;ne(s).addClass("login-modal"),ne(s.concat("-body")).html(d),ne(s).modal("show");var h=ne(s.concat("-body form:has(input[type=submit])"));if(h.length){var p=ne(".password_icon")[0];navigator.cookieEnabled===!0?(ne(".cookie-warning").addClass("hidden"),ne(".login-form :input").prop("disabled",!1),p.src="/images/eye-crossed.svg",p.alt="Show text",ne(".password_icon").on("click",function(){var v=ne(".input-password")[0];v.type==="password"?(v.type="text",p.src="/images/eye.svg",p.alt="Hide text"):(v.type="password",p.src="/images/eye-crossed.svg",p.alt="Show text")}),ne(".input-email, .input-password").on("focus",function(){ne(".password-error").html(""),ne(".reset-password").show()})):(ne(".cookie-warning").removeClass("hidden"),ne(".login-form :input").prop("disabled",!0)),o3({$form:h,url:r,selector:s,element:e,conf:o})}}),!1}return o.auto_remove&&(o.auto_close=!0,ne(s).on("hidden.bs.modal",function(){ne(s).remove(),ne("body").removeClass("blurry")})),o.ignore_lnk?ne(s).modal("show"):(ne.get(a,function(c){if(o.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),g.isFavoriteSuccessful(c))setTimeout(function(){o.postLogin&&location.reload(!0)},g.modalInterval);else{So.toggle_favorite_icon(l,!1),So.update_favorite_count(!1);var d=ne(s),h='\n              <center>\n                <p class="favorite-failure-message">\n                  There was an error adding the favorite. If the problem persists, please contact support.\n                </p>\n              </center>\n            ';d.find(".modal-title").html("Failed"),d.find("".concat(s,"-body")).html(h),ne(s).modal("show")}else ne(s).modal("show"),o.auto_close&&setTimeout(function(){return ne(s).modal("hide")},g.modalInterval)}),ne(s).on("hidden.bs.modal",function(){ne(s).remove()})),o.center&&ne(s.concat(" .modal-dialog")).center(),o.auto_close&&o.ignore_lnk&&setTimeout(function(){return ne(s).modal("hide")},g.modalInterval),!1}},{key:"suffixFmt",value:function(e,t){return t.min>=0&&t.max<=5?Math.round(e*10,1)/10:e>=1e6?(e/1e6).toFixed(0).concat(" M"):e>=1e3?(e/1e3).toFixed(0).concat(" K"):e.toFixed(0)}},{key:"suffixFmtPercent",value:function(e,t){return g.suffixFmt(e,t).concat("%")}},{key:"pluralize",value:function(e,t,o){return e===1?t:o}},{key:"viewMessage",value:function(e,t,o){var l=t.length,s="<table><tr>";s+='<th class="tt-date" rowspan="'.concat(l,'">').concat(e[2]," ").concat(e[3],"</th>"),s+='<td class="tt-number">'.concat(ha(t[0]),"</td>"),s+="<td>".concat(g.pluralize(t[0],"View","Views")," ").concat(o[0],"</td></tr>");for(var a=1;a<l;a++)s+='<tr><td class="tt-number">'.concat(ha(t[a]),"</td>"),s+="<td>".concat(g.pluralize(t[a],"View","Views")," ").concat(o[a],"</td></tr>");return s+="<table>",s}},{key:"plot_graphs",value:function(){ne(".js-ajs-plotter").each(function(e,t){var o=JSON.parse(ne(t).val());g.plotter(function(){var l,s,a;On("js-ajs-plotter",o);var r=JSON.parse(o.cfg);o.dayBarsNoPoints&&(r.dayBarsNoPoints=!0),o.dark&&(r.dark=!0),((l=r.yaxis)==null?void 0:l.tickFormatter)==="AJS.suffixFmt"&&(r.yaxis.tickFormatter=g.suffixFmt),o.fmt==="AJS.broadcastsTooltip"?o.fmt=g.broadcastsTooltip:o.fmt==="AJS.airedTooltip"?o.fmt=g.airedTooltip:((s=o.fmt)==null?void 0:s.length)===3&&o.fmt[0]==="AJS.graphsTooltip"?o.fmt=g.graphsTooltip(o.fmt[1],o.fmt[2]):((a=o.fmt)==null?void 0:a.length)===3&&o.fmt[0]==="AJS.statsTooltip"&&(o.fmt=g.statsTooltip(o.fmt[1],o.fmt[2])),g.plot(o.id,r,o.fmt,JSON.parse(o.pts),o.many)})})}},{key:"broadcastsTooltip",value:function(e,t){var o=new Date(e).toUTCString().split(" ");return"<nobr>".concat(ha(t)," broadcasts on ").concat(o[2]," ").concat(o[3],"</nobr>")}},{key:"airedTooltip",value:function(e,t){var o=new Date(e).toDateString().split(" ");return"<nobr>Aired ".concat(ha(t)," times on ").concat(o[1]," ").concat(o[2],"</nobr>")}},{key:"graphsTooltip",value:function(e,t){return function(o,l){var s=new Date(o).toDateString().split(" ");return"<nobr>".concat(ha(l)," ").concat(e," in ").concat(s[1]," ").concat(t==="day"?s[2]:""," ").concat(s[3],"</nobr>")}}},{key:"statsTooltip",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o;switch(e){case"main":{o=function(s){var a=s.y,r=s.t;return"".concat(ha(a)," total items in <strong>").concat(r[2]," ").concat(r[3],"</strong>")};break}case"item":{o=function(s){var a=s.t,r=s.item;return"<strong>".concat(a[2]," ").concat(a[3],"</strong>: ").concat(ha(r.datapoint[1])," ").concat(g.pluralize(r.datapoint[1],"Item","Items"))};break}case"download":{o=function(s){var a=s.t,r=s.item;return"<strong>".concat(a[2]," ").concat(a[3],"</strong>: ").concat(ha(r.datapoint[1])," ").concat(g.pluralize(r.datapoint[1],"Download","Downloads"))};break}case"view":{o=function(s){var a=s.t,r=s.values,c=s.labels;return g.viewMessage(a,r,c)};break}default:break}var l=function(s,a,r,c,d){var h=new Date(s-t).toUTCString().split(" "),p={x:s,y:a,item:r,t:h,values:c,labels:d};return'<span style="white-space: nowrap;">'.concat(o(p),"</span>")};return l}},{key:"plotter",value:function(e){if(typeof g.plotters=="undefined"&&(g.plotters=[]),e)g.plotters.push(e),e();else{On("plotter() resize/orient change",g.plotters.length,"graphs to resize");for(var t=0;t<g.plotters.length;t++)g.plotters[t]()}}},{key:"plot",value:function(e,t,o,l,s){var a=t;a.xaxis||(a.xaxis={mode:"time",color:a.dark?"#ccc":"#545454"}),a.yaxis||(a.yaxis={color:a.dark?"#ccc":"#545454"});var r;s&&a.barWidth?r=a.barWidth*1:a.barWidth?r=a.barWidth*86400*1e3:r=(a.dayBarsNoPoints?1:7)*86400*1e3,a.color||(a.color="#385C74"),a.stack?a.series={stack:!0,bars:{show:!0,barWidth:r,fill:!0},legend:{show:!0}}:a.series={bars:{show:!0,barWidth:r,fill:.6,color:a.color},color:a.color,points:{show:!a.dayBarsNoPoints}},typeof a.grid=="undefined"&&(a.grid={borderColor:a.dark?"#333":"#aaa",hoverable:!0}),a.dark&&(a.grid.backgroundColor="#002b36"),a.tip||(a.tip={}),a.tip.id||(a.tip.id=e),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});var c=[];a.series.stack?c=l:(c=s?l:typeof l.data=="undefined"?[{data:l}]:[l],a.dayBarsNoPoints&&!a.noLabel&&(c[0].label=e));var d="#".concat(e);Promise.resolve().then(function(){return Vj(),U5}).then(function(){Promise.all([Promise.resolve().then(function(){return qj(),t7}),Promise.resolve().then(function(){return Wj(),f7})]).then(function(){var h=ne.plot(ne(d),c,a);o&&ne(d).bind("plothover",function(p,v,k){if(!k){window.GraphPriorDatapoint=[0,0,0],ne("#gtip").remove();return}if(window.GraphPriorDatapoint!==k.datapoint){window.GraphPriorDatapoint=k.datapoint,ne("#gtip").remove();var x=[],S=[];if(a.stack)for(var A=h.getData(),E=0;E<A.length;E++){var O=A[E];S[E]=O.label;for(var T=0;T<O.data.length;T++)if(O.data[T][0]===k.datapoint[0]){x[E]=O.data[T][1];break}}var b=o(k.datapoint[0],k.datapoint[1],k,x,S),u=ne(d),f=u.offset(),m=a.tip.pegTo;m||(m=v.pageX-f.left>u.width()/2?"right":"left");var y=m==="right"?u.width()-(v.pageX-f.left-20):v.pageX-f.left+20;On(m,y),ne("#".concat(a.tip.id)).append('<div id="gtip" class="roundbox5 grafs-tooltip" style="top:'.concat(v.pageY-f.top,"px; ").concat(m,":").concat(y,'px">').concat(b,"</div>")).fadeIn(200)}})})})}},{key:"makeMouseElementAccessible",value:function(e){ne(e).attr("tabindex","0").on("keypress keydown",function(o){if(o.type!=="click"){var l=o.keyCode||o.which,s=32,a=13;[s,a].indexOf(l)!==-1&&ne(this).click()}})}},{key:"autocomplete",value:function(e,t,o){Promise.resolve().then(function(){return g3(),ev}).then(function(){ne(e).autocomplete({appendTo:"#autocompletee",minLength:0,source:function(l,s){s(ne.ui.autocomplete.filter(t,l.term.split(/,\s*/).pop()))},focus:function(){return!1},select:function(s,a){if(o){var r=this.value.split(/,\s*/);r.pop(),r.push(a.item.value),r.push(""),this.value=r.join(", ")}else this.value=a.item.value;return!1}})})}},{key:"addNotes",value:function(e,t){if(e!=="favorite"&&e!=="list"||(!t&&ne("body").hasClass("editable")&&(g.addingNotesKind=e),!g.addingNotesKind))return t;if(g.addNoteHTM=ne('\n<div class="note">\n  <span class="edit">\n    <a href="#" class="js-note-add">Add a Note</a>\n  </span>\n</div>'),On("addNotes"),t){var o=ne("<div>".concat(t,"</div>"));return o.find('.details-ia .C234:not(:has(".note"))').append(g.addNoteHTM),o.html()}return ne('.details-ia .C234:not(:has(".note"))').append(g.addNoteHTM),Qr(".js-note-add",function(l){return g.editNote(l.currentTarget)})}},{key:"editNote",value:function(e){var t=ne(e),o=t.parents(".details-ia").prev().attr("data-id");if(!o)return!1;var l=t.parents(".note"),s="";return t.text()==="edit"&&(s=l.find("span:first").text(),s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(ne('\n<form class="js-note-submit form form-horizontal note" role="form">\n  <div class="form-group">\n    <div class="col-xs-2 col-md-1 col-lg-1">\n      <b>Note:</b>\n    </div>\n    <div class="col-xs-10 col-md-6 col-lg-7">\n      <textarea class="form-control" name="comments">'.concat(s,'</textarea>\n      <div class="clearfix visible-xs-block"></div>\n    </div>\n    <div class="clearfix visible-xs-block"></div>\n    <div class="col-xs-12 col-md-5 col-lg-4 btns">\n      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>\n      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>\n      <button type="button" class="js-note-edited btn btn-danger btn-xs ').concat(s?"":"hidden",'">Remove</button>\n    </div>\n  </div>\n</form>'))),Qr(".js-note-edited",function(a){return g.editedNote(a.currentTarget)}),bT(".js-note-submit",function(a){return g.editedNote(a.currentTarget)}),!1}},{key:"editedNote",value:function(e){var t=ne(e),o=t.parents(".details-ia").prev().attr("data-id");if(o){t.is("form")&&(t=t.find('button:contains("Save")'));var l=t.text(),s=t.parents(".note"),a=s.prev();if(l==="Save"||l==="Remove"){var r=l==="Save"?s.find("textarea").val():"",c="/bookmarks.php?identifier=".concat(o,"&kind=",g.addingNotesKind,"&add_comment=",encodeURIComponent(r));On("get ",c),ne.get(c,function(){var d=r?'Note: "<span>'.concat(r.replace(/</g,"&lt;").replace(/>/g,"&gt;"),'</span>"\n          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>'):g.addNoteHTM.html();a.html(d).show(),s.remove(),Qr(".js-note",function(h){return g.editNote(h.currentTarget)})});return}a.show(),s.remove()}}},{key:"thumbzilla",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t,o,l=ne("body").hasClass("tv");l&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),e||(e=(t=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:t[1]);var s="",a=function(){ne("#opscreen1M").remove(),ne("body").prepend(ne("<div />").attr({id:"opscreen1M"}));var c=ne("<div/>").attr({id:"thumbzilla"}).html("<div>".concat(s,"</div>"));c.appendTo("#opscreen1M"),ne("#opscreen1M").css("visibility","hidden").show();for(var d=ne(window).height()+(qu?60:0),h=720;h>=10;h-=10){var p=Math.round(h*.6875);if(On("TRYING",h,"x",p),ne("#thumbzilla img").css({width:h,height:p}),ne("#thumbzilla img:last").offset().top+p<=d)break}ne("#thumbzilla div").center(),ne("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",function(){return ne("#opscreen1M").fadeOut("slow")}),window!=null&&window.TV2&&Qr(".js-tvthumb",function(v){ne("#opscreen1M").fadeOut("slow"),TV2.seekURL(ne(v.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(l&&ne(".js-tv3-init").length){var r=JSON.parse((o=ne(".js-tv3-init").val())!=null?o:"{}");ne(r["TV3.thumbzillas"]).each(function(c,d){var h=parseInt(d,10),p="/details/".concat(e,"/start/").concat(h,"/end/").concat(h+r["TV3.CLIP_SEC_MAX2"]);s+='<a class="js-tvthumb" href="'.concat(p,'">'),s+='<img src="/download/'.concat(e,"/").concat(e,".thumbs/").concat(e,"_").concat(d,'.jpg"/></a>')}),a()}else ne.getJSON("/metadata/".concat(e,"/files"),function(c){var d=!0,h=!1,p=void 0;try{for(var v=c.result[Symbol.iterator](),k;!(d=(k=v.next()).done);d=!0){var x=k.value,S="original"in x&&x.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);S&&(s+='\n              <a href="/details/'.concat(e,"/").concat(x.original,"?start=").concat(Number(S[1]),'"><img src="/download/').concat(e,"/").concat(x.name,'"></a>\n            '))}}catch(A){h=!0,p=A}finally{try{!d&&v.return!=null&&v.return()}finally{if(h)throw p}}s&&a()});return!1}},{key:"setUpSearchForms",value:function(){var e=function(s){var a=ne(s),r=a.find(".js-search-bar"),c=a.find(".js-search-options"),d=c.data("keepOpenWhenChanged"),h=!1;function p(S){var A=this.dataset.waybackMachineSearchUrl,E=ne(this.elements),O=E.filter('[name="sin"]:checked'),T=E.filter('[name="search"]'),b=O.length?O[0].value:"",u=T.length?T[0].value:"";A&&b==="WEB"&&(S.preventDefault(),window.location=[A.replace(/\/$/,""),u].join("/"))}function v(){c.addClass("is-open").attr("aria-expanded",!0)}function k(){c.removeClass("is-open").attr("aria-expanded",!1)}function x(S){!S||a[0].contains(S)||d&&h||ne(S).parents(".ui-autocomplete").length||k()}a.length&&(a.on("submit",p),c.hasClass("is-open")||(t.on("click",function(S){x(S.target)}),a.on("change",function(){h=!0}).on("focusout",function(S){x(S.relatedTarget)}),r.on("focusin",function(){v()})))},t=ne(document.body),o=ne(".js-search-form");o.each(function(l,s){return e(s)})}},{key:"setUpAccordions",value:function(){var e=function(l,s){Array.from(l).forEach(function(a){a!==s&&(a.open=!1)})},t=function(l){function s(a){a.target.open&&(e(l.querySelectorAll("details"),a.target),ne("html, body").animate({scrollTop:ne(a.target).offset().top},400))}Array.from(l.querySelectorAll("details")).forEach(function(a){a.addEventListener("toggle",s)}),l.setAttribute("data-accordion-ready","")};Array.from(document.querySelectorAll("[data-accordion]")).forEach(t)}},{key:"advanced_search",value:function(e){if(!g.is_advanced_TV_search(e))return!0;g.adv||(g.adv={mapping:!1});var t=new Date().toISOString().substr(0,10);ne.ajaxSetup({cache:!0});var o="https://".concat(location.host,"/includes/");return ne.when(typeof TVSearch!="undefined"||ne.getScript(o.concat("build/js/tvsearch.min.js?",t)),g.adv.mapping||ne.getJSON("/details/tv?mappings&output=json&".concat(t),function(l){g.adv.mapping=l})).then(function(){if(g.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick(g.adv.mapping,e)}),!1}},{key:"is_advanced_TV_search",value:function(e){if(location.hostname==="web.archive.org"||ne(document.body).hasClass("top"))return!1;var t=ne(e).parents("form");return t.find(".js-search-options input[value=TV]").is(":checked")?t:!1}},{key:"isTextClamped",value:function(e){return e.clientHeight<e.scrollHeight}},{key:"bindClampCheckbox",value:function(e){var t=e.nextElementSibling;if(t&&t.type==="checkbox"){var o,l;ne(t).on("click",function(){if(ne(t).is(":checked")){var s=window.visualViewport.pageTop;o=e.getBoundingClientRect().top+s,l=o<s?o-10:s}else o<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}},{key:"unbindClampCheckbox",value:function(e){var t=e.nextElementSibling;t&&t.type==="checkbox"&&t.checked&&ne(t).off("click")}}]),g}(),ne(function(){ne(".tabby a").click(function(s){var a=ne(s.currentTarget).attr("data-tabby");wr.tabby(s.currentTarget,"tabby-".concat(a))}),ne(".js-tiles-setup").each(function(s,a){var r=JSON.parse(ne(a).val());wr.lists_v_tiles_setup(r.toggle_range),ne("div.ikind").css({visibility:" visible"}),r.popState!==!1&&wr.popState(r.popState),wr.tiler(),ne(window).on("resize  orientationchange",function(c){clearTimeout(wr.tiles_wrap_throttler),wr.tiles_wrap_throttler=setTimeout(wr.tiler,250)}),ne(window).scroll(wr.scrolled)}),wr.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),ne(".js-tiles-toggle").click(function(s){var a=ne(s.currentTarget).attr("data-range");return wr.tiles_toggle(s.currentTarget,a)}),ne(".js-ikind-link").click(function(s){var a=ne(s.currentTarget).attr("data-id");wr.ikind(s.currentTarget,"ikind-".concat(a))}),ne(".js-more-search").click(function(s){var a=s.currentTarget,r=decodeURIComponent(ne(a).attr("data-more-search")),c=parseInt(ne(a).attr("data-page"),10);return wr.more_search(a,r,c),!1}),ne("#showdetails").on("change",function(s){var a=ne(s.currentTarget).attr("data-toggle-range");wr.showdetails_toggle(a)}),ne(".ikind-mobile").on("change",function(s){wr.ikind_mobile_change(s.currentTarget)}),wr.setUpSearchForms(),wr.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),wr.modalInterval=2e3,n3.init(),y3.setup(),ne(".js-search-beta-opt-in").each(function(s,a){ne(a).on("click",function(){window.localStorage.setItem("SearchBeta-opt-in",!0)})}),ne(".js-collection-setup").each(function(s,a){var r=JSON.parse(ne(a).val());r.about&&wr.grafs(),wr.addNotes(r.is_list),ne(window).on("resize  orientationchange",function(c){clearTimeout(wr.plotter_throttler),wr.plotter_throttler=setTimeout(wr.plotter,250)})}),ne(".js-collection-setup2").each(function(s,a){var r=JSON.parse(ne(a).val());r.editable&&(ne("#editlink").show(),r.image!==""&&wr.head_img_dragdrop_setup(r.image))}),ne(".js-account-setup").each(function(s,a){var r,c=JSON.parse(ne(a).val());wr.head_img_dragdrop_setup(c.dragdrop),(r=c.darking_ids)!=null&&r.length&&So.decorate_pendings(c.darking_ids)}),wr.plot_graphs(),ne(".js-pages").each(function(s,a){var r=JSON.parse(ne(a).val());wr.drawPDF(r.identifier,JSON.parse(r.pages))}),ne(".js-carousel2").each(function(){wr.theatresize(),wr.carouselsize("#ia-carousel",!0)}),ne(".js-emulation").each(function(s,a){ne(".container-ia:first").attr("id","begPgSpcr"),wr.emulate_setup(JSON.parse(ne(a).val()))}),ne(".tablesorter").each(function(s,a){var r={textExtraction:"complex"};ne("body").hasClass("js-tv-programPageColumnSorting")?r.headers={0:{sorter:!1}}:ne("body").hasClass("services-views")&&(r.ignoreCase=!0,r.sortList=[[1,0]],r.widgets=["saveSort"],r.widgetOptions={saveSort:!0}),typeof ne.fn.tablesorter=="undefined"?Promise.resolve().then(function(){return Yj(),A7}).then(function(){ne(a).tablesorter(r)}):ne(a).tablesorter(r)}),Qr(".js-ebook-maker",function(s){return Bn(void 0,null,_regeneratorRuntime.default.mark(function a(){var r,c,d,h,p,v,k,x,S,A,E,O;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for(r=s.currentTarget,r.parentElement.textContent="Generating...",c=ne(r).data().maker,On({maker:c}),d=new URLSearchParams,h=!0,p=!1,v=void 0,b.prev=6,k=Object.entries(c)[Symbol.iterator]();!(h=(x=k.next()).done);h=!0)S=_slicedToArray(x.value,2),A=S[0],E=S[1],d.append(A,encodeURIComponent(E));b.next=14;break;case 10:b.prev=10,b.t0=b.catch(6),p=!0,v=b.t0;case 14:b.prev=14,b.prev=15,!h&&k.return!=null&&k.return();case 17:if(b.prev=17,!p){b.next=20;break}throw v;case 20:return b.finish(17);case 21:return b.finish(14);case 22:return b.next=24,fetch("/services/make-ebook.php",{method:"POST",body:d});case 24:O=b.sent,On({res:O});case 26:case"end":return b.stop()}},a,null,[[6,10,14,22],[15,,17,21]])}))});var g=ne(".js-date_switcher"),n=!wr.isTouchDevice()&&typeof ne.fn.tooltip=="undefined"?ne('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(n.length||g.length)&&Promise.resolve().then(function(){return P5(),Ov}).then(function(){n.length&&n.tooltip({}),g.each(function(s,a){return wr.date_switcher(JSON.parse(ne(a).val()))})}),Qr(".js-createclick",function(s){location.href="/create/"}),Qr(".js-colclick",function(s){var a=ne(s.currentTarget),r=a.attr("data-id"),c=r&&!r.startsWith("__id_")?"/details/".concat(r):a.find("a").attr("href");r&&ne("body").hasClass("tiles")&&!a.hasClass("manage-item")&&(location.href=c)}),Qr(".js-note",function(s){return wr.editNote(s.currentTarget)}),Qr(".js-inliner",function(s){if(!window.inlined){window.inlined=!0;var a="".concat(s.currentTarget.href,"&nochrome=1"),r=ne(s.currentTarget).parent().parent().parent();r.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),ne.get(a,function(c){ne("#loadin").remove(),r.append("<hr/>".concat(c))})}}),Qr(".js-auto-submit-perpetual",function(){document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),yT(".js-auto-submit-cmd",function(s){s.currentTarget.value==="delete.php"&&alert('\n        WARNING: The "lost_item" arg is automatically\n        added to delete.php tasks submitted through this form.\n        That means the command can be used only to\n        tidy our records for items that have already\n        gotten lost, not to delete existing items.\n        If run on an item that actually exists still,\n        the task will redrow.')}),Qr(".js-slide-toggle",function(s){return ne(ne(s.currentTarget).data().target).slideToggle()}),Qr(".js-ajs-emulate",wr.emulate),Qr(".js-ajs-deadlists",function(s){var a=s.currentTarget.href;window.open(a,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")}),Qr(".show-more-button",function(s){ne(".metadata-hidden").slideToggle("fast"),ne(s.currentTarget).find(".show-more-button__text").toggle()}),Qr(".js-archive-expand_files",function(s){var a=ne(s.currentTarget),r=a.data("id");r&&wr.quick_down(r,a)}),Qr(".js-archive-collapse_files",function(s){var a=ne(s.currentTarget),r=a.data("id");r&&wr.quick_down(r)}),Qr(".js-display-reviews",function(s){ne(".details-reviews-list").show(),ne(".display-reviews-msg").hide()}),Qr(".js-bookmark-removeBookmark",function(s){if(confirm("Are you sure you want to delete this favorite?")){var a=ne(s.currentTarget).attr("href");a&&(window.location=a)}}),Qr(".js-bookmarks-addCommentForm",function(s){var a=ne(s.currentTarget).attr("identifier"),r=ne(s.currentTarget).attr("action"),c=function(){var A=document.getElementById("".concat(a,"_form"));A.parentNode.removeChild(A);var E=document.getElementById("".concat(a,"_commentLink"));E.style.display="";var O=document.getElementById("".concat(a,"_existingComment"));O&&(O.style.display="")},d=document.createElement("form");d.action=r,d.method="post",d.id="".concat(a,"_form"),d.style.margin="0",d.style.fontSize="12px",d.appendChild(document.createTextNode("Comment: "));var h=document.createElement("input");h.name="add_comment",h.type="text",document.getElementById("".concat(a,"_existingCommentText"))&&(h.value=document.getElementById("".concat(a,"_existingCommentText")).innerHTML),d.appendChild(h);var p=document.createElement("input");p.name="identifier",p.type="hidden",p.value=a,d.appendChild(p);var v=document.createElement("input");v.name="submit",v.type="submit",v.value="Save",d.appendChild(v);var k=document.createElement("input");k.type="button",k.id="".concat(a,"_cancelButton"),k.rel=a,k.onclick=c,k.value="Cancel",d.appendChild(k),document.getElementById("".concat(a,"_formSpan")).appendChild(d);var x=document.getElementById("".concat(a,"_commentLink"));x.style.display="none";var S=document.getElementById("".concat(a,"_existingComment"));S&&(S.style.display="none")});var e=document.querySelector("#js-useradmin-clipboard");e&&e.addEventListener("click",function(s){var a=Array.from(document.querySelectorAll(".js-useradmin-username")).map(function(r){return r.textContent}).join(" ");navigator.clipboard.writeText(a)});var t=document.querySelector(".js-useradmin-search");t&&(t.addEventListener("submit",function(s){s.preventDefault(),Array.from(t.querySelectorAll("input")).filter(function(a){return!a.value}).forEach(function(a){var r=a;r.disabled=!0}),t.submit()}),Array.from(t.querySelectorAll("input")).forEach(function(s){var a=s;a.disabled=!1}));var o=ne(".js-clamp"),l="clamped";o.length&&(o.each(function(s,a){wr.isTextClamped(a)&&(a.classList.add(l),wr.bindClampCheckbox(a))}),window.addEventListener("resize",wT(function(){o.each(function(s,a){wr.isTextClamped(a)?(a.classList.add(l),wr.bindClampCheckbox(a)):(wr.unbindClampCheckbox(a),a.classList.remove(l))})}),50))}),window.AJS=wr}}),ec,Xd,Jd,Gv,Kv,io,Xv,O7,Jv,E7=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@2.0.4/esnext/css-tag.js":function(){ec=globalThis,Xd=ec.ShadowRoot&&(ec.ShadyCSS===void 0||ec.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Jd=Symbol(),Gv=new WeakMap,Kv=function(){"use strict";function g(n,e,t){if(_classCallCheck(this,g),this._$cssResult$=!0,t!==Jd)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=e}return _createClass(g,[{key:"styleSheet",get:function(){var e=this.o,t=this.t;if(Xd&&e===void 0){var o=t!==void 0&&t.length===1;o&&(e=Gv.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&Gv.set(t,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),g}(),io=function(g){return new Kv(typeof g=="string"?g:g+"",void 0,Jd)},Xv=function(g){for(var n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];var o=g.length===1?g[0]:e.reduce(function(l,s,a){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(s)+g[a+1]},g[0]);return new Kv(o,g,Jd)},O7=function(g,n){var e=!0,t=!1,o=void 0;if(Xd)g.adoptedStyleSheets=n.map(function(d){return _instanceof(d,CSSStyleSheet)?d:d.styleSheet});else try{for(var l=n[Symbol.iterator](),s;!(e=(s=l.next()).done);e=!0){var a=s.value,r=document.createElement("style"),c=ec.litNonce;c!==void 0&&r.setAttribute("nonce",c),r.textContent=a.cssText,g.appendChild(r)}}catch(d){t=!0,o=d}finally{try{!e&&l.return!=null&&l.return()}finally{if(t)throw o}}},Jv=Xd?function(g){return g}:function(g){return _instanceof(g,CSSStyleSheet)?function(n){var e="",t=!0,o=!1,l=void 0;try{for(var s=n.cssRules[Symbol.iterator](),a;!(t=(a=s.next()).done);t=!0){var r=a.value;e+=r.cssText}}catch(c){o=!0,l=c}finally{try{!t&&s.return!=null&&s.return()}finally{if(o)throw l}}return io(e)}(g):g}}}),T7,j7,P7,I7,M7,L7,Fs,Zv,R7,Qv,Nl,Zd,Qd,em,D7,$7,zs,N7,tc=Gt({"https-url:https://esm.archive.org/v135/@lit/reactive-element@2.0.4/esnext/reactive-element.mjs":function(){E7(),E7();var g;g=Object,T7=g.is,j7=g.defineProperty,P7=g.getOwnPropertyDescriptor,I7=g.getOwnPropertyNames,M7=g.getOwnPropertySymbols,L7=g.getPrototypeOf,Fs=globalThis,Zv=Fs.trustedTypes,R7=Zv?Zv.emptyScript:"",Qv=Fs.reactiveElementPolyfillSupport,Nl=function(n,e){return n},Zd={toAttribute:function(e,t){switch(t){case Boolean:e=e?R7:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var o=e;switch(t){case Boolean:o=e!==null;break;case Number:o=e===null?null:Number(e);break;case Object:case Array:try{o=JSON.parse(e)}catch(l){o=null}}return o}},Qd=function(n,e){return!T7(n,e)},em={attribute:!0,type:String,converter:Zd,reflect:!1,hasChanged:Qd},(D7=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),($7=Fs.litPropertyMetadata)!=null||(Fs.litPropertyMetadata=new WeakMap),zs=function(n){"use strict";_inherits(t,n);var e=_createSuper(t);function t(){_classCallCheck(this,t);var o;return o=e.call(this),o._$Ep=void 0,o.isUpdatePending=!1,o.hasUpdated=!1,o._$Em=null,o._$Ev(),_possibleConstructorReturn(o)}return _createClass(t,[{key:"_$Ev",value:function(){var l=this,s;this._$ES=new Promise(function(a){return l.enableUpdating=a}),this._$AL=new Map,this._$E_(),this.requestUpdate(),(s=this.constructor.l)==null||s.forEach(function(a){return a(l)})}},{key:"addController",value:function(l){var s,a;((s=this._$EO)!=null?s:this._$EO=new Set).add(l),this.renderRoot!==void 0&&this.isConnected&&((a=l.hostConnected)==null||a.call(l))}},{key:"removeController",value:function(l){var s;(s=this._$EO)==null||s.delete(l)}},{key:"_$E_",value:function(){var l=new Map,s=this.constructor.elementProperties,a=!0,r=!1,c=void 0;try{for(var d=s.keys()[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;this.hasOwnProperty(p)&&(l.set(p,this[p]),delete this[p])}}catch(v){r=!0,c=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}l.size>0&&(this._$Ep=l)}},{key:"createRenderRoot",value:function(){var l,s=(l=this.shadowRoot)!=null?l:this.attachShadow(this.constructor.shadowRootOptions);return O7(s,this.constructor.elementStyles),s}},{key:"connectedCallback",value:function(){var l,s;(l=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(s=this._$EO)==null||s.forEach(function(a){var r;return(r=a.hostConnected)==null?void 0:r.call(a)})}},{key:"enableUpdating",value:function(l){}},{key:"disconnectedCallback",value:function(){var l;(l=this._$EO)==null||l.forEach(function(s){var a;return(a=s.hostDisconnected)==null?void 0:a.call(s)})}},{key:"attributeChangedCallback",value:function(l,s,a){this._$AK(l,a)}},{key:"_$EC",value:function(l,s){var a,r=this.constructor.elementProperties.get(l),c=this.constructor._$Eu(l,r);if(c!==void 0&&r.reflect===!0){var d=(((a=r.converter)==null?void 0:a.toAttribute)!==void 0?r.converter:Zd).toAttribute(s,r.type);this._$Em=l,d==null?this.removeAttribute(c):this.setAttribute(c,d),this._$Em=null}}},{key:"_$AK",value:function(l,s){var a,r=this.constructor,c=r._$Eh.get(l);if(c!==void 0&&this._$Em!==c){var d=r.getPropertyOptions(c),h=typeof d.converter=="function"?{fromAttribute:d.converter}:((a=d.converter)==null?void 0:a.fromAttribute)!==void 0?d.converter:Zd;this._$Em=c,this[c]=h.fromAttribute(s,d.type),this._$Em=null}}},{key:"requestUpdate",value:function(l,s,a){var r;if(l!==void 0){if(a!=null||(a=this.constructor.getPropertyOptions(l)),!((r=a.hasChanged)!=null?r:Qd)(this[l],s))return;this.P(l,s,a)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}},{key:"P",value:function(l,s,a){var r;this._$AL.has(l)||this._$AL.set(l,s),a.reflect===!0&&this._$Em!==l&&((r=this._$Ej)!=null?r:this._$Ej=new Set).add(l)}},{key:"_$ET",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.isUpdatePending=!0,r.prev=1,r.next=4,this._$ES;case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),Promise.reject(r.t0);case 9:if(s=this.scheduleUpdate(),r.t1=s!=null,!r.t1){r.next=14;break}return r.next=14,s;case 14:return r.abrupt("return",(r.t1&&r.sent,!this.isUpdatePending));case 15:case"end":return r.stop()}},l,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var l,s;if(this.isUpdatePending){if(!this.hasUpdated){if((l=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){var a=!0,r=!1,c=void 0;try{for(var d=this._$Ep[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=_slicedToArray(h.value,2),v=p[0],k=p[1];this[v]=k}}catch(w){r=!0,c=w}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}this._$Ep=void 0}var x=this.constructor.elementProperties,S=!0,A=!1,E=void 0;if(x.size>0)try{for(var O=x[Symbol.iterator](),T;!(S=(T=O.next()).done);S=!0){var b=_slicedToArray(T.value,2),u=b[0],f=b[1];f.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],f)}}catch(w){A=!0,E=w}finally{try{!S&&O.return!=null&&O.return()}finally{if(A)throw E}}}var m=!1,y=this._$AL;try{m=this.shouldUpdate(y),m?(this.willUpdate(y),(s=this._$EO)==null||s.forEach(function(w){var C;return(C=w.hostUpdate)==null?void 0:C.call(w)}),this.update(y)):this._$EU()}catch(w){throw m=!1,this._$EU(),w}m&&this._$AE(y)}}},{key:"willUpdate",value:function(l){}},{key:"_$AE",value:function(l){var s;(s=this._$EO)==null||s.forEach(function(a){var r;return(r=a.hostUpdated)==null?void 0:r.call(a)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(l)),this.updated(l)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$ES}},{key:"shouldUpdate",value:function(l){return!0}},{key:"update",value:function(l){var s=this;this._$Ej&&(this._$Ej=this._$Ej.forEach(function(a){return s._$EC(a,s[a])})),this._$EU()}},{key:"updated",value:function(l){}},{key:"firstUpdated",value:function(l){}}],[{key:"addInitializer",value:function(l){var s;this._$Ei(),((s=this.l)!=null?s:this.l=[]).push(l)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&_toConsumableArray(this._$Eh.keys())}},{key:"createProperty",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:em;if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(l,s),!s.noAccessor){var a=Symbol(),r=this.getPropertyDescriptor(l,a,s);r!==void 0&&j7(this.prototype,l,r)}}},{key:"getPropertyDescriptor",value:function(l,s,a){var r,c=(r=P7(this.prototype,l))!=null?r:{get:function(){return this[s]},set:function(v){this[s]=v}},d=c.get,h=c.set;return{get:function(){return d==null?void 0:d.call(this)},set:function(v){var k=d==null?void 0:d.call(this);h.call(this,v),this.requestUpdate(l,k,a)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(l){var s;return(s=this.elementProperties.get(l))!=null?s:em}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(Nl("elementProperties"))){var l=L7(this);l.finalize(),l.l!==void 0&&(this.l=_toConsumableArray(l.l)),this.elementProperties=new Map(l.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(Nl("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Nl("properties"))){var l=this.properties,s=_toConsumableArray(I7(l)).concat(_toConsumableArray(M7(l))),a=!0,r=!1,c=void 0;try{for(var d=s[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;this.createProperty(p,l[p])}}catch(Q){r=!0,c=Q}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}var v=this[Symbol.metadata];if(v!==null){var k=litPropertyMetadata.get(v),x=!0,S=!1,A=void 0;if(k!==void 0)try{for(var E=k[Symbol.iterator](),O;!(x=(O=E.next()).done);x=!0){var T=_slicedToArray(O.value,2),b=T[0],u=T[1];this.elementProperties.set(b,u)}}catch(Q){S=!0,A=Q}finally{try{!x&&E.return!=null&&E.return()}finally{if(S)throw A}}}this._$Eh=new Map;var f=!0,m=!1,y=void 0;try{for(var w=this.elementProperties[Symbol.iterator](),C;!(f=(C=w.next()).done);f=!0){var M=_slicedToArray(C.value,2),I=M[0],D=M[1],z=this._$Eu(I,D);z!==void 0&&this._$Eh.set(z,I)}}catch(Q){m=!0,y=Q}finally{try{!f&&w.return!=null&&w.return()}finally{if(m)throw y}}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(l){var s=[];if(Array.isArray(l)){var a=new Set(l.flat(1/0).reverse()),r=!0,c=!1,d=void 0;try{for(var h=a[Symbol.iterator](),p;!(r=(p=h.next()).done);r=!0){var v=p.value;s.unshift(Jv(v))}}catch(k){c=!0,d=k}finally{try{!r&&h.return!=null&&h.return()}finally{if(c)throw d}}}else l!==void 0&&s.push(Jv(l));return s}},{key:"_$Eu",value:function(l,s){var a=s.attribute;return a===!1?void 0:typeof a=="string"?a:typeof l=="string"?l.toLowerCase():void 0}}]),t}(_wrapNativeSuper(HTMLElement)),zs.elementStyles=[],zs.shadowRootOptions={mode:"open"},zs[Nl("elementProperties")]=new Map,zs[Nl("finalized")]=new Map,Qv==null||Qv({ReactiveElement:zs}),((N7=Fs.reactiveElementVersions)!=null?N7:Fs.reactiveElementVersions=[]).push("2.0.4")}}),eh,wo=Gt({"https-url:https://esm.archive.org/v135/typescript-memoize@1.1.1/esnext/typescript-memoize.mjs":function(){eh=new Map}}),nc,co,Ua,ga,Hs,rc,B7,th,Bl,Ci=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/field-parsers@0.1.3/esnext/field-parsers.mjs":function(){nc=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}}]),g}(),nc.shared=new nc,co=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var t=parseFloat(e);if(!Number.isNaN(t))return t}}}]),g}(),co.shared=new co,Ua=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return co.shared.parseValue(e)}}]),g}(),Ua.shared=new Ua,ga=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));var o=Date.parse(t);if(!Number.isNaN(o)){var l=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(l=new Date(l.getTime()+l.getTimezoneOffset()*1e3*60)),l}}}}]),g}(),ga.shared=new ga,Hs=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var t=e.split(":"),o;return t.length===1?o=this.parseNumberFormat(t[0]):o=this.parseColonSeparatedFormat(t),o}}},{key:"parseNumberFormat",value:function(e){var t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}},{key:"parseColonSeparatedFormat",value:function(e){var t=!1,o=e.map(function(l,s){var a=parseFloat(l);if(Number.isNaN(a))return t=!0,0;var r=ji(60,e.length-1-s);return a*Math.floor(r)}).reduce(function(l,s){return l+s},0);return t?void 0:o}}]),g}(),Hs.shared=new Hs,rc=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}(),rc.shared=new rc,B7=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.separators=[";",","],this.parser=n,e&&e.separators&&(this.separators=e.separators)}return _createClass(g,[{key:"parseValue",value:function(e){var t=String(e),o=[],l=!0,s=!1,a=void 0;try{for(var r=this.separators[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;if(o=t.split(d),o.length>1)break}}catch(h){s=!0,a=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(s)throw a}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var t=this,o=e.map(function(s){return s.trim()}).map(function(s){return t.parser.parseValue(s)}),l=[];return o.forEach(function(s){s!==void 0&&l.push(s)}),l}}]),g}(),th=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}(),th.shared=new th,Bl=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return String(e)}}]),g}(),Bl.shared=new Bl}}),F7,nh,z7,H7,U7,V7,q7,W7,rh,Y7,tm,nm,rm,G7,ir,im,K7,om,X7=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/BookReader.js":function(){F7=Object.create,nh=Object.defineProperty,z7=Object.getOwnPropertyDescriptor,H7=Object.getOwnPropertyNames,U7=Object.getPrototypeOf,V7=Object.prototype.hasOwnProperty,q7=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},W7=function(n,e){for(var t in e)nh(n,t,{get:e[t],enumerable:!0})},rh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!V7.call(n,v)&&v!==t&&nh(n,v,{get:function(){return e[v]},enumerable:!(o=z7(e,v))||o.enumerable})},c=H7(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},Y7=function(n,e,t){return rh(n,e,"default"),t&&rh(t,e,"default")},tm=function(n,e,t){return t=n!=null?F7(U7(n)):{},rh(e||!n||!n.__esModule?nh(t,"default",{value:n,enumerable:!0}):t,n)},nm=q7(function(){(function(){var n,e={1774:function(s,a,r){"use strict";var c=function(u,f){if(u){if(typeof u=="string")return d(u,f);var m={}.toString.call(u).slice(8,-1);return m==="Object"&&u.constructor&&(m=u.constructor.name),m==="Map"||m==="Set"?Array.from(u):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?d(u,f):void 0}},d=function(u,f){(f==null||f>u.length)&&(f=u.length);for(var m=0,y=Array(f);m<f;m++)y[m]=u[m];return y},h=function(u,f,m,y,w,C,M){try{var I=u[C](M),D=I.value}catch(z){return void m(z)}I.done?f(D):Promise.resolve(D).then(y,w)},p=function(u,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,v(y.key),y)}},v=function(u){var f=function(m,y){if(E(m)!="object"||!m)return m;var w=m[Symbol.toPrimitive];if(w!==void 0){var C=w.call(m,"string");if(E(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(u);return E(f)=="symbol"?f:f+""},k=function(u,f){var m=document.createElement("div");return m.style.width="".concat(u.width,"px"),m.style.height="".concat(u.height,"px"),m.setAttribute("class","BRPageLayer ".concat(f)),m},x=function(u){var f=u.l,m=u.r,y=u.b,w=u.t,C=document.createElementNS("http://www.w3.org/2000/svg","rect");return C.setAttribute("x",f.toString()),C.setAttribute("y",w.toString()),C.setAttribute("width",(m-f).toString()),C.setAttribute("height",(y-w).toString()),C.setAttribute("rx","4"),C.setAttribute("ry","4"),C},S=function(u,f,m,y){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,C=y.querySelector(".".concat(u)),M=C||function(ee,we){var ie=document.createElementNS("http://www.w3.org/2000/svg","svg");return ie.setAttribute("xmlns","http://www.w3.org/2000/svg"),ie.setAttribute("viewBox","0 0 ".concat(ee.width," ").concat(ee.height)),ie.setAttribute("class","BRPageLayer ".concat(we)),ie.setAttribute("preserveAspectRatio","none"),ie}(m,u);if(!C){var I=y.querySelector(".BRpageimage");I?A(M).insertAfter(I):A(M).prependTo(y)}var D,z,Q,W=function(ee,we){var ie=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(!ie){if(Array.isArray(ee)||(ie=c(ee))){ie&&(ee=ie);var le=0,ye=function(){};return{s:ye,n:function(){return le>=ee.length?{done:!0}:{done:!1,value:ee[le++]}},e:function(Ot){throw Ot},f:ye}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ee,fe=!0,rt=!1;return{s:function(){ie=ie.call(ee)},n:function(){var Ot=ie.next();return fe=Ot.done,Ot},e:function(Ot){rt=!0,Ee=Ot},f:function(){try{fe||ie.return==null||ie.return()}finally{if(rt)throw Ee}}}}(f.entries());try{for(W.s();!(D=W.n()).done;){var me=(z=D.value,Q=2,function(ee){if(Array.isArray(ee))return ee}(z)||function(ee,we){var ie=ee==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ie!=null){var le,ye,Ee,fe,rt=[],ct=!0,Ot=!1;try{if(Ee=(ie=ie.call(ee)).next,we===0){if(Object(ie)!==ie)return;ct=!1}else for(;!(ct=(le=Ee.call(ie)).done)&&(rt.push(le.value),rt.length!==we);ct=!0);}catch(_t){Ot=!0,ye=_t}finally{try{if(!ct&&ie.return!=null&&(fe=ie.return(),Object(fe)!==fe))return}finally{if(Ot)throw ye}}return rt}}(z,Q)||c(z,Q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),oe=me[0],q=x(me[1]);w&&q.setAttribute("class",w[oe]),M.appendChild(q)}}catch(ee){W.e(ee)}finally{W.f()}};r.d(a,{KL:function(){return S},LN:function(){return T},Ql:function(){return k}}),r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(3418),r(3792),r(8598),r(2712),r(4490),r(4782),r(9572),r(2010),r(4731),r(479),r(8130),r(875),r(6099),r(3362),r(7495),r(8781),r(7764),r(3500),r(2953);var A=r(1669);function E(b){return E=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(f){return typeof f=="undefined"?"undefined":_typeof(f)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u=="undefined"?"undefined":_typeof(u)},E(b)}function O(){O=function(){return u};var b,u={},f=Object.prototype,m=f.hasOwnProperty,y=Object.defineProperty||function(Me,Ve,st){Me[Ve]=st.value},w=typeof Symbol=="function"?Symbol:{},C=w.iterator||"@@iterator",M=w.asyncIterator||"@@asyncIterator",I=w.toStringTag||"@@toStringTag";function D(Me,Ve,st){return Object.defineProperty(Me,Ve,{value:st,enumerable:!0,configurable:!0,writable:!0}),Me[Ve]}try{D({},"")}catch(Me){D=function(st,gt,Mt){return st[gt]=Mt}}function z(Me,Ve,st,gt){var Mt=Ve&&_instanceof(Ve.prototype,we)?Ve:we,Ue=Object.create(Mt.prototype),Be=new Ne(gt||[]);return y(Ue,"_invoke",{value:_t(Me,st,Be)}),Ue}function Q(Me,Ve,st){try{return{type:"normal",arg:Me.call(Ve,st)}}catch(gt){return{type:"throw",arg:gt}}}u.wrap=z;var W="suspendedStart",me="suspendedYield",oe="executing",q="completed",ee={};function we(){}function ie(){}function le(){}var ye={};D(ye,C,function(){return this});var Ee=Object.getPrototypeOf,fe=Ee&&Ee(Ee(Qe([])));fe&&fe!==f&&m.call(fe,C)&&(ye=fe);var rt=le.prototype=we.prototype=Object.create(ye);function ct(Me){["next","throw","return"].forEach(function(Ve){D(Me,Ve,function(st){return this._invoke(Ve,st)})})}function Ot(Me,Ve){function st(Mt,Ue,Be,et){var Ge=Q(Me[Mt],Me,Ue);if(Ge.type!=="throw"){var $e=Ge.arg,ze=$e.value;return ze&&E(ze)=="object"&&m.call(ze,"__await")?Ve.resolve(ze.__await).then(function(xt){st("next",xt,Be,et)},function(xt){st("throw",xt,Be,et)}):Ve.resolve(ze).then(function(xt){$e.value=xt,Be($e)},function(xt){return st("throw",xt,Be,et)})}et(Ge.arg)}var gt;y(this,"_invoke",{value:function(Ue,Be){function et(){return new Ve(function(Ge,$e){st(Ue,Be,Ge,$e)})}return gt=gt?gt.then(et,et):et()}})}function _t(Me,Ve,st){var gt=W;return function(Mt,Ue){if(gt===oe)throw Error("Generator is already running");if(gt===q){if(Mt==="throw")throw Ue;return{value:b,done:!0}}for(st.method=Mt,st.arg=Ue;;){var Be=st.delegate;if(Be){var et=De(Be,st);if(et){if(et===ee)continue;return et}}if(st.method==="next")st.sent=st._sent=st.arg;else if(st.method==="throw"){if(gt===W)throw gt=q,st.arg;st.dispatchException(st.arg)}else st.method==="return"&&st.abrupt("return",st.arg);gt=oe;var Ge=Q(Me,Ve,st);if(Ge.type==="normal"){if(gt=st.done?q:me,Ge.arg===ee)continue;return{value:Ge.arg,done:st.done}}Ge.type==="throw"&&(gt=q,st.method="throw",st.arg=Ge.arg)}}}function De(Me,Ve){var st=Ve.method,gt=Me.iterator[st];if(gt===b)return Ve.delegate=null,st==="throw"&&Me.iterator.return&&(Ve.method="return",Ve.arg=b,De(Me,Ve),Ve.method==="throw")||st!=="return"&&(Ve.method="throw",Ve.arg=new TypeError("The iterator does not provide a '"+st+"' method")),ee;var Mt=Q(gt,Me.iterator,Ve.arg);if(Mt.type==="throw")return Ve.method="throw",Ve.arg=Mt.arg,Ve.delegate=null,ee;var Ue=Mt.arg;return Ue?Ue.done?(Ve[Me.resultName]=Ue.value,Ve.next=Me.nextLoc,Ve.method!=="return"&&(Ve.method="next",Ve.arg=b),Ve.delegate=null,ee):Ue:(Ve.method="throw",Ve.arg=new TypeError("iterator result is not an object"),Ve.delegate=null,ee)}function be(Me){var Ve={tryLoc:Me[0]};1 in Me&&(Ve.catchLoc=Me[1]),2 in Me&&(Ve.finallyLoc=Me[2],Ve.afterLoc=Me[3]),this.tryEntries.push(Ve)}function Xe(Me){var Ve=Me.completion||{};Ve.type="normal",delete Ve.arg,Me.completion=Ve}function Ne(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(be,this),this.reset(!0)}function Qe(Me){if(Me||Me===""){var Ve=Me[C];if(Ve)return Ve.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var st=-1,gt=function Mt(){for(;++st<Me.length;)if(m.call(Me,st))return Mt.value=Me[st],Mt.done=!1,Mt;return Mt.value=b,Mt.done=!0,Mt};return gt.next=gt}}throw new TypeError(E(Me)+" is not iterable")}return ie.prototype=le,y(rt,"constructor",{value:le,configurable:!0}),y(le,"constructor",{value:ie,configurable:!0}),ie.displayName=D(le,I,"GeneratorFunction"),u.isGeneratorFunction=function(Me){var Ve=typeof Me=="function"&&Me.constructor;return!!Ve&&(Ve===ie||(Ve.displayName||Ve.name)==="GeneratorFunction")},u.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,le):(Me.__proto__=le,D(Me,I,"GeneratorFunction")),Me.prototype=Object.create(rt),Me},u.awrap=function(Me){return{__await:Me}},ct(Ot.prototype),D(Ot.prototype,M,function(){return this}),u.AsyncIterator=Ot,u.async=function(Me,Ve,st,gt,Mt){Mt===void 0&&(Mt=Promise);var Ue=new Ot(z(Me,Ve,st,gt),Mt);return u.isGeneratorFunction(Ve)?Ue:Ue.next().then(function(Be){return Be.done?Be.value:Ue.next()})},ct(rt),D(rt,I,"Generator"),D(rt,C,function(){return this}),D(rt,"toString",function(){return"[object Generator]"}),u.keys=function(Me){var Ve=Object(Me),st=[];for(var gt in Ve)st.push(gt);return st.reverse(),function Mt(){for(;st.length;){var Ue=st.pop();if(Ue in Ve)return Mt.value=Ue,Mt.done=!1,Mt}return Mt.done=!0,Mt}},u.values=Qe,Ne.prototype={constructor:Ne,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(Xe),!Ve)for(var st in this)st.charAt(0)==="t"&&m.call(this,st)&&!isNaN(+st.slice(1))&&(this[st]=b)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var st=this;function gt($e,ze){return Be.type="throw",Be.arg=Ve,st.next=$e,ze&&(st.method="next",st.arg=b),!!ze}for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var Ue=this.tryEntries[Mt],Be=Ue.completion;if(Ue.tryLoc==="root")return gt("end");if(Ue.tryLoc<=this.prev){var et=m.call(Ue,"catchLoc"),Ge=m.call(Ue,"finallyLoc");if(et&&Ge){if(this.prev<Ue.catchLoc)return gt(Ue.catchLoc,!0);if(this.prev<Ue.finallyLoc)return gt(Ue.finallyLoc)}else if(et){if(this.prev<Ue.catchLoc)return gt(Ue.catchLoc,!0)}else{if(!Ge)throw Error("try statement without catch or finally");if(this.prev<Ue.finallyLoc)return gt(Ue.finallyLoc)}}}},abrupt:function(Ve,st){for(var gt=this.tryEntries.length-1;gt>=0;--gt){var Mt=this.tryEntries[gt];if(Mt.tryLoc<=this.prev&&m.call(Mt,"finallyLoc")&&this.prev<Mt.finallyLoc){var Ue=Mt;break}}Ue&&(Ve==="break"||Ve==="continue")&&Ue.tryLoc<=st&&st<=Ue.finallyLoc&&(Ue=null);var Be=Ue?Ue.completion:{};return Be.type=Ve,Be.arg=st,Ue?(this.method="next",this.next=Ue.finallyLoc,ee):this.complete(Be)},complete:function(Ve,st){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&st&&(this.next=st),ee},finish:function(Ve){for(var st=this.tryEntries.length-1;st>=0;--st){var gt=this.tryEntries[st];if(gt.finallyLoc===Ve)return this.complete(gt.completion,gt.afterLoc),Xe(gt),ee}},catch:function(Ve){for(var st=this.tryEntries.length-1;st>=0;--st){var gt=this.tryEntries[st];if(gt.tryLoc===Ve){var Mt=gt.completion;if(Mt.type==="throw"){var Ue=Mt.arg;Xe(gt)}return Ue}}throw Error("illegal catch attempt")},delegateYield:function(Ve,st,gt){return this.delegate={iterator:Qe(Ve),resultName:st,nextLoc:gt},this.method==="next"&&(this.arg=b),ee}},u}var T=function(){return b=function f(m,y){var w=y.isProtected,C=y.imageCache,M=y.loadingImage;(function(I,D){if(!_instanceof(I,D))throw new TypeError("Cannot call a class as a function")})(this,f),this.page=m,this.imageCache=C,this.loadingImage=M,this.$container=A("<div />",{class:"BRpagecontainer ".concat(m?"pagediv".concat(m.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",m==null?void 0:m.pageSide),w&&(this.$container.append(A('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},u=[{key:"update",value:function(m){var y,w,C=m.dimensions,M=C===void 0?null:C,I=m.reduce,D=I===void 0?null:I;if(M&&this.$container.css(M),D!=null&&this.page){var z=this.imageCache.imageLoaded(this.page.index,D),Q=!z&&this.imageCache.getBestLoadedReduce(this.page.index,D),W=this.imageCache.image(this.page.index,D);if(((y=this.$img)===null||y===void 0?void 0:y[0].src)==W[0].src)return this;(w=this.$img)===null||w===void 0||w.remove(),this.$img=W.prependTo(this.$container);var me=[];return z||(this.$container.addClass("BRpageloading"),me.push('url("'.concat(this.loadingImage,'") center/20px no-repeat'))),Q&&me.push('url("'.concat(this.page.getURI(Q,0),'") center/100% 100% no-repeat')),z||this.$img.css("background",me.join(",")).one("loadend",function(){var oe,q=(oe=O().mark(function ee(we){return O().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:A(we.target).css({background:""}),A(we.target).parent().removeClass("BRpageloading");case 2:case"end":return ie.stop()}},ee)}),function(){var we=this,ie=arguments;return new Promise(function(le,ye){var Ee=oe.apply(we,ie);function fe(ct){h(Ee,le,ye,fe,rt,"next",ct)}function rt(ct){h(Ee,le,ye,fe,rt,"throw",ct)}fe(void 0)})});return function(ee){return q.apply(this,arguments)}}()),this}}}],u&&p(b.prototype,u),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,u}()},6257:function(s,a,r){"use strict";var c=function(le,ye,Ee,fe,rt,ct,Ot){try{var _t=le[ct](Ot),De=_t.value}catch(be){return void Ee(be)}_t.done?ye(De):Promise.resolve(De).then(fe,rt)},d=function(le){return function(){var ye=this,Ee=arguments;return new Promise(function(fe,rt){var ct=le.apply(ye,Ee);function Ot(De){c(ct,fe,rt,Ot,_t,"next",De)}function _t(De){c(ct,fe,rt,Ot,_t,"throw",De)}Ot(void 0)})}},h=function(le,ye){(ye==null||ye>le.length)&&(ye=le.length);for(var Ee=0,fe=Array(ye);Ee<ye;Ee++)fe[Ee]=le[Ee];return fe},p=function(le){le.bind("mousedown",function(){return!1}),le[0].onselectstart=function(){return!1}},v=function(le,ye,Ee){return Math.min(Math.max(le,ye),Ee)},k=function(le,ye){return le/ye*100+"%"},x=function(le,ye){return!ye.includes(le)},S=function(){var le=q(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(le==null?void 0:le.tagName)=="INPUT"||(le==null?void 0:le.tagName)=="TEXTAREA"},A=function(le){var ye=le.contentWindow||le.contentDocument;return ye.document||ye},E=function(le){return le.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},O=function(le){return decodeURIComponent(le).replace(/\+/g," ")},T=function(le){return encodeURIComponent(le).replace(/%20/g,"+")},b=function(le,ye,Ee){var fe;return function(){var rt=this,ct=arguments,Ot=Ee&&!fe;clearTimeout(fe),fe=setTimeout(function(){fe=null,Ee||le.apply(rt,ct)},ye),Ot&&le.apply(rt,ct)}},u=function(le,ye,Ee){var fe,rt;return ye||(ye=250),Ee&&(fe=+new Date),function(){var ct=this,Ot=+new Date,_t=arguments;fe&&Ot<fe+ye?(clearTimeout(rt),rt=setTimeout(function(){fe=Ot,le.apply(ct,_t)},ye)):(fe=Ot,le.apply(ct,_t))}},f=function(le){if(typeof le.CustomEvent=="function")return!1;le.CustomEvent=m},m=function(le){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=ye.bubbles,fe=Ee!==void 0&&Ee,rt=ye.cancelable,ct=rt!==void 0&&rt,Ot=ye.detail,_t=Ot===void 0?null:Ot,De=document.createEvent("CustomEvent");return De.initCustomEvent(le,fe,ct,_t),De},y=function(){var le=document.createElement("div");le.style.width="1in",document.body.appendChild(le);var ye=le.offsetWidth;document.body.removeChild(le);var Ee=1.25*ye;return Ee==0?100:Ee},w=function(le){return le.reduce(function(ye,Ee){return ye+Ee},0)},C=function(le){var ye,Ee=[],fe=function(ct,Ot){var _t=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ct[Symbol.iterator]||ct["@@iterator"];if(!_t){if(Array.isArray(ct)||(_t=function(Me,Ve){if(Me){if(typeof Me=="string")return h(Me,Ve);var st={}.toString.call(Me).slice(8,-1);return st==="Object"&&Me.constructor&&(st=Me.constructor.name),st==="Map"||st==="Set"?Array.from(Me):st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st)?h(Me,Ve):void 0}}(ct))||Ot&&ct&&typeof ct.length=="number"){_t&&(ct=_t);var De=0,be=function(){};return{s:be,n:function(){return De>=ct.length?{done:!0}:{done:!1,value:ct[De++]}},e:function(Ve){throw Ve},f:be}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Xe,Ne=!0,Qe=!1;return{s:function(){_t=_t.call(ct)},n:function(){var Ve=_t.next();return Ne=Ve.done,Ve},e:function(Ve){Qe=!0,Xe=Ve},f:function(){try{Ne||_t.return==null||_t.return()}finally{if(Qe)throw Xe}}}}(le);try{for(fe.s();!(ye=fe.n()).done;){var rt=ye.value;Ee.push(rt)}}catch(ct){fe.e(ct)}finally{fe.f()}return Ee},M=function(le,ye){return le.length==ye.length&&le.every(function(Ee,fe){return Ee==ye[fe]})},I=function(le,ye){return le&&ye&&!M(le,ye)},D=function(le){return ee.apply(this,arguments)},z=function(le){return we.apply(this,arguments)},Q=function(le,ye){return new Promise(function(Ee){var fe=function(rt){le.removeEventListener(ye,fe),Ee(rt)};le.addEventListener(ye,fe)})},W=function(le){return le.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};function me(ie){return me=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(ye){return typeof ye=="undefined"?"undefined":_typeof(ye)}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le=="undefined"?"undefined":_typeof(le)},me(ie)}function oe(){oe=function(){return le};var ie,le={},ye=Object.prototype,Ee=ye.hasOwnProperty,fe=Object.defineProperty||function(Bt,ut,Y){Bt[ut]=Y.value},rt=typeof Symbol=="function"?Symbol:{},ct=rt.iterator||"@@iterator",Ot=rt.asyncIterator||"@@asyncIterator",_t=rt.toStringTag||"@@toStringTag";function De(Bt,ut,Y){return Object.defineProperty(Bt,ut,{value:Y,enumerable:!0,configurable:!0,writable:!0}),Bt[ut]}try{De({},"")}catch(Bt){De=function(Y,Kt,Ft){return Y[Kt]=Ft}}function be(Bt,ut,Y,Kt){var Ft=ut&&_instanceof(ut.prototype,gt)?ut:gt,Xt=Object.create(Ft.prototype),R=new $t(Kt||[]);return fe(Xt,"_invoke",{value:bt(Bt,Y,R)}),Xt}function Xe(Bt,ut,Y){try{return{type:"normal",arg:Bt.call(ut,Y)}}catch(Kt){return{type:"throw",arg:Kt}}}le.wrap=be;var Ne="suspendedStart",Qe="suspendedYield",Me="executing",Ve="completed",st={};function gt(){}function Mt(){}function Ue(){}var Be={};De(Be,ct,function(){return this});var et=Object.getPrototypeOf,Ge=et&&et(et(qt([])));Ge&&Ge!==ye&&Ee.call(Ge,ct)&&(Be=Ge);var $e=Ue.prototype=gt.prototype=Object.create(Be);function ze(Bt){["next","throw","return"].forEach(function(ut){De(Bt,ut,function(Y){return this._invoke(ut,Y)})})}function xt(Bt,ut){function Y(Ft,Xt,R,nt){var je=Xe(Bt[Ft],Bt,Xt);if(je.type!=="throw"){var ue=je.arg,J=ue.value;return J&&me(J)=="object"&&Ee.call(J,"__await")?ut.resolve(J.__await).then(function(K){Y("next",K,R,nt)},function(K){Y("throw",K,R,nt)}):ut.resolve(J).then(function(K){ue.value=K,R(ue)},function(K){return Y("throw",K,R,nt)})}nt(je.arg)}var Kt;fe(this,"_invoke",{value:function(Xt,R){function nt(){return new ut(function(je,ue){Y(Xt,R,je,ue)})}return Kt=Kt?Kt.then(nt,nt):nt()}})}function bt(Bt,ut,Y){var Kt=Ne;return function(Ft,Xt){if(Kt===Me)throw Error("Generator is already running");if(Kt===Ve){if(Ft==="throw")throw Xt;return{value:ie,done:!0}}for(Y.method=Ft,Y.arg=Xt;;){var R=Y.delegate;if(R){var nt=lt(R,Y);if(nt){if(nt===st)continue;return nt}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(Kt===Ne)throw Kt=Ve,Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);Kt=Me;var je=Xe(Bt,ut,Y);if(je.type==="normal"){if(Kt=Y.done?Ve:Qe,je.arg===st)continue;return{value:je.arg,done:Y.done}}je.type==="throw"&&(Kt=Ve,Y.method="throw",Y.arg=je.arg)}}}function lt(Bt,ut){var Y=ut.method,Kt=Bt.iterator[Y];if(Kt===ie)return ut.delegate=null,Y==="throw"&&Bt.iterator.return&&(ut.method="return",ut.arg=ie,lt(Bt,ut),ut.method==="throw")||Y!=="return"&&(ut.method="throw",ut.arg=new TypeError("The iterator does not provide a '"+Y+"' method")),st;var Ft=Xe(Kt,Bt.iterator,ut.arg);if(Ft.type==="throw")return ut.method="throw",ut.arg=Ft.arg,ut.delegate=null,st;var Xt=Ft.arg;return Xt?Xt.done?(ut[Bt.resultName]=Xt.value,ut.next=Bt.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=ie),ut.delegate=null,st):Xt:(ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,st)}function Ze(Bt){var ut={tryLoc:Bt[0]};1 in Bt&&(ut.catchLoc=Bt[1]),2 in Bt&&(ut.finallyLoc=Bt[2],ut.afterLoc=Bt[3]),this.tryEntries.push(ut)}function dt(Bt){var ut=Bt.completion||{};ut.type="normal",delete ut.arg,Bt.completion=ut}function $t(Bt){this.tryEntries=[{tryLoc:"root"}],Bt.forEach(Ze,this),this.reset(!0)}function qt(Bt){if(Bt||Bt===""){var ut=Bt[ct];if(ut)return ut.call(Bt);if(typeof Bt.next=="function")return Bt;if(!isNaN(Bt.length)){var Y=-1,Kt=function Ft(){for(;++Y<Bt.length;)if(Ee.call(Bt,Y))return Ft.value=Bt[Y],Ft.done=!1,Ft;return Ft.value=ie,Ft.done=!0,Ft};return Kt.next=Kt}}throw new TypeError(me(Bt)+" is not iterable")}return Mt.prototype=Ue,fe($e,"constructor",{value:Ue,configurable:!0}),fe(Ue,"constructor",{value:Mt,configurable:!0}),Mt.displayName=De(Ue,_t,"GeneratorFunction"),le.isGeneratorFunction=function(Bt){var ut=typeof Bt=="function"&&Bt.constructor;return!!ut&&(ut===Mt||(ut.displayName||ut.name)==="GeneratorFunction")},le.mark=function(Bt){return Object.setPrototypeOf?Object.setPrototypeOf(Bt,Ue):(Bt.__proto__=Ue,De(Bt,_t,"GeneratorFunction")),Bt.prototype=Object.create($e),Bt},le.awrap=function(Bt){return{__await:Bt}},ze(xt.prototype),De(xt.prototype,Ot,function(){return this}),le.AsyncIterator=xt,le.async=function(Bt,ut,Y,Kt,Ft){Ft===void 0&&(Ft=Promise);var Xt=new xt(be(Bt,ut,Y,Kt),Ft);return le.isGeneratorFunction(ut)?Xt:Xt.next().then(function(R){return R.done?R.value:Xt.next()})},ze($e),De($e,_t,"Generator"),De($e,ct,function(){return this}),De($e,"toString",function(){return"[object Generator]"}),le.keys=function(Bt){var ut=Object(Bt),Y=[];for(var Kt in ut)Y.push(Kt);return Y.reverse(),function Ft(){for(;Y.length;){var Xt=Y.pop();if(Xt in ut)return Ft.value=Xt,Ft.done=!1,Ft}return Ft.done=!0,Ft}},le.values=qt,$t.prototype={constructor:$t,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(dt),!ut)for(var Y in this)Y.charAt(0)==="t"&&Ee.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=ie)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var Y=this;function Kt(ue,J){return R.type="throw",R.arg=ut,Y.next=ue,J&&(Y.method="next",Y.arg=ie),!!J}for(var Ft=this.tryEntries.length-1;Ft>=0;--Ft){var Xt=this.tryEntries[Ft],R=Xt.completion;if(Xt.tryLoc==="root")return Kt("end");if(Xt.tryLoc<=this.prev){var nt=Ee.call(Xt,"catchLoc"),je=Ee.call(Xt,"finallyLoc");if(nt&&je){if(this.prev<Xt.catchLoc)return Kt(Xt.catchLoc,!0);if(this.prev<Xt.finallyLoc)return Kt(Xt.finallyLoc)}else if(nt){if(this.prev<Xt.catchLoc)return Kt(Xt.catchLoc,!0)}else{if(!je)throw Error("try statement without catch or finally");if(this.prev<Xt.finallyLoc)return Kt(Xt.finallyLoc)}}}},abrupt:function(ut,Y){for(var Kt=this.tryEntries.length-1;Kt>=0;--Kt){var Ft=this.tryEntries[Kt];if(Ft.tryLoc<=this.prev&&Ee.call(Ft,"finallyLoc")&&this.prev<Ft.finallyLoc){var Xt=Ft;break}}Xt&&(ut==="break"||ut==="continue")&&Xt.tryLoc<=Y&&Y<=Xt.finallyLoc&&(Xt=null);var R=Xt?Xt.completion:{};return R.type=ut,R.arg=Y,Xt?(this.method="next",this.next=Xt.finallyLoc,st):this.complete(R)},complete:function(ut,Y){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&Y&&(this.next=Y),st},finish:function(ut){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Kt=this.tryEntries[Y];if(Kt.finallyLoc===ut)return this.complete(Kt.completion,Kt.afterLoc),dt(Kt),st}},catch:function(ut){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Kt=this.tryEntries[Y];if(Kt.tryLoc===ut){var Ft=Kt.completion;if(Ft.type==="throw"){var Xt=Ft.arg;dt(Kt)}return Xt}}throw Error("illegal catch attempt")},delegateYield:function(ut,Y,Kt){return this.delegate={iterator:qt(ut),resultName:Y,nextLoc:Kt},this.method==="next"&&(this.arg=ie),st}},le}function q(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,le=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ye=ie.activeElement;return le&&ye!=null&&ye.shadowRoot?q(ye.shadowRoot,!0):ye}function ee(){return(ee=d(oe().mark(function ie(le){return oe().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.abrupt("return",new Promise(function(Ee){return setTimeout(Ee,le)}));case 1:case"end":return ye.stop()}},ie)}))).apply(this,arguments)}function we(){return we=d(oe().mark(function ie(le){var ye,Ee,fe,rt,ct,Ot,_t,De,be,Xe,Ne,Qe=arguments;return oe().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:Ee=(ye=Qe.length>1&&Qe[1]!==void 0?Qe[1]:{}).step,fe=Ee===void 0?50:Ee,rt=ye.timeout,ct=rt===void 0?500:rt,Ot=ye.until,_t=Ot===void 0?function(st){return!!st}:Ot,De=ye._sleep,be=De===void 0?D:De,Xe=Date.now();case 2:if(!(Date.now()-Xe<ct)){Me.next=10;break}if(Ne=le(),!_t(Ne)){Me.next=6;break}return Me.abrupt("return",Ne);case 6:return Me.next=8,be(fe);case 8:Me.next=2;break;case 10:case"end":return Me.stop()}},ie)})),we.apply(this,arguments)}r.r(a),r.d(a,{PolyfilledCustomEvent:function(){return m},arrChanged:function(){return I},arrEquals:function(){return M},calcScreenDPI:function(){return y},clamp:function(){return v},cssPercentage:function(){return k},debounce:function(){return b},decodeURIComponentPlus:function(){return O},disableSelect:function(){return p},encodeURIComponentPlus:function(){return T},escapeHTML:function(){return E},escapeRegExp:function(){return W},genToArray:function(){return C},getActiveElement:function(){return q},getIFrameDocument:function(){return A},isInputActive:function(){return S},notInArray:function(){return x},poll:function(){return z},polyfillCustomEvent:function(){return f},promisifyEvent:function(){return Q},sleep:function(){return D},sum:function(){return w},throttle:function(){return u}}),r(2675),r(9463),r(6412),r(2259),r(8125),r(3418),r(4423),r(3792),r(2712),r(4490),r(4782),r(2010),r(4731),r(479),r(875),r(6099),r(3362),r(7495),r(8781),r(1699),r(7764),r(5440),r(3500),r(2953)},542:function(s,a,r){"use strict";var c=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(k)&&/google inc/i.test(x)},d=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(k)},h=function(){return"ongesturestart"in window&&navigator.maxTouchPoints>0},p=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(k)};r.d(a,{H8:function(){return c},gm:function(){return d},ij:function(){return p},un:function(){return h}}),r(7495)},2617:function(s){s.exports=function(){var a=function(P){_n.realWindow=cr=P;var B=P.document.createTextNode("");B.ownerDocument!==P.document&&typeof P.wrap=="function"&&P.wrap(B)===B&&(P=P.wrap(P)),_n.window=Pe=P},r=function(P){var B=P.interaction;if(B.prepared.name==="drag"){var H=B.prepared.axis;H==="x"?(B.coords.cur.page.y=B.coords.start.page.y,B.coords.cur.client.y=B.coords.start.client.y,B.coords.velocity.client.y=0,B.coords.velocity.page.y=0):H==="y"&&(B.coords.cur.page.x=B.coords.start.page.x,B.coords.cur.client.x=B.coords.start.client.x,B.coords.velocity.client.x=0,B.coords.velocity.page.x=0)}},c=function(P){var B=P.iEvent,H=P.interaction;if(H.prepared.name==="drag"){var U=H.prepared.axis;if(U==="x"||U==="y"){var de=U==="x"?"y":"x";B.page[de]=H.coords.start.page[de],B.client[de]=H.coords.start.client[de],B.delta[de]=0}}},d=function(){},h=function(P){var B=P.parentNode;if(re.default.docFrag(B)){for(;(B=B.host)&&re.default.docFrag(B););return B}return B},p=function(P,B){return _n.window!==_n.realWindow&&(B=B.replace(/\/deep\//g," ")),P[yi.default.prefixedMatchesSelector](B)},v=function(P,B){for(var H,U=[],de=P;(H=tt(de))&&de!==B&&H!==de.ownerDocument;)U.unshift(de),de=H;return U},k=function(P){return{x:(P=P||_n.window).scrollX||P.document.documentElement.scrollLeft,y:P.scrollY||P.document.documentElement.scrollTop}},x=function(P){var B=_instanceof(P,sr.default.SVGElement)?P.getBoundingClientRect():P.getClientRects()[0];return B&&{left:B.left,right:B.right,top:B.top,bottom:B.bottom,width:B.width||B.right-B.left,height:B.height||B.bottom-B.top}},S=function(P,B){(B==null||B>P.length)&&(B=P.length);for(var H=0,U=Array(B);H<B;H++)U[H]=P[H];return U},A=function(P,B,H){return P==="parent"?(0,pt.parentNode)(H):P==="self"?B.getRect(H):(0,pt.closest)(H,P)},E=function(P){return P.trim().split(/ +/)},O=function(P){return _instanceof(P,sr.default.Event)||_instanceof(P,sr.default.Touch)},T=function(P,B,H){return P=P||"page",(H=H||{}).x=B[P+"X"],H.y=B[P+"Y"],H},b=function(P,B){return B=B||{x:0,y:0},yi.default.isOperaMobile&&O(P)?(T("screen",P,B),B.x+=window.scrollX,B.y+=window.scrollY):T("page",P,B),B},u=function(P,B){return B=B||{},yi.default.isOperaMobile&&O(P)?T("screen",P,B):T("client",P,B),B},f=function(P){var B=[];return re.default.array(P)?(B[0]=P[0],B[1]=P[1]):P.type==="touchend"?P.touches.length===1?(B[0]=P.touches[0],B[1]=P.changedTouches[0]):P.touches.length===0&&(B[0]=P.changedTouches[0],B[1]=P.changedTouches[1]):(B[0]=P.touches[0],B[1]=P.touches[1]),B},m=function(P){for(var B={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},H=0;H<P.length;H++){var U=P[H];for(var de in B)B[de]+=U[de]}for(var xe in B)B[xe]/=P.length;return B},y=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},w=function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P},C=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},M=function(P,B){for(var H=0;H<P.slice().length;H++){var U=P.slice()[H],de=U.dropzone,xe=U.element;B.dropzone=de,B.target=xe,de.fire(B),B.propagationStopped=B.immediatePropagationStopped=!1}},I=function(P,B){for(var H=function(xe,Fe){for(var Re=xe.interactables,ot=[],vt=0;vt<Re.list.length;vt++){var Ut=Re.list[vt];if(Ut.options.drop.enabled){var Zt=Ut.options.drop.accept;if(!(re.default.element(Zt)&&Zt!==Fe||re.default.string(Zt)&&!pt.matchesSelector(Fe,Zt)||re.default.func(Zt)&&!Zt({dropzone:Ut,draggableElement:Fe})))for(var mn=re.default.string(Ut.target)?Ut._context.querySelectorAll(Ut.target):re.default.array(Ut.target)?Ut.target:[Ut.target],nn=0;nn<mn.length;nn++){var Fn=mn[nn];Fn!==Fe&&ot.push({dropzone:Ut,element:Fn,rect:Ut.getRect(Fn)})}}}return ot}(P,B),U=0;U<H.length;U++){var de=H[U];de.rect=de.dropzone.getRect(de.element)}return H},D=function(P,B,H){for(var U=P.dropState,de=P.interactable,xe=P.element,Fe=[],Re=0;Re<U.activeDrops.length;Re++){var ot=U.activeDrops[Re],vt=ot.dropzone,Ut=ot.element,Zt=ot.rect;Fe.push(vt.dropCheck(B,H,de,xe,Ut,Zt)?Ut:null)}var mn=pt.indexOfDeepestElement(Fe);return U.activeDrops[mn]||null},z=function(P,B,H){var U=P.dropState,de={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return H.type==="dragstart"&&(de.activate=new si.DropEvent(U,H,"dropactivate"),de.activate.target=null,de.activate.dropzone=null),H.type==="dragend"&&(de.deactivate=new si.DropEvent(U,H,"dropdeactivate"),de.deactivate.target=null,de.deactivate.dropzone=null),U.rejected||(U.cur.element!==U.prev.element&&(U.prev.dropzone&&(de.leave=new si.DropEvent(U,H,"dragleave"),H.dragLeave=de.leave.target=U.prev.element,H.prevDropzone=de.leave.dropzone=U.prev.dropzone),U.cur.dropzone&&(de.enter=new si.DropEvent(U,H,"dragenter"),H.dragEnter=U.cur.element,H.dropzone=U.cur.dropzone)),H.type==="dragend"&&U.cur.dropzone&&(de.drop=new si.DropEvent(U,H,"drop"),H.dropzone=U.cur.dropzone,H.relatedTarget=U.cur.element),H.type==="dragmove"&&U.cur.dropzone&&(de.move=new si.DropEvent(U,H,"dropmove"),de.move.dragmove=H,H.dropzone=U.cur.dropzone)),de},Q=function(P,B){var H=P.dropState,U=H.activeDrops,de=H.cur,xe=H.prev;B.leave&&xe.dropzone.fire(B.leave),B.enter&&de.dropzone.fire(B.enter),B.move&&de.dropzone.fire(B.move),B.drop&&de.dropzone.fire(B.drop),B.deactivate&&M(U,B.deactivate),H.prev.dropzone=de.dropzone,H.prev.element=de.element},W=function(P,B){var H=P.interaction,U=P.iEvent,de=P.event;if(U.type==="dragmove"||U.type==="dragend"){var xe=H.dropState;B.dynamicDrop&&(xe.activeDrops=I(B,H.element));var Fe=U,Re=D(H,Fe,de);xe.rejected=xe.rejected&&!!Re&&Re.dropzone===xe.cur.dropzone&&Re.element===xe.cur.element,xe.cur.dropzone=Re&&Re.dropzone,xe.cur.element=Re&&Re.element,xe.events=z(H,0,Fe)}},me=function(P){var B=P.interaction,H=P.iEvent,U=P.phase;if(B.prepared.name==="gesture"){var de=B.pointers.map(function(vt){return vt.pointer}),xe=U==="start",Fe=U==="end",Re=B.interactable.options.deltaSource;if(H.touches=[de[0],de[1]],xe)H.distance=Ln.touchDistance(de,Re),H.box=Ln.touchBBox(de),H.scale=1,H.ds=0,H.angle=Ln.touchAngle(de,Re),H.da=0,B.gesture.startDistance=H.distance,B.gesture.startAngle=H.angle;else if(Fe){var ot=B.prevEvent;H.distance=ot.distance,H.box=ot.box,H.scale=ot.scale,H.ds=0,H.angle=ot.angle,H.da=0}else H.distance=Ln.touchDistance(de,Re),H.box=Ln.touchBBox(de),H.scale=H.distance/B.gesture.startDistance,H.angle=Ln.touchAngle(de,Re),H.ds=H.scale-B.gesture.scale,H.da=H.angle-B.gesture.angle;B.gesture.distance=H.distance,B.gesture.angle=H.angle,re.default.number(H.scale)&&H.scale!==1/0&&!isNaN(H.scale)&&(B.gesture.scale=H.scale)}},oe=function(P,B,H,U,de,xe,Fe){if(!B)return!1;if(B===!0){var Re=re.default.number(xe.width)?xe.width:xe.right-xe.left,ot=re.default.number(xe.height)?xe.height:xe.bottom-xe.top;if(Fe=Math.min(Fe,Math.abs((P==="left"||P==="right"?Re:ot)/2)),Re<0&&(P==="left"?P="right":P==="right"&&(P="left")),ot<0&&(P==="top"?P="bottom":P==="bottom"&&(P="top")),P==="left"){var vt=Re>=0?xe.left:xe.right;return H.x<vt+Fe}if(P==="top"){var Ut=ot>=0?xe.top:xe.bottom;return H.y<Ut+Fe}if(P==="right")return H.x>(Re>=0?xe.right:xe.left)-Fe;if(P==="bottom")return H.y>(ot>=0?xe.bottom:xe.top)-Fe}return!!re.default.element(U)&&(re.default.element(B)?B===U:pt.matchesUpTo(U,B,de))},q=function(P){var B=P.iEvent,H=P.interaction;if(H.prepared.name==="resize"&&H.resizeAxes){var U=B;H.interactable.options.resize.square?(H.resizeAxes==="y"?U.delta.x=U.delta.y:U.delta.y=U.delta.x,U.axes="xy"):(U.axes=H.resizeAxes,H.resizeAxes==="x"?U.delta.y=0:H.resizeAxes==="y"&&(U.delta.x=0))}},ee=function(P,B,H){return(re.default.string(P)?(0,un.getStringOptionResult)(P,B,H):P)||(0,_n.getWindow)(H)},we=function(P){return re.default.window(P)&&(P=window.document.body),{x:P.scrollLeft,y:P.scrollTop}},ie=function(P){return re.default.bool(P)?(this.options.styleCursor=P,this):P===null?(delete this.options.styleCursor,this):this.options.styleCursor},le=function(P){return re.default.func(P)?(this.options.actionChecker=P,this):P===null?(delete this.options.actionChecker,this):this.options.actionChecker},ye=function(P,B,H,U,de){return B.testIgnoreAllow(B.options[P.name],H,U)&&B.options[P.name].enabled&&ct(B,H,P,de)?P:null},Ee=function(P,B,H,U,de,xe,Fe){for(var Re=0,ot=U.length;Re<ot;Re++){var vt=U[Re],Ut=de[Re],Zt=vt.getAction(B,H,P,Ut);if(Zt){var mn=ye(Zt,vt,Ut,xe,Fe);if(mn)return{action:mn,interactable:vt,element:Ut}}}return{action:null,interactable:null,element:null}},fe=function(P,B,H,U,de){var xe=[],Fe=[],Re=U;function ot(Ut){xe.push(Ut),Fe.push(Re)}for(;re.default.element(Re);){xe=[],Fe=[],de.interactables.forEachMatch(Re,ot);var vt=Ee(P,B,H,xe,Fe,U,de);if(vt.action&&!vt.interactable.options[vt.action.name].manualStart)return vt;Re=pt.parentNode(Re)}return{action:null,interactable:null,element:null}},rt=function(P,B,H){var U=B.action,de=B.interactable,xe=B.element;U=U||{name:null},P.interactable=de,P.element=xe,(0,qi.copyAction)(P.prepared,U),P.rect=de&&U.name?de.getRect(xe):null,De(P,H),H.fire("autoStart:prepared",{interaction:P})},ct=function(P,B,H,U){var de=P.options,xe=de[H.name].max,Fe=de[H.name].maxPerElement,Re=U.autoStart.maxInteractions,ot=0,vt=0,Ut=0;if(!(xe&&Fe&&Re))return!1;for(var Zt=0;Zt<U.interactions.list.length;Zt++){var mn=U.interactions.list[Zt],nn=mn.prepared.name;if(mn.interacting()&&(++ot>=Re||mn.interactable===P&&((vt+=nn===H.name?1:0)>=xe||mn.element===B&&(Ut++,nn===H.name&&Ut>=Fe))))return!1}return Re>0},Ot=function(P,B){return re.default.number(P)?(B.autoStart.maxInteractions=P,this):B.autoStart.maxInteractions},_t=function(P,B,H){var U=H.autoStart.cursorElement;U&&U!==P&&(U.style.cursor=""),P.ownerDocument.documentElement.style.cursor=B,P.style.cursor=B,H.autoStart.cursorElement=B?P:null},De=function(P,B){var H=P.interactable,U=P.element,de=P.prepared;if(P.pointerType==="mouse"&&H&&H.options.styleCursor){var xe="";if(de.name){var Fe=H.options[de.name].cursorChecker;xe=re.default.func(Fe)?Fe(de,H,U,P._interacting):B.actions.map[de.name].getCursor(de)}_t(P.element,xe||"",B)}else B.autoStart.cursorElement&&_t(B.autoStart.cursorElement,"",B)},be=function(P){var B=P.prepared&&P.prepared.name;if(!B)return null;var H=P.interactable.options;return H[B].hold||H[B].delay},Xe=function(P){return/^(always|never|auto)$/.test(P)?(this.options.preventDefault=P,this):re.default.bool(P)?(this.options.preventDefault=P?"always":"never",this):this.options.preventDefault},Ne=function(P){var B=P.interaction,H=P.event;B.interactable&&B.interactable.checkAndPreventDefault(H)},Qe=function(P){var B=P.Interactable;B.prototype.preventDefault=Xe,B.prototype.checkAndPreventDefault=function(H){return function(U,de,xe){var Fe=U.options.preventDefault;if(Fe!=="never")if(Fe!=="always"){if(de.events.supportsPassive&&/^touch(start|move)$/.test(xe.type)){var Re=(0,_n.getWindow)(xe.target).document,ot=de.getDocOptions(Re);if(!ot||!ot.events||ot.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(xe.type)||re.default.element(xe.target)&&(0,pt.matchesSelector)(xe.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||xe.preventDefault()}else xe.preventDefault()}(this,P,H)},P.interactions.docEvents.push({type:"dragstart",listener:function(U){for(var de=0;de<P.interactions.list.length;de++){var xe=P.interactions.list[de];if(xe.element&&(xe.element===U.target||(0,pt.nodeContains)(xe.element,U.target)))return void xe.interactable.checkAndPreventDefault(U)}}})},Me=function(P,B){return function(H){if(Array.isArray(H))return H}(P)||function(H,U){var de=H==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&H[Symbol.iterator]||H["@@iterator"];if(de!=null){var xe,Fe,Re=[],ot=!0,vt=!1;try{for(de=de.call(H);!(ot=(xe=de.next()).done)&&(Re.push(xe.value),!U||Re.length!==U);ot=!0);}catch(Ut){vt=!0,Fe=Ut}finally{try{ot||de.return==null||de.return()}finally{if(vt)throw Fe}}return Re}}(P,B)||function(H,U){if(H){if(typeof H=="string")return Ve(H,U);var de=Object.prototype.toString.call(H).slice(8,-1);return de==="Object"&&H.constructor&&(de=H.constructor.name),de==="Map"||de==="Set"?Array.from(H):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Ve(H,U):void 0}}(P,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Ve=function(P,B){(B==null||B>P.length)&&(B=P.length);for(var H=0,U=Array(B);H<B;H++)U[H]=P[H];return U},st=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},gt=function(P,B){return{rect:B,coords:P,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}},Mt=function(P,B){return P?{left:B.x-P.left,top:B.y-P.top,right:P.right-B.x,bottom:P.bottom-B.y}:{left:0,top:0,right:0,bottom:0}},Ue=function(P){var B=P.iEvent,H=P.interaction.modification.result;H&&(B.modifiers=H.eventProps)},Be=function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P},et=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},Ge=function(P,B){for(var H=0;H<B.length;H++){var U=B[H];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}},$e=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},ze=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},xt=function(P){P.pointerIsDown&&(dt(P.coords.cur,P.offset.total),P.offset.pending.x=0,P.offset.pending.y=0)},bt=function(P){lt(P.interaction)},lt=function(P){if(!function(H){return!(!H.offset.pending.x&&!H.offset.pending.y)}(P))return!1;var B=P.offset.pending;return dt(P.coords.cur,B),dt(P.coords.delta,B),un.addEdges(P.edges,P.rect,B),B.x=0,B.y=0,!0},Ze=function(P){var B=P.x,H=P.y;this.offset.pending.x+=B,this.offset.pending.y+=H,this.offset.total.x+=B,this.offset.total.y+=H},dt=function(P,B){var H=P.page,U=P.client,de=B.x,xe=B.y;H.x+=de,H.y+=xe,U.x+=de,U.y+=xe},$t=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},qt=function(P){var B=P.interactable,H=P.prepared;return B&&B.options&&H.name&&B.options[H.name].inertia},Bt=function(P,B,H,U){var de=1-P;return de*de*B+2*de*P*H+P*P*U},ut=function(P,B,H,U){return-H*(P/=U)*(P-2)+B},Y=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},Kt=function(P,B){for(var H=0;H<B.length;H++){var U=B[H];if(P.immediatePropagationStopped)break;U(P)}},Ft=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},Xt=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},R=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},nt=function(P,B){return function(H){if(Array.isArray(H))return H}(P)||function(H,U){var de=H==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&H[Symbol.iterator]||H["@@iterator"];if(de!=null){var xe,Fe,Re=[],ot=!0,vt=!1;try{for(de=de.call(H);!(ot=(xe=de.next()).done)&&(Re.push(xe.value),!U||Re.length!==U);ot=!0);}catch(Ut){vt=!0,Fe=Ut}finally{try{ot||de.return==null||de.return()}finally{if(vt)throw Fe}}return Re}}(P,B)||function(H,U){if(H){if(typeof H=="string")return je(H,U);var de=Object.prototype.toString.call(H).slice(8,-1);return de==="Object"&&H.constructor&&(de=H.constructor.name),de==="Map"||de==="Set"?Array.from(H):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?je(H,U):void 0}}(P,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},je=function(P,B){(B==null||B>P.length)&&(B=P.length);for(var H=0,U=Array(B);H<B;H++)U[H]=P[H];return U},ue=function(P){if(!re.default.object(P))return{capture:!!P,passive:!1};var B=(0,mt.default)({},P);return B.capture=!!P.capture,B.passive=!!P.passive,B},J=function(P,B){return P.pointers.some(function(H){return H.id===B})},K=function(P,B){return function(H){if(Array.isArray(H))return H}(P)||function(H,U){var de=H==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&H[Symbol.iterator]||H["@@iterator"];if(de!=null){var xe,Fe,Re=[],ot=!0,vt=!1;try{for(de=de.call(H);!(ot=(xe=de.next()).done)&&(Re.push(xe.value),!U||Re.length!==U);ot=!0);}catch(Ut){vt=!0,Fe=Ut}finally{try{ot||de.return==null||de.return()}finally{if(vt)throw Fe}}return Re}}(P,B)||function(H,U){if(H){if(typeof H=="string")return Z(H,U);var de=Object.prototype.toString.call(H).slice(8,-1);return de==="Object"&&H.constructor&&(de=H.constructor.name),de==="Map"||de==="Set"?Array.from(H):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Z(H,U):void 0}}(P,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Z=function(P,B){(B==null||B>P.length)&&(B=P.length);for(var H=0,U=Array(B);H<B;H++)U[H]=P[H];return U},se=function(P,B){return function(H){var U=B.interactions.list,de=Ln.getPointerType(H),xe=K(Ln.getEventTargets(H),2),Fe=xe[0],Re=xe[1],ot=[];if(/^touch/.test(H.type)){B.prevTouchTime=B.now();for(var vt=0;vt<H.changedTouches.length;vt++){var Ut=H.changedTouches[vt],Zt={pointer:Ut,pointerId:Ln.getPointerId(Ut),pointerType:de,eventType:H.type,eventTarget:Fe,curEventTarget:Re,scope:B},mn=he(Zt);ot.push([Zt.pointer,Zt.eventTarget,Zt.curEventTarget,mn])}}else{var nn=!1;if(!yi.default.supportsPointerEvent&&/mouse/.test(H.type)){for(var Fn=0;Fn<U.length&&!nn;Fn++)nn=U[Fn].pointerType!=="mouse"&&U[Fn].pointerIsDown;nn=nn||B.now()-B.prevTouchTime<500||H.timeStamp===0}if(!nn){var Jn={pointer:H,pointerId:Ln.getPointerId(H),pointerType:de,eventType:H.type,curEventTarget:Re,eventTarget:Fe,scope:B},zn=he(Jn);ot.push([Jn.pointer,Jn.eventTarget,Jn.curEventTarget,zn])}}for(var Zn=0;Zn<ot.length;Zn++){var mr=K(ot[Zn],4),Tr=mr[0],qr=mr[1],Zr=mr[2];mr[3][P](Tr,H,qr,Zr)}}},he=function(P){var B=P.pointerType,H=P.scope,U={interaction:Cn.default.search(P),searchDetails:P};return H.fire("interactions:find",U),U.interaction||H.interactions.new({pointerType:B})},Ae=function(P,B){var H=P.doc,U=P.scope,de=P.options,xe=U.interactions.docEvents,Fe=U.events,Re=Fe[B];for(var ot in U.browser.isIOS&&!de.events&&(de.events={passive:!1}),Fe.delegatedEvents)Re(H,ot,Fe.delegateListener),Re(H,ot,Fe.delegateUseCapture,!0);for(var vt=de&&de.events,Ut=0;Ut<xe.length;Ut++){var Zt=xe[Ut];Re(H,Zt.type,Zt.listener,vt)}},Te=function(P,B){if(!_instanceof(P,B))throw new TypeError("Cannot call a class as a function")},He=function(P,B){for(var H=0;H<B.length;H++){var U=B[H];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}},qe=function(P,B,H){return B&&He(P.prototype,B),H&&He(P,H),Object.defineProperty(P,"prototype",{writable:!1}),P},We=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},Je=function(P,B){return P.isInitialized=!0,re.default.window(B)&&_n.init(B),sr.default.init(B),yi.default.init(B),Vi.default.init(B),P.window=B,P.document=B.document,P.usePlugin(vr.default),P.usePlugin(Et.default),P},Tt=function(P){return P&&P.replace(/\/.*$/,"")},It=function(P,B){return function(H){if(Array.isArray(H))return H}(P)||function(H,U){var de=H==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&H[Symbol.iterator]||H["@@iterator"];if(de!=null){var xe,Fe,Re=[],ot=!0,vt=!1;try{for(de=de.call(H);!(ot=(xe=de.next()).done)&&(Re.push(xe.value),!U||Re.length!==U);ot=!0);}catch(Ut){vt=!0,Fe=Ut}finally{try{ot||de.return==null||de.return()}finally{if(vt)throw Fe}}return Re}}(P,B)||function(H,U){if(H){if(typeof H=="string")return Nt(H,U);var de=Object.prototype.toString.call(H).slice(8,-1);return de==="Object"&&H.constructor&&(de=H.constructor.name),de==="Map"||de==="Set"?Array.from(H):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Nt(H,U):void 0}}(P,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Nt=function(P,B){(B==null||B>P.length)&&(B=P.length);for(var H=0,U=Array(B);H<B;H++)U[H]=P[H];return U},Lt=function(P,B){var H=Object.keys(P);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(P);B&&(U=U.filter(function(de){return Object.getOwnPropertyDescriptor(P,de).enumerable})),H.push.apply(H,U)}return H},Rt=function(P){for(var B=arguments,H=function(de){var xe=B[de]!=null?B[de]:{};de%2?Lt(Object(xe),!0).forEach(function(Fe){sn(P,Fe,xe[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(xe)):Lt(Object(xe)).forEach(function(Fe){Object.defineProperty(P,Fe,Object.getOwnPropertyDescriptor(xe,Fe))})},U=1;U<arguments.length;U++)H(U);return P},sn=function(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P},ln=function(P,B,H){var U=P.startCoords,de=P.edgeSign;B?H.y=U.y+(H.x-U.x)*de.y:H.x=U.x+(H.y-U.y)*de.x},jt=function(P,B,H,U){var de=P.startRect,xe=P.startCoords,Fe=P.ratio,Re=P.edgeSign;if(B){var ot=U.width/Fe;H.y=xe.y+(ot-de.height)*Re.y}else{var vt=U.height*Fe;H.x=xe.x+(vt-de.width)*Re.x}},rn=function(P,B,H){return re.default.func(P)?un.resolveRectLike(P,B.interactable,B.element,[H.x,H.y,B]):un.resolveRectLike(P,B.interactable,B.element)},Qt=function(P,B){for(var H=["top","left","bottom","right"],U=0;U<H.length;U++){var de=H[U];de in P||(P[de]=B[de])}return P},Rn=function(P,B){(B==null||B>P.length)&&(B=P.length);for(var H=0,U=Array(B);H<B;H++)U[H]=P[H];return U},Vt=function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P},ur=function(P,B){var H=P.interaction,U=P.pointer,de=P.event,xe=P.eventTarget,Fe=P.type,Re=H.getPointerIndex(U),ot=H.pointers[Re];if(Fe==="tap"&&(H.pointerWasMoved||!ot||ot.downTarget!==xe))return[];for(var vt=pt.getPath(xe),Ut={interaction:H,pointer:U,event:de,eventTarget:xe,type:Fe,path:vt,targets:[],node:null},Zt=0;Zt<vt.length;Zt++){var mn=vt[Zt];Ut.node=mn,B.fire("pointerEvents:collect-targets",Ut)}return Fe==="hold"&&(Ut.targets=Ut.targets.filter(function(nn){var Fn;return nn.eventable.options.holdDuration===((Fn=H.pointers[Re])==null?void 0:Fn.hold.duration)})),Ut.targets},Dn=function(P){var B=P.interaction,H=P.pointerIndex,U=B.pointers[H].hold;U&&U.timeout&&(clearTimeout(U.timeout),U.timeout=null)},tr=function(P){var B=P.interaction;B.holdIntervalHandle&&(clearInterval(B.holdIntervalHandle),B.holdIntervalHandle=null)},en=function(P){return(0,mt.default)(this.events.options,P),this},Tn=function(P){var B=P.Interactable;P.actions.phases.reflow=!0,B.prototype.reflow=function(H){return function(U,de,xe){for(var Fe=re.default.string(U.target)?Hr.from(U._context.querySelectorAll(U.target)):[U.target],Re=xe.window.Promise,ot=Re?[]:null,vt=function(){var mn=Fe[Ut],nn=U.getRect(mn);if(!nn)return"break";var Fn=Hr.find(xe.interactions.list,function(Tr){return Tr.interacting()&&Tr.interactable===U&&Tr.element===mn&&Tr.prepared.name===de.name}),Jn=void 0;if(Fn)Fn.move(),ot&&(Jn=Fn._reflowPromise||new Re(function(Tr){Fn._reflowResolve=Tr}));else{var zn=(0,un.tlbrToXywh)(nn),Zn={page:{x:zn.x,y:zn.y},client:{x:zn.x,y:zn.y},timeStamp:xe.now()},mr=Ln.coordsToEvent(Zn);Jn=function(Tr,qr,Zr,Ti,fi){var Ur=Tr.interactions.new({pointerType:"reflow"}),ca={interaction:Ur,event:fi,pointer:fi,eventTarget:Zr,phase:"reflow"};Ur.interactable=qr,Ur.element=Zr,Ur.prevEvent=fi,Ur.updatePointer(fi,fi,Zr,!0),Ln.setZeroCoords(Ur.coords.delta),(0,qi.copyAction)(Ur.prepared,Ti),Ur._doPhase(ca);var da=Tr.window.Promise,Nu=da?new da(function(Sk){Ur._reflowResolve=Sk}):void 0;return Ur._reflowPromise=Nu,Ur.start(Ti,qr,Zr),Ur._interacting?(Ur.move(ca),Ur.end(fi)):(Ur.stop(),Ur._reflowResolve()),Ur.removePointer(fi,fi),Nu}(xe,U,mn,de,mr)}ot&&ot.push(Jn)},Ut=0;Ut<Fe.length&&vt()!=="break";Ut++);return ot&&Re.all(ot).then(function(){return U})}(this,H,P)}},fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0,fr.default=function(te){return!(!te||!te.Window)&&_instanceof(te,te.Window)};var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),_n.getWindow=function(te){return(0,fr.default)(te)?te:(te.ownerDocument||te).defaultView||Pe.window},_n.init=a,_n.window=_n.realWindow=void 0;var cr=void 0;_n.realWindow=cr;var Pe=void 0;_n.window=Pe,(typeof window=="undefined"?"undefined":_typeof(window))<"u"&&window&&a(window);var re={};function Ce(te){return Ce=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},Ce(te)}Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var ht=function(P){return!!P&&Ce(P)==="object"},At=function(P){return typeof P=="function"},yt={window:function(P){return P===_n.window||(0,fr.default)(P)},docFrag:function(P){return ht(P)&&P.nodeType===11},object:ht,func:At,number:function(P){return typeof P=="number"},bool:function(P){return typeof P=="boolean"},string:function(P){return typeof P=="string"},element:function(P){if(!P||Ce(P)!=="object")return!1;var B=_n.getWindow(P)||_n.window;return/object|function/.test((typeof Element=="undefined"?"undefined":_typeof(Element))>"u"?"undefined":Ce(Element))?_instanceof(P,Element)||_instanceof(P,B.Element):P.nodeType===1&&typeof P.nodeName=="string"},plainObject:function(P){return ht(P)&&!!P.constructor&&/function Object\b/.test(P.constructor.toString())},array:function(P){return ht(P)&&P.length!==void 0&&At(P.splice)}};re.default=yt;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0;var An={id:"actions/drag",install:function(P){var B=P.actions,H=P.Interactable,U=P.defaults;H.prototype.draggable=An.draggable,B.map.drag=An,B.methodDict.drag="draggable",U.actions.drag=An.defaults},listeners:{"interactions:before-action-move":r,"interactions:action-resume":r,"interactions:action-move":c,"auto-start:check":function(te){var P=te.interaction,B=te.interactable,H=te.buttons,U=B.options.drag;if(U&&U.enabled&&(!P.pointerIsDown||!/mouse|pointer/.test(P.pointerType)||H&B.options.drag.mouseButtons))return te.action={name:"drag",axis:U.lockAxis==="start"?U.startAxis:U.lockAxis},!1}},draggable:function(P){return re.default.object(P)?(this.options.drag.enabled=P.enabled!==!1,this.setPerAction("drag",P),this.setOnEvents("drag",P),/^(xy|x|y|start)$/.test(P.lockAxis)&&(this.options.drag.lockAxis=P.lockAxis),/^(xy|x|y)$/.test(P.startAxis)&&(this.options.drag.startAxis=P.startAxis),this):re.default.bool(P)?(this.options.drag.enabled=P,this):this.options.drag},beforeMove:r,move:c,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},$n=An;gn.default=$n;var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var ar={init:function(P){var B=P;ar.document=B.document,ar.DocumentFragment=B.DocumentFragment||d,ar.SVGElement=B.SVGElement||d,ar.SVGSVGElement=B.SVGSVGElement||d,ar.SVGElementInstance=B.SVGElementInstance||d,ar.Element=B.Element||d,ar.HTMLElement=B.HTMLElement||ar.Element,ar.Event=B.Event,ar.Touch=B.Touch||d,ar.PointerEvent=B.PointerEvent||B.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null},Ar=ar;sr.default=Ar;var yi={};Object.defineProperty(yi,"__esModule",{value:!0}),yi.default=void 0;var ki={init:function(P){var B=sr.default.Element,H=P.navigator||{};ki.supportsTouch="ontouchstart"in P||re.default.func(P.DocumentTouch)&&_instanceof(sr.default.document,P.DocumentTouch),ki.supportsPointerEvent=H.pointerEnabled!==!1&&!!sr.default.PointerEvent,ki.isIOS=/iP(hone|od|ad)/.test(H.platform),ki.isIOS7=/iP(hone|od|ad)/.test(H.platform)&&/OS 7[^\d]/.test(H.appVersion),ki.isIe9=/MSIE 9/.test(H.userAgent),ki.isOperaMobile=H.appName==="Opera"&&ki.supportsTouch&&/Presto/.test(H.userAgent),ki.prefixedMatchesSelector="matches"in B.prototype?"matches":"webkitMatchesSelector"in B.prototype?"webkitMatchesSelector":"mozMatchesSelector"in B.prototype?"mozMatchesSelector":"oMatchesSelector"in B.prototype?"oMatchesSelector":"msMatchesSelector",ki.pEventTypes=ki.supportsPointerEvent?sr.default.PointerEvent===P.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ki.wheelEvent=sr.default.document&&"onmousewheel"in sr.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},wi=ki;yi.default=wi;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.closest=function(te,P){for(;re.default.element(te);){if(p(te,P))return te;te=h(te)}return null},pt.getActualElement=function(te){return te.correspondingUseElement||te},pt.getElementClientRect=x,pt.getElementRect=function(te){var P=x(te);if(!yi.default.isIOS7&&P){var B=k(_n.getWindow(te));P.left+=B.x,P.right+=B.x,P.top+=B.y,P.bottom+=B.y}return P},pt.getPath=function(te){for(var P=[];te;)P.push(te),te=h(te);return P},pt.getScrollXY=k,pt.indexOfDeepestElement=function(te){for(var P,B=[],H=0;H<te.length;H++){var U=te[H],de=te[P];if(U&&H!==P)if(de){var xe=tt(U),Fe=tt(de);if(xe!==U.ownerDocument)if(Fe!==U.ownerDocument)if(xe!==Fe){B=B.length?B:v(de);var Re=void 0;if(_instanceof(de,sr.default.HTMLElement)&&_instanceof(U,sr.default.SVGElement)&&!_instanceof(U,sr.default.SVGSVGElement)){if(U===Fe)continue;Re=U.ownerSVGElement}else Re=U;for(var ot=v(Re,de.ownerDocument),vt=0;ot[vt]&&ot[vt]===B[vt];)vt++;var Ut=[ot[vt-1],ot[vt],B[vt]];if(Ut[0])for(var Zt=Ut[0].lastChild;Zt;){if(Zt===Ut[1]){P=H,B=ot;break}if(Zt===Ut[2])break;Zt=Zt.previousSibling}}else mn=U,nn=de,(parseInt(_n.getWindow(mn).getComputedStyle(mn).zIndex,10)||0)>=(parseInt(_n.getWindow(nn).getComputedStyle(nn).zIndex,10)||0)&&(P=H);else P=H}else P=H}var mn,nn;return P},pt.matchesSelector=p,pt.matchesUpTo=function(te,P,B){for(;re.default.element(te);){if(p(te,P))return!0;if((te=h(te))===B)return p(te,P)}return!1},pt.nodeContains=function(te,P){if(te.contains)return te.contains(P);for(;P;){if(P===te)return!0;P=P.parentNode}return!1},pt.parentNode=h,pt.trySelector=function(te){return!!re.default.string(te)&&(sr.default.document.querySelector(te),!0)};var tt=function(P){return P.parentNode||P.host},mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=function(te,P){for(var B in P)te[B]=P[B];return te};var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.addEdges=function(te,P,B){te.left&&(P.left+=B.x),te.right&&(P.right+=B.x),te.top&&(P.top+=B.y),te.bottom&&(P.bottom+=B.y),P.width=P.right-P.left,P.height=P.bottom-P.top},un.getStringOptionResult=A,un.rectToXY=function(te){return te&&{x:"x"in te?te.x:te.left,y:"y"in te?te.y:te.top}},un.resolveRectLike=function(te,P,B,H){var U,de=te;return re.default.string(de)?de=A(de,P,B):re.default.func(de)&&(de=de.apply(void 0,function(xe){if(Array.isArray(xe))return S(xe)}(U=H)||function(xe){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&xe[Symbol.iterator]!=null||xe["@@iterator"]!=null)return Array.from(xe)}(U)||function(xe,Fe){if(xe){if(typeof xe=="string")return S(xe,Fe);var Re=Object.prototype.toString.call(xe).slice(8,-1);return Re==="Object"&&xe.constructor&&(Re=xe.constructor.name),Re==="Map"||Re==="Set"?Array.from(xe):Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re)?S(xe,Fe):void 0}}(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),re.default.element(de)&&(de=(0,pt.getElementRect)(de)),de},un.tlbrToXywh=function(te){return!te||"x"in te&&"y"in te||((te=(0,mt.default)({},te)).x=te.left||0,te.y=te.top||0,te.width=te.width||(te.right||0)-te.x,te.height=te.height||(te.bottom||0)-te.y),te},un.xywhToTlbr=function(te){return!te||"left"in te&&"top"in te||((te=(0,mt.default)({},te)).left=te.x||0,te.top=te.y||0,te.right=te.right||te.left+te.width,te.bottom=te.bottom||te.top+te.height),te};var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=function(te,P,B){var H=te.options[B],U=H&&H.origin||te.options.origin,de=(0,un.resolveRectLike)(U,te,P,[te&&P]);return(0,un.rectToXY)(de)||{x:0,y:0}};var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=function te(P,B,H){if(H=H||{},re.default.string(P)&&P.search(" ")!==-1&&(P=E(P)),re.default.array(P))return P.reduce(function(Re,ot){return(0,mt.default)(Re,te(ot,B,H))},H);if(re.default.object(P)&&(B=P,P=""),re.default.func(B))H[P]=H[P]||[],H[P].push(B);else if(re.default.array(B))for(var U=0;U<B.length;U++){var de;de=B[U],te(P,de,H)}else if(re.default.object(B))for(var xe in B){var Fe=E(xe).map(function(Re){return"".concat(P).concat(Re)});te(Fe,B[xe],H)}return H};var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0,dr.default=function(te,P){return Math.sqrt(te*te+P*P)};var Or={};Object.defineProperty(Or,"__esModule",{value:!0}),Or.default=function(te,P){te.__set||(te.__set={});var B=function(de){typeof te[de]!="function"&&de!=="__set"&&Object.defineProperty(te,de,{get:function(){return de in te.__set?te.__set[de]:te.__set[de]=P[de]},set:function(Fe){te.__set[de]=Fe},configurable:!0})};for(var H in P)B(H);return te};var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.coordsToEvent=function(te){return{coords:te,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Ln.copyCoords=function(te,P){te.page=te.page||{},te.page.x=P.page.x,te.page.y=P.page.y,te.client=te.client||{},te.client.x=P.client.x,te.client.y=P.client.y,te.timeStamp=P.timeStamp},Ln.getClientXY=u,Ln.getEventTargets=function(te){var P=re.default.func(te.composedPath)?te.composedPath():te.path;return[pt.getActualElement(P?P[0]:te.target),pt.getActualElement(te.currentTarget)]},Ln.getPageXY=b,Ln.getPointerId=function(te){return re.default.number(te.pointerId)?te.pointerId:te.identifier},Ln.getPointerType=function(te){return re.default.string(te.pointerType)?te.pointerType:re.default.number(te.pointerType)?[void 0,void 0,"touch","pen","mouse"][te.pointerType]:/touch/.test(te.type||"")||_instanceof(te,sr.default.Touch)?"touch":"mouse"},Ln.getTouchPair=f,Ln.getXY=T,Ln.isNativePointer=O,Ln.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},Ln.pointerAverage=m,Object.defineProperty(Ln,"pointerExtend",{enumerable:!0,get:function(){return Or.default}}),Ln.setCoordDeltas=function(te,P,B){te.page.x=B.page.x-P.page.x,te.page.y=B.page.y-P.page.y,te.client.x=B.client.x-P.client.x,te.client.y=B.client.y-P.client.y,te.timeStamp=B.timeStamp-P.timeStamp},Ln.setCoordVelocity=function(te,P){var B=Math.max(P.timeStamp/1e3,.001);te.page.x=P.page.x/B,te.page.y=P.page.y/B,te.client.x=P.client.x/B,te.client.y=P.client.y/B,te.timeStamp=B},Ln.setCoords=function(te,P,B){var H=P.length>1?m(P):P[0];b(H,te.page),u(H,te.client),te.timeStamp=B},Ln.setZeroCoords=function(te){te.page.x=0,te.page.y=0,te.client.x=0,te.client.y=0},Ln.touchAngle=function(te,P){var B=P+"X",H=P+"Y",U=f(te),de=U[1][B]-U[0][B],xe=U[1][H]-U[0][H];return 180*Math.atan2(xe,de)/Math.PI},Ln.touchBBox=function(te){if(!te.length)return null;var P=f(te),B=Math.min(P[0].pageX,P[1].pageX),H=Math.min(P[0].pageY,P[1].pageY),U=Math.max(P[0].pageX,P[1].pageX),de=Math.max(P[0].pageY,P[1].pageY);return{x:B,y:H,left:B,top:H,right:U,bottom:de,width:U-B,height:de-H}},Ln.touchDistance=function(te,P){var B=P+"X",H=P+"Y",U=f(te),de=U[0][B]-U[1][B],xe=U[0][H]-U[1][H];return(0,dr.default)(de,xe)};var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.BaseEvent=void 0;var oi=function(){function te(H){(function(U,de){if(!_instanceof(U,de))throw new TypeError("Cannot call a class as a function")})(this,te),y(this,"immediatePropagationStopped",!1),y(this,"propagationStopped",!1),this._interaction=H}var P,B;return P=te,(B=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();ai.BaseEvent=oi,Object.defineProperty(oi.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.remove=Hr.merge=Hr.from=Hr.findIndex=Hr.find=Hr.contains=void 0,Hr.contains=function(te,P){return te.indexOf(P)!==-1},Hr.remove=function(te,P){return te.splice(te.indexOf(P),1)};var pe=function(P,B){for(var H=0;H<B.length;H++){var U=B[H];P.push(U)}return P};Hr.merge=pe,Hr.from=function(te){return pe([],te)};var Yi=function(P,B){for(var H=0;H<P.length;H++)if(B(P[H],H,P))return H;return-1};Hr.findIndex=Yi,Hr.find=function(te,P){return te[Yi(te,P)]};var si={};function Ui(te){return Ui=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},Ui(te)}function _i(te,P){return _i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,U){return H.__proto__=U,H},_i(te,P)}function pn(te){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},pn(te)}Object.defineProperty(si,"__esModule",{value:!0}),si.DropEvent=void 0;var yn=function(te){(function(Fe,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Re&&Re.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),Re&&_i(Fe,Re)})(xe,te);var P,B,H,U,de=(H=xe,U=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Re,ot=pn(H);if(U){var vt=pn(this).constructor;Re=Reflect.construct(ot,arguments,vt)}else Re=ot.apply(this,arguments);return function(Ut,Zt){if(Zt&&(Ui(Zt)==="object"||typeof Zt=="function"))return Zt;if(Zt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(Ut)}(this,Re)});function xe(Fe,Re,ot){var vt;(function(nn,Fn){if(!_instanceof(nn,Fn))throw new TypeError("Cannot call a class as a function")})(this,xe),C(w(vt=de.call(this,Re._interaction)),"dropzone",void 0),C(w(vt),"dragEvent",void 0),C(w(vt),"relatedTarget",void 0),C(w(vt),"draggable",void 0),C(w(vt),"propagationStopped",!1),C(w(vt),"immediatePropagationStopped",!1);var Ut=ot==="dragleave"?Fe.prev:Fe.cur,Zt=Ut.element,mn=Ut.dropzone;return vt.type=ot,vt.target=Zt,vt.currentTarget=Zt,vt.dropzone=mn,vt.dragEvent=Re,vt.relatedTarget=Re.target,vt.draggable=Re.interactable,vt.timeStamp=Re.timeStamp,vt}return P=xe,(B=[{key:"reject",value:function(){var Re=this,ot=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&ot.cur.dropzone===this.dropzone&&ot.cur.element===this.target)if(ot.prev.dropzone=this.dropzone,ot.prev.element=this.target,ot.rejected=!0,ot.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var vt=ot.activeDrops,Ut=Hr.findIndex(vt,function(mn){var nn=mn.dropzone,Fn=mn.element;return nn===Re.dropzone&&Fn===Re.target});ot.activeDrops.splice(Ut,1);var Zt=new xe(ot,this.dragEvent,"dropdeactivate");Zt.dropzone=this.dropzone,Zt.target=this.target,this.dropzone.fire(Zt)}else this.dropzone.fire(new xe(ot,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Fe,Re){for(var ot=0;ot<Re.length;ot++){var vt=Re[ot];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Fe,vt.key,vt)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),xe}(ai.BaseEvent);si.DropEvent=yn;var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.default=void 0;var lr={id:"actions/drop",install:function(P){var B=P.actions,H=P.interactStatic,U=P.Interactable,de=P.defaults;P.usePlugin(gn.default),U.prototype.dropzone=function(xe){return function(Fe,Re){if(re.default.object(Re)){if(Fe.options.drop.enabled=Re.enabled!==!1,Re.listeners){var ot=(0,Un.default)(Re.listeners),vt=Object.keys(ot).reduce(function(Ut,Zt){return Ut[/^(enter|leave)/.test(Zt)?"drag".concat(Zt):/^(activate|deactivate|move)/.test(Zt)?"drop".concat(Zt):Zt]=ot[Zt],Ut},{});Fe.off(Fe.options.drop.listeners),Fe.on(vt),Fe.options.drop.listeners=vt}return re.default.func(Re.ondrop)&&Fe.on("drop",Re.ondrop),re.default.func(Re.ondropactivate)&&Fe.on("dropactivate",Re.ondropactivate),re.default.func(Re.ondropdeactivate)&&Fe.on("dropdeactivate",Re.ondropdeactivate),re.default.func(Re.ondragenter)&&Fe.on("dragenter",Re.ondragenter),re.default.func(Re.ondragleave)&&Fe.on("dragleave",Re.ondragleave),re.default.func(Re.ondropmove)&&Fe.on("dropmove",Re.ondropmove),/^(pointer|center)$/.test(Re.overlap)?Fe.options.drop.overlap=Re.overlap:re.default.number(Re.overlap)&&(Fe.options.drop.overlap=Math.max(Math.min(1,Re.overlap),0)),"accept"in Re&&(Fe.options.drop.accept=Re.accept),"checker"in Re&&(Fe.options.drop.checker=Re.checker),Fe}return re.default.bool(Re)?(Fe.options.drop.enabled=Re,Fe):Fe.options.drop}(this,xe)},U.prototype.dropCheck=function(xe,Fe,Re,ot,vt,Ut){return function(Zt,mn,nn,Fn,Jn,zn,Zn){var mr=!1;if(!(Zn=Zn||Zt.getRect(zn)))return!!Zt.options.drop.checker&&Zt.options.drop.checker(mn,nn,mr,Zt,zn,Fn,Jn);var Tr=Zt.options.drop.overlap;if(Tr==="pointer"){var qr=(0,hn.default)(Fn,Jn,"drag"),Zr=Ln.getPageXY(mn);Zr.x+=qr.x,Zr.y+=qr.y;var Ti=Zr.x>Zn.left&&Zr.x<Zn.right,fi=Zr.y>Zn.top&&Zr.y<Zn.bottom;mr=Ti&&fi}var Ur=Fn.getRect(Jn);if(Ur&&Tr==="center"){var ca=Ur.left+Ur.width/2,da=Ur.top+Ur.height/2;mr=ca>=Zn.left&&ca<=Zn.right&&da>=Zn.top&&da<=Zn.bottom}return Ur&&re.default.number(Tr)&&(mr=Math.max(0,Math.min(Zn.right,Ur.right)-Math.max(Zn.left,Ur.left))*Math.max(0,Math.min(Zn.bottom,Ur.bottom)-Math.max(Zn.top,Ur.top))/(Ur.width*Ur.height)>=Tr),Zt.options.drop.checker&&(mr=Zt.options.drop.checker(mn,nn,mr,Zt,zn,Fn,Jn)),mr}(this,xe,Fe,Re,ot,vt,Ut)},H.dynamicDrop=function(xe){return re.default.bool(xe)?(P.dynamicDrop=xe,H):P.dynamicDrop},(0,mt.default)(B.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),B.methodDict.drop="dropzone",P.dynamicDrop=!1,de.actions.drop=lr.defaults},listeners:{"interactions:before-action-start":function(te){var P=te.interaction;P.prepared.name==="drag"&&(P.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(te,P){var B=te.interaction,H=(te.event,te.iEvent);if(B.prepared.name==="drag"){var U=B.dropState;U.activeDrops=null,U.events=null,U.activeDrops=I(P,B.element),U.events=z(B,0,H),U.events.activate&&(M(U.activeDrops,U.events.activate),P.fire("actions/drop:start",{interaction:B,dragEvent:H}))}},"interactions:action-move":W,"interactions:after-action-move":function(te,P){var B=te.interaction,H=te.iEvent;B.prepared.name==="drag"&&(Q(B,B.dropState.events),P.fire("actions/drop:move",{interaction:B,dragEvent:H}),B.dropState.events={})},"interactions:action-end":function(te,P){if(te.interaction.prepared.name==="drag"){var B=te.interaction,H=te.iEvent;W(te,P),Q(B,B.dropState.events),P.fire("actions/drop:end",{interaction:B,dragEvent:H})}},"interactions:stop":function(te){var P=te.interaction;if(P.prepared.name==="drag"){var B=P.dropState;B&&(B.activeDrops=null,B.events=null,B.cur.dropzone=null,B.cur.element=null,B.prev.dropzone=null,B.prev.element=null,B.rejected=!1)}}},getActiveDrops:I,getDrop:D,getDropEvents:z,fireDropEvents:Q,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ir=lr;wn.default=Ir;var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.default=void 0;var Ei={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(P){var B=P.actions,H=P.Interactable,U=P.defaults;H.prototype.gesturable=function(de){return re.default.object(de)?(this.options.gesture.enabled=de.enabled!==!1,this.setPerAction("gesture",de),this.setOnEvents("gesture",de),this):re.default.bool(de)?(this.options.gesture.enabled=de,this):this.options.gesture},B.map.gesture=Ei,B.methodDict.gesture="gesturable",U.actions.gesture=Ei.defaults},listeners:{"interactions:action-start":me,"interactions:action-move":me,"interactions:action-end":me,"interactions:new":function(te){te.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(te){if(!(te.interaction.pointers.length<2)){var P=te.interactable.options.gesture;if(P&&P.enabled)return te.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},ia=Ei;ri.default=ia;var jo={};Object.defineProperty(jo,"__esModule",{value:!0}),jo.default=void 0;var no={id:"actions/resize",before:["actions/drag"],install:function(P){var B=P.actions,H=P.browser,U=P.Interactable,de=P.defaults;no.cursors=function(xe){return xe.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(H),no.defaultMargin=H.supportsTouch||H.supportsPointerEvent?20:10,U.prototype.resizable=function(xe){return function(Fe,Re,ot){return re.default.object(Re)?(Fe.options.resize.enabled=Re.enabled!==!1,Fe.setPerAction("resize",Re),Fe.setOnEvents("resize",Re),re.default.string(Re.axis)&&/^x$|^y$|^xy$/.test(Re.axis)?Fe.options.resize.axis=Re.axis:Re.axis===null&&(Fe.options.resize.axis=ot.defaults.actions.resize.axis),re.default.bool(Re.preserveAspectRatio)?Fe.options.resize.preserveAspectRatio=Re.preserveAspectRatio:re.default.bool(Re.square)&&(Fe.options.resize.square=Re.square),Fe):re.default.bool(Re)?(Fe.options.resize.enabled=Re,Fe):Fe.options.resize}(this,xe,P)},B.map.resize=no,B.methodDict.resize="resizable",de.actions.resize=no.defaults},listeners:{"interactions:new":function(te){te.interaction.resizeAxes="xy"},"interactions:action-start":function(te){(function(P){var B=P.iEvent,H=P.interaction;if(H.prepared.name==="resize"&&H.prepared.edges){var U=B,de=H.rect;H._rects={start:(0,mt.default)({},de),corrected:(0,mt.default)({},de),previous:(0,mt.default)({},de),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},U.edges=H.prepared.edges,U.rect=H._rects.corrected,U.deltaRect=H._rects.delta}})(te),q(te)},"interactions:action-move":function(te){(function(P){var B=P.iEvent,H=P.interaction;if(H.prepared.name==="resize"&&H.prepared.edges){var U=B,de=H.interactable.options.resize.invert,xe=de==="reposition"||de==="negate",Fe=H.rect,Re=H._rects,ot=Re.start,vt=Re.corrected,Ut=Re.delta,Zt=Re.previous;if((0,mt.default)(Zt,vt),xe){if((0,mt.default)(vt,Fe),de==="reposition"){if(vt.top>vt.bottom){var mn=vt.top;vt.top=vt.bottom,vt.bottom=mn}if(vt.left>vt.right){var nn=vt.left;vt.left=vt.right,vt.right=nn}}}else vt.top=Math.min(Fe.top,ot.bottom),vt.bottom=Math.max(Fe.bottom,ot.top),vt.left=Math.min(Fe.left,ot.right),vt.right=Math.max(Fe.right,ot.left);for(var Fn in vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top,vt)Ut[Fn]=vt[Fn]-Zt[Fn];U.edges=H.prepared.edges,U.rect=vt,U.deltaRect=Ut}})(te),q(te)},"interactions:action-end":function(te){var P=te.iEvent,B=te.interaction;if(B.prepared.name==="resize"&&B.prepared.edges){var H=P;H.edges=B.prepared.edges,H.rect=B._rects.corrected,H.deltaRect=B._rects.delta}},"auto-start:check":function(te){var P=te.interaction,B=te.interactable,H=te.element,U=te.rect,de=te.buttons;if(U){var xe=(0,mt.default)({},P.coords.cur.page),Fe=B.options.resize;if(Fe&&Fe.enabled&&(!P.pointerIsDown||!/mouse|pointer/.test(P.pointerType)||de&Fe.mouseButtons)){if(re.default.object(Fe.edges)){var Re={left:!1,right:!1,top:!1,bottom:!1};for(var ot in Re)Re[ot]=oe(ot,Fe.edges[ot],xe,P._latestPointer.eventTarget,H,U,Fe.margin||no.defaultMargin);Re.left=Re.left&&!Re.right,Re.top=Re.top&&!Re.bottom,(Re.left||Re.right||Re.top||Re.bottom)&&(te.action={name:"resize",edges:Re})}else{var vt=Fe.axis!=="y"&&xe.x>U.right-no.defaultMargin,Ut=Fe.axis!=="x"&&xe.y>U.bottom-no.defaultMargin;(vt||Ut)&&(te.action={name:"resize",axes:(vt?"x":"")+(Ut?"y":"")})}return!te.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(P){var B=P.edges,H=P.axis,U=P.name,de=no.cursors,xe=null;if(H)xe=de[U+H];else if(B){for(var Fe="",Re=["top","bottom","left","right"],ot=0;ot<Re.length;ot++){var vt=Re[ot];B[vt]&&(Fe+=vt)}xe=de[Fe]}return xe},defaultMargin:null},bl=no;jo.default=bl;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.default=void 0;var Po={id:"actions",install:function(P){P.usePlugin(ri.default),P.usePlugin(jo.default),P.usePlugin(gn.default),P.usePlugin(wn.default)}};Pa.default=Po;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.default=void 0;var oo,ao,xs=0,Ia={request:function(P){return oo(P)},cancel:function(P){return ao(P)},init:function(P){if(oo=P.requestAnimationFrame,ao=P.cancelAnimationFrame,!oo)for(var B=["ms","moz","webkit","o"],H=0;H<B.length;H++){var U=B[H];oo=P["".concat(U,"RequestAnimationFrame")],ao=P["".concat(U,"CancelAnimationFrame")]||P["".concat(U,"CancelRequestAnimationFrame")]}oo=oo&&oo.bind(P),ao=ao&&ao.bind(P),oo||(oo=function(xe){var Fe=Date.now(),Re=Math.max(0,16-(Fe-xs)),ot=P.setTimeout(function(){xe(Fe+Re)},Re);return xs=Fe+Re,ot},ao=function(xe){return clearTimeout(xe)})}};Vi.default=Ia;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.default=void 0,Gi.getContainer=ee,Gi.getScroll=we,Gi.getScrollSize=function(te){return re.default.window(te)&&(te=window.document.body),{x:te.scrollWidth,y:te.scrollHeight}},Gi.getScrollSizeDelta=function(te,P){var B=te.interaction,H=te.element,U=B&&B.interactable.options[B.prepared.name].autoScroll;if(!U||!U.enabled)return P(),{x:0,y:0};var de=ee(U.container,B.interactable,H),xe=we(de);P();var Fe=we(de);return{x:Fe.x-xe.x,y:Fe.y-xe.y}};var Er={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(P){Er.isScrolling=!0,Vi.default.cancel(Er.i),P.autoScroll=Er,Er.interaction=P,Er.prevTime=Er.now(),Er.i=Vi.default.request(Er.scroll)},stop:function(){Er.isScrolling=!1,Er.interaction&&(Er.interaction.autoScroll=null),Vi.default.cancel(Er.i)},scroll:function(){var P=Er.interaction,B=P.interactable,H=P.element,U=P.prepared.name,de=B.options[U].autoScroll,xe=ee(de.container,B,H),Fe=Er.now(),Re=(Fe-Er.prevTime)/1e3,ot=de.speed*Re;if(ot>=1){var vt={x:Er.x*ot,y:Er.y*ot};if(vt.x||vt.y){var Ut=we(xe);re.default.window(xe)?xe.scrollBy(vt.x,vt.y):xe&&(xe.scrollLeft+=vt.x,xe.scrollTop+=vt.y);var Zt=we(xe),mn={x:Zt.x-Ut.x,y:Zt.y-Ut.y};(mn.x||mn.y)&&B.fire({type:"autoscroll",target:H,interactable:B,delta:mn,interaction:P,container:xe})}Er.prevTime=Fe}Er.isScrolling&&(Vi.default.cancel(Er.i),Er.i=Vi.default.request(Er.scroll))},check:function(P,B){var H;return(H=P.options[B].autoScroll)==null?void 0:H.enabled},onInteractionMove:function(P){var B=P.interaction,H=P.pointer;if(B.interacting()&&Er.check(B.interactable,B.prepared.name))if(B.simulation)Er.x=Er.y=0;else{var U,de,xe,Fe,Re=B.interactable,ot=B.element,vt=B.prepared.name,Ut=Re.options[vt].autoScroll,Zt=ee(Ut.container,Re,ot);if(re.default.window(Zt))Fe=H.clientX<Er.margin,U=H.clientY<Er.margin,de=H.clientX>Zt.innerWidth-Er.margin,xe=H.clientY>Zt.innerHeight-Er.margin;else{var mn=pt.getElementClientRect(Zt);Fe=H.clientX<mn.left+Er.margin,U=H.clientY<mn.top+Er.margin,de=H.clientX>mn.right-Er.margin,xe=H.clientY>mn.bottom-Er.margin}Er.x=de?1:Fe?-1:0,Er.y=xe?1:U?-1:0,Er.isScrolling||(Er.margin=Ut.margin,Er.speed=Ut.speed,Er.start(B))}}},Mu={id:"auto-scroll",install:function(P){var B=P.defaults,H=P.actions;P.autoScroll=Er,Er.now=function(){return P.now()},H.phaselessTypes.autoscroll=!0,B.perAction.autoScroll=Er.defaults},listeners:{"interactions:new":function(te){te.interaction.autoScroll=null},"interactions:destroy":function(te){te.interaction.autoScroll=null,Er.stop(),Er.interaction&&(Er.interaction=null)},"interactions:stop":Er.stop,"interactions:action-move":function(te){return Er.onInteractionMove(te)}}},ko=Mu;Gi.default=ko;var qi={};Object.defineProperty(qi,"__esModule",{value:!0}),qi.copyAction=function(te,P){return te.name=P.name,te.axis=P.axis,te.edges=P.edges,te},qi.sign=void 0,qi.warnOnce=function(te,P){var B=!1;return function(){return B||(_n.window.console.warn(P),B=!0),te.apply(this,arguments)}},qi.sign=function(te){return te>=0?1:-1};var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.default=void 0;var Bo={id:"auto-start/interactableMethods",install:function(P){var B=P.Interactable;B.prototype.getAction=function(H,U,de,xe){var Fe=function(Re,ot,vt,Ut,Zt){var mn=Re.getRect(Ut),nn={action:null,interactable:Re,interaction:vt,element:Ut,rect:mn,buttons:ot.buttons||{0:1,1:4,3:8,4:16}[ot.button]};return Zt.fire("auto-start:check",nn),nn.action}(this,U,de,xe,P);return this.options.actionChecker?this.options.actionChecker(H,U,Fe,this,xe,de):Fe},B.prototype.ignoreFrom=(0,qi.warnOnce)(function(H){return this._backCompatOption("ignoreFrom",H)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),B.prototype.allowFrom=(0,qi.warnOnce)(function(H){return this._backCompatOption("allowFrom",H)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),B.prototype.actionChecker=le,B.prototype.styleCursor=ie}};Ss.default=Bo;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var j={id:"auto-start/base",before:["actions"],install:function(P){var B=P.interactStatic,H=P.defaults;P.usePlugin(Ss.default),H.base.actionChecker=null,H.base.styleCursor=!0,(0,mt.default)(H.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),B.maxInteractions=function(U){return Ot(U,P)},P.autoStart={maxInteractions:1/0,withinInteractionLimit:ct,cursorElement:null}},listeners:{"interactions:down":function(te,P){var B=te.interaction,H=te.pointer,U=te.event,de=te.eventTarget;B.interacting()||rt(B,fe(B,H,U,de,P),P)},"interactions:move":function(te,P){(function(B,H){var U=B.interaction,de=B.pointer,xe=B.event,Fe=B.eventTarget;U.pointerType!=="mouse"||U.pointerIsDown||U.interacting()||rt(U,fe(U,de,xe,Fe,H),H)})(te,P),function(B,H){var U=B.interaction;if(U.pointerIsDown&&!U.interacting()&&U.pointerWasMoved&&U.prepared.name){H.fire("autoStart:before-start",B);var de=U.interactable,xe=U.prepared.name;xe&&de&&(de.options[xe].manualStart||!ct(de,U.element,U.prepared,H)?U.stop():(U.start(U.prepared,de,U.element),De(U,H)))}}(te,P)},"interactions:stop":function(te,P){var B=te.interaction,H=B.interactable;H&&H.options.styleCursor&&_t(B.element,"",P)}},maxInteractions:Ot,withinInteractionLimit:ct,validateAction:ye},V=j;_e.default=V;var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;var ke={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(te,P){var B=te.interaction,H=te.eventTarget,U=te.dx,de=te.dy;if(B.prepared.name==="drag"){var xe=Math.abs(U),Fe=Math.abs(de),Re=B.interactable.options.drag,ot=Re.startAxis,vt=xe>Fe?"x":xe<Fe?"y":"xy";if(B.prepared.axis=Re.lockAxis==="start"?vt[0]:Re.lockAxis,vt!=="xy"&&ot!=="xy"&&ot!==vt){B.prepared.name=null;for(var Ut=H,Zt=function(Fn){if(Fn!==B.interactable){var Jn=B.interactable.options.drag;if(!Jn.manualStart&&Fn.testIgnoreAllow(Jn,Ut,H)){var zn=Fn.getAction(B.downPointer,B.downEvent,B,Ut);if(zn&&zn.name==="drag"&&function(Zn,mr){if(!mr)return!1;var Tr=mr.options.drag.startAxis;return Zn==="xy"||Tr==="xy"||Tr===Zn}(vt,Fn)&&_e.default.validateAction(zn,Fn,Ut,H,P))return Fn}}};re.default.element(Ut);){var mn=P.interactables.forEachMatch(Ut,Zt);if(mn){B.prepared.name="drag",B.interactable=mn,B.element=Ut;break}Ut=(0,pt.parentNode)(Ut)}}}}}};ae.default=ke;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var Ke={id:"auto-start/hold",install:function(P){var B=P.defaults;P.usePlugin(_e.default),B.perAction.hold=0,B.perAction.delay=0},listeners:{"interactions:new":function(te){te.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(te){var P=te.interaction,B=be(P);B>0&&(P.autoStartHoldTimer=setTimeout(function(){P.start(P.prepared,P.interactable,P.element)},B))},"interactions:move":function(te){var P=te.interaction,B=te.duplicate;P.autoStartHoldTimer&&P.pointerWasMoved&&!B&&(clearTimeout(P.autoStartHoldTimer),P.autoStartHoldTimer=null)},"autoStart:before-start":function(te){var P=te.interaction;be(P)>0&&(P.prepared.name=null)}},getHoldDuration:be},at=Ke;Ye.default=at;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var Dt={id:"auto-start",install:function(P){P.usePlugin(_e.default),P.usePlugin(Ye.default),P.usePlugin(ae.default)}};Wt.default=Dt;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0,tn.install=Qe;var bn={id:"core/interactablePreventDefault",install:Qe,listeners:["down","move","up","cancel"].reduce(function(te,P){return te["interactions:".concat(P)]=Ne,te},{})};tn.default=bn;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0,Nn.default={};var Jt,X={};Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,function(te){te.touchAction="touchAction",te.boxSizing="boxSizing",te.noListeners="noListeners"}(Jt||(Jt={})),Jt.touchAction,Jt.boxSizing,Jt.noListeners,X.default={id:"dev-tools",install:function(){}};var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=function te(P){var B={};for(var H in P){var U=P[H];re.default.plainObject(U)?B[H]=te(U):re.default.array(U)?B[H]=Hr.from(U):B[H]=U}return B};var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.getRectOffset=Mt;var F=function(){function te(H){(function(U,de){if(!_instanceof(U,de))throw new TypeError("Cannot call a class as a function")})(this,te),st(this,"states",[]),st(this,"startOffset",{left:0,right:0,top:0,bottom:0}),st(this,"startDelta",void 0),st(this,"result",void 0),st(this,"endResult",void 0),st(this,"startEdges",void 0),st(this,"edges",void 0),st(this,"interaction",void 0),this.interaction=H,this.result=gt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var P,B;return P=te,(B=[{key:"start",value:function(U,de){var xe=U.phase,Fe=this.interaction,Re=function(vt){var Ut=vt.interactable.options[vt.prepared.name],Zt=Ut.modifiers;return Zt&&Zt.length?Zt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(mn){var nn=Ut[mn];return nn&&nn.enabled&&{options:nn,methods:nn._methods}}).filter(function(mn){return!!mn})}(Fe);this.prepareStates(Re),this.startEdges=(0,mt.default)({},Fe.edges),this.edges=(0,mt.default)({},this.startEdges),this.startOffset=Mt(Fe.rect,de),this.startDelta={x:0,y:0};var ot=this.fillArg({phase:xe,pageCoords:de,preEnd:!1});return this.result=gt(),this.startAll(ot),this.result=this.setAll(ot)}},{key:"fillArg",value:function(U){var de=this.interaction;return U.interaction=de,U.interactable=de.interactable,U.element=de.element,U.rect||(U.rect=de.rect),U.edges||(U.edges=this.startEdges),U.startOffset=this.startOffset,U}},{key:"startAll",value:function(U){for(var de=0;de<this.states.length;de++){var xe=this.states[de];xe.methods.start&&(U.state=xe,xe.methods.start(U))}}},{key:"setAll",value:function(U){var de=U.phase,xe=U.preEnd,Fe=U.skipModifiers,Re=U.rect,ot=U.edges;U.coords=(0,mt.default)({},U.pageCoords),U.rect=(0,mt.default)({},Re),U.edges=(0,mt.default)({},ot);for(var vt=Fe?this.states.slice(Fe):this.states,Ut=gt(U.coords,U.rect),Zt=0;Zt<vt.length;Zt++){var mn,nn=vt[Zt],Fn=nn.options,Jn=(0,mt.default)({},U.coords),zn=null;(mn=nn.methods)!=null&&mn.set&&this.shouldDo(Fn,xe,de)&&(U.state=nn,zn=nn.methods.set(U),un.addEdges(U.edges,U.rect,{x:U.coords.x-Jn.x,y:U.coords.y-Jn.y})),Ut.eventProps.push(zn)}(0,mt.default)(this.edges,U.edges),Ut.delta.x=U.coords.x-U.pageCoords.x,Ut.delta.y=U.coords.y-U.pageCoords.y,Ut.rectDelta.left=U.rect.left-Re.left,Ut.rectDelta.right=U.rect.right-Re.right,Ut.rectDelta.top=U.rect.top-Re.top,Ut.rectDelta.bottom=U.rect.bottom-Re.bottom;var Zn=this.result.coords,mr=this.result.rect;if(Zn&&mr){var Tr=Ut.rect.left!==mr.left||Ut.rect.right!==mr.right||Ut.rect.top!==mr.top||Ut.rect.bottom!==mr.bottom;Ut.changed=Tr||Zn.x!==Ut.coords.x||Zn.y!==Ut.coords.y}return Ut}},{key:"applyToInteraction",value:function(U){var de=this.interaction,xe=U.phase,Fe=de.coords.cur,Re=de.coords.start,ot=this.result,vt=this.startDelta,Ut=ot.delta;xe==="start"&&(0,mt.default)(this.startDelta,ot.delta);for(var Zt=0;Zt<2;Zt++){var mn=Me([[Re,vt],[Fe,Ut]][Zt],2),nn=mn[0],Fn=mn[1];nn.page.x+=Fn.x,nn.page.y+=Fn.y,nn.client.x+=Fn.x,nn.client.y+=Fn.y}var Jn=this.result.rectDelta,zn=U.rect||de.rect;zn.left+=Jn.left,zn.right+=Jn.right,zn.top+=Jn.top,zn.bottom+=Jn.bottom,zn.width=zn.right-zn.left,zn.height=zn.bottom-zn.top}},{key:"setAndApply",value:function(U){var de=this.interaction,xe=U.phase,Fe=U.preEnd,Re=U.skipModifiers,ot=this.setAll(this.fillArg({preEnd:Fe,phase:xe,pageCoords:U.modifiedCoords||de.coords.cur.page}));if(this.result=ot,!ot.changed&&(!Re||Re<this.states.length)&&de.interacting())return!1;if(U.modifiedCoords){var vt=de.coords.cur.page,Ut={x:U.modifiedCoords.x-vt.x,y:U.modifiedCoords.y-vt.y};ot.coords.x+=Ut.x,ot.coords.y+=Ut.y,ot.delta.x+=Ut.x,ot.delta.y+=Ut.y}this.applyToInteraction(U)}},{key:"beforeEnd",value:function(U){var de=U.interaction,xe=U.event,Fe=this.states;if(Fe&&Fe.length){for(var Re=!1,ot=0;ot<Fe.length;ot++){var vt=Fe[ot];U.state=vt;var Ut=vt.options,Zt=vt.methods,mn=Zt.beforeEnd&&Zt.beforeEnd(U);if(mn)return this.endResult=mn,!1;Re=Re||!Re&&this.shouldDo(Ut,!0,U.phase,!0)}Re&&de.move({event:xe,preEnd:!0})}}},{key:"stop",value:function(U){var de=U.interaction;if(this.states&&this.states.length){var xe=(0,mt.default)({states:this.states,interactable:de.interactable,element:de.element,rect:null},U);this.fillArg(xe);for(var Fe=0;Fe<this.states.length;Fe++){var Re=this.states[Fe];xe.state=Re,Re.methods.stop&&Re.methods.stop(xe)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(U){this.states=[];for(var de=0;de<U.length;de++){var xe=U[de],Fe=xe.options,Re=xe.methods,ot=xe.name;this.states.push({options:Fe,methods:Re,index:de,name:ot})}return this.states}},{key:"restoreInteractionCoords",value:function(U){var de=U.interaction,xe=de.coords,Fe=de.rect,Re=de.modification;if(Re.result){for(var ot=Re.startDelta,vt=Re.result,Ut=vt.delta,Zt=vt.rectDelta,mn=[[xe.start,ot],[xe.cur,Ut]],nn=0;nn<mn.length;nn++){var Fn=Me(mn[nn],2),Jn=Fn[0],zn=Fn[1];Jn.page.x-=zn.x,Jn.page.y-=zn.y,Jn.client.x-=zn.x,Jn.client.y-=zn.y}Fe.left-=Zt.left,Fe.right-=Zt.right,Fe.top-=Zt.top,Fe.bottom-=Zt.bottom}}},{key:"shouldDo",value:function(U,de,xe,Fe){return!(!U||U.enabled===!1||Fe&&!U.endOnly||U.endOnly&&!de||xe==="start"&&!U.setStart)}},{key:"copyFrom",value:function(U){this.startOffset=U.startOffset,this.startDelta=U.startDelta,this.startEdges=U.startEdges,this.edges=U.edges,this.states=U.states.map(function(de){return(0,L.default)(de)}),this.result=gt((0,mt.default)({},U.result.coords),(0,mt.default)({},U.result.rect))}},{key:"destroy",value:function(){for(var U in this)this[U]=null}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();N.default=F;var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.addEventModifiers=Ue,G.default=void 0,G.makeModifier=function(te,P){var B=te.defaults,H={start:te.start,set:te.set,beforeEnd:te.beforeEnd,stop:te.stop},U=function(xe){var Fe=xe||{};for(var Re in Fe.enabled=Fe.enabled!==!1,B)Re in Fe||(Fe[Re]=B[Re]);var ot={options:Fe,methods:H,name:P,enable:function(){return Fe.enabled=!0,ot},disable:function(){return Fe.enabled=!1,ot}};return ot};return P&&typeof P=="string"&&(U._defaults=B,U._methods=H),U};var ve={id:"modifiers/base",before:["actions"],install:function(P){P.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(te){var P=te.interaction;P.modification=new N.default(P)},"interactions:before-action-start":function(te){var P=te.interaction,B=te.interaction.modification;B.start(te,P.coords.start.page),P.edges=B.edges,B.applyToInteraction(te)},"interactions:before-action-move":function(te){var P=te.interaction,B=P.modification,H=B.setAndApply(te);return P.edges=B.edges,H},"interactions:before-action-end":function(te){var P=te.interaction,B=P.modification,H=B.beforeEnd(te);return P.edges=B.startEdges,H},"interactions:action-start":Ue,"interactions:action-move":Ue,"interactions:action-end":Ue,"interactions:after-action-start":function(te){return te.interaction.modification.restoreInteractionCoords(te)},"interactions:after-action-move":function(te){return te.interaction.modification.restoreInteractionCoords(te)},"interactions:stop":function(te){return te.interaction.modification.stop(te)}}},Se=ve;G.default=Se;var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.defaults=void 0,it.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Pt={};function ft(te){return ft=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},ft(te)}function fn(te,P){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,U){return H.__proto__=U,H},fn(te,P)}function cn(te){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},cn(te)}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.InteractEvent=void 0;var En=function(te){(function(Fe,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Re&&Re.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),Re&&fn(Fe,Re)})(xe,te);var P,B,H,U,de=(H=xe,U=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Re,ot=cn(H);if(U){var vt=cn(this).constructor;Re=Reflect.construct(ot,arguments,vt)}else Re=ot.apply(this,arguments);return function(Ut,Zt){if(Zt&&(ft(Zt)==="object"||typeof Zt=="function"))return Zt;if(Zt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Be(Ut)}(this,Re)});function xe(Fe,Re,ot,vt,Ut,Zt,mn){var nn;(function(Zr,Ti){if(!_instanceof(Zr,Ti))throw new TypeError("Cannot call a class as a function")})(this,xe),et(Be(nn=de.call(this,Fe)),"relatedTarget",null),et(Be(nn),"screenX",void 0),et(Be(nn),"screenY",void 0),et(Be(nn),"button",void 0),et(Be(nn),"buttons",void 0),et(Be(nn),"ctrlKey",void 0),et(Be(nn),"shiftKey",void 0),et(Be(nn),"altKey",void 0),et(Be(nn),"metaKey",void 0),et(Be(nn),"page",void 0),et(Be(nn),"client",void 0),et(Be(nn),"delta",void 0),et(Be(nn),"rect",void 0),et(Be(nn),"x0",void 0),et(Be(nn),"y0",void 0),et(Be(nn),"t0",void 0),et(Be(nn),"dt",void 0),et(Be(nn),"duration",void 0),et(Be(nn),"clientX0",void 0),et(Be(nn),"clientY0",void 0),et(Be(nn),"velocity",void 0),et(Be(nn),"speed",void 0),et(Be(nn),"swipe",void 0),et(Be(nn),"axes",void 0),et(Be(nn),"preEnd",void 0),Ut=Ut||Fe.element;var Fn=Fe.interactable,Jn=(Fn&&Fn.options||it.defaults).deltaSource,zn=(0,hn.default)(Fn,Ut,ot),Zn=vt==="start",mr=vt==="end",Tr=Zn?Be(nn):Fe.prevEvent,qr=Zn?Fe.coords.start:mr?{page:Tr.page,client:Tr.client,timeStamp:Fe.coords.cur.timeStamp}:Fe.coords.cur;return nn.page=(0,mt.default)({},qr.page),nn.client=(0,mt.default)({},qr.client),nn.rect=(0,mt.default)({},Fe.rect),nn.timeStamp=qr.timeStamp,mr||(nn.page.x-=zn.x,nn.page.y-=zn.y,nn.client.x-=zn.x,nn.client.y-=zn.y),nn.ctrlKey=Re.ctrlKey,nn.altKey=Re.altKey,nn.shiftKey=Re.shiftKey,nn.metaKey=Re.metaKey,nn.button=Re.button,nn.buttons=Re.buttons,nn.target=Ut,nn.currentTarget=Ut,nn.preEnd=Zt,nn.type=mn||ot+(vt||""),nn.interactable=Fn,nn.t0=Zn?Fe.pointers[Fe.pointers.length-1].downTime:Tr.t0,nn.x0=Fe.coords.start.page.x-zn.x,nn.y0=Fe.coords.start.page.y-zn.y,nn.clientX0=Fe.coords.start.client.x-zn.x,nn.clientY0=Fe.coords.start.client.y-zn.y,nn.delta=Zn||mr?{x:0,y:0}:{x:nn[Jn].x-Tr[Jn].x,y:nn[Jn].y-Tr[Jn].y},nn.dt=Fe.coords.delta.timeStamp,nn.duration=nn.timeStamp-nn.t0,nn.velocity=(0,mt.default)({},Fe.coords.velocity[Jn]),nn.speed=(0,dr.default)(nn.velocity.x,nn.velocity.y),nn.swipe=mr||vt==="inertiastart"?nn.getSwipe():null,nn}return P=xe,(B=[{key:"getSwipe",value:function(){var Re=this._interaction;if(Re.prevEvent.speed<600||this.timeStamp-Re.prevEvent.timeStamp>150)return null;var ot=180*Math.atan2(Re.prevEvent.velocityY,Re.prevEvent.velocityX)/Math.PI;ot<0&&(ot+=360);var vt=112.5<=ot&&ot<247.5,Ut=202.5<=ot&&ot<337.5;return{up:Ut,down:!Ut&&22.5<=ot&&ot<157.5,left:vt,right:!vt&&(292.5<=ot||ot<67.5),angle:ot,speed:Re.prevEvent.speed,velocity:{x:Re.prevEvent.velocityX,y:Re.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Fe,Re){for(var ot=0;ot<Re.length;ot++){var vt=Re[ot];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Fe,vt.key,vt)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),xe}(ai.BaseEvent);Pt.InteractEvent=En,Object.defineProperties(En.prototype,{pageX:{get:function(){return this.page.x},set:function(P){this.page.x=P}},pageY:{get:function(){return this.page.y},set:function(P){this.page.y=P}},clientX:{get:function(){return this.client.x},set:function(P){this.client.x=P}},clientY:{get:function(){return this.client.y},set:function(P){this.client.y=P}},dx:{get:function(){return this.delta.x},set:function(P){this.delta.x=P}},dy:{get:function(){return this.delta.y},set:function(P){this.delta.y=P}},velocityX:{get:function(){return this.velocity.x},set:function(P){this.velocity.x=P}},velocityY:{get:function(){return this.velocity.y},set:function(P){this.velocity.y=P}}});var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PointerInfo=void 0;var In=function(te,P,B){return P&&Ge(te.prototype,P),B&&Ge(te,B),Object.defineProperty(te,"prototype",{writable:!1}),te}(function te(P,B,H,U,de){(function(xe,Fe){if(!_instanceof(xe,Fe))throw new TypeError("Cannot call a class as a function")})(this,te),$e(this,"id",void 0),$e(this,"pointer",void 0),$e(this,"event",void 0),$e(this,"downTime",void 0),$e(this,"downTarget",void 0),this.id=P,this.pointer=B,this.event=H,this.downTime=U,this.downTarget=de});Wn.PointerInfo=In;var er,Pn,Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.Interaction=void 0,Object.defineProperty(Vn,"PointerInfo",{enumerable:!0,get:function(){return Wn.PointerInfo}}),Vn.default=Vn._ProxyValues=Vn._ProxyMethods=void 0,Vn._ProxyValues=er,function(te){te.interactable="",te.element="",te.prepared="",te.pointerIsDown="",te.pointerWasMoved="",te._proxy=""}(er||(Vn._ProxyValues=er={})),Vn._ProxyMethods=Pn,function(te){te.start="",te.move="",te.end="",te.stop="",te.interacting=""}(Pn||(Vn._ProxyMethods=Pn={}));var nr=0,qn=function(){function te(H){var U=this,de=H.pointerType,xe=H.scopeFire;(function(Zt,mn){if(!_instanceof(Zt,mn))throw new TypeError("Cannot call a class as a function")})(this,te),ze(this,"interactable",null),ze(this,"element",null),ze(this,"rect",null),ze(this,"_rects",void 0),ze(this,"edges",null),ze(this,"_scopeFire",void 0),ze(this,"prepared",{name:null,axis:null,edges:null}),ze(this,"pointerType",void 0),ze(this,"pointers",[]),ze(this,"downEvent",null),ze(this,"downPointer",{}),ze(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),ze(this,"prevEvent",null),ze(this,"pointerIsDown",!1),ze(this,"pointerWasMoved",!1),ze(this,"_interacting",!1),ze(this,"_ending",!1),ze(this,"_stopped",!0),ze(this,"_proxy",null),ze(this,"simulation",null),ze(this,"doMove",(0,qi.warnOnce)(function(Zt){this.move(Zt)},"The interaction.doMove() method has been renamed to interaction.move()")),ze(this,"coords",{start:Ln.newCoords(),prev:Ln.newCoords(),cur:Ln.newCoords(),delta:Ln.newCoords(),velocity:Ln.newCoords()}),ze(this,"_id",nr++),this._scopeFire=xe,this.pointerType=de;var Fe=this;this._proxy={};var Re=function(mn){Object.defineProperty(U._proxy,mn,{get:function(){return Fe[mn]}})};for(var ot in er)Re(ot);var vt=function(mn){Object.defineProperty(U._proxy,mn,{value:function(){return Fe[mn].apply(Fe,arguments)}})};for(var Ut in Pn)vt(Ut);this._scopeFire("interactions:new",{interaction:this})}var P,B;return P=te,B=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(U,de,xe){var Fe=this.updatePointer(U,de,xe,!0),Re=this.pointers[Fe];this._scopeFire("interactions:down",{pointer:U,event:de,eventTarget:xe,pointerIndex:Fe,pointerInfo:Re,type:"down",interaction:this})}},{key:"start",value:function(U,de,xe){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(U.name==="gesture"?2:1)||!de.options[U.name].enabled)&&((0,qi.copyAction)(this.prepared,U),this.interactable=de,this.element=xe,this.rect=de.getRect(xe),this.edges=this.prepared.edges?(0,mt.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(U,de,xe){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(U,de,xe,!1);var Fe,Re,ot=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Fe=this.coords.cur.client.x-this.coords.start.client.x,Re=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,dr.default)(Fe,Re)>this.pointerMoveTolerance);var vt=this.getPointerIndex(U),Ut={pointer:U,pointerIndex:vt,pointerInfo:this.pointers[vt],event:de,type:"move",eventTarget:xe,dx:Fe,dy:Re,duplicate:ot,interaction:this};ot||Ln.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",Ut),ot||this.simulation||(this.interacting()&&(Ut.type=null,this.move(Ut)),this.pointerWasMoved&&Ln.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(U){U&&U.event||Ln.setZeroCoords(this.coords.delta),(U=(0,mt.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},U||{})).phase="move",this._doPhase(U)}},{key:"pointerUp",value:function(U,de,xe,Fe){var Re=this.getPointerIndex(U);Re===-1&&(Re=this.updatePointer(U,de,xe,!1));var ot=/cancel$/i.test(de.type)?"cancel":"up";this._scopeFire("interactions:".concat(ot),{pointer:U,pointerIndex:Re,pointerInfo:this.pointers[Re],event:de,eventTarget:xe,type:ot,curEventTarget:Fe,interaction:this}),this.simulation||this.end(de),this.removePointer(U,de)}},{key:"documentBlur",value:function(U){this.end(U),this._scopeFire("interactions:blur",{event:U,type:"blur",interaction:this})}},{key:"end",value:function(U){var de;this._ending=!0,U=U||this._latestPointer.event,this.interacting()&&(de=this._doPhase({event:U,interaction:this,phase:"end"})),this._ending=!1,de===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(U){var de=Ln.getPointerId(U);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Hr.findIndex(this.pointers,function(xe){return xe.id===de})}},{key:"getPointerInfo",value:function(U){return this.pointers[this.getPointerIndex(U)]}},{key:"updatePointer",value:function(U,de,xe,Fe){var Re=Ln.getPointerId(U),ot=this.getPointerIndex(U),vt=this.pointers[ot];return Fe=Fe!==!1&&(Fe||/(down|start)$/i.test(de.type)),vt?vt.pointer=U:(vt=new Wn.PointerInfo(Re,U,de,null,null),ot=this.pointers.length,this.pointers.push(vt)),Ln.setCoords(this.coords.cur,this.pointers.map(function(Ut){return Ut.pointer}),this._now()),Ln.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Fe&&(this.pointerIsDown=!0,vt.downTime=this.coords.cur.timeStamp,vt.downTarget=xe,Ln.pointerExtend(this.downPointer,U),this.interacting()||(Ln.copyCoords(this.coords.start,this.coords.cur),Ln.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=de,this.pointerWasMoved=!1)),this._updateLatestPointer(U,de,xe),this._scopeFire("interactions:update-pointer",{pointer:U,event:de,eventTarget:xe,down:Fe,pointerInfo:vt,pointerIndex:ot,interaction:this}),ot}},{key:"removePointer",value:function(U,de){var xe=this.getPointerIndex(U);if(xe!==-1){var Fe=this.pointers[xe];this._scopeFire("interactions:remove-pointer",{pointer:U,event:de,eventTarget:null,pointerIndex:xe,pointerInfo:Fe,interaction:this}),this.pointers.splice(xe,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(U,de,xe){this._latestPointer.pointer=U,this._latestPointer.event=de,this._latestPointer.eventTarget=xe}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(U,de,xe,Fe){return new Pt.InteractEvent(this,U,this.prepared.name,de,this.element,xe,Fe)}},{key:"_fireEvent",value:function(U){var de;(de=this.interactable)==null||de.fire(U),(!this.prevEvent||U.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=U)}},{key:"_doPhase",value:function(U){var de=U.event,xe=U.phase,Fe=U.preEnd,Re=U.type,ot=this.rect;if(ot&&xe==="move"&&(un.addEdges(this.edges,ot,this.coords.delta[this.interactable.options.deltaSource]),ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top),this._scopeFire("interactions:before-action-".concat(xe),U)===!1)return!1;var vt=U.iEvent=this._createPreparedEvent(de,xe,Fe,Re);return this._scopeFire("interactions:action-".concat(xe),U),xe==="start"&&(this.prevEvent=vt),this._fireEvent(vt),this._scopeFire("interactions:after-action-".concat(xe),U),!0}},{key:"_now",value:function(){return Date.now()}}],B&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();Vn.Interaction=qn;var Kn=qn;Vn.default=Kn;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.addTotal=xt,_r.applyPending=lt,_r.default=void 0,Vn._ProxyMethods.offsetBy="";var jr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(P){P.Interaction.prototype.offsetBy=Ze},listeners:{"interactions:new":function(te){te.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(te){return xt(te.interaction)},"interactions:before-action-start":bt,"interactions:before-action-move":bt,"interactions:before-action-end":function(te){var P=te.interaction;if(lt(P))return P.move({offset:!0}),P.end(),!1},"interactions:stop":function(te){var P=te.interaction;P.offset.total.x=0,P.offset.total.y=0,P.offset.pending.x=0,P.offset.pending.y=0}}},pr=jr;_r.default=pr;var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=gr.InertiaState=void 0;var Cr=function(){function te(H){(function(U,de){if(!_instanceof(U,de))throw new TypeError("Cannot call a class as a function")})(this,te),$t(this,"active",!1),$t(this,"isModified",!1),$t(this,"smoothEnd",!1),$t(this,"allowResume",!1),$t(this,"modification",void 0),$t(this,"modifierCount",0),$t(this,"modifierArg",void 0),$t(this,"startCoords",void 0),$t(this,"t0",0),$t(this,"v0",0),$t(this,"te",0),$t(this,"targetOffset",void 0),$t(this,"modifiedOffset",void 0),$t(this,"currentOffset",void 0),$t(this,"lambda_v0",0),$t(this,"one_ve_v0",0),$t(this,"timeout",void 0),$t(this,"interaction",void 0),this.interaction=H}var P,B;return P=te,(B=[{key:"start",value:function(U){var de=this.interaction,xe=qt(de);if(!xe||!xe.enabled)return!1;var Fe=de.coords.velocity.client,Re=(0,dr.default)(Fe.x,Fe.y),ot=this.modification||(this.modification=new N.default(de));if(ot.copyFrom(de.modification),this.t0=de._now(),this.allowResume=xe.allowResume,this.v0=Re,this.currentOffset={x:0,y:0},this.startCoords=de.coords.cur.page,this.modifierArg=ot.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-de.coords.cur.timeStamp<50&&Re>xe.minSpeed&&Re>xe.endSpeed)this.startInertia();else{if(ot.result=ot.setAll(this.modifierArg),!ot.result.changed)return!1;this.startSmoothEnd()}return de.modification.result.rect=null,de.offsetBy(this.targetOffset),de._doPhase({interaction:de,event:U,phase:"inertiastart"}),de.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),de.modification.result.rect=null,this.active=!0,de.simulation=this,!0}},{key:"startInertia",value:function(){var U=this,de=this.interaction.coords.velocity.client,xe=qt(this.interaction),Fe=xe.resistance,Re=-Math.log(xe.endSpeed/this.v0)/Fe;this.targetOffset={x:(de.x-Re)/Fe,y:(de.y-Re)/Fe},this.te=Re,this.lambda_v0=Fe/this.v0,this.one_ve_v0=1-xe.endSpeed/this.v0;var ot=this.modification,vt=this.modifierArg;vt.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ot.result=ot.setAll(vt),ot.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ot.result.delta.x,y:this.targetOffset.y+ot.result.delta.y}),this.onNextFrame(function(){return U.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var U=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return U.smoothEndTick()})}},{key:"onNextFrame",value:function(U){var de=this;this.timeout=Vi.default.request(function(){de.active&&U()})}},{key:"inertiaTick",value:function(){var U,de,xe,Fe,Re,ot=this,vt=this.interaction,Ut=qt(vt).resistance,Zt=(vt._now()-this.t0)/1e3;if(Zt<this.te){var mn,nn=1-(Math.exp(-Ut*Zt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(U=this.targetOffset.x,de=this.targetOffset.y,xe=this.modifiedOffset.x,Fe=this.modifiedOffset.y,mn={x:Bt(Re=nn,0,U,xe),y:Bt(Re,0,de,Fe)}):mn={x:this.targetOffset.x*nn,y:this.targetOffset.y*nn};var Fn={x:mn.x-this.currentOffset.x,y:mn.y-this.currentOffset.y};this.currentOffset.x+=Fn.x,this.currentOffset.y+=Fn.y,vt.offsetBy(Fn),vt.move(),this.onNextFrame(function(){return ot.inertiaTick()})}else vt.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var U=this,de=this.interaction,xe=de._now()-this.t0,Fe=qt(de).smoothEndDuration;if(xe<Fe){var Re={x:ut(xe,0,this.targetOffset.x,Fe),y:ut(xe,0,this.targetOffset.y,Fe)},ot={x:Re.x-this.currentOffset.x,y:Re.y-this.currentOffset.y};this.currentOffset.x+=ot.x,this.currentOffset.y+=ot.y,de.offsetBy(ot),de.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return U.smoothEndTick()})}else de.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(U){var de=U.pointer,xe=U.event,Fe=U.eventTarget,Re=this.interaction;Re.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Re.updatePointer(de,xe,Fe,!0),Re._doPhase({interaction:Re,event:xe,phase:"resume"}),(0,Ln.copyCoords)(Re.coords.prev,Re.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Vi.default.cancel(this.timeout)}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();gr.InertiaState=Cr;var Rr={id:"inertia",before:["modifiers","actions"],install:function(P){var B=P.defaults;P.usePlugin(_r.default),P.usePlugin(G.default),P.actions.phases.inertiastart=!0,P.actions.phases.resume=!0,B.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(te){var P=te.interaction;P.inertia=new Cr(P)},"interactions:before-action-end":function(te){var P=te.interaction,B=te.event;return(!P._interacting||P.simulation||!P.inertia.start(B))&&null},"interactions:down":function(te){var P=te.interaction,B=te.eventTarget,H=P.inertia;if(H.active)for(var U=B;re.default.element(U);){if(U===P.element){H.resume(te);break}U=pt.parentNode(U)}},"interactions:stop":function(te){var P=te.interaction.inertia;P.active&&P.stop()},"interactions:before-action-resume":function(te){var P=te.interaction.modification;P.stop(te),P.start(te,te.interaction.coords.cur.page),P.applyToInteraction(te)},"interactions:before-action-inertiastart":function(te){return te.interaction.modification.setAndApply(te)},"interactions:action-resume":G.addEventModifiers,"interactions:action-inertiastart":G.addEventModifiers,"interactions:after-action-inertiastart":function(te){return te.interaction.modification.restoreInteractionCoords(te)},"interactions:after-action-resume":function(te){return te.interaction.modification.restoreInteractionCoords(te)}}},Mr=Rr;gr.default=Mr;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Eventable=void 0;var Kr=function(){function te(H){(function(U,de){if(!_instanceof(U,de))throw new TypeError("Cannot call a class as a function")})(this,te),Y(this,"options",void 0),Y(this,"types",{}),Y(this,"propagationStopped",!1),Y(this,"immediatePropagationStopped",!1),Y(this,"global",void 0),this.options=(0,mt.default)({},H||{})}var P,B;return P=te,(B=[{key:"fire",value:function(U){var de,xe=this.global;(de=this.types[U.type])&&Kt(U,de),!U.propagationStopped&&xe&&(de=xe[U.type])&&Kt(U,de)}},{key:"on",value:function(U,de){var xe=(0,Un.default)(U,de);for(U in xe)this.types[U]=Hr.merge(this.types[U]||[],xe[U])}},{key:"off",value:function(U,de){var xe=(0,Un.default)(U,de);for(U in xe){var Fe=this.types[U];if(Fe&&Fe.length)for(var Re=0;Re<xe[U].length;Re++){var ot=xe[U][Re],vt=Fe.indexOf(ot);vt!==-1&&Fe.splice(vt,1)}}}},{key:"getRect",value:function(U){return null}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();Gr.Eventable=Kr;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.default=function(te,P){if(P.phaselessTypes[te])return!0;for(var B in P.map)if(te.indexOf(B)===0&&te.substr(B.length)in P.phases)return!0;return!1};var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.createInteractStatic=function(te){var P=function B(H,U){var de=te.interactables.get(H,U);return de||((de=te.interactables.new(H,U)).events.global=B.globalEvents),de};return P.getPointerAverage=Ln.pointerAverage,P.getTouchBBox=Ln.touchBBox,P.getTouchDistance=Ln.touchDistance,P.getTouchAngle=Ln.touchAngle,P.getElementRect=pt.getElementRect,P.getElementClientRect=pt.getElementClientRect,P.matchesSelector=pt.matchesSelector,P.closest=pt.closest,P.globalEvents={},P.version="1.10.18",P.scope=te,P.use=function(B,H){return this.scope.usePlugin(B,H),this},P.isSet=function(B,H){return!!this.scope.interactables.get(B,H&&H.context)},P.on=(0,qi.warnOnce)(function(B,H,U){if(re.default.string(B)&&B.search(" ")!==-1&&(B=B.trim().split(/ +/)),re.default.array(B)){for(var de=0;de<B.length;de++){var xe=B[de];this.on(xe,H,U)}return this}if(re.default.object(B)){for(var Fe in B)this.on(Fe,B[Fe],H);return this}return(0,Nr.default)(B,this.scope.actions)?this.globalEvents[B]?this.globalEvents[B].push(H):this.globalEvents[B]=[H]:this.scope.events.add(this.scope.document,B,H,{options:U}),this},"The interact.on() method is being deprecated"),P.off=(0,qi.warnOnce)(function(B,H,U){if(re.default.string(B)&&B.search(" ")!==-1&&(B=B.trim().split(/ +/)),re.default.array(B)){for(var de=0;de<B.length;de++){var xe=B[de];this.off(xe,H,U)}return this}if(re.default.object(B)){for(var Fe in B)this.off(Fe,B[Fe],H);return this}var Re;return(0,Nr.default)(B,this.scope.actions)?B in this.globalEvents&&(Re=this.globalEvents[B].indexOf(H))!==-1&&this.globalEvents[B].splice(Re,1):this.scope.events.remove(this.scope.document,B,H,U),this},"The interact.off() method is being deprecated"),P.debug=function(){return this.scope},P.supportsTouch=function(){return yi.default.supportsTouch},P.supportsPointerEvent=function(){return yi.default.supportsPointerEvent},P.stop=function(){for(var B=0;B<this.scope.interactions.list.length;B++)this.scope.interactions.list[B].stop();return this},P.pointerMoveTolerance=function(B){return re.default.number(B)?(this.scope.interactions.pointerMoveTolerance=B,this):this.scope.interactions.pointerMoveTolerance},P.addDocument=function(B,H){this.scope.addDocument(B,H)},P.removeDocument=function(B){this.scope.removeDocument(B)},P};var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.Interactable=void 0;var ge=function(){function te(H,U,de,xe){(function(Fe,Re){if(!_instanceof(Fe,Re))throw new TypeError("Cannot call a class as a function")})(this,te),Ft(this,"options",void 0),Ft(this,"_actions",void 0),Ft(this,"target",void 0),Ft(this,"events",new Gr.Eventable),Ft(this,"_context",void 0),Ft(this,"_win",void 0),Ft(this,"_doc",void 0),Ft(this,"_scopeEvents",void 0),Ft(this,"_rectChecker",void 0),this._actions=U.actions,this.target=H,this._context=U.context||de,this._win=(0,_n.getWindow)((0,pt.trySelector)(H)?this._context:H),this._doc=this._win.document,this._scopeEvents=xe,this.set(U)}var P,B;return P=te,(B=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(U,de){return re.default.func(de.onstart)&&this.on("".concat(U,"start"),de.onstart),re.default.func(de.onmove)&&this.on("".concat(U,"move"),de.onmove),re.default.func(de.onend)&&this.on("".concat(U,"end"),de.onend),re.default.func(de.oninertiastart)&&this.on("".concat(U,"inertiastart"),de.oninertiastart),this}},{key:"updatePerActionListeners",value:function(U,de,xe){(re.default.array(de)||re.default.object(de))&&this.off(U,de),(re.default.array(xe)||re.default.object(xe))&&this.on(U,xe)}},{key:"setPerAction",value:function(U,de){var xe=this._defaults;for(var Fe in de){var Re=Fe,ot=this.options[U],vt=de[Re];Re==="listeners"&&this.updatePerActionListeners(U,ot.listeners,vt),re.default.array(vt)?ot[Re]=Hr.from(vt):re.default.plainObject(vt)?(ot[Re]=(0,mt.default)(ot[Re]||{},(0,L.default)(vt)),re.default.object(xe.perAction[Re])&&"enabled"in xe.perAction[Re]&&(ot[Re].enabled=vt.enabled!==!1)):re.default.bool(vt)&&re.default.object(xe.perAction[Re])?ot[Re].enabled=vt:ot[Re]=vt}}},{key:"getRect",value:function(U){return U=U||(re.default.element(this.target)?this.target:null),re.default.string(this.target)&&(U=U||this._context.querySelector(this.target)),(0,pt.getElementRect)(U)}},{key:"rectChecker",value:function(U){var de=this;return re.default.func(U)?(this._rectChecker=U,this.getRect=function(xe){var Fe=(0,mt.default)({},de._rectChecker(xe));return"width"in Fe||(Fe.width=Fe.right-Fe.left,Fe.height=Fe.bottom-Fe.top),Fe},this):U===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(U,de){if((0,pt.trySelector)(de)||re.default.object(de)){for(var xe in this.options[U]=de,this._actions.map)this.options[xe][U]=de;return this}return this.options[U]}},{key:"origin",value:function(U){return this._backCompatOption("origin",U)}},{key:"deltaSource",value:function(U){return U==="page"||U==="client"?(this.options.deltaSource=U,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(U){return this._context===U.ownerDocument||(0,pt.nodeContains)(this._context,U)}},{key:"testIgnoreAllow",value:function(U,de,xe){return!this.testIgnore(U.ignoreFrom,de,xe)&&this.testAllow(U.allowFrom,de,xe)}},{key:"testAllow",value:function(U,de,xe){return!U||!!re.default.element(xe)&&(re.default.string(U)?(0,pt.matchesUpTo)(xe,U,de):!!re.default.element(U)&&(0,pt.nodeContains)(U,xe))}},{key:"testIgnore",value:function(U,de,xe){return!(!U||!re.default.element(xe))&&(re.default.string(U)?(0,pt.matchesUpTo)(xe,U,de):!!re.default.element(U)&&(0,pt.nodeContains)(U,xe))}},{key:"fire",value:function(U){return this.events.fire(U),this}},{key:"_onOff",value:function(U,de,xe,Fe){re.default.object(de)&&!re.default.array(de)&&(Fe=xe,xe=null);var Re=U==="on"?"add":"remove",ot=(0,Un.default)(de,xe);for(var vt in ot){vt==="wheel"&&(vt=yi.default.wheelEvent);for(var Ut=0;Ut<ot[vt].length;Ut++){var Zt=ot[vt][Ut];(0,Nr.default)(vt,this._actions)?this.events[U](vt,Zt):re.default.string(this.target)?this._scopeEvents["".concat(Re,"Delegate")](this.target,this._context,vt,Zt,Fe):this._scopeEvents[Re](this.target,vt,Zt,Fe)}}return this}},{key:"on",value:function(U,de,xe){return this._onOff("on",U,de,xe)}},{key:"off",value:function(U,de,xe){return this._onOff("off",U,de,xe)}},{key:"set",value:function(U){var de=this._defaults;for(var xe in re.default.object(U)||(U={}),this.options=(0,L.default)(de.base),this._actions.methodDict){var Fe=xe,Re=this._actions.methodDict[Fe];this.options[Fe]={},this.setPerAction(Fe,(0,mt.default)((0,mt.default)({},de.perAction),de.actions[Fe])),this[Re](U[Fe])}for(var ot in U)re.default.func(this[ot])&&this[ot](U[ot]);return this}},{key:"unset",value:function(){if(re.default.string(this.target))for(var U in this._scopeEvents.delegatedEvents)for(var de=this._scopeEvents.delegatedEvents[U],xe=de.length-1;xe>=0;xe--){var Fe=de[xe],Re=Fe.selector,ot=Fe.context,vt=Fe.listeners;Re===this.target&&ot===this._context&&de.splice(xe,1);for(var Ut=vt.length-1;Ut>=0;Ut--)this._scopeEvents.removeDelegate(this.target,this._context,U,vt[Ut][0],vt[Ut][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();Le.Interactable=ge;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.InteractableSet=void 0;var wt=function(){function te(H){var U=this;(function(de,xe){if(!_instanceof(de,xe))throw new TypeError("Cannot call a class as a function")})(this,te),Xt(this,"list",[]),Xt(this,"selectorMap",{}),Xt(this,"scope",void 0),this.scope=H,H.addListeners({"interactable:unset":function(de){var xe=de.interactable,Fe=xe.target,Re=xe._context,ot=re.default.string(Fe)?U.selectorMap[Fe]:Fe[U.scope.id],vt=Hr.findIndex(ot,function(Ut){return Ut.context===Re});ot[vt]&&(ot[vt].context=null,ot[vt].interactable=null),ot.splice(vt,1)}})}var P,B;return P=te,(B=[{key:"new",value:function(U,de){de=(0,mt.default)(de||{},{actions:this.scope.actions});var xe=new this.scope.Interactable(U,de,this.scope.document,this.scope.events),Fe={context:xe._context,interactable:xe};return this.scope.addDocument(xe._doc),this.list.push(xe),re.default.string(U)?(this.selectorMap[U]||(this.selectorMap[U]=[]),this.selectorMap[U].push(Fe)):(xe.target[this.scope.id]||Object.defineProperty(U,this.scope.id,{value:[],configurable:!0}),U[this.scope.id].push(Fe)),this.scope.fire("interactable:new",{target:U,options:de,interactable:xe,win:this.scope._win}),xe}},{key:"get",value:function(U,de){var xe=de&&de.context||this.scope.document,Fe=re.default.string(U),Re=Fe?this.selectorMap[U]:U[this.scope.id];if(!Re)return null;var ot=Hr.find(Re,function(vt){return vt.context===xe&&(Fe||vt.interactable.inContext(U))});return ot&&ot.interactable}},{key:"forEachMatch",value:function(U,de){for(var xe=0;xe<this.list.length;xe++){var Fe=this.list[xe],Re=void 0;if((re.default.string(Fe.target)?re.default.element(U)&&pt.matchesSelector(U,Fe.target):U===Fe.target)&&Fe.inContext(U)&&(Re=de(Fe)),Re!==void 0)return Re}}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}();Oe.InteractableSet=wt;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0;var St=function(){function te(H){(function(U,de){if(!_instanceof(U,de))throw new TypeError("Cannot call a class as a function")})(this,te),R(this,"currentTarget",void 0),R(this,"originalEvent",void 0),R(this,"type",void 0),this.originalEvent=H,(0,Or.default)(this,H)}var P,B;return P=te,(B=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(H,U){for(var de=0;de<U.length;de++){var xe=U[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(H,xe.key,xe)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),te}(),vn={id:"events",install:function(P){var B=function(Zt,mn,nn,Fn){var Jn=ue(Fn),zn=Hr.find(xe,function(Zn){return Zn.eventTarget===Zt});zn||(zn={eventTarget:Zt,events:{}},xe.push(zn)),zn.events[mn]||(zn.events[mn]=[]),Zt.addEventListener&&!Hr.contains(zn.events[mn],nn)&&(Zt.addEventListener(mn,nn,ot.supportsOptions?Jn:Jn.capture),zn.events[mn].push(nn))},H=function(Zt,mn){for(var nn=ue(mn),Fn=new St(Zt),Jn=Fe[Zt.type],zn=nt(Ln.getEventTargets(Zt),1)[0],Zn=zn;re.default.element(Zn);){for(var mr=0;mr<Jn.length;mr++){var Tr=Jn[mr],qr=Tr.selector,Zr=Tr.context;if(pt.matchesSelector(Zn,qr)&&pt.nodeContains(Zr,zn)&&pt.nodeContains(Zr,Zn)){var Ti=Tr.listeners;Fn.currentTarget=Zn;for(var fi=0;fi<Ti.length;fi++){var Ur=nt(Ti[fi],2),ca=Ur[0],da=Ur[1],Nu=da.capture,Sk=da.passive;Nu===nn.capture&&Sk===nn.passive&&ca(Fn)}}}Zn=pt.parentNode(Zn)}},U=function(Zt){return H(Zt,!0)},de,xe=[],Fe={},Re=[],ot={add:B,remove:vt,addDelegate:function(Zt,mn,nn,Fn,Jn){var zn=ue(Jn);if(!Fe[nn]){Fe[nn]=[];for(var Zn=0;Zn<Re.length;Zn++){var mr=Re[Zn];B(mr,nn,H),B(mr,nn,U,!0)}}var Tr=Fe[nn],qr=Hr.find(Tr,function(Zr){return Zr.selector===Zt&&Zr.context===mn});qr||(qr={selector:Zt,context:mn,listeners:[]},Tr.push(qr)),qr.listeners.push([Fn,zn])},removeDelegate:function(Zt,mn,nn,Fn,Jn){var zn,Zn=ue(Jn),mr=Fe[nn],Tr=!1;if(mr)for(zn=mr.length-1;zn>=0;zn--){var qr=mr[zn];if(qr.selector===Zt&&qr.context===mn){for(var Zr=qr.listeners,Ti=Zr.length-1;Ti>=0;Ti--){var fi=nt(Zr[Ti],2),Ur=fi[0],ca=fi[1],da=ca.capture,Nu=ca.passive;if(Ur===Fn&&da===Zn.capture&&Nu===Zn.passive){Zr.splice(Ti,1),Zr.length||(mr.splice(zn,1),vt(mn,nn,H),vt(mn,nn,U,!0)),Tr=!0;break}}if(Tr)break}}},delegateListener:H,delegateUseCapture:U,delegatedEvents:Fe,documents:Re,targets:xe,supportsOptions:!1,supportsPassive:!1};function vt(Ut,Zt,mn,nn){var Fn=ue(nn),Jn=Hr.findIndex(xe,function(Zr){return Zr.eventTarget===Ut}),zn=xe[Jn];if(zn&&zn.events)if(Zt!=="all"){var Zn=!1,mr=zn.events[Zt];if(mr){if(mn==="all"){for(var Tr=mr.length-1;Tr>=0;Tr--)vt(Ut,Zt,mr[Tr],Fn);return}for(var qr=0;qr<mr.length;qr++)if(mr[qr]===mn){Ut.removeEventListener(Zt,mn,ot.supportsOptions?Fn:Fn.capture),mr.splice(qr,1),mr.length===0&&(delete zn.events[Zt],Zn=!0);break}}Zn&&!Object.keys(zn.events).length&&xe.splice(Jn,1)}else for(Zt in zn.events)zn.events.hasOwnProperty(Zt)&&vt(Ut,Zt,"all")}return(de=P.document)==null||de.createElement("div").addEventListener("test",null,{get capture(){return ot.supportsOptions=!0},get passive(){return ot.supportsPassive=!0}}),P.events=ot,ot}};Et.default=vn;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.default=void 0;var Hn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(P){for(var B=0;B<Hn.methodOrder.length;B++){var H;H=Hn.methodOrder[B];var U=Hn[H](P);if(U)return U}return null},simulationResume:function(P){var B=P.pointerType,H=P.eventType,U=P.eventTarget,de=P.scope;if(!/down|start/i.test(H))return null;for(var xe=0;xe<de.interactions.list.length;xe++){var Fe=de.interactions.list[xe],Re=U;if(Fe.simulation&&Fe.simulation.allowResume&&Fe.pointerType===B)for(;Re;){if(Re===Fe.element)return Fe;Re=pt.parentNode(Re)}}return null},mouseOrPen:function(P){var B,H=P.pointerId,U=P.pointerType,de=P.eventType,xe=P.scope;if(U!=="mouse"&&U!=="pen")return null;for(var Fe=0;Fe<xe.interactions.list.length;Fe++){var Re=xe.interactions.list[Fe];if(Re.pointerType===U){if(Re.simulation&&!J(Re,H))continue;if(Re.interacting())return Re;B||(B=Re)}}if(B)return B;for(var ot=0;ot<xe.interactions.list.length;ot++){var vt=xe.interactions.list[ot];if(!(vt.pointerType!==U||/down/i.test(de)&&vt.simulation))return vt}return null},hasPointer:function(P){for(var B=P.pointerId,H=P.scope,U=0;U<H.interactions.list.length;U++){var de=H.interactions.list[U];if(J(de,B))return de}return null},idle:function(P){for(var B=P.pointerType,H=P.scope,U=0;U<H.interactions.list.length;U++){var de=H.interactions.list[U];if(de.pointers.length===1){var xe=de.interactable;if(xe&&(!xe.options.gesture||!xe.options.gesture.enabled))continue}else if(de.pointers.length>=2)continue;if(!de.interacting()&&B===de.pointerType)return de}return null}},Qn=Hn;Cn.default=Qn;var vr={};function Sr(te){return Sr=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},Sr(te)}function Fo(te,P){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,U){return H.__proto__=U,H},Fo(te,P)}function Ma(te){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},Ma(te)}Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0;var zo=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"],mo={id:"core/interactions",install:function(P){for(var B=function(){for(var ot=0;ot<P.interactions.list.length;ot++){var vt=P.interactions.list[ot];if(vt.pointerIsDown&&vt.pointerType==="touch"&&!vt._interacting)for(var Ut=function(){var nn=vt.pointers[Zt];P.documents.some(function(Fn){var Jn=Fn.doc;return(0,pt.nodeContains)(Jn,nn.downTarget)})||vt.removePointer(nn.pointer,nn.event)},Zt=0;Zt<vt.pointers.length;Zt++)Ut()}},H={},U=0;U<zo.length;U++){var de=zo[U];H[de]=se(de,P)}var xe,Fe=yi.default.pEventTypes;(xe=sr.default.PointerEvent?[{type:Fe.down,listener:B},{type:Fe.down,listener:H.pointerDown},{type:Fe.move,listener:H.pointerMove},{type:Fe.up,listener:H.pointerUp},{type:Fe.cancel,listener:H.pointerUp}]:[{type:"mousedown",listener:H.pointerDown},{type:"mousemove",listener:H.pointerMove},{type:"mouseup",listener:H.pointerUp},{type:"touchstart",listener:B},{type:"touchstart",listener:H.pointerDown},{type:"touchmove",listener:H.pointerMove},{type:"touchend",listener:H.pointerUp},{type:"touchcancel",listener:H.pointerUp}]).push({type:"blur",listener:function(ot){for(var vt=0;vt<P.interactions.list.length;vt++)P.interactions.list[vt].documentBlur(ot)}}),P.prevTouchTime=0,P.Interaction=function(Re){(function(Fn,Jn){if(typeof Jn!="function"&&Jn!==null)throw new TypeError("Super expression must either be null or a function");Fn.prototype=Object.create(Jn&&Jn.prototype,{constructor:{value:Fn,writable:!0,configurable:!0}}),Object.defineProperty(Fn,"prototype",{writable:!1}),Jn&&Fo(Fn,Jn)})(nn,Re);var ot,vt,Ut,Zt,mn=(Ut=nn,Zt=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fn){return!1}}(),function(){var Jn,zn=Ma(Ut);if(Zt){var Zn=Ma(this).constructor;Jn=Reflect.construct(zn,arguments,Zn)}else Jn=zn.apply(this,arguments);return function(mr,Tr){if(Tr&&(Sr(Tr)==="object"||typeof Tr=="function"))return Tr;if(Tr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qr){if(qr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qr}(mr)}(this,Jn)});function nn(){return function(Fn,Jn){if(!_instanceof(Fn,Jn))throw new TypeError("Cannot call a class as a function")}(this,nn),mn.apply(this,arguments)}return ot=nn,(vt=[{key:"pointerMoveTolerance",get:function(){return P.interactions.pointerMoveTolerance},set:function(Jn){P.interactions.pointerMoveTolerance=Jn}},{key:"_now",value:function(){return P.now()}}])&&function(Fn,Jn){for(var zn=0;zn<Jn.length;zn++){var Zn=Jn[zn];Zn.enumerable=Zn.enumerable||!1,Zn.configurable=!0,"value"in Zn&&(Zn.writable=!0),Object.defineProperty(Fn,Zn.key,Zn)}}(ot.prototype,vt),Object.defineProperty(ot,"prototype",{writable:!1}),nn}(Vn.default),P.interactions={list:[],new:function(ot){ot.scopeFire=function(Ut,Zt){return P.fire(Ut,Zt)};var vt=new P.Interaction(ot);return P.interactions.list.push(vt),vt},listeners:H,docEvents:xe,pointerMoveTolerance:1},P.usePlugin(tn.default)},listeners:{"scope:add-document":function(te){return Ae(te,"add")},"scope:remove-document":function(te){return Ae(te,"remove")},"interactable:unset":function(te,P){for(var B=te.interactable,H=P.interactions.list.length-1;H>=0;H--){var U=P.interactions.list[H];U.interactable===B&&(U.stop(),P.fire("interactions:destroy",{interaction:U}),U.destroy(),P.interactions.list.length>2&&P.interactions.list.splice(H,1))}}},onDocSignal:Ae,doOnInteractions:se,methodNames:zo},La=mo;vr.default=La;var so={};function wl(te){return wl=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},wl(te)}function oa(){return oa=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(P,B,H){var U=function(xe,Fe){for(;!Object.prototype.hasOwnProperty.call(xe,Fe)&&(xe=Io(xe))!==null;);return xe}(P,B);if(U){var de=Object.getOwnPropertyDescriptor(U,B);return de.get?de.get.call(arguments.length<3?P:H):de.value}},oa.apply(this,arguments)}function aa(te,P){return aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,U){return H.__proto__=U,H},aa(te,P)}function Io(te){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},Io(te)}Object.defineProperty(so,"__esModule",{value:!0}),so.Scope=void 0,so.initScope=Je;var Cs=function(){function te(){var P=this;Te(this,te),We(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),We(this,"isInitialized",!1),We(this,"listenerMaps",[]),We(this,"browser",yi.default),We(this,"defaults",(0,L.default)(it.defaults)),We(this,"Eventable",Gr.Eventable),We(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),We(this,"interactStatic",(0,Dr.createInteractStatic)(this)),We(this,"InteractEvent",Pt.InteractEvent),We(this,"Interactable",void 0),We(this,"interactables",new Oe.InteractableSet(this)),We(this,"_win",void 0),We(this,"document",void 0),We(this,"window",void 0),We(this,"documents",[]),We(this,"_plugins",{list:[],map:{}}),We(this,"onWindowUnload",function(H){return P.removeDocument(H.target)});var B=this;this.Interactable=function(H){(function(Re,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),ot&&aa(Re,ot)})(Fe,H);var U,de,xe=(U=Fe,de=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Re){return!1}}(),function(){var ot,vt=Io(U);if(de){var Ut=Io(this).constructor;ot=Reflect.construct(vt,arguments,Ut)}else ot=vt.apply(this,arguments);return function(Zt,mn){if(mn&&(wl(mn)==="object"||typeof mn=="function"))return mn;if(mn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nn){if(nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nn}(Zt)}(this,ot)});function Fe(){return Te(this,Fe),xe.apply(this,arguments)}return qe(Fe,[{key:"_defaults",get:function(){return B.defaults}},{key:"set",value:function(ot){return oa(Io(Fe.prototype),"set",this).call(this,ot),B.fire("interactable:set",{options:ot,interactable:this}),this}},{key:"unset",value:function(){oa(Io(Fe.prototype),"unset",this).call(this);var ot=B.interactables.list.indexOf(this);ot<0||(oa(Io(Fe.prototype),"unset",this).call(this),B.interactables.list.splice(ot,1),B.fire("interactable:unset",{interactable:this}))}}]),Fe}(Le.Interactable)}return qe(te,[{key:"addListeners",value:function(B,H){this.listenerMaps.push({id:H,map:B})}},{key:"fire",value:function(B,H){for(var U=0;U<this.listenerMaps.length;U++){var de=this.listenerMaps[U].map[B];if(de&&de(H,this,B)===!1)return!1}}},{key:"init",value:function(B){return this.isInitialized?this:Je(this,B)}},{key:"pluginIsInstalled",value:function(B){return this._plugins.map[B.id]||this._plugins.list.indexOf(B)!==-1}},{key:"usePlugin",value:function(B,H){if(!this.isInitialized)return this;if(this.pluginIsInstalled(B))return this;if(B.id&&(this._plugins.map[B.id]=B),this._plugins.list.push(B),B.install&&B.install(this,H),B.listeners&&B.before){for(var U=0,de=this.listenerMaps.length,xe=B.before.reduce(function(Re,ot){return Re[ot]=!0,Re[Tt(ot)]=!0,Re},{});U<de;U++){var Fe=this.listenerMaps[U].id;if(xe[Fe]||xe[Tt(Fe)])break}this.listenerMaps.splice(U,0,{id:B.id,map:B.listeners})}else B.listeners&&this.listenerMaps.push({id:B.id,map:B.listeners});return this}},{key:"addDocument",value:function(B,H){if(this.getDocIndex(B)!==-1)return!1;var U=_n.getWindow(B);H=H?(0,mt.default)({},H):{},this.documents.push({doc:B,options:H}),this.events.documents.push(B),B!==this.document&&this.events.add(U,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:B,window:U,scope:this,options:H})}},{key:"removeDocument",value:function(B){var H=this.getDocIndex(B),U=_n.getWindow(B),de=this.documents[H].options;this.events.remove(U,"unload",this.onWindowUnload),this.documents.splice(H,1),this.events.documents.splice(H,1),this.fire("scope:remove-document",{doc:B,window:U,scope:this,options:de})}},{key:"getDocIndex",value:function(B){for(var H=0;H<this.documents.length;H++)if(this.documents[H].doc===B)return H;return-1}},{key:"getDocOptions",value:function(B){var H=this.getDocIndex(B);return H===-1?null:this.documents[H].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),te}();so.Scope=Cs;var Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.default=void 0;var sa=new so.Scope,Lu=sa.interactStatic;Li.default=Lu;var _l=(typeof globalThis=="undefined"?"undefined":_typeof(globalThis))<"u"?globalThis:(typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:void 0;sa.init(_l);var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.default=void 0,ro.default=function(){};var go={};Object.defineProperty(go,"__esModule",{value:!0}),go.default=void 0,go.default=function(){};var kl={};Object.defineProperty(kl,"__esModule",{value:!0}),kl.default=void 0,kl.default=function(te){var P=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(H){var U=It(H,2),de=U[0],xe=U[1];return de in te||xe in te}),B=function(U,de){for(var xe=te.range,Fe=te.limits,Re=Fe===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Fe,ot=te.offset,vt=ot===void 0?{x:0,y:0}:ot,Ut={range:xe,grid:te,x:null,y:null},Zt=0;Zt<P.length;Zt++){var mn=It(P[Zt],2),nn=mn[0],Fn=mn[1],Jn=Math.round((U-vt.x)/te[nn]),zn=Math.round((de-vt.y)/te[Fn]);Ut[nn]=Math.max(Re.left,Math.min(Re.right,Jn*te[nn]+vt.x)),Ut[Fn]=Math.max(Re.top,Math.min(Re.bottom,zn*te[Fn]+vt.y))}return Ut};return B.grid=te,B.coordFields=P,B};var As={};Object.defineProperty(As,"__esModule",{value:!0}),Object.defineProperty(As,"edgeTarget",{enumerable:!0,get:function(){return ro.default}}),Object.defineProperty(As,"elements",{enumerable:!0,get:function(){return go.default}}),Object.defineProperty(As,"grid",{enumerable:!0,get:function(){return kl.default}});var xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.default=void 0;var gk={id:"snappers",install:function(P){var B=P.interactStatic;B.snappers=(0,mt.default)(B.snappers||{},As),B.createSnapGrid=B.snappers.grid}},Xc=gk;xl.default=Xc;var la={};Object.defineProperty(la,"__esModule",{value:!0}),la.default=la.aspectRatio=void 0;var dn={start:function(P){var B=P.state,H=P.rect,U=P.edges,de=P.pageCoords,xe=B.options,Fe=xe.ratio,Re=xe.enabled,ot=B.options,vt=ot.equalDelta,Ut=ot.modifiers;Fe==="preserve"&&(Fe=H.width/H.height),B.startCoords=(0,mt.default)({},de),B.startRect=(0,mt.default)({},H),B.ratio=Fe,B.equalDelta=vt;var Zt=B.linkedEdges={top:U.top||U.left&&!U.bottom,left:U.left||U.top&&!U.right,bottom:U.bottom||U.right&&!U.top,right:U.right||U.bottom&&!U.left};if(B.xIsPrimaryAxis=!(!U.left&&!U.right),B.equalDelta){var mn=(Zt.left?1:-1)*(Zt.top?1:-1);B.edgeSign={x:mn,y:mn}}else B.edgeSign={x:Zt.left?-1:1,y:Zt.top?-1:1};if(Re!==!1&&(0,mt.default)(U,Zt),Ut!=null&&Ut.length){var nn=new N.default(P.interaction);nn.copyFrom(P.interaction.modification),nn.prepareStates(Ut),B.subModification=nn,nn.startAll(Rt({},P))}},set:function(P){var B=P.state,H=P.rect,U=P.coords,de=B.linkedEdges,xe=(0,mt.default)({},U),Fe=B.equalDelta?ln:jt;if((0,mt.default)(P.edges,de),Fe(B,B.xIsPrimaryAxis,U,H),!B.subModification)return null;var Re=(0,mt.default)({},H);(0,un.addEdges)(de,Re,{x:U.x-xe.x,y:U.y-xe.y});var ot=B.subModification.setAll(Rt(Rt({},P),{},{rect:Re,edges:de,pageCoords:U,prevCoords:U,prevRect:Re})),vt=ot.delta;return ot.changed&&(Fe(B,Math.abs(vt.x)>Math.abs(vt.y),ot.coords,ot.rect),(0,mt.default)(U,ot.coords)),ot.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};la.aspectRatio=dn;var Ct=(0,G.makeModifier)(dn,"aspectRatio");la.default=Ct;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var on=function(){};on._defaults={};var Mn=on;Ht.default=Mn;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),Object.defineProperty(kn,"default",{enumerable:!0,get:function(){return Ht.default}});var xn={};Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0,xn.getRestrictionRect=rn,xn.restrict=void 0;var jn={start:function(P){var B=P.rect,H=P.startOffset,U=P.state,de=P.interaction,xe=P.pageCoords,Fe=U.options,Re=Fe.elementRect,ot=(0,mt.default)({left:0,top:0,right:0,bottom:0},Fe.offset||{});if(B&&Re){var vt=rn(Fe.restriction,de,xe);if(vt){var Ut=vt.right-vt.left-B.width,Zt=vt.bottom-vt.top-B.height;Ut<0&&(ot.left+=Ut,ot.right+=Ut),Zt<0&&(ot.top+=Zt,ot.bottom+=Zt)}ot.left+=H.left-B.width*Re.left,ot.top+=H.top-B.height*Re.top,ot.right+=H.right-B.width*(1-Re.right),ot.bottom+=H.bottom-B.height*(1-Re.bottom)}U.offset=ot},set:function(P){var B=P.coords,H=P.interaction,U=P.state,de=U.options,xe=U.offset,Fe=rn(de.restriction,H,B);if(Fe){var Re=un.xywhToTlbr(Fe);B.x=Math.max(Math.min(Re.right-xe.right,B.x),Re.left+xe.left),B.y=Math.max(Math.min(Re.bottom-xe.bottom,B.y),Re.top+xe.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};xn.restrict=jn;var or=(0,G.makeModifier)(jn,"restrict");xn.default=or;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.restrictEdges=Xn.default=void 0;var yr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Lr={top:-1/0,left:-1/0,bottom:1/0,right:1/0},$r={noInner:yr,noOuter:Lr,start:function(P){var B,H=P.interaction,U=P.startOffset,de=P.state,xe=de.options;if(xe){var Fe=(0,xn.getRestrictionRect)(xe.offset,H,H.coords.start.page);B=un.rectToXY(Fe)}B=B||{x:0,y:0},de.offset={top:B.y+U.top,left:B.x+U.left,bottom:B.y-U.bottom,right:B.x-U.right}},set:function(P){var B=P.coords,H=P.edges,U=P.interaction,de=P.state,xe=de.offset,Fe=de.options;if(H){var Re=(0,mt.default)({},B),ot=(0,xn.getRestrictionRect)(Fe.inner,U,Re)||{},vt=(0,xn.getRestrictionRect)(Fe.outer,U,Re)||{};Qt(ot,yr),Qt(vt,Lr),H.top?B.y=Math.min(Math.max(vt.top+xe.top,Re.y),ot.top+xe.top):H.bottom&&(B.y=Math.max(Math.min(vt.bottom+xe.bottom,Re.y),ot.bottom+xe.bottom)),H.left?B.x=Math.min(Math.max(vt.left+xe.left,Re.x),ot.left+xe.left):H.right&&(B.x=Math.max(Math.min(vt.right+xe.right,Re.x),ot.right+xe.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Xn.restrictEdges=$r;var ti=(0,G.makeModifier)($r,"restrictEdges");Xn.default=ti;var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),ni.restrictRect=ni.default=void 0;var Fr=(0,mt.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(te){}},xn.restrict.defaults),hi={start:xn.restrict.start,set:xn.restrict.set,defaults:Fr};ni.restrictRect=hi;var Zi=(0,G.makeModifier)(hi,"restrictRect");ni.default=Zi;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.restrictSize=Xr.default=void 0;var ua={width:-1/0,height:-1/0},Sl={width:1/0,height:1/0},Ra={start:function(P){return Xn.restrictEdges.start(P)},set:function(P){var B=P.interaction,H=P.state,U=P.rect,de=P.edges,xe=H.options;if(de){var Fe=un.tlbrToXywh((0,xn.getRestrictionRect)(xe.min,B,P.coords))||ua,Re=un.tlbrToXywh((0,xn.getRestrictionRect)(xe.max,B,P.coords))||Sl;H.options={endOnly:xe.endOnly,inner:(0,mt.default)({},Xn.restrictEdges.noInner),outer:(0,mt.default)({},Xn.restrictEdges.noOuter)},de.top?(H.options.inner.top=U.bottom-Fe.height,H.options.outer.top=U.bottom-Re.height):de.bottom&&(H.options.inner.bottom=U.top+Fe.height,H.options.outer.bottom=U.top+Re.height),de.left?(H.options.inner.left=U.right-Fe.width,H.options.outer.left=U.right-Re.width):de.right&&(H.options.inner.right=U.left+Fe.width,H.options.outer.right=U.left+Re.width),Xn.restrictEdges.set(P),H.options=xe}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Xr.restrictSize=Ra;var Qi=(0,G.makeModifier)(Ra,"restrictSize");Xr.default=Qi;var yk={};Object.defineProperty(yk,"__esModule",{value:!0}),Object.defineProperty(yk,"default",{enumerable:!0,get:function(){return Ht.default}});var Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.snap=Os.default=void 0;var iT={start:function(P){var B,H=P.interaction,U=P.interactable,de=P.element,xe=P.rect,Fe=P.state,Re=P.startOffset,ot=Fe.options,vt=ot.offsetWithOrigin?function(mn){var nn=mn.interaction.element;return(0,un.rectToXY)((0,un.resolveRectLike)(mn.state.options.origin,null,null,[nn]))||(0,hn.default)(mn.interactable,nn,mn.interaction.prepared.name)}(P):{x:0,y:0};if(ot.offset==="startCoords")B={x:H.coords.start.page.x,y:H.coords.start.page.y};else{var Ut=(0,un.resolveRectLike)(ot.offset,U,de,[H]);(B=(0,un.rectToXY)(Ut)||{x:0,y:0}).x+=vt.x,B.y+=vt.y}var Zt=ot.relativePoints;Fe.offsets=xe&&Zt&&Zt.length?Zt.map(function(mn,nn){return{index:nn,relativePoint:mn,x:Re.left-xe.width*mn.x+B.x,y:Re.top-xe.height*mn.y+B.y}}):[{index:0,relativePoint:null,x:B.x,y:B.y}]},set:function(P){var B=P.interaction,H=P.coords,U=P.state,de=U.options,xe=U.offsets,Fe=(0,hn.default)(B.interactable,B.element,B.prepared.name),Re=(0,mt.default)({},H),ot=[];de.offsetWithOrigin||(Re.x-=Fe.x,Re.y-=Fe.y);for(var vt=0;vt<xe.length;vt++)for(var Ut=xe[vt],Zt=Re.x-Ut.x,mn=Re.y-Ut.y,nn=0,Fn=de.targets.length;nn<Fn;nn++){var Jn,zn=de.targets[nn];(Jn=re.default.func(zn)?zn(Zt,mn,B._proxy,Ut,nn):zn)&&ot.push({x:(re.default.number(Jn.x)?Jn.x:Zt)+Ut.x,y:(re.default.number(Jn.y)?Jn.y:mn)+Ut.y,range:re.default.number(Jn.range)?Jn.range:de.range,source:zn,index:nn,offset:Ut})}for(var Zn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},mr=0;mr<ot.length;mr++){var Tr=ot[mr],qr=Tr.range,Zr=Tr.x-Re.x,Ti=Tr.y-Re.y,fi=(0,dr.default)(Zr,Ti),Ur=fi<=qr;qr===1/0&&Zn.inRange&&Zn.range!==1/0&&(Ur=!1),Zn.target&&!(Ur?Zn.inRange&&qr!==1/0?fi/qr<Zn.distance/Zn.range:qr===1/0&&Zn.range!==1/0||fi<Zn.distance:!Zn.inRange&&fi<Zn.distance)||(Zn.target=Tr,Zn.distance=fi,Zn.range=qr,Zn.inRange=Ur,Zn.delta.x=Zr,Zn.delta.y=Ti)}return Zn.inRange&&(H.x=Zn.target.x,H.y=Zn.target.y),U.closest=Zn,Zn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Os.snap=iT;var l1=(0,G.makeModifier)(iT,"snap");Os.default=l1;var Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.snapSize=Da.default=void 0;var oT={start:function(P){var B=P.state,H=P.edges,U=B.options;if(!H)return null;P.state={options:{targets:null,relativePoints:[{x:H.left?0:1,y:H.top?0:1}],offset:U.offset||"self",origin:{x:0,y:0},range:U.range}},B.targetFields=B.targetFields||[["width","height"],["x","y"]],Os.snap.start(P),B.offsets=P.state.offsets,P.state=B},set:function(P){var B,H=P.interaction,U=P.state,de=P.coords,xe=U.options,Fe=U.offsets,Re={x:de.x-Fe[0].x,y:de.y-Fe[0].y};U.options=(0,mt.default)({},xe),U.options.targets=[];for(var ot=0;ot<(xe.targets||[]).length;ot++){var vt=(xe.targets||[])[ot],Ut=void 0;if(Ut=re.default.func(vt)?vt(Re.x,Re.y,H):vt){for(var Zt=0;Zt<U.targetFields.length;Zt++){var mn=function(zn){if(Array.isArray(zn))return zn}(B=U.targetFields[Zt])||function(zn,Zn){var mr=zn==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&zn[Symbol.iterator]||zn["@@iterator"];if(mr!=null){var Tr,qr,Zr=[],Ti=!0,fi=!1;try{for(mr=mr.call(zn);!(Ti=(Tr=mr.next()).done)&&(Zr.push(Tr.value),Zr.length!==2);Ti=!0);}catch(Ur){fi=!0,qr=Ur}finally{try{Ti||mr.return==null||mr.return()}finally{if(fi)throw qr}}return Zr}}(B)||function(zn,Zn){if(zn){if(typeof zn=="string")return Rn(zn,2);var mr=Object.prototype.toString.call(zn).slice(8,-1);return mr==="Object"&&zn.constructor&&(mr=zn.constructor.name),mr==="Map"||mr==="Set"?Array.from(zn):mr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mr)?Rn(zn,2):void 0}}(B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),nn=mn[0],Fn=mn[1];if(nn in Ut||Fn in Ut){Ut.x=Ut[nn],Ut.y=Ut[Fn];break}}U.options.targets.push(Ut)}}var Jn=Os.snap.set(P);return U.options=xe,Jn},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Da.snapSize=oT;var u1=(0,G.makeModifier)(oT,"snapSize");Da.default=u1;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.snapEdges=Ru.default=void 0;var aT={start:function(P){var B=P.edges;return B?(P.state.targetFields=P.state.targetFields||[[B.left?"left":"right",B.top?"top":"bottom"]],Da.snapSize.start(P)):null},set:Da.snapSize.set,defaults:(0,mt.default)((0,L.default)(Da.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Ru.snapEdges=aT;var c1=(0,G.makeModifier)(aT,"snapEdges");Ru.default=c1;var bk={};Object.defineProperty(bk,"__esModule",{value:!0}),Object.defineProperty(bk,"default",{enumerable:!0,get:function(){return Ht.default}});var wk={};Object.defineProperty(wk,"__esModule",{value:!0}),Object.defineProperty(wk,"default",{enumerable:!0,get:function(){return Ht.default}});var Du={};Object.defineProperty(Du,"__esModule",{value:!0}),Du.default=void 0;var d1={aspectRatio:la.default,restrictEdges:Xn.default,restrict:xn.default,restrictRect:ni.default,restrictSize:Xr.default,snapEdges:Ru.default,snap:Os.default,snapSize:Da.default,spring:bk.default,avoid:kn.default,transform:wk.default,rubberband:yk.default};Du.default=d1;var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.default=void 0;var h1={id:"modifiers",install:function(P){var B=P.interactStatic;for(var H in P.usePlugin(G.default),P.usePlugin(xl.default),B.modifiers=Du.default,Du.default){var U=Du.default[H],de=U._defaults,xe=U._methods;de._methods=xe,P.defaults.perAction[H]=de}}},f1=h1;Jc.default=f1;var Cl={};function _k(te){return _k=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},_k(te)}function kk(te,P){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,U){return H.__proto__=U,H},kk(te,P)}function Wf(te){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},Wf(te)}Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.default=Cl.PointerEvent=void 0;var p1=function(te){(function(Fe,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Re&&Re.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),Re&&kk(Fe,Re)})(xe,te);var P,B,H,U,de=(H=xe,U=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Re,ot=Wf(H);if(U){var vt=Wf(this).constructor;Re=Reflect.construct(ot,arguments,vt)}else Re=ot.apply(this,arguments);return function(Ut,Zt){if(Zt&&(_k(Zt)==="object"||typeof Zt=="function"))return Zt;if(Zt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(Ut)}(this,Re)});function xe(Fe,Re,ot,vt,Ut,Zt){var mn;if(function(Jn,zn){if(!_instanceof(Jn,zn))throw new TypeError("Cannot call a class as a function")}(this,xe),mn=de.call(this,Ut),Ln.pointerExtend(Vt(mn),ot),ot!==Re&&Ln.pointerExtend(Vt(mn),Re),mn.timeStamp=Zt,mn.originalEvent=ot,mn.type=Fe,mn.pointerId=Ln.getPointerId(Re),mn.pointerType=Ln.getPointerType(Re),mn.target=vt,mn.currentTarget=null,Fe==="tap"){var nn=Ut.getPointerIndex(Re);mn.dt=mn.timeStamp-Ut.pointers[nn].downTime;var Fn=mn.timeStamp-Ut.tapTime;mn.double=!!Ut.prevTap&&Ut.prevTap.type!=="doubletap"&&Ut.prevTap.target===mn.target&&Fn<500}else Fe==="doubletap"&&(mn.dt=Re.timeStamp-Ut.tapTime,mn.double=!0);return mn}return P=xe,(B=[{key:"_subtractOrigin",value:function(Re){var ot=Re.x,vt=Re.y;return this.pageX-=ot,this.pageY-=vt,this.clientX-=ot,this.clientY-=vt,this}},{key:"_addOrigin",value:function(Re){var ot=Re.x,vt=Re.y;return this.pageX+=ot,this.pageY+=vt,this.clientX+=ot,this.clientY+=vt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Fe,Re){for(var ot=0;ot<Re.length;ot++){var vt=Re[ot];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Fe,vt.key,vt)}}(P.prototype,B),Object.defineProperty(P,"prototype",{writable:!1}),xe}(ai.BaseEvent);Cl.PointerEvent=Cl.default=p1;var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.default=void 0;var Yf={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(P){P.pointerEvents=Yf,P.defaults.actions.pointerEvents=Yf.defaults,(0,mt.default)(P.actions.phaselessTypes,Yf.types)},listeners:{"interactions:new":function(te){var P=te.interaction;P.prevTap=null,P.tapTime=0},"interactions:update-pointer":function(te){var P=te.down,B=te.pointerInfo;!P&&B.hold||(B.hold={duration:1/0,timeout:null})},"interactions:move":function(te,P){var B=te.interaction,H=te.pointer,U=te.event,de=te.eventTarget;te.duplicate||B.pointerIsDown&&!B.pointerWasMoved||(B.pointerIsDown&&Dn(te),Es({interaction:B,pointer:H,event:U,eventTarget:de,type:"move"},P))},"interactions:down":function(te,P){(function(B,H){for(var U=B.interaction,de=B.pointer,xe=B.event,Fe=B.eventTarget,Re=B.pointerIndex,ot=U.pointers[Re].hold,vt=pt.getPath(Fe),Ut={interaction:U,pointer:de,event:xe,eventTarget:Fe,type:"hold",targets:[],path:vt,node:null},Zt=0;Zt<vt.length;Zt++){var mn=vt[Zt];Ut.node=mn,H.fire("pointerEvents:collect-targets",Ut)}if(Ut.targets.length){for(var nn=1/0,Fn=0;Fn<Ut.targets.length;Fn++){var Jn=Ut.targets[Fn].eventable.options.holdDuration;Jn<nn&&(nn=Jn)}ot.duration=nn,ot.timeout=setTimeout(function(){Es({interaction:U,eventTarget:Fe,pointer:de,event:xe,type:"hold"},H)},nn)}})(te,P),Es(te,P)},"interactions:up":function(te,P){Dn(te),Es(te,P),function(B,H){var U=B.interaction,de=B.pointer,xe=B.event,Fe=B.eventTarget;U.pointerWasMoved||Es({interaction:U,eventTarget:Fe,pointer:de,event:xe,type:"tap"},H)}(te,P)},"interactions:cancel":function(te,P){Dn(te),Es(te,P)}},PointerEvent:Cl.PointerEvent,fire:Es,collectEventTargets:ur,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Es(te,P){var B=te.interaction,H=te.pointer,U=te.event,de=te.eventTarget,xe=te.type,Fe=te.targets,Re=Fe===void 0?ur(te,P):Fe,ot=new Cl.PointerEvent(xe,H,U,de,B,P.now());P.fire("pointerEvents:new",{pointerEvent:ot});for(var vt={interaction:B,pointer:H,event:U,eventTarget:de,targets:Re,type:xe,pointerEvent:ot},Ut=0;Ut<Re.length;Ut++){var Zt=Re[Ut];for(var mn in Zt.props||{})ot[mn]=Zt.props[mn];var nn=(0,hn.default)(Zt.eventable,Zt.node);if(ot._subtractOrigin(nn),ot.eventable=Zt.eventable,ot.currentTarget=Zt.node,Zt.eventable.fire(ot),ot._addOrigin(nn),ot.immediatePropagationStopped||ot.propagationStopped&&Ut+1<Re.length&&Re[Ut+1].node!==ot.currentTarget)break}if(P.fire("pointerEvents:fired",vt),xe==="tap"){var Fn=ot.double?Es({interaction:B,pointer:H,event:U,eventTarget:de,type:"doubletap"},P):ot;B.prevTap=Fn,B.tapTime=Fn.timeStamp}return ot}var v1=Yf;Zc.default=v1;var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.default=void 0;var m1={id:"pointer-events/holdRepeat",install:function(P){P.usePlugin(Zc.default);var B=P.pointerEvents;B.defaults.holdRepeatInterval=0,B.types.holdrepeat=P.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(te,P){return te["pointerEvents:".concat(P)]=tr,te},{"pointerEvents:new":function(te){var P=te.pointerEvent;P.type==="hold"&&(P.count=(P.count||0)+1)},"pointerEvents:fired":function(te,P){var B=te.interaction,H=te.pointerEvent,U=te.eventTarget,de=te.targets;if(H.type==="hold"&&de.length){var xe=de[0].eventable.options.holdRepeatInterval;xe<=0||(B.holdIntervalHandle=setTimeout(function(){P.pointerEvents.fire({interaction:B,eventTarget:U,type:"hold",pointer:H,event:H},P)},xe))}}})},g1=m1;Gf.default=g1;var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.default=void 0;var y1={id:"pointer-events/interactableTargets",install:function(P){var B=P.Interactable;B.prototype.pointerEvents=en;var H=B.prototype._backCompatOption;B.prototype._backCompatOption=function(U,de){var xe=H.call(this,U,de);return xe===this&&(this.events.options[U]=de),xe}},listeners:{"pointerEvents:collect-targets":function(te,P){var B=te.targets,H=te.node,U=te.type,de=te.eventTarget;P.interactables.forEachMatch(H,function(xe){var Fe=xe.events,Re=Fe.options;Fe.types[U]&&Fe.types[U].length&&xe.testIgnoreAllow(Re,H,de)&&B.push({node:H,eventable:Fe,props:{interactable:xe}})})},"interactable:new":function(te){var P=te.interactable;P.events.getRect=function(B){return P.getRect(B)}},"interactable:set":function(te,P){var B=te.interactable,H=te.options;(0,mt.default)(B.events.options,P.pointerEvents.defaults),(0,mt.default)(B.events.options,H.pointerEvents||{})}}},b1=y1;Kf.default=b1;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.default=void 0;var w1={id:"pointer-events",install:function(P){P.usePlugin(Zc),P.usePlugin(Gf.default),P.usePlugin(Kf.default)}},_1=w1;Qc.default=_1;var $u={};Object.defineProperty($u,"__esModule",{value:!0}),$u.default=void 0,$u.install=Tn;var k1={id:"reflow",install:Tn,listeners:{"interactions:stop":function(te,P){var B=te.interaction;B.pointerType==="reflow"&&(B._reflowResolve&&B._reflowResolve(),Hr.remove(P.interactions.list,B))}}},x1=k1;$u.default=x1;var Al={};Object.defineProperty(Al,"__esModule",{value:!0}),Al.default=void 0,Li.default.use(tn.default),Li.default.use(_r.default),Li.default.use(Qc.default),Li.default.use(gr.default),Li.default.use(Jc.default),Li.default.use(Wt.default),Li.default.use(Pa.default),Li.default.use(Gi.default),Li.default.use($u.default);var S1=Li.default;Al.default=S1,Li.default.default=Li.default,Pa.default,Gi.default,Wt.default,tn.default,X.default,gr.default,Li.default,Jc.default,_r.default,Qc.default,$u.default;var Ol={exports:{}};function xk(te){return xk=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(B){return typeof B=="undefined"?"undefined":_typeof(B)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P=="undefined"?"undefined":_typeof(P)},xk(te)}Object.defineProperty(Ol.exports,"__esModule",{value:!0}),Ol.exports.default=void 0;var C1=Al.default;if(Ol.exports.default=C1,xk(Ol)==="object"&&Ol)try{Ol.exports=Al.default}catch(te){}return Al.default.default=Al.default,Ol.exports}()},4638:function(s,a,r){(function(c,d,h){var p=function(Y,Kt,Ft){var Xt=d.createElement(Y);return Kt&&(Xt.id=Ue+Kt),Ft&&(Xt.style.cssText=Ft),c(Xt)},v=function(){return h.innerHeight?h.innerHeight:c(h).height()},k=function(Y,Kt){Kt!==Object(Kt)&&(Kt={}),this.cache={},this.el=Y,this.value=function(Ft){var Xt;return this.cache[Ft]===void 0&&((Xt=c(this.el).attr("data-cbox-"+Ft))!==void 0?this.cache[Ft]=Xt:Kt[Ft]!==void 0?this.cache[Ft]=Kt[Ft]:gt[Ft]!==void 0&&(this.cache[Ft]=gt[Ft])),this.cache[Ft]},this.get=function(Ft){var Xt=this.value(Ft);return c.isFunction(Xt)?Xt.call(this.el,this):Xt}},x=function(Y){var Kt=z.length,Ft=(De+Y)%Kt;return Ft<0?Kt+Ft:Ft},S=function(Y,Kt){return Math.round((/%/.test(Y)?(Kt==="x"?Q.width():v())/100:1)*parseInt(Y,10))},A=function(Y,Kt){return Y.get("photo")||Y.get("photoRegex").test(Kt)},E=function(Y,Kt){return Y.get("retinaUrl")&&h.devicePixelRatio>1?Kt.replace(Y.get("photoRegex"),Y.get("retinaSuffix")):Kt},O=function(Y){"contains"in m[0]&&!m[0].contains(Y.target)&&Y.target!==f[0]&&(Y.stopPropagation(),m.focus())},T=function(Y){c(d).trigger(Y),lt.triggerHandler(Y)},b=function(Y){var Kt,Ft;if(!Qe){if(Kt=c(Y).data(Mt),fe=new k(Y,Kt),Ft=fe.get("rel"),De=0,Ft&&Ft!==!1&&Ft!=="nofollow"?(z=c("."+Be).filter(function(){return new k(this,c.data(this,Mt)).get("rel")===Ft}),(De=z.index(fe.el))===-1&&(z=z.add(fe.el),De=z.length-1)):z=c(fe.el),!Xe){Xe=Ne=!0,qt(fe.get("className")),m.css({visibility:"hidden",display:"block",opacity:""}),W=p(Ze,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(W),rt=C.height()+D.height()+w.outerHeight(!0)-w.height(),ct=M.width()+I.width()+w.outerWidth(!0)-w.width(),Ot=W.outerHeight(!0),_t=W.outerWidth(!0);var Xt=S(fe.get("initialWidth"),"x"),R=S(fe.get("initialHeight"),"y"),nt=fe.get("maxWidth"),je=fe.get("maxHeight");fe.w=Math.max((nt!==!1?Math.min(Xt,S(nt,"x")):Xt)-_t-ct,0),fe.h=Math.max((je!==!1?Math.min(R,S(je,"y")):R)-Ot-rt,0),W.css({width:"",height:fe.h}),Ve.position(),T(et),fe.get("onOpen"),Ee.add(q).hide(),m.focus(),fe.get("trapFocus")&&d.addEventListener&&(d.addEventListener("focus",O,!0),lt.one(xt,function(){d.removeEventListener("focus",O,!0)})),fe.get("returnFocus")&&lt.one(xt,function(){c(fe.el).focus()})}var ue=parseFloat(fe.get("opacity"));f.css({opacity:ue==ue?ue:"",cursor:fe.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),fe.get("closeButton")?ye.html(fe.get("close")).appendTo(w):ye.appendTo("<div/>"),function(){var J,K,Z,se=Ve.prep,he=++dt;if(Ne=!0,be=!1,T(bt),T(Ge),fe.get("onLoad"),fe.h=fe.get("height")?S(fe.get("height"),"y")-Ot-rt:fe.get("innerHeight")&&S(fe.get("innerHeight"),"y"),fe.w=fe.get("width")?S(fe.get("width"),"x")-_t-ct:fe.get("innerWidth")&&S(fe.get("innerWidth"),"x"),fe.mw=fe.w,fe.mh=fe.h,fe.get("maxWidth")&&(fe.mw=S(fe.get("maxWidth"),"x")-_t-ct,fe.mw=fe.w&&fe.w<fe.mw?fe.w:fe.mw),fe.get("maxHeight")&&(fe.mh=S(fe.get("maxHeight"),"y")-Ot-rt,fe.mh=fe.h&&fe.h<fe.mh?fe.h:fe.mh),J=fe.get("href"),Me=setTimeout(function(){oe.show()},100),fe.get("inline")){var Ae=c(J).eq(0);Z=c("<div>").hide().insertBefore(Ae),lt.one(bt,function(){Z.replaceWith(Ae)}),se(Ae)}else fe.get("iframe")?se(" "):fe.get("html")?se(fe.get("html")):A(fe,J)?(J=E(fe,J),be=fe.get("createImg"),c(be).addClass(Ue+"Photo").bind("error."+Ue,function(){se(p(Ze,"Error").html(fe.get("imgError")))}).one("load",function(){he===dt&&setTimeout(function(){var Te;fe.get("retinaImage")&&h.devicePixelRatio>1&&(be.height=be.height/h.devicePixelRatio,be.width=be.width/h.devicePixelRatio),fe.get("scalePhotos")&&(K=function(){be.height-=be.height*Te,be.width-=be.width*Te},fe.mw&&be.width>fe.mw&&(Te=(be.width-fe.mw)/be.width,K()),fe.mh&&be.height>fe.mh&&(Te=(be.height-fe.mh)/be.height,K())),fe.h&&(be.style.marginTop=Math.max(fe.mh-be.height,0)/2+"px"),z[1]&&(fe.get("loop")||z[De+1])&&(be.style.cursor="pointer",c(be).bind("click."+Ue,function(){Ve.next()})),be.style.width=be.width+"px",be.style.height=be.height+"px",se(be)},1)}),be.src=J):J&&me.load(J,fe.get("data"),function(Te,He){he===dt&&se(He==="error"?p(Ze,"Error").html(fe.get("xhrError")):c(this).contents())})}()}},u=function(){m||(st=!1,Q=c(h),m=p(Ze).attr({id:Mt,class:c.support.opacity===!1?Ue+"IE":"",role:"dialog",tabindex:"-1"}).hide(),f=p(Ze,"Overlay").hide(),oe=c([p(Ze,"LoadingOverlay")[0],p(Ze,"LoadingGraphic")[0]]),y=p(Ze,"Wrapper"),w=p(Ze,"Content").append(q=p(Ze,"Title"),ee=p(Ze,"Current"),le=c('<button type="button"/>').attr({id:Ue+"Previous"}),ie=c('<button type="button"/>').attr({id:Ue+"Next"}),we=c('<button type="button"/>').attr({id:Ue+"Slideshow"}),oe),ye=c('<button type="button"/>').attr({id:Ue+"Close"}),y.append(p(Ze).append(p(Ze,"TopLeft"),C=p(Ze,"TopCenter"),p(Ze,"TopRight")),p(Ze,!1,"clear:left").append(M=p(Ze,"MiddleLeft"),w,I=p(Ze,"MiddleRight")),p(Ze,!1,"clear:left").append(p(Ze,"BottomLeft"),D=p(Ze,"BottomCenter"),p(Ze,"BottomRight"))).find("div div").css({float:"left"}),me=p(Ze,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),Ee=ie.add(le).add(ee).add(we)),d.body&&!m.parent().length&&c(d.body).append(f,m.append(y,me))},f,m,y,w,C,M,I,D,z,Q,W,me,oe,q,ee,we,ie,le,ye,Ee,fe,rt,ct,Ot,_t,De,be,Xe,Ne,Qe,Me,Ve,st,gt={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr("href")},title:function(){return this.title},createImg:function(){var Y=new Image,Kt=c(this).data("cbox-img-attrs");return typeof Kt=="object"&&c.each(Kt,function(Ft,Xt){Y[Ft]=Xt}),Y},createIframe:function(){var Y=d.createElement("iframe"),Kt=c(this).data("cbox-iframe-attrs");return typeof Kt=="object"&&c.each(Kt,function(Ft,Xt){Y[Ft]=Xt}),"frameBorder"in Y&&(Y.frameBorder=0),"allowTransparency"in Y&&(Y.allowTransparency="true"),Y.name=new Date().getTime(),Y.allowFullscreen=!0,Y}},Mt="colorbox",Ue="cbox",Be=Ue+"Element",et=Ue+"_open",Ge=Ue+"_load",$e=Ue+"_complete",ze=Ue+"_cleanup",xt=Ue+"_closed",bt=Ue+"_purge",lt=c("<a/>"),Ze="div",dt=0,$t={};function qt(ut){qt.str!==ut&&(m.add(f).removeClass(qt.str).addClass(ut),qt.str=ut)}var Bt=function(){var ut=function(){clearTimeout(nt)},Y=function(){(fe.get("loop")||z[De+1])&&(ut(),nt=setTimeout(Ve.next,fe.get("slideshowSpeed")))},Kt=function(){we.html(fe.get("slideshowStop")).unbind(ue).one(ue,Ft),lt.bind($e,Y).bind(Ge,ut),m.removeClass(je+"off").addClass(je+"on")},Ft=function(){ut(),lt.unbind($e,Y).unbind(Ge,ut),we.html(fe.get("slideshowStart")).unbind(ue).one(ue,function(){Ve.next(),Kt()}),m.removeClass(je+"on").addClass(je+"off")},Xt=function(){R=!1,we.hide(),ut(),lt.unbind($e,Y).unbind(Ge,ut),m.removeClass(je+"off "+je+"on")},R,nt,je=Ue+"Slideshow_",ue="click."+Ue;return function(){R?fe.get("slideshow")||(lt.unbind(ze,Xt),Xt()):fe.get("slideshow")&&z[1]&&(R=!0,lt.one(ze,Xt),fe.get("slideshowAuto")?Kt():Ft(),we.show())}}();c[Mt]||(c(u),(Ve=c.fn[Mt]=c[Mt]=function(ut,Y){var Kt=this;return ut=ut||{},c.isFunction(Kt)&&(Kt=c("<a/>"),ut.open=!0),Kt[0]&&(u(),function(){var Ft=function(R){R.which>1||R.shiftKey||R.altKey||R.metaKey||R.ctrlKey||(R.preventDefault(),b(this))};return!!m&&(st||(st=!0,ie.click(function(){Ve.next()}),le.click(function(){Ve.prev()}),ye.click(function(){Ve.close()}),f.click(function(){fe.get("overlayClose")&&Ve.close()}),c(d).bind("keydown."+Ue,function(Xt){var R=Xt.keyCode;Xe&&fe.get("escKey")&&R===27&&(Xt.preventDefault(),Ve.close()),Xe&&fe.get("arrowKey")&&z[1]&&!Xt.altKey&&(R===37?(Xt.preventDefault(),le.click()):R===39&&(Xt.preventDefault(),ie.click()))}),c.isFunction(c.fn.on)?c(d).on("click."+Ue,"."+Be,Ft):c("."+Be).live("click."+Ue,Ft)),!0)}()&&(Y&&(ut.onComplete=Y),Kt.each(function(){var Ft=c.data(this,Mt)||{};c.data(this,Mt,c.extend(Ft,ut))}).addClass(Be),new k(Kt[0],ut).get("open")&&b(Kt[0]))),Kt}).position=function(ut,Y){var Kt=function(){C[0].style.width=D[0].style.width=w[0].style.width=parseInt(m[0].style.width,10)-ct+"px",w[0].style.height=M[0].style.height=I[0].style.height=parseInt(m[0].style.height,10)-rt+"px"},Ft,Xt,R,nt=0,je=0,ue=m.offset();if(Q.unbind("resize."+Ue),m.css({top:-9e4,left:-9e4}),Xt=Q.scrollTop(),R=Q.scrollLeft(),fe.get("fixed")?(ue.top-=Xt,ue.left-=R,m.css({position:"fixed"})):(nt=Xt,je=R,m.css({position:"absolute"})),fe.get("right")!==!1?je+=Math.max(Q.width()-fe.w-_t-ct-S(fe.get("right"),"x"),0):fe.get("left")!==!1?je+=S(fe.get("left"),"x"):je+=Math.round(Math.max(Q.width()-fe.w-_t-ct,0)/2),fe.get("bottom")!==!1?nt+=Math.max(v()-fe.h-Ot-rt-S(fe.get("bottom"),"y"),0):fe.get("top")!==!1?nt+=S(fe.get("top"),"y"):nt+=Math.round(Math.max(v()-fe.h-Ot-rt,0)/2),m.css({top:ue.top,left:ue.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",Ft={width:fe.w+_t+ct,height:fe.h+Ot+rt,top:nt,left:je},ut){var J=0;c.each(Ft,function(K){Ft[K]===$t[K]||(J=ut)}),ut=J}$t=Ft,ut||m.css(Ft),m.dequeue().animate(Ft,{duration:ut||0,complete:function(){Kt(),Ne=!1,y[0].style.width=fe.w+_t+ct+"px",y[0].style.height=fe.h+Ot+rt+"px",fe.get("reposition")&&setTimeout(function(){Q.bind("resize."+Ue,Ve.position)},1),c.isFunction(Y)&&Y()},step:Kt})},Ve.resize=function(ut){var Y;Xe&&((ut=ut||{}).width&&(fe.w=S(ut.width,"x")-_t-ct),ut.innerWidth&&(fe.w=S(ut.innerWidth,"x")),W.css({width:fe.w}),ut.height&&(fe.h=S(ut.height,"y")-Ot-rt),ut.innerHeight&&(fe.h=S(ut.innerHeight,"y")),ut.innerHeight||ut.height||(Y=W.scrollTop(),W.css({height:"auto"}),fe.h=W.height()),W.css({height:fe.h}),Y&&W.scrollTop(Y),Ve.position(fe.get("transition")==="none"?0:fe.get("speed")))},Ve.prep=function(ut){if(Xe){var Y,Kt=fe.get("transition")==="none"?0:fe.get("speed");W.remove(),(W=p(Ze,"LoadedContent").append(ut)).hide().appendTo(me.show()).css({width:(fe.w=fe.w||W.width(),fe.w=fe.mw&&fe.mw<fe.w?fe.mw:fe.w,fe.w),overflow:fe.get("scrolling")?"auto":"hidden"}).css({height:(fe.h=fe.h||W.height(),fe.h=fe.mh&&fe.mh<fe.h?fe.mh:fe.h,fe.h)}).prependTo(w),me.hide(),c(be).css({float:"none"}),qt(fe.get("className")),Y=function(){var Xt=function(){c.support.opacity===!1&&m[0].style.removeAttribute("filter")},R,nt,je=z.length;Xe&&(nt=function(){clearTimeout(Me),oe.hide(),T($e),fe.get("onComplete")},q.html(fe.get("title")).show(),W.show(),je>1?(typeof fe.get("current")=="string"&&ee.html(fe.get("current").replace("{current}",De+1).replace("{total}",je)).show(),ie[fe.get("loop")||De<je-1?"show":"hide"]().html(fe.get("next")),le[fe.get("loop")||De?"show":"hide"]().html(fe.get("previous")),Bt(),fe.get("preloading")&&c.each([x(-1),x(1)],function(){var ue=z[this],J=new k(ue,c.data(ue,Mt)),K=J.get("href");K&&A(J,K)&&(K=E(J,K),d.createElement("img").src=K)})):Ee.hide(),fe.get("iframe")?(R=fe.get("createIframe"),fe.get("scrolling")||(R.scrolling="no"),c(R).attr({src:fe.get("href"),class:Ue+"Iframe"}).one("load",nt).appendTo(W),lt.one(bt,function(){R.src="//about:blank"}),fe.get("fastIframe")&&c(R).trigger("load")):nt(),fe.get("transition")==="fade"?m.fadeTo(Kt,1,Xt):Xt())},fe.get("transition")==="fade"?m.fadeTo(Kt,0,function(){Ve.position(0,Y)}):Ve.position(Kt,Y)}},Ve.next=function(){!Ne&&z[1]&&(fe.get("loop")||z[De+1])&&(De=x(1),b(z[De]))},Ve.prev=function(){!Ne&&z[1]&&(fe.get("loop")||De)&&(De=x(-1),b(z[De]))},Ve.close=function(){Xe&&!Qe&&(Qe=!0,Xe=!1,T(ze),fe.get("onCleanup"),Q.unbind("."+Ue),f.fadeTo(fe.get("fadeOut")||0,0),m.stop().fadeTo(fe.get("fadeOut")||0,0,function(){m.hide(),f.hide(),T(bt),W.remove(),setTimeout(function(){Qe=!1,T(xt),fe.get("onClosed")},1)}))},Ve.remove=function(){m&&(m.stop(),c[Mt].close(),m.stop(!1,!0).remove(),f.remove(),Qe=!1,m=null,c("."+Be).removeData(Mt).removeClass(Be),c(d).unbind("click."+Ue).unbind("keydown."+Ue))},Ve.element=function(){return c(fe.el)},Ve.settings=gt)})(r(1669),document,window)},8497:function(s,a,r){(function(c){var d=function(S,A){if(!(S.originalEvent.touches.length>1)){S.preventDefault();var E=S.originalEvent.changedTouches[0],O=document.createEvent("MouseEvents");O.initMouseEvent(A,!0,!0,window,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null),S.target.dispatchEvent(O)}};if(c.support.touch="ontouchend"in document,c.support.touch){var h,p=c.ui.mouse.prototype,v=p._mouseInit,k=p._mouseDestroy;p._touchStart=function(x){!h&&this._mouseCapture(x.originalEvent.changedTouches[0])&&(h=!0,this._touchMoved=!1,d(x,"mouseover"),d(x,"mousemove"),d(x,"mousedown"))},p._touchMove=function(x){h&&(this._touchMoved=!0,d(x,"mousemove"))},p._touchEnd=function(x){h&&(d(x,"mouseup"),d(x,"mouseout"),this._touchMoved||d(x,"click"),h=!1)},p._mouseInit=function(){var x=this;x.element.bind({touchstart:c.proxy(x,"_touchStart"),touchmove:c.proxy(x,"_touchMove"),touchend:c.proxy(x,"_touchEnd")}),v.call(x)},p._mouseDestroy=function(){var x=this;x.element.unbind({touchstart:c.proxy(x,"_touchStart"),touchmove:c.proxy(x,"_touchMove"),touchend:c.proxy(x,"_touchEnd")}),k.call(x)}}})(r(1669))},8045:function(s,a,r){var c,d,h;d=[r(1669),r(6883)],(h=typeof(c=function(v){return v.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?c.apply(a,d):c)===void 0||(s.exports=h)},1897:function(s,a,r){var c,d,h;d=[r(1669),r(6883)],(h=typeof(c=function(v){return v.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?c.apply(a,d):c)===void 0||(s.exports=h)},6883:function(s,a,r){var c,d,h;d=[r(1669)],(h=typeof(c=function(v){return v.ui=v.ui||{},v.ui.version="1.12.1"})=="function"?c.apply(a,d):c)===void 0||(s.exports=h)},9139:function(s,a,r){var c,d,h;d=[r(1669),r(6883)],c=function(v){var k,x=0,S=Array.prototype.slice;return v.cleanData=(k=v.cleanData,function(A){var E,O,T;for(T=0;(O=A[T])!=null;T++)try{(E=v._data(O,"events"))&&E.remove&&v(O).triggerHandler("remove")}catch(b){}k(A)}),v.widget=function(A,E,O){var T,b,u,f={},m=A.split(".")[0],y=m+"-"+(A=A.split(".")[1]);return O||(O=E,E=v.Widget),v.isArray(O)&&(O=v.extend.apply(null,[{}].concat(O))),v.expr[":"][y.toLowerCase()]=function(w){return!!v.data(w,y)},v[m]=v[m]||{},T=v[m][A],b=v[m][A]=function(w,C){if(!this._createWidget)return new b(w,C);arguments.length&&this._createWidget(w,C)},v.extend(b,T,{version:O.version,_proto:v.extend({},O),_childConstructors:[]}),(u=new E).options=v.widget.extend({},u.options),v.each(O,function(w,C){v.isFunction(C)?f[w]=function(){var M=function(){return E.prototype[w].apply(this,arguments)},I=function(z){return E.prototype[w].apply(this,z)};return function(){var D,z=this._super,Q=this._superApply;return this._super=M,this._superApply=I,D=C.apply(this,arguments),this._super=z,this._superApply=Q,D}}():f[w]=C}),b.prototype=v.widget.extend(u,{widgetEventPrefix:T&&u.widgetEventPrefix||A},f,{constructor:b,namespace:m,widgetName:A,widgetFullName:y}),T?(v.each(T._childConstructors,function(w,C){var M=C.prototype;v.widget(M.namespace+"."+M.widgetName,b,C._proto)}),delete T._childConstructors):E._childConstructors.push(b),v.widget.bridge(A,b),b},v.widget.extend=function(A){for(var E,O,T=S.call(arguments,1),b=0,u=T.length;b<u;b++)for(E in T[b])O=T[b][E],T[b].hasOwnProperty(E)&&O!==void 0&&(v.isPlainObject(O)?A[E]=v.isPlainObject(A[E])?v.widget.extend({},A[E],O):v.widget.extend({},O):A[E]=O);return A},v.widget.bridge=function(A,E){var O=E.prototype.widgetFullName||A;v.fn[A]=function(T){var b=typeof T=="string",u=S.call(arguments,1),f=this;return b?this.length||T!=="instance"?this.each(function(){var m,y=v.data(this,O);return T==="instance"?(f=y,!1):y?v.isFunction(y[T])&&T.charAt(0)!=="_"?(m=y[T].apply(y,u))!==y&&m!==void 0?(f=m&&m.jquery?f.pushStack(m.get()):m,!1):void 0:v.error("no such method '"+T+"' for "+A+" widget instance"):v.error("cannot call methods on "+A+" prior to initialization; attempted to call method '"+T+"'")}):f=void 0:(u.length&&(T=v.widget.extend.apply(null,[T].concat(u))),this.each(function(){var m=v.data(this,O);m?(m.option(T||{}),m._init&&m._init()):v.data(this,O,new E(T,this))})),f}},v.Widget=function(){},v.Widget._childConstructors=[],v.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(E,O){O=v(O||this.defaultElement||this)[0],this.element=v(O),this.uuid=x++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=v(),this.hoverable=v(),this.focusable=v(),this.classesElementLookup={},O!==this&&(v.data(O,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===O&&this.destroy()}}),this.document=v(O.style?O.ownerDocument:O.document||O),this.window=v(this.document[0].defaultView||this.document[0].parentWindow)),this.options=v.widget.extend({},this.options,this._getCreateOptions(),E),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:v.noop,_create:v.noop,_init:v.noop,destroy:function(){var E=this;this._destroy(),v.each(this.classesElementLookup,function(O,T){E._removeClass(T,O)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:v.noop,widget:function(){return this.element},option:function(E,O){var T,b,u,f=E;if(arguments.length===0)return v.widget.extend({},this.options);if(typeof E=="string")if(f={},T=E.split("."),E=T.shift(),T.length){for(b=f[E]=v.widget.extend({},this.options[E]),u=0;u<T.length-1;u++)b[T[u]]=b[T[u]]||{},b=b[T[u]];if(E=T.pop(),arguments.length===1)return b[E]===void 0?null:b[E];b[E]=O}else{if(arguments.length===1)return this.options[E]===void 0?null:this.options[E];f[E]=O}return this._setOptions(f),this},_setOptions:function(E){var O;for(O in E)this._setOption(O,E[O]);return this},_setOption:function(E,O){return E==="classes"&&this._setOptionClasses(O),this.options[E]=O,E==="disabled"&&this._setOptionDisabled(O),this},_setOptionClasses:function(E){var O,T,b;for(O in E)b=this.classesElementLookup[O],E[O]!==this.options.classes[O]&&b&&b.length&&(T=v(b.get()),this._removeClass(b,O),T.addClass(this._classes({element:T,keys:O,classes:E,add:!0})))},_setOptionDisabled:function(E){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!E),E&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(E){var O=function(f,m){var y,w;for(w=0;w<f.length;w++)y=b.classesElementLookup[f[w]]||v(),y=E.add?v(v.unique(y.get().concat(E.element.get()))):v(y.not(E.element).get()),b.classesElementLookup[f[w]]=y,T.push(f[w]),m&&E.classes[f[w]]&&T.push(E.classes[f[w]])},T=[],b=this;return E=v.extend({element:this.element,classes:this.options.classes||{}},E),this._on(E.element,{remove:"_untrackClassesElement"}),E.keys&&O(E.keys.match(/\S+/g)||[],!0),E.extra&&O(E.extra.match(/\S+/g)||[]),T.join(" ")},_untrackClassesElement:function(E){var O=this;v.each(O.classesElementLookup,function(T,b){v.inArray(E.target,b)!==-1&&(O.classesElementLookup[T]=v(b.not(E.target).get()))})},_removeClass:function(E,O,T){return this._toggleClass(E,O,T,!1)},_addClass:function(E,O,T){return this._toggleClass(E,O,T,!0)},_toggleClass:function(E,O,T,b){b=typeof b=="boolean"?b:T;var u=typeof E=="string"||E===null,f={extra:u?O:T,keys:u?E:O,element:u?this.element:E,add:b};return f.element.toggleClass(this._classes(f),b),this},_on:function(E,O,T){var b,u=this;typeof E!="boolean"&&(T=O,O=E,E=!1),T?(O=b=v(O),this.bindings=this.bindings.add(O)):(T=O,O=this.element,b=this.widget()),v.each(T,function(f,m){var y=function(){if(E||u.options.disabled!==!0&&!v(this).hasClass("ui-state-disabled"))return(typeof m=="string"?u[m]:m).apply(u,arguments)};typeof m!="string"&&(y.guid=m.guid=m.guid||y.guid||v.guid++);var w=f.match(/^([\w:-]*)\s*(.*)$/),C=w[1]+u.eventNamespace,M=w[2];M?b.on(C,M,y):O.on(C,y)})},_off:function(E,O){O=(O||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,E.off(O).off(O),this.bindings=v(this.bindings.not(E).get()),this.focusable=v(this.focusable.not(E).get()),this.hoverable=v(this.hoverable.not(E).get())},_delay:function(E,O){var T=this;return setTimeout(function(){return(typeof E=="string"?T[E]:E).apply(T,arguments)},O||0)},_hoverable:function(E){this.hoverable=this.hoverable.add(E),this._on(E,{mouseenter:function(T){this._addClass(v(T.currentTarget),null,"ui-state-hover")},mouseleave:function(T){this._removeClass(v(T.currentTarget),null,"ui-state-hover")}})},_focusable:function(E){this.focusable=this.focusable.add(E),this._on(E,{focusin:function(T){this._addClass(v(T.currentTarget),null,"ui-state-focus")},focusout:function(T){this._removeClass(v(T.currentTarget),null,"ui-state-focus")}})},_trigger:function(E,O,T){var b,u,f=this.options[E];if(T=T||{},(O=v.Event(O)).type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase(),O.target=this.element[0],u=O.originalEvent)for(b in u)b in O||(O[b]=u[b]);return this.element.trigger(O,T),!(v.isFunction(f)&&f.apply(this.element[0],[O].concat(T))===!1||O.isDefaultPrevented())}},v.each({show:"fadeIn",hide:"fadeOut"},function(A,E){v.Widget.prototype["_"+A]=function(O,T,b){var u;typeof T=="string"&&(T={effect:T});var f=T?T===!0||typeof T=="number"?E:T.effect||E:A;typeof(T=T||{})=="number"&&(T={duration:T}),u=!v.isEmptyObject(T),T.complete=b,T.delay&&O.delay(T.delay),u&&v.effects&&v.effects.effect[f]?O[A](T):f!==A&&O[f]?O[f](T.duration,T.easing,b):O.queue(function(m){v(this)[A](),b&&b.call(O[0]),m()})}}),v.widget},(h=c.apply(a,d))===void 0||(s.exports=h)},3662:function(s,a,r){var c,d,h;d=[r(1669),r(8045),r(6883),r(9139)],(h=typeof(c=function(v){var k=!1;return v(document).on("mouseup",function(){k=!1}),v.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var S=this;this.element.on("mousedown."+this.widgetName,function(A){return S._mouseDown(A)}).on("click."+this.widgetName,function(A){if(v.data(A.target,S.widgetName+".preventClickEvent")===!0)return v.removeData(A.target,S.widgetName+".preventClickEvent"),A.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(S){if(!k){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(S),this._mouseDownEvent=S;var A=this,E=S.which===1,O=!(typeof this.options.cancel!="string"||!S.target.nodeName)&&v(S.target).closest(this.options.cancel).length;return!(E&&!O&&this._mouseCapture(S)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){A.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(S)&&this._mouseDelayMet(S)&&(this._mouseStarted=this._mouseStart(S)!==!1,!this._mouseStarted)?(S.preventDefault(),0):(v.data(S.target,this.widgetName+".preventClickEvent")===!0&&v.removeData(S.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(T){return A._mouseMove(T)},this._mouseUpDelegate=function(T){return A._mouseUp(T)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),S.preventDefault(),k=!0,0)))}},_mouseMove:function(S){if(this._mouseMoved){if(v.ui.ie&&(!document.documentMode||document.documentMode<9)&&!S.button)return this._mouseUp(S);if(!S.which){if(S.originalEvent.altKey||S.originalEvent.ctrlKey||S.originalEvent.metaKey||S.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(S)}}return(S.which||S.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(S),S.preventDefault()):(this._mouseDistanceMet(S)&&this._mouseDelayMet(S)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,S)!==!1,this._mouseStarted?this._mouseDrag(S):this._mouseUp(S)),!this._mouseStarted)},_mouseUp:function(S){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,S.target===this._mouseDownEvent.target&&v.data(S.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(S)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,k=!1,S.preventDefault()},_mouseDistanceMet:function(S){return Math.max(Math.abs(this._mouseDownEvent.pageX-S.pageX),Math.abs(this._mouseDownEvent.pageY-S.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?c.apply(a,d):c)===void 0||(s.exports=h)},4720:function(s,a,r){var c,d,h;d=[r(1669),r(3662),r(1897),r(6883),r(9139)],c=function(v){return v.widget("ui.slider",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var x,S,A=this.options,E=this.element.find(".ui-slider-handle"),O=[];for(S=A.values&&A.values.length||1,E.length>S&&(E.slice(S).remove(),E=E.slice(0,S)),x=E.length;x<S;x++)O.push("<span tabindex='0'></span>");this.handles=E.add(v(O.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(T){v(this).data("ui-slider-handle-index",T).attr("tabIndex",0)})},_createRange:function(){var x=this.options;x.range?(x.range===!0&&(x.values?x.values.length&&x.values.length!==2?x.values=[x.values[0],x.values[0]]:v.isArray(x.values)&&(x.values=x.values.slice(0)):x.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=v("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),x.range!=="min"&&x.range!=="max"||this._addClass(this.range,"ui-slider-range-"+x.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(x){var S,A,E,O,T,b,u,f=this,m=this.options;return!m.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),S={x:x.pageX,y:x.pageY},A=this._normValueFromMouse(S),E=this._valueMax()-this._valueMin()+1,this.handles.each(function(y){var w=Math.abs(A-f.values(y));(E>w||E===w&&(y===f._lastChangedValue||f.values(y)===m.min))&&(E=w,O=v(this),T=y)}),this._start(x,T)!==!1&&(this._mouseSliding=!0,this._handleIndex=T,this._addClass(O,null,"ui-state-active"),O.trigger("focus"),b=O.offset(),u=!v(x.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:x.pageX-b.left-O.width()/2,top:x.pageY-b.top-O.height()/2-(parseInt(O.css("borderTopWidth"),10)||0)-(parseInt(O.css("borderBottomWidth"),10)||0)+(parseInt(O.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(x,T,A),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(x){var S={x:x.pageX,y:x.pageY},A=this._normValueFromMouse(S);return this._slide(x,this._handleIndex,A),!1},_mouseStop:function(x){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(x,this._handleIndex),this._change(x,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(x){var S,A,E,O,T;return this.orientation==="horizontal"?(S=this.elementSize.width,A=x.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(S=this.elementSize.height,A=x.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(E=A/S)>1&&(E=1),E<0&&(E=0),this.orientation==="vertical"&&(E=1-E),O=this._valueMax()-this._valueMin(),T=this._valueMin()+E*O,this._trimAlignValue(T)},_uiHash:function(x,S,A){var E={handle:this.handles[x],handleIndex:x,value:S!==void 0?S:this.value()};return this._hasMultipleValues()&&(E.value=S!==void 0?S:this.values(x),E.values=A||this.values()),E},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(x,S){return this._trigger("start",x,this._uiHash(S))},_slide:function(x,S,A){var E,O=this.value(),T=this.values();this._hasMultipleValues()&&(E=this.values(S?0:1),O=this.values(S),this.options.values.length===2&&this.options.range===!0&&(A=S===0?Math.min(E,A):Math.max(E,A)),T[S]=A),A!==O&&this._trigger("slide",x,this._uiHash(S,A,T))!==!1&&(this._hasMultipleValues()?this.values(S,A):this.value(A))},_stop:function(x,S){this._trigger("stop",x,this._uiHash(S))},_change:function(x,S){this._keySliding||this._mouseSliding||(this._lastChangedValue=S,this._trigger("change",x,this._uiHash(S)))},value:function(x){return arguments.length?(this.options.value=this._trimAlignValue(x),this._refreshValue(),void this._change(null,0)):this._value()},values:function(x,S){var A,E,O;if(arguments.length>1)return this.options.values[x]=this._trimAlignValue(S),this._refreshValue(),void this._change(null,x);if(!arguments.length)return this._values();if(!v.isArray(arguments[0]))return this._hasMultipleValues()?this._values(x):this.value();for(A=this.options.values,E=arguments[0],O=0;O<A.length;O+=1)A[O]=this._trimAlignValue(E[O]),this._change(null,O);this._refreshValue()},_setOption:function(x,S){var A,E=0;switch(x==="range"&&this.options.range===!0&&(S==="min"?(this.options.value=this._values(0),this.options.values=null):S==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),v.isArray(this.options.values)&&(E=this.options.values.length),this._super(x,S),x){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(S),this.handles.css(S==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),A=E-1;A>=0;A--)this._change(null,A);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(x){this._super(x),this._toggleClass(null,"ui-state-disabled",!!x)},_value:function(){var x=this.options.value;return this._trimAlignValue(x)},_values:function(x){var S,A,E;if(arguments.length)return S=this.options.values[x],this._trimAlignValue(S);if(this._hasMultipleValues()){for(A=this.options.values.slice(),E=0;E<A.length;E+=1)A[E]=this._trimAlignValue(A[E]);return A}return[]},_trimAlignValue:function(x){if(x<=this._valueMin())return this._valueMin();if(x>=this._valueMax())return this._valueMax();var S=this.options.step>0?this.options.step:1,A=(x-this._valueMin())%S,E=x-A;return 2*Math.abs(A)>=S&&(E+=A>0?S:-S),parseFloat(E.toFixed(5))},_calculateNewMax:function(){var x=this.options.max,S=this._valueMin(),A=this.options.step;(x=Math.round((x-S)/A)*A+S)>this.options.max&&(x-=A),this.max=parseFloat(x.toFixed(this._precision()))},_precision:function(){var x=this._precisionOf(this.options.step);return this.options.min!==null&&(x=Math.max(x,this._precisionOf(this.options.min))),x},_precisionOf:function(x){var S=x.toString(),A=S.indexOf(".");return A===-1?0:S.length-A-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(x){x==="vertical"&&this.range.css({width:"",left:""}),x==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var x,S,A,E,O,T=this.options.range,b=this.options,u=this,f=!this._animateOff&&b.animate,m={};this._hasMultipleValues()?this.handles.each(function(y){S=(u.values(y)-u._valueMin())/(u._valueMax()-u._valueMin())*100,m[u.orientation==="horizontal"?"left":"bottom"]=S+"%",v(this).stop(1,1)[f?"animate":"css"](m,b.animate),u.options.range===!0&&(u.orientation==="horizontal"?(y===0&&u.range.stop(1,1)[f?"animate":"css"]({left:S+"%"},b.animate),y===1&&u.range[f?"animate":"css"]({width:S-x+"%"},{queue:!1,duration:b.animate})):(y===0&&u.range.stop(1,1)[f?"animate":"css"]({bottom:S+"%"},b.animate),y===1&&u.range[f?"animate":"css"]({height:S-x+"%"},{queue:!1,duration:b.animate}))),x=S}):(A=this.value(),E=this._valueMin(),O=this._valueMax(),S=O!==E?(A-E)/(O-E)*100:0,m[this.orientation==="horizontal"?"left":"bottom"]=S+"%",this.handle.stop(1,1)[f?"animate":"css"](m,b.animate),T==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:S+"%"},b.animate),T==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:100-S+"%"},b.animate),T==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:S+"%"},b.animate),T==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:100-S+"%"},b.animate))},_handleEvents:{keydown:function(x){var S,A,E,O=v(x.target).data("ui-slider-handle-index");switch(x.keyCode){case v.ui.keyCode.HOME:case v.ui.keyCode.END:case v.ui.keyCode.PAGE_UP:case v.ui.keyCode.PAGE_DOWN:case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(x.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(v(x.target),null,"ui-state-active"),this._start(x,O)===!1))return}switch(E=this.options.step,S=A=this._hasMultipleValues()?this.values(O):this.value(),x.keyCode){case v.ui.keyCode.HOME:A=this._valueMin();break;case v.ui.keyCode.END:A=this._valueMax();break;case v.ui.keyCode.PAGE_UP:A=this._trimAlignValue(S+(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.PAGE_DOWN:A=this._trimAlignValue(S-(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:if(S===this._valueMax())return;A=this._trimAlignValue(S+E);break;case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(S===this._valueMin())return;A=this._trimAlignValue(S-E)}this._slide(x,O,A)},keyup:function(x){var S=v(x.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(x,S),this._change(x,S),this._removeClass(v(x.target),null,"ui-state-active"))}}})},(h=c.apply(a,d))===void 0||(s.exports=h)},1669:function(s){"use strict";s.exports=jQuery},9306:function(s,a,r){"use strict";var c=r(4901),d=r(6823),h=TypeError;s.exports=function(p){if(c(p))return p;throw new h(d(p)+" is not a function")}},5548:function(s,a,r){"use strict";var c=r(3517),d=r(6823),h=TypeError;s.exports=function(p){if(c(p))return p;throw new h(d(p)+" is not a constructor")}},3506:function(s,a,r){"use strict";var c=r(3925),d=String,h=TypeError;s.exports=function(p){if(c(p))return p;throw new h("Can't set "+d(p)+" as a prototype")}},6469:function(s,a,r){"use strict";var c=r(8227),d=r(2360),h=r(4913).f,p=c("unscopables"),v=Array.prototype;v[p]===void 0&&h(v,p,{configurable:!0,value:d(null)}),s.exports=function(k){v[p][k]=!0}},7829:function(s,a,r){"use strict";var c=r(8183).charAt;s.exports=function(d,h,p){return h+(p?c(d,h).length:1)}},679:function(s,a,r){"use strict";var c=r(1625),d=TypeError;s.exports=function(h,p){if(c(p,h))return h;throw new d("Incorrect invocation")}},8551:function(s,a,r){"use strict";var c=r(34),d=String,h=TypeError;s.exports=function(p){if(c(p))return p;throw new h(d(p)+" is not an object")}},5652:function(s,a,r){"use strict";var c=r(9039);s.exports=c(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},4373:function(s,a,r){"use strict";var c=r(8981),d=r(5610),h=r(6198);s.exports=function(p){for(var v=c(this),k=h(v),x=arguments.length,S=d(x>1?arguments[1]:void 0,k),A=x>2?arguments[2]:void 0,E=A===void 0?k:d(A,k);E>S;)v[S++]=p;return v}},235:function(s,a,r){"use strict";var c=r(9213).forEach,d=r(4598)("forEach");s.exports=d?[].forEach:function(h){return c(this,h,arguments.length>1?arguments[1]:void 0)}},7916:function(s,a,r){"use strict";var c=r(6080),d=r(9565),h=r(8981),p=r(6319),v=r(4209),k=r(3517),x=r(6198),S=r(4659),A=r(81),E=r(851),O=Array;s.exports=function(T){var b=h(T),u=k(this),f=arguments.length,m=f>1?arguments[1]:void 0,y=m!==void 0;y&&(m=c(m,f>2?arguments[2]:void 0));var w,C,M,I,D,z,Q=E(b),W=0;if(!Q||this===O&&v(Q))for(w=x(b),C=u?new this(w):O(w);w>W;W++)z=y?m(b[W],W):b[W],S(C,W,z);else for(C=u?new this:[],D=(I=A(b,Q)).next;!(M=d(D,I)).done;W++)z=y?p(I,m,[M.value,W],!0):M.value,S(C,W,z);return C.length=W,C}},9617:function(s,a,r){"use strict";var c=r(5397),d=r(5610),h=r(6198),p=function(k){return function(x,S,A){var E=c(x),O=h(E);if(O===0)return!k&&-1;var T,b=d(A,O);if(k&&S!=S){for(;O>b;)if((T=E[b++])!=T)return!0}else for(;O>b;b++)if((k||b in E)&&E[b]===S)return k||b||0;return!k&&-1}};s.exports={includes:p(!0),indexOf:p(!1)}},9213:function(s,a,r){"use strict";var c=r(6080),d=r(9504),h=r(7055),p=r(8981),v=r(6198),k=r(1469),x=d([].push),S=function(E){var O=E===1,T=E===2,b=E===3,u=E===4,f=E===6,m=E===7,y=E===5||f;return function(w,C,M,I){for(var D,z,Q=p(w),W=h(Q),me=v(W),oe=c(C,M),q=0,ee=I||k,we=O?ee(w,me):T||m?ee(w,0):void 0;me>q;q++)if((y||q in W)&&(z=oe(D=W[q],q,Q),E))if(O)we[q]=z;else if(z)switch(E){case 3:return!0;case 5:return D;case 6:return q;case 2:x(we,D)}else switch(E){case 4:return!1;case 7:x(we,D)}return f?-1:b||u?u:we}};s.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},597:function(s,a,r){"use strict";var c=r(9039),d=r(8227),h=r(9519),p=d("species");s.exports=function(v){return h>=51||!c(function(){var k=[];return(k.constructor={})[p]=function(){return{foo:1}},k[v](Boolean).foo!==1})}},4598:function(s,a,r){"use strict";var c=r(9039);s.exports=function(d,h){var p=[][d];return!!p&&c(function(){p.call(null,h||function(){return 1},1)})}},926:function(s,a,r){"use strict";var c=r(9306),d=r(8981),h=r(7055),p=r(6198),v=TypeError,k="Reduce of empty array with no initial value",x=function(A){return function(E,O,T,b){var u=d(E),f=h(u),m=p(u);if(c(O),m===0&&T<2)throw new v(k);var y=A?m-1:0,w=A?-1:1;if(T<2)for(;;){if(y in f){b=f[y],y+=w;break}if(y+=w,A?y<0:m<=y)throw new v(k)}for(;A?y>=0:m>y;y+=w)y in f&&(b=O(b,f[y],y,u));return b}};s.exports={left:x(!1),right:x(!0)}},4527:function(s,a,r){"use strict";var c=r(3724),d=r(4376),h=TypeError,p=Object.getOwnPropertyDescriptor,v=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(k){return _instanceof(k,TypeError)}}();s.exports=v?function(k,x){if(d(k)&&!p(k,"length").writable)throw new h("Cannot set read only .length");return k.length=x}:function(k,x){return k.length=x}},7680:function(s,a,r){"use strict";var c=r(9504);s.exports=c([].slice)},4488:function(s,a,r){"use strict";var c=r(7680),d=Math.floor,h=function(p,v){var k=p.length;if(k<8)for(var x,S,A=1;A<k;){for(S=A,x=p[A];S&&v(p[S-1],x)>0;)p[S]=p[--S];S!==A++&&(p[S]=x)}else for(var E=d(k/2),O=h(c(p,0,E),v),T=h(c(p,E),v),b=O.length,u=T.length,f=0,m=0;f<b||m<u;)p[f+m]=f<b&&m<u?v(O[f],T[m])<=0?O[f++]:T[m++]:f<b?O[f++]:T[m++];return p};s.exports=h},7433:function(s,a,r){"use strict";var c=r(4376),d=r(3517),h=r(34),p=r(8227)("species"),v=Array;s.exports=function(k){var x;return c(k)&&(x=k.constructor,(d(x)&&(x===v||c(x.prototype))||h(x)&&(x=x[p])===null)&&(x=void 0)),x===void 0?v:x}},1469:function(s,a,r){"use strict";var c=r(7433);s.exports=function(d,h){return new(c(d))(h===0?0:h)}},6319:function(s,a,r){"use strict";var c=r(8551),d=r(9539);s.exports=function(h,p,v,k){try{return k?p(c(v)[0],v[1]):p(v)}catch(x){d(h,"throw",x)}}},4428:function(s,a,r){"use strict";var c=r(8227)("iterator"),d=!1;try{var h=0,p={next:function(){return{done:!!h++}},return:function(){d=!0}};p[c]=function(){return this},Array.from(p,function(){throw 2})}catch(v){}s.exports=function(v,k){try{if(!k&&!d)return!1}catch(A){return!1}var x=!1;try{var S={};S[c]=function(){return{next:function(){return{done:x=!0}}}},v(S)}catch(A){}return x}},2195:function(s,a,r){"use strict";var c=r(9504),d=c({}.toString),h=c("".slice);s.exports=function(p){return h(d(p),8,-1)}},6955:function(s,a,r){"use strict";var c=r(2140),d=r(4901),h=r(2195),p=r(8227)("toStringTag"),v=Object,k=h(function(){return arguments}())==="Arguments";s.exports=c?h:function(x){var S,A,E;return x===void 0?"Undefined":x===null?"Null":typeof(A=function(O,T){try{return O[T]}catch(b){}}(S=v(x),p))=="string"?A:k?h(S):(E=h(S))==="Object"&&d(S.callee)?"Arguments":E}},6938:function(s,a,r){"use strict";var c=r(2360),d=r(2106),h=r(6279),p=r(6080),v=r(679),k=r(4117),x=r(2652),S=r(1088),A=r(2529),E=r(7633),O=r(3724),T=r(3451).fastKey,b=r(1181),u=b.set,f=b.getterFor;s.exports={getConstructor:function(y,w,C,M){var I=y(function(me,oe){v(me,D),u(me,{type:w,index:c(null),first:null,last:null,size:0}),O||(me.size=0),k(oe)||x(oe,me[M],{that:me,AS_ENTRIES:C})}),D=I.prototype,z=f(w),Q=function(oe,q,ee){var we,ie,le=z(oe),ye=W(oe,q);return ye?ye.value=ee:(le.last=ye={index:ie=T(q,!0),key:q,value:ee,previous:we=le.last,next:null,removed:!1},le.first||(le.first=ye),we&&(we.next=ye),O?le.size++:oe.size++,ie!=="F"&&(le.index[ie]=ye)),oe},W=function(oe,q){var ee,we=z(oe),ie=T(q);if(ie!=="F")return we.index[ie];for(ee=we.first;ee;ee=ee.next)if(ee.key===q)return ee};return h(D,{clear:function(){for(var oe=z(this),q=oe.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=null),q=q.next;oe.first=oe.last=null,oe.index=c(null),O?oe.size=0:this.size=0},delete:function(oe){var q=this,ee=z(q),we=W(q,oe);if(we){var ie=we.next,le=we.previous;delete ee.index[we.index],we.removed=!0,le&&(le.next=ie),ie&&(ie.previous=le),ee.first===we&&(ee.first=ie),ee.last===we&&(ee.last=le),O?ee.size--:q.size--}return!!we},forEach:function(oe){for(var q,ee=z(this),we=p(oe,arguments.length>1?arguments[1]:void 0);q=q?q.next:ee.first;)for(we(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(oe){return!!W(this,oe)}}),h(D,C?{get:function(oe){var q=W(this,oe);return q&&q.value},set:function(oe,q){return Q(this,oe===0?0:oe,q)}}:{add:function(oe){return Q(this,oe=oe===0?0:oe,oe)}}),O&&d(D,"size",{configurable:!0,get:function(){return z(this).size}}),I},setStrong:function(y,w,C){var M=w+" Iterator",I=f(w),D=f(M);S(y,w,function(z,Q){u(this,{type:M,target:z,state:I(z),kind:Q,last:null})},function(){for(var z=D(this),Q=z.kind,W=z.last;W&&W.removed;)W=W.previous;return z.target&&(z.last=W=W?W.next:z.state.first)?A(Q==="keys"?W.key:Q==="values"?W.value:[W.key,W.value],!1):(z.target=null,A(void 0,!0))},C?"entries":"values",!C,!0),E(w)}}},4006:function(s,a,r){"use strict";var c=r(9504),d=r(6279),h=r(3451).getWeakData,p=r(679),v=r(8551),k=r(4117),x=r(34),S=r(2652),A=r(9213),E=r(9297),O=r(1181),T=O.set,b=O.getterFor,u=A.find,f=A.findIndex,m=c([].splice),y=0,w=function(D){return D.frozen||(D.frozen=new C)},C=function(){this.entries=[]},M=function(D,z){return u(D.entries,function(Q){return Q[0]===z})};C.prototype={get:function(D){var z=M(this,D);if(z)return z[1]},has:function(D){return!!M(this,D)},set:function(D,z){var Q=M(this,D);Q?Q[1]=z:this.entries.push([D,z])},delete:function(D){var z=f(this.entries,function(Q){return Q[0]===D});return~z&&m(this.entries,z,1),!!~z}},s.exports={getConstructor:function(D,z,Q,W){var me=D(function(we,ie){p(we,oe),T(we,{type:z,id:y++,frozen:null}),k(ie)||S(ie,we[W],{that:we,AS_ENTRIES:Q})}),oe=me.prototype,q=b(z),ee=function(ie,le,ye){var Ee=q(ie),fe=h(v(le),!0);return fe===!0?w(Ee).set(le,ye):fe[Ee.id]=ye,ie};return d(oe,{delete:function(ie){var le=q(this);if(!x(ie))return!1;var ye=h(ie);return ye===!0?w(le).delete(ie):ye&&E(ye,le.id)&&delete ye[le.id]},has:function(ie){var le=q(this);if(!x(ie))return!1;var ye=h(ie);return ye===!0?w(le).has(ie):ye&&E(ye,le.id)}}),d(oe,Q?{get:function(ie){var le=q(this);if(x(ie)){var ye=h(ie);if(ye===!0)return w(le).get(ie);if(ye)return ye[le.id]}},set:function(ie,le){return ee(this,ie,le)}}:{add:function(ie){return ee(this,ie,!0)}}),me}}},6468:function(s,a,r){"use strict";var c=r(6518),d=r(4576),h=r(9504),p=r(2796),v=r(6840),k=r(3451),x=r(2652),S=r(679),A=r(4901),E=r(4117),O=r(34),T=r(9039),b=r(4428),u=r(687),f=r(3167);s.exports=function(m,y,w){var C=m.indexOf("Map")!==-1,M=m.indexOf("Weak")!==-1,I=C?"set":"add",D=d[m],z=D&&D.prototype,Q=D,W={},me=function(ye){var Ee=h(z[ye]);v(z,ye,ye==="add"?function(fe){return Ee(this,fe===0?0:fe),this}:ye==="delete"?function(fe){return!(M&&!O(fe))&&Ee(this,fe===0?0:fe)}:ye==="get"?function(fe){return M&&!O(fe)?void 0:Ee(this,fe===0?0:fe)}:ye==="has"?function(fe){return!(M&&!O(fe))&&Ee(this,fe===0?0:fe)}:function(fe,rt){return Ee(this,fe===0?0:fe,rt),this})};if(p(m,!A(D)||!(M||z.forEach&&!T(function(){new D().entries().next()}))))Q=w.getConstructor(y,m,C,I),k.enable();else if(p(m,!0)){var oe=new Q,q=oe[I](M?{}:-0,1)!==oe,ee=T(function(){oe.has(1)}),we=b(function(le){new D(le)}),ie=!M&&T(function(){for(var le=new D,ye=5;ye--;)le[I](ye,ye);return!le.has(-0)});we||((Q=y(function(le,ye){S(le,z);var Ee=f(new D,le,Q);return E(ye)||x(ye,Ee[I],{that:Ee,AS_ENTRIES:C}),Ee})).prototype=z,z.constructor=Q),(ee||ie)&&(me("delete"),me("has"),C&&me("get")),(ie||q)&&me(I),M&&z.clear&&delete z.clear}return W[m]=Q,c({global:!0,constructor:!0,forced:Q!==D},W),u(Q,m),M||w.setStrong(Q,m,C),Q}},7740:function(s,a,r){"use strict";var c=r(9297),d=r(5031),h=r(7347),p=r(4913);s.exports=function(v,k,x){for(var S=d(k),A=p.f,E=h.f,O=0;O<S.length;O++){var T=S[O];c(v,T)||x&&c(x,T)||A(v,T,E(k,T))}}},1436:function(s,a,r){"use strict";var c=r(8227)("match");s.exports=function(d){var h=/./;try{"/./"[d](h)}catch(p){try{return h[c]=!1,"/./"[d](h)}catch(v){}}return!1}},2211:function(s,a,r){"use strict";var c=r(9039);s.exports=!c(function(){var d=function(){};return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},2529:function(s){"use strict";s.exports=function(a,r){return{value:a,done:r}}},6699:function(s,a,r){"use strict";var c=r(3724),d=r(4913),h=r(6980);s.exports=c?function(p,v,k){return d.f(p,v,h(1,k))}:function(p,v,k){return p[v]=k,p}},6980:function(s){"use strict";s.exports=function(a,r){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:r}}},4659:function(s,a,r){"use strict";var c=r(3724),d=r(4913),h=r(6980);s.exports=function(p,v,k){c?d.f(p,v,h(0,k)):p[v]=k}},3640:function(s,a,r){"use strict";var c=r(8551),d=r(4270),h=TypeError;s.exports=function(p){if(c(this),p==="string"||p==="default")p="string";else if(p!=="number")throw new h("Incorrect hint");return d(this,p)}},2106:function(s,a,r){"use strict";var c=r(283),d=r(4913);s.exports=function(h,p,v){return v.get&&c(v.get,p,{getter:!0}),v.set&&c(v.set,p,{setter:!0}),d.f(h,p,v)}},6840:function(s,a,r){"use strict";var c=r(4901),d=r(4913),h=r(283),p=r(9433);s.exports=function(v,k,x,S){S||(S={});var A=S.enumerable,E=S.name!==void 0?S.name:k;if(c(x)&&h(x,E,S),S.global)A?v[k]=x:p(k,x);else{try{S.unsafe?v[k]&&(A=!0):delete v[k]}catch(O){}A?v[k]=x:d.f(v,k,{value:x,enumerable:!1,configurable:!S.nonConfigurable,writable:!S.nonWritable})}return v}},6279:function(s,a,r){"use strict";var c=r(6840);s.exports=function(d,h,p){for(var v in h)c(d,v,h[v],p);return d}},9433:function(s,a,r){"use strict";var c=r(4576),d=Object.defineProperty;s.exports=function(h,p){try{d(c,h,{value:p,configurable:!0,writable:!0})}catch(v){c[h]=p}return p}},4606:function(s,a,r){"use strict";var c=r(6823),d=TypeError;s.exports=function(h,p){if(!delete h[p])throw new d("Cannot delete property "+c(p)+" of "+c(h))}},3724:function(s,a,r){"use strict";var c=r(9039);s.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(s,a,r){"use strict";var c=r(4576),d=r(34),h=c.document,p=d(h)&&d(h.createElement);s.exports=function(v){return p?h.createElement(v):{}}},6837:function(s){"use strict";var a=TypeError;s.exports=function(r){if(r>9007199254740991)throw a("Maximum allowed index exceeded");return r}},7400:function(s){"use strict";s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(s,a,r){"use strict";var c=r(4055)("span").classList,d=c&&c.constructor&&c.constructor.prototype;s.exports=d===Object.prototype?void 0:d},8727:function(s){"use strict";s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(s,a,r){"use strict";var c=r(2839).match(/firefox\/(\d+)/i);s.exports=!!c&&+c[1]},3763:function(s,a,r){"use strict";var c=r(2839);s.exports=/MSIE|Trident/.test(c)},4265:function(s,a,r){"use strict";var c=r(2839);s.exports=/ipad|iphone|ipod/i.test(c)&&(typeof Pebble=="undefined"?"undefined":_typeof(Pebble))<"u"},9544:function(s,a,r){"use strict";var c=r(2839);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},6193:function(s,a,r){"use strict";var c=r(4215);s.exports=c==="NODE"},7860:function(s,a,r){"use strict";var c=r(2839);s.exports=/web0s(?!.*chrome)/i.test(c)},2839:function(s,a,r){"use strict";var c=r(4576).navigator,d=c&&c.userAgent;s.exports=d?String(d):""},9519:function(s,a,r){"use strict";var c,d,h=r(4576),p=r(2839),v=h.process,k=h.Deno,x=v&&v.versions||k&&k.version,S=x&&x.v8;S&&(d=(c=S.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!d&&p&&(!(c=p.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=p.match(/Chrome\/(\d+)/))&&(d=+c[1]),s.exports=d},3607:function(s,a,r){"use strict";var c=r(2839).match(/AppleWebKit\/(\d+)\./);s.exports=!!c&&+c[1]},4215:function(s,a,r){"use strict";var c=r(4576),d=r(2839),h=r(2195),p=function(k){return d.slice(0,k.length)===k};s.exports=p("Bun/")?"BUN":p("Cloudflare-Workers")?"CLOUDFLARE":p("Deno/")?"DENO":p("Node.js/")?"NODE":c.Bun&&typeof Bun.version=="string"?"BUN":c.Deno&&typeof Deno.version=="object"?"DENO":h(c.process)==="process"?"NODE":c.window&&c.document?"BROWSER":"REST"},6518:function(s,a,r){"use strict";var c=r(4576),d=r(7347).f,h=r(6699),p=r(6840),v=r(9433),k=r(7740),x=r(2796);s.exports=function(S,A){var E,O,T,b,u,f=S.target,m=S.global,y=S.stat;if(E=m?c:y?c[f]||v(f,{}):c[f]&&c[f].prototype)for(O in A){if(b=A[O],T=S.dontCallGetSet?(u=d(E,O))&&u.value:E[O],!x(m?O:f+(y?".":"#")+O,S.forced)&&T!==void 0){if((typeof b=="undefined"?"undefined":_typeof(b))==(typeof T=="undefined"?"undefined":_typeof(T)))continue;k(b,T)}(S.sham||T&&T.sham)&&h(b,"sham",!0),p(E,O,b,S)}}},9039:function(s){"use strict";s.exports=function(a){try{return!!a()}catch(r){return!0}}},9228:function(s,a,r){"use strict";r(7495);var c=r(9565),d=r(6840),h=r(7323),p=r(9039),v=r(8227),k=r(6699),x=v("species"),S=RegExp.prototype;s.exports=function(A,E,O,T){var b=v(A),u=!p(function(){var w={};return w[b]=function(){return 7},""[A](w)!==7}),f=u&&!p(function(){var w=!1,C=/a/;return A==="split"&&((C={}).constructor={},C.constructor[x]=function(){return C},C.flags="",C[b]=/./[b]),C.exec=function(){return w=!0,null},C[b](""),!w});if(!u||!f||O){var m=/./[b],y=E(b,""[A],function(w,C,M,I,D){var z=C.exec;return z===h||z===S.exec?u&&!D?{done:!0,value:c(m,C,M,I)}:{done:!0,value:c(w,M,C,I)}:{done:!1}});d(String.prototype,A,y[0]),d(S,b,y[1])}T&&k(S[b],"sham",!0)}},259:function(s,a,r){"use strict";var c=r(4376),d=r(6198),h=r(6837),p=r(6080),v=function(k,x,S,A,E,O,T,b){for(var u,f,m=E,y=0,w=!!T&&p(T,b);y<A;)y in S&&(u=w?w(S[y],y,x):S[y],O>0&&c(u)?(f=d(u),m=v(k,x,u,f,m,O-1)-1):(h(m+1),k[m]=u),m++),y++;return m};s.exports=v},2744:function(s,a,r){"use strict";var c=r(9039);s.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},8745:function(s,a,r){"use strict";var c=r(616),d=Function.prototype,h=d.apply,p=d.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(c?p.bind(h):function(){return p.apply(h,arguments)})},6080:function(s,a,r){"use strict";var c=r(7476),d=r(9306),h=r(616),p=c(c.bind);s.exports=function(v,k){return d(v),k===void 0?v:h?p(v,k):function(){return v.apply(k,arguments)}}},616:function(s,a,r){"use strict";var c=r(9039);s.exports=!c(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},566:function(s,a,r){"use strict";var c=r(9504),d=r(9306),h=r(34),p=r(9297),v=r(7680),k=r(616),x=Function,S=c([].concat),A=c([].join),E={};s.exports=k?x.bind:function(O){var T=d(this),b=T.prototype,u=v(arguments,1),f=function(){var m=S(u,v(arguments));return _instanceof(this,f)?function(y,w,C){if(!p(E,w)){for(var M=[],I=0;I<w;I++)M[I]="a["+I+"]";E[w]=x("C,a","return new C("+A(M,",")+")")}return E[w](y,C)}(T,m.length,m):T.apply(O,m)};return h(b)&&(f.prototype=b),f}},9565:function(s,a,r){"use strict";var c=r(616),d=Function.prototype.call;s.exports=c?d.bind(d):function(){return d.apply(d,arguments)}},350:function(s,a,r){"use strict";var c=r(3724),d=r(9297),h=Function.prototype,p=c&&Object.getOwnPropertyDescriptor,v=d(h,"name"),k=v&&function(){}.name==="something",x=v&&(!c||c&&p(h,"name").configurable);s.exports={EXISTS:v,PROPER:k,CONFIGURABLE:x}},6706:function(s,a,r){"use strict";var c=r(9504),d=r(9306);s.exports=function(h,p,v){try{return c(d(Object.getOwnPropertyDescriptor(h,p)[v]))}catch(k){}}},7476:function(s,a,r){"use strict";var c=r(2195),d=r(9504);s.exports=function(h){if(c(h)==="Function")return d(h)}},9504:function(s,a,r){"use strict";var c=r(616),d=Function.prototype,h=d.call,p=c&&d.bind.bind(h,h);s.exports=c?p:function(v){return function(){return h.apply(v,arguments)}}},7751:function(s,a,r){"use strict";var c=r(4576),d=r(4901);s.exports=function(h,p){return arguments.length<2?(v=c[h],d(v)?v:void 0):c[h]&&c[h][p];var v}},851:function(s,a,r){"use strict";var c=r(6955),d=r(5966),h=r(4117),p=r(6269),v=r(8227)("iterator");s.exports=function(k){if(!h(k))return d(k,v)||d(k,"@@iterator")||p[c(k)]}},81:function(s,a,r){"use strict";var c=r(9565),d=r(9306),h=r(8551),p=r(6823),v=r(851),k=TypeError;s.exports=function(x,S){var A=arguments.length<2?v(x):S;if(d(A))return h(c(A,x));throw new k(p(x)+" is not iterable")}},6933:function(s,a,r){"use strict";var c=r(9504),d=r(4376),h=r(4901),p=r(2195),v=r(655),k=c([].push);s.exports=function(x){if(h(x))return x;if(d(x)){for(var S=x.length,A=[],E=0;E<S;E++){var O=x[E];typeof O=="string"?k(A,O):typeof O!="number"&&p(O)!=="Number"&&p(O)!=="String"||k(A,v(O))}var T=A.length,b=!0;return function(u,f){if(b)return b=!1,f;if(d(this))return f;for(var m=0;m<T;m++)if(A[m]===u)return f}}}},5966:function(s,a,r){"use strict";var c=r(9306),d=r(4117);s.exports=function(h,p){var v=h[p];return d(v)?void 0:c(v)}},2478:function(s,a,r){"use strict";var c=r(9504),d=r(8981),h=Math.floor,p=c("".charAt),v=c("".replace),k=c("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;s.exports=function(A,E,O,T,b,u){var f=O+A.length,m=T.length,y=S;return b!==void 0&&(b=d(b),y=x),v(u,y,function(w,C){var M;switch(p(C,0)){case"$":return"$";case"&":return A;case"`":return k(E,0,O);case"'":return k(E,f);case"<":M=b[k(C,1,-1)];break;default:var I=+C;if(I===0)return w;if(I>m){var D=h(I/10);return D===0?w:D<=m?T[D-1]===void 0?p(C,1):T[D-1]+p(C,1):w}M=T[I-1]}return M===void 0?"":M})}},4576:function(s,a,r){"use strict";var c=function(h){return h&&h.Math===Math&&h};s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof r.g=="object"&&r.g)||c(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(s,a,r){"use strict";var c=r(9504),d=r(8981),h=c({}.hasOwnProperty);s.exports=Object.hasOwn||function(p,v){return h(d(p),v)}},421:function(s){"use strict";s.exports={}},3138:function(s){"use strict";s.exports=function(a,r){try{arguments.length===1?console.error(a):console.error(a,r)}catch(c){}}},397:function(s,a,r){"use strict";var c=r(7751);s.exports=c("document","documentElement")},5917:function(s,a,r){"use strict";var c=r(3724),d=r(9039),h=r(4055);s.exports=!c&&!d(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(s,a,r){"use strict";var c=r(9504),d=r(9039),h=r(2195),p=Object,v=c("".split);s.exports=d(function(){return!p("z").propertyIsEnumerable(0)})?function(k){return h(k)==="String"?v(k,""):p(k)}:p},3167:function(s,a,r){"use strict";var c=r(4901),d=r(34),h=r(2967);s.exports=function(p,v,k){var x,S;return h&&c(x=v.constructor)&&x!==k&&d(S=x.prototype)&&S!==k.prototype&&h(p,S),p}},3706:function(s,a,r){"use strict";var c=r(9504),d=r(4901),h=r(7629),p=c(Function.toString);d(h.inspectSource)||(h.inspectSource=function(v){return p(v)}),s.exports=h.inspectSource},3451:function(s,a,r){"use strict";var c=r(6518),d=r(9504),h=r(421),p=r(34),v=r(9297),k=r(4913).f,x=r(8480),S=r(298),A=r(4124),E=r(3392),O=r(2744),T=!1,b=E("meta"),u=0,f=function(w){k(w,b,{value:{objectID:"O"+u++,weakData:{}}})},m=s.exports={enable:function(){m.enable=function(){},T=!0;var w=x.f,C=d([].splice),M={};M[b]=1,w(M).length&&(x.f=function(I){for(var D=w(I),z=0,Q=D.length;z<Q;z++)if(D[z]===b){C(D,z,1);break}return D},c({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(w,C){if(!p(w))return(typeof w=="undefined"?"undefined":_typeof(w))=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!v(w,b)){if(!A(w))return"F";if(!C)return"E";f(w)}return w[b].objectID},getWeakData:function(w,C){if(!v(w,b)){if(!A(w))return!0;if(!C)return!1;f(w)}return w[b].weakData},onFreeze:function(w){return O&&T&&A(w)&&!v(w,b)&&f(w),w}};h[b]=!0},1181:function(s,a,r){"use strict";var c,d,h,p=r(8622),v=r(4576),k=r(34),x=r(6699),S=r(9297),A=r(7629),E=r(6119),O=r(421),T="Object already initialized",b=v.TypeError,u=v.WeakMap;if(p||A.state){var f=A.state||(A.state=new u);f.get=f.get,f.has=f.has,f.set=f.set,c=function(w,C){if(f.has(w))throw new b(T);return C.facade=w,f.set(w,C),C},d=function(w){return f.get(w)||{}},h=function(w){return f.has(w)}}else{var m=E("state");O[m]=!0,c=function(w,C){if(S(w,m))throw new b(T);return C.facade=w,x(w,m,C),C},d=function(w){return S(w,m)?w[m]:{}},h=function(w){return S(w,m)}}s.exports={set:c,get:d,has:h,enforce:function(w){return h(w)?d(w):c(w,{})},getterFor:function(w){return function(C){var M;if(!k(C)||(M=d(C)).type!==w)throw new b("Incompatible receiver, "+w+" required");return M}}}},4209:function(s,a,r){"use strict";var c=r(8227),d=r(6269),h=c("iterator"),p=Array.prototype;s.exports=function(v){return v!==void 0&&(d.Array===v||p[h]===v)}},4376:function(s,a,r){"use strict";var c=r(2195);s.exports=Array.isArray||function(d){return c(d)==="Array"}},4901:function(s){"use strict";var a=typeof document=="object"&&document.all;s.exports=a===void 0&&a!==void 0?function(r){return typeof r=="function"||r===a}:function(r){return typeof r=="function"}},3517:function(s,a,r){"use strict";var c=r(9504),d=r(9039),h=r(4901),p=r(6955),v=r(7751),k=r(3706),x=function(){},S=v("Reflect","construct"),A=/^\s*(?:class|function)\b/,E=c(A.exec),O=!A.test(x),T=function(f){if(!h(f))return!1;try{return S(x,[],f),!0}catch(m){return!1}},b=function(f){if(!h(f))return!1;switch(p(f)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return O||!!E(A,k(f))}catch(m){return!0}};b.sham=!0,s.exports=!S||d(function(){var u;return T(T.call)||!T(Object)||!T(function(){u=!0})||u})?b:T},6575:function(s,a,r){"use strict";var c=r(9297);s.exports=function(d){return d!==void 0&&(c(d,"value")||c(d,"writable"))}},2796:function(s,a,r){"use strict";var c=r(9039),d=r(4901),h=/#|\.prototype\./,p=function(E,O){var T=k[v(E)];return T===S||T!==x&&(d(O)?c(O):!!O)},v=p.normalize=function(E){return String(E).replace(h,".").toLowerCase()},k=p.data={},x=p.NATIVE="N",S=p.POLYFILL="P";s.exports=p},4117:function(s){"use strict";s.exports=function(a){return a==null}},34:function(s,a,r){"use strict";var c=r(4901);s.exports=function(d){return typeof d=="object"?d!==null:c(d)}},3925:function(s,a,r){"use strict";var c=r(34);s.exports=function(d){return c(d)||d===null}},6395:function(s){"use strict";s.exports=!1},788:function(s,a,r){"use strict";var c=r(34),d=r(2195),h=r(8227)("match");s.exports=function(p){var v;return c(p)&&((v=p[h])!==void 0?!!v:d(p)==="RegExp")}},757:function(s,a,r){"use strict";var c=r(7751),d=r(4901),h=r(1625),p=r(7040),v=Object;s.exports=p?function(k){return(typeof k=="undefined"?"undefined":_typeof(k))=="symbol"}:function(k){var x=c("Symbol");return d(x)&&h(x.prototype,v(k))}},2652:function(s,a,r){"use strict";var c=r(6080),d=r(9565),h=r(8551),p=r(6823),v=r(4209),k=r(6198),x=r(1625),S=r(81),A=r(851),E=r(9539),O=TypeError,T=function(f,m){this.stopped=f,this.result=m},b=T.prototype;s.exports=function(u,f,m){var y,w,C,M,I,D,z,Q=m&&m.that,W=!(!m||!m.AS_ENTRIES),me=!(!m||!m.IS_RECORD),oe=!(!m||!m.IS_ITERATOR),q=!(!m||!m.INTERRUPTED),ee=c(f,Q),we=function(ye){return y&&E(y,"normal",ye),new T(!0,ye)},ie=function(ye){return W?(h(ye),q?ee(ye[0],ye[1],we):ee(ye[0],ye[1])):q?ee(ye,we):ee(ye)};if(me)y=u.iterator;else if(oe)y=u;else{if(!(w=A(u)))throw new O(p(u)+" is not iterable");if(v(w)){for(C=0,M=k(u);M>C;C++)if((I=ie(u[C]))&&x(b,I))return I;return new T(!1)}y=S(u,w)}for(D=me?u.next:y.next;!(z=d(D,y)).done;){try{I=ie(z.value)}catch(le){E(y,"throw",le)}if(typeof I=="object"&&I&&x(b,I))return I}return new T(!1)}},9539:function(s,a,r){"use strict";var c=r(9565),d=r(8551),h=r(5966);s.exports=function(p,v,k){var x,S;d(p);try{if(!(x=h(p,"return"))){if(v==="throw")throw k;return k}x=c(x,p)}catch(A){S=!0,x=A}if(v==="throw")throw k;if(S)throw x;return d(x),k}},3994:function(s,a,r){"use strict";var c=r(7657).IteratorPrototype,d=r(2360),h=r(6980),p=r(687),v=r(6269),k=function(){return this};s.exports=function(x,S,A,E){var O=S+" Iterator";return x.prototype=d(c,{next:h(+!E,A)}),p(x,O,!1,!0),v[O]=k,x}},1088:function(s,a,r){"use strict";var c=r(6518),d=r(9565),h=r(6395),p=r(350),v=r(4901),k=r(3994),x=r(2787),S=r(2967),A=r(687),E=r(6699),O=r(6840),T=r(8227),b=r(6269),u=r(7657),f=p.PROPER,m=p.CONFIGURABLE,y=u.IteratorPrototype,w=u.BUGGY_SAFARI_ITERATORS,C=T("iterator"),M="keys",I="values",D="entries",z=function(){return this};s.exports=function(Q,W,me,oe,q,ee,we){k(me,W,oe);var ie,le,ye,Ee=function(Xe){if(Xe===q&&_t)return _t;if(!w&&Xe&&Xe in ct)return ct[Xe];switch(Xe){case M:case I:case D:return function(){return new me(this,Xe)}}return function(){return new me(this)}},fe=W+" Iterator",rt=!1,ct=Q.prototype,Ot=ct[C]||ct["@@iterator"]||q&&ct[q],_t=!w&&Ot||Ee(q),De=W==="Array"&&ct.entries||Ot;if(De&&(ie=x(De.call(new Q)))!==Object.prototype&&ie.next&&(h||x(ie)===y||(S?S(ie,y):v(ie[C])||O(ie,C,z)),A(ie,fe,!0,!0),h&&(b[fe]=z)),f&&q===I&&Ot&&Ot.name!==I&&(!h&&m?E(ct,"name",I):(rt=!0,_t=function(){return d(Ot,this)})),q)if(le={values:Ee(I),keys:ee?_t:Ee(M),entries:Ee(D)},we)for(ye in le)(w||rt||!(ye in ct))&&O(ct,ye,le[ye]);else c({target:W,proto:!0,forced:w||rt},le);return h&&!we||ct[C]===_t||O(ct,C,_t,{name:q}),b[W]=_t,le}},7657:function(s,a,r){"use strict";var c,d,h,p=r(9039),v=r(4901),k=r(34),x=r(2360),S=r(2787),A=r(6840),E=r(8227),O=r(6395),T=E("iterator"),b=!1;[].keys&&("next"in(h=[].keys())?(d=S(S(h)))!==Object.prototype&&(c=d):b=!0),!k(c)||p(function(){var u={};return c[T].call(u)!==u})?c={}:O&&(c=x(c)),v(c[T])||A(c,T,function(){return this}),s.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:b}},6269:function(s){"use strict";s.exports={}},6198:function(s,a,r){"use strict";var c=r(8014);s.exports=function(d){return c(d.length)}},283:function(s,a,r){"use strict";var c=r(9504),d=r(9039),h=r(4901),p=r(9297),v=r(3724),k=r(350).CONFIGURABLE,x=r(3706),S=r(1181),A=S.enforce,E=S.get,O=String,T=Object.defineProperty,b=c("".slice),u=c("".replace),f=c([].join),m=v&&!d(function(){return T(function(){},"length",{value:8}).length!==8}),y=String(String).split("String"),w=s.exports=function(M,I,D){b(O(I),0,7)==="Symbol("&&(I="["+u(O(I),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),D&&D.getter&&(I="get "+I),D&&D.setter&&(I="set "+I),(!p(M,"name")||k&&M.name!==I)&&(v?T(M,"name",{value:I,configurable:!0}):M.name=I),m&&D&&p(D,"arity")&&M.length!==D.arity&&T(M,"length",{value:D.arity});try{D&&p(D,"constructor")&&D.constructor?v&&T(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch(Q){}var z=A(M);return p(z,"source")||(z.source=f(y,typeof I=="string"?I:"")),M};Function.prototype.toString=w(function(){return h(this)&&E(this).source||x(this)},"toString")},7782:function(s){"use strict";s.exports=Math.sign||function(a){var r=+a;return r===0||r!=r?r:r<0?-1:1}},741:function(s){"use strict";var a=Math.ceil,r=Math.floor;s.exports=Math.trunc||function(c){var d=+c;return(d>0?r:a)(d)}},1955:function(s,a,r){"use strict";var c,d,h,p,v,k=r(4576),x=r(3389),S=r(6080),A=r(9225).set,E=r(8265),O=r(9544),T=r(4265),b=r(7860),u=r(6193),f=k.MutationObserver||k.WebKitMutationObserver,m=k.document,y=k.process,w=k.Promise,C=x("queueMicrotask");if(!C){var M=new E,I=function(){var z,Q;for(u&&(z=y.domain)&&z.exit();Q=M.get();)try{Q()}catch(W){throw M.head&&c(),W}z&&z.enter()};O||u||b||!f||!m?!T&&w&&w.resolve?((p=w.resolve(void 0)).constructor=w,v=S(p.then,p),c=function(){v(I)}):u?c=function(){y.nextTick(I)}:(A=S(A,k),c=function(){A(I)}):(d=!0,h=m.createTextNode(""),new f(I).observe(h,{characterData:!0}),c=function(){h.data=d=!d}),C=function(z){M.head||c(),M.add(z)}}s.exports=C},6043:function(s,a,r){"use strict";var c=r(9306),d=TypeError,h=function(v){var k,x;this.promise=new v(function(S,A){if(k!==void 0||x!==void 0)throw new d("Bad Promise constructor");k=S,x=A}),this.resolve=c(k),this.reject=c(x)};s.exports.f=function(p){return new h(p)}},2892:function(s,a,r){"use strict";var c=r(788),d=TypeError;s.exports=function(h){if(c(h))throw new d("The method doesn't accept regular expressions");return h}},3904:function(s,a,r){"use strict";var c=r(4576),d=r(9039),h=r(9504),p=r(655),v=r(3802).trim,k=r(7452),x=h("".charAt),S=c.parseFloat,A=c.Symbol,E=A&&A.iterator,O=1/S(k+"-0")!=-1/0||E&&!d(function(){S(Object(E))});s.exports=O?function(T){var b=v(p(T)),u=S(b);return u===0&&x(b,0)==="-"?-0:u}:S},2703:function(s,a,r){"use strict";var c=r(4576),d=r(9039),h=r(9504),p=r(655),v=r(3802).trim,k=r(7452),x=c.parseInt,S=c.Symbol,A=S&&S.iterator,E=/^[+-]?0x/i,O=h(E.exec),T=x(k+"08")!==8||x(k+"0x16")!==22||A&&!d(function(){x(Object(A))});s.exports=T?function(b,u){var f=v(p(b));return x(f,u>>>0||(O(E,f)?16:10))}:x},4213:function(s,a,r){"use strict";var c=r(3724),d=r(9504),h=r(9565),p=r(9039),v=r(1072),k=r(3717),x=r(8773),S=r(8981),A=r(7055),E=Object.assign,O=Object.defineProperty,T=d([].concat);s.exports=!E||p(function(){if(c&&E({b:1},E(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},u={},f=Symbol("assign detection"),m="abcdefghijklmnopqrst";return b[f]=7,m.split("").forEach(function(y){u[y]=y}),E({},b)[f]!==7||v(E({},u)).join("")!==m})?function(b,u){for(var f=S(b),m=arguments.length,y=1,w=k.f,C=x.f;m>y;)for(var M,I=A(arguments[y++]),D=w?T(v(I),w(I)):v(I),z=D.length,Q=0;z>Q;)M=D[Q++],c&&!h(C,I,M)||(f[M]=I[M]);return f}:E},2360:function(s,a,r){"use strict";var c,d=r(8551),h=r(6801),p=r(8727),v=r(421),k=r(397),x=r(4055),S=r(6119),A="prototype",E="script",O=S("IE_PROTO"),T=function(){},b=function(y){return"<"+E+">"+y+"</"+E+">"},u=function(y){y.write(b("")),y.close();var w=y.parentWindow.Object;return y=null,w},f=function(){try{c=new ActiveXObject("htmlfile")}catch(M){}var m,y,w;f=(typeof document=="undefined"?"undefined":_typeof(document))<"u"?document.domain&&c?u(c):(y=x("iframe"),w="java"+E+":",y.style.display="none",k.appendChild(y),y.src=String(w),(m=y.contentWindow.document).open(),m.write(b("document.F=Object")),m.close(),m.F):u(c);for(var C=p.length;C--;)delete f[A][p[C]];return f()};v[O]=!0,s.exports=Object.create||function(m,y){var w;return m!==null?(T[A]=d(m),w=new T,T[A]=null,w[O]=m):w=f(),y===void 0?w:h.f(w,y)}},6801:function(s,a,r){"use strict";var c=r(3724),d=r(8686),h=r(4913),p=r(8551),v=r(5397),k=r(1072);a.f=c&&!d?Object.defineProperties:function(x,S){p(x);for(var A,E=v(S),O=k(S),T=O.length,b=0;T>b;)h.f(x,A=O[b++],E[A]);return x}},4913:function(s,a,r){"use strict";var c=r(3724),d=r(5917),h=r(8686),p=r(8551),v=r(6969),k=TypeError,x=Object.defineProperty,S=Object.getOwnPropertyDescriptor,A="enumerable",E="configurable",O="writable";a.f=c?h?function(T,b,u){if(p(T),b=v(b),p(u),typeof T=="function"&&b==="prototype"&&"value"in u&&O in u&&!u[O]){var f=S(T,b);f&&f[O]&&(T[b]=u.value,u={configurable:E in u?u[E]:f[E],enumerable:A in u?u[A]:f[A],writable:!1})}return x(T,b,u)}:x:function(T,b,u){if(p(T),b=v(b),p(u),d)try{return x(T,b,u)}catch(f){}if("get"in u||"set"in u)throw new k("Accessors not supported");return"value"in u&&(T[b]=u.value),T}},7347:function(s,a,r){"use strict";var c=r(3724),d=r(9565),h=r(8773),p=r(6980),v=r(5397),k=r(6969),x=r(9297),S=r(5917),A=Object.getOwnPropertyDescriptor;a.f=c?A:function(E,O){if(E=v(E),O=k(O),S)try{return A(E,O)}catch(T){}if(x(E,O))return p(!d(h.f,E,O),E[O])}},298:function(s,a,r){"use strict";var c=r(2195),d=r(5397),h=r(8480).f,p=r(7680),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(k){return v&&c(k)==="Window"?function(x){try{return h(x)}catch(S){return p(v)}}(k):h(d(k))}},8480:function(s,a,r){"use strict";var c=r(1828),d=r(8727).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(h){return c(h,d)}},3717:function(s,a){"use strict";a.f=Object.getOwnPropertySymbols},2787:function(s,a,r){"use strict";var c=r(9297),d=r(4901),h=r(8981),p=r(6119),v=r(2211),k=p("IE_PROTO"),x=Object,S=x.prototype;s.exports=v?x.getPrototypeOf:function(A){var E=h(A);if(c(E,k))return E[k];var O=E.constructor;return d(O)&&_instanceof(E,O)?O.prototype:_instanceof(E,x)?S:null}},4124:function(s,a,r){"use strict";var c=r(9039),d=r(34),h=r(2195),p=r(5652),v=Object.isExtensible,k=c(function(){v(1)});s.exports=k||p?function(x){return!!d(x)&&(!p||h(x)!=="ArrayBuffer")&&(!v||v(x))}:v},1625:function(s,a,r){"use strict";var c=r(9504);s.exports=c({}.isPrototypeOf)},1828:function(s,a,r){"use strict";var c=r(9504),d=r(9297),h=r(5397),p=r(9617).indexOf,v=r(421),k=c([].push);s.exports=function(x,S){var A,E=h(x),O=0,T=[];for(A in E)!d(v,A)&&d(E,A)&&k(T,A);for(;S.length>O;)d(E,A=S[O++])&&(~p(T,A)||k(T,A));return T}},1072:function(s,a,r){"use strict";var c=r(1828),d=r(8727);s.exports=Object.keys||function(h){return c(h,d)}},8773:function(s,a){"use strict";var r={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,d=c&&!r.call({1:2},1);a.f=d?function(h){var p=c(this,h);return!!p&&p.enumerable}:r},2967:function(s,a,r){"use strict";var c=r(6706),d=r(34),h=r(7750),p=r(3506);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,k=!1,x={};try{(v=c(Object.prototype,"__proto__","set"))(x,[]),k=_instanceof(x,Array)}catch(S){}return function(S,A){return h(S),p(A),d(S)&&(k?v(S,A):S.__proto__=A),S}}():void 0)},2357:function(s,a,r){"use strict";var c=r(3724),d=r(9039),h=r(9504),p=r(2787),v=r(1072),k=r(5397),x=h(r(8773).f),S=h([].push),A=c&&d(function(){var O=Object.create(null);return O[2]=2,!x(O,2)}),E=function(T){return function(b){for(var u,f=k(b),m=v(f),y=A&&p(f)===null,w=m.length,C=0,M=[];w>C;)u=m[C++],c&&!(y?u in f:x(f,u))||S(M,T?[u,f[u]]:f[u]);return M}};s.exports={entries:E(!0),values:E(!1)}},3179:function(s,a,r){"use strict";var c=r(2140),d=r(6955);s.exports=c?{}.toString:function(){return"[object "+d(this)+"]"}},4270:function(s,a,r){"use strict";var c=r(9565),d=r(4901),h=r(34),p=TypeError;s.exports=function(v,k){var x,S;if(k==="string"&&d(x=v.toString)&&!h(S=c(x,v))||d(x=v.valueOf)&&!h(S=c(x,v))||k!=="string"&&d(x=v.toString)&&!h(S=c(x,v)))return S;throw new p("Can't convert object to primitive value")}},5031:function(s,a,r){"use strict";var c=r(7751),d=r(9504),h=r(8480),p=r(3717),v=r(8551),k=d([].concat);s.exports=c("Reflect","ownKeys")||function(x){var S=h.f(v(x)),A=p.f;return A?k(S,A(x)):S}},9167:function(s,a,r){"use strict";var c=r(4576);s.exports=c},1103:function(s){"use strict";s.exports=function(a){try{return{error:!1,value:a()}}catch(r){return{error:!0,value:r}}}},916:function(s,a,r){"use strict";var c=r(4576),d=r(550),h=r(4901),p=r(2796),v=r(3706),k=r(8227),x=r(4215),S=r(6395),A=r(9519),E=d&&d.prototype,O=k("species"),T=!1,b=h(c.PromiseRejectionEvent),u=p("Promise",function(){var f=v(d),m=f!==String(d);if(!m&&A===66||S&&(!E.catch||!E.finally))return!0;if(!A||A<51||!/native code/.test(f)){var y=new d(function(C){C(1)}),w=function(M){M(function(){},function(){})};if((y.constructor={})[O]=w,!(T=_instanceof(y.then(function(){}),w)))return!0}return!(m||x!=="BROWSER"&&x!=="DENO"||b)});s.exports={CONSTRUCTOR:u,REJECTION_EVENT:b,SUBCLASSING:T}},550:function(s,a,r){"use strict";var c=r(4576);s.exports=c.Promise},3438:function(s,a,r){"use strict";var c=r(8551),d=r(34),h=r(6043);s.exports=function(p,v){if(c(p),d(v)&&v.constructor===p)return v;var k=h.f(p);return(0,k.resolve)(v),k.promise}},537:function(s,a,r){"use strict";var c=r(550),d=r(4428),h=r(916).CONSTRUCTOR;s.exports=h||!d(function(p){c.all(p).then(void 0,function(){})})},1056:function(s,a,r){"use strict";var c=r(4913).f;s.exports=function(d,h,p){p in d||c(d,p,{configurable:!0,get:function(){return h[p]},set:function(k){h[p]=k}})}},8265:function(s){"use strict";var a=function(){this.head=null,this.tail=null};a.prototype={add:function(c){var d={item:c,next:null},h=this.tail;h?h.next=d:this.head=d,this.tail=d},get:function(){var c=this.head;if(c)return(this.head=c.next)===null&&(this.tail=null),c.item}},s.exports=a},6682:function(s,a,r){"use strict";var c=r(9565),d=r(8551),h=r(4901),p=r(2195),v=r(7323),k=TypeError;s.exports=function(x,S){var A=x.exec;if(h(A)){var E=c(A,x,S);return E!==null&&d(E),E}if(p(x)==="RegExp")return c(v,x,S);throw new k("RegExp#exec called on incompatible receiver")}},7323:function(s,a,r){"use strict";var c,d,h=r(9565),p=r(9504),v=r(655),k=r(7979),x=r(8429),S=r(5745),A=r(2360),E=r(1181).get,O=r(3635),T=r(8814),b=S("native-string-replace",String.prototype.replace),u=RegExp.prototype.exec,f=u,m=p("".charAt),y=p("".indexOf),w=p("".replace),C=p("".slice),M=(d=/b*/g,h(u,c=/a/,"a"),h(u,d,"a"),c.lastIndex!==0||d.lastIndex!==0),I=x.BROKEN_CARET,D=/()??/.exec("")[1]!==void 0;(M||D||I||O||T)&&(f=function(z){var Q,W,me,oe,q,ee,we,ie=this,le=E(ie),ye=v(z),Ee=le.raw;if(Ee)return Ee.lastIndex=ie.lastIndex,Q=h(f,Ee,ye),ie.lastIndex=Ee.lastIndex,Q;var fe=le.groups,rt=I&&ie.sticky,ct=h(k,ie),Ot=ie.source,_t=0,De=ye;if(rt&&(ct=w(ct,"y",""),y(ct,"g")===-1&&(ct+="g"),De=C(ye,ie.lastIndex),ie.lastIndex>0&&(!ie.multiline||ie.multiline&&m(ye,ie.lastIndex-1)!=="\n")&&(Ot="(?: "+Ot+")",De=" "+De,_t++),W=new RegExp("^(?:"+Ot+")",ct)),D&&(W=new RegExp("^"+Ot+"$(?!\\s)",ct)),M&&(me=ie.lastIndex),oe=h(u,rt?W:ie,De),rt?oe?(oe.input=C(oe.input,_t),oe[0]=C(oe[0],_t),oe.index=ie.lastIndex,ie.lastIndex+=oe[0].length):ie.lastIndex=0:M&&oe&&(ie.lastIndex=ie.global?oe.index+oe[0].length:me),D&&oe&&oe.length>1&&h(b,oe[0],W,function(){for(q=1;q<arguments.length-2;q++)arguments[q]===void 0&&(oe[q]=void 0)}),oe&&fe)for(oe.groups=ee=A(null),q=0;q<fe.length;q++)ee[(we=fe[q])[0]]=oe[we[1]];return oe}),s.exports=f},7979:function(s,a,r){"use strict";var c=r(8551);s.exports=function(){var d=c(this),h="";return d.hasIndices&&(h+="d"),d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),d.dotAll&&(h+="s"),d.unicode&&(h+="u"),d.unicodeSets&&(h+="v"),d.sticky&&(h+="y"),h}},1034:function(s,a,r){"use strict";var c=r(9565),d=r(9297),h=r(1625),p=r(7979),v=RegExp.prototype;s.exports=function(k){var x=k.flags;return x!==void 0||"flags"in v||d(k,"flags")||!h(v,k)?x:c(p,k)}},8429:function(s,a,r){"use strict";var c=r(9039),d=r(4576).RegExp,h=c(function(){var k=d("a","y");return k.lastIndex=2,k.exec("abcd")!==null}),p=h||c(function(){return!d("a","y").sticky}),v=h||c(function(){var k=d("^r","gy");return k.lastIndex=2,k.exec("str")!==null});s.exports={BROKEN_CARET:v,MISSED_STICKY:p,UNSUPPORTED_Y:h}},3635:function(s,a,r){"use strict";var c=r(9039),d=r(4576).RegExp;s.exports=c(function(){var h=d(".","s");return!(h.dotAll&&h.test("\n")&&h.flags==="s")})},8814:function(s,a,r){"use strict";var c=r(9039),d=r(4576).RegExp;s.exports=c(function(){var h=d("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},7750:function(s,a,r){"use strict";var c=r(4117),d=TypeError;s.exports=function(h){if(c(h))throw new d("Can't call method on "+h);return h}},3389:function(s,a,r){"use strict";var c=r(4576),d=r(3724),h=Object.getOwnPropertyDescriptor;s.exports=function(p){if(!d)return c[p];var v=h(c,p);return v&&v.value}},3470:function(s){"use strict";s.exports=Object.is||function(a,r){return a===r?a!==0||1/a==1/r:a!=a&&r!=r}},7633:function(s,a,r){"use strict";var c=r(7751),d=r(2106),h=r(8227),p=r(3724),v=h("species");s.exports=function(k){var x=c(k);p&&x&&!x[v]&&d(x,v,{configurable:!0,get:function(){return this}})}},687:function(s,a,r){"use strict";var c=r(4913).f,d=r(9297),h=r(8227)("toStringTag");s.exports=function(p,v,k){p&&!k&&(p=p.prototype),p&&!d(p,h)&&c(p,h,{configurable:!0,value:v})}},6119:function(s,a,r){"use strict";var c=r(5745),d=r(3392),h=c("keys");s.exports=function(p){return h[p]||(h[p]=d(p))}},7629:function(s,a,r){"use strict";var c=r(6395),d=r(4576),h=r(9433),p="__core-js_shared__",v=s.exports=d[p]||h(p,{});(v.versions||(v.versions=[])).push({version:"3.38.1",mode:c?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(s,a,r){"use strict";var c=r(7629);s.exports=function(d,h){return c[d]||(c[d]=h||{})}},2293:function(s,a,r){"use strict";var c=r(8551),d=r(5548),h=r(4117),p=r(8227)("species");s.exports=function(v,k){var x,S=c(v).constructor;return S===void 0||h(x=c(S)[p])?k:d(x)}},8183:function(s,a,r){"use strict";var c=r(9504),d=r(1291),h=r(655),p=r(7750),v=c("".charAt),k=c("".charCodeAt),x=c("".slice),S=function(E){return function(O,T){var b,u,f=h(p(O)),m=d(T),y=f.length;return m<0||m>=y?E?"":void 0:(b=k(f,m))<55296||b>56319||m+1===y||(u=k(f,m+1))<56320||u>57343?E?v(f,m):b:E?x(f,m,m+2):u-56320+(b-55296<<10)+65536}};s.exports={codeAt:S(!1),charAt:S(!0)}},3802:function(s,a,r){"use strict";var c=r(9504),d=r(7750),h=r(655),p=r(7452),v=c("".replace),k=RegExp("^["+p+"]+"),x=RegExp("(^|[^"+p+"])["+p+"]+$"),S=function(E){return function(O){var T=h(d(O));return 1&E&&(T=v(T,k,"")),2&E&&(T=v(T,x,"$1")),T}};s.exports={start:S(1),end:S(2),trim:S(3)}},4495:function(s,a,r){"use strict";var c=r(9519),d=r(9039),h=r(4576).String;s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var p=Symbol("symbol detection");return!h(p)||!_instanceof(Object(p),Symbol)||!Symbol.sham&&c&&c<41})},8242:function(s,a,r){"use strict";var c=r(9565),d=r(7751),h=r(8227),p=r(6840);s.exports=function(){var v=d("Symbol"),k=v&&v.prototype,x=k&&k.valueOf,S=h("toPrimitive");k&&!k[S]&&p(k,S,function(A){return c(x,this)},{arity:1})}},1296:function(s,a,r){"use strict";var c=r(4495);s.exports=c&&!!Symbol.for&&!!Symbol.keyFor},9225:function(s,a,r){"use strict";var c,d,h,p,v=r(4576),k=r(8745),x=r(6080),S=r(4901),A=r(9297),E=r(9039),O=r(397),T=r(7680),b=r(4055),u=r(2812),f=r(9544),m=r(6193),y=v.setImmediate,w=v.clearImmediate,C=v.process,M=v.Dispatch,I=v.Function,D=v.MessageChannel,z=v.String,Q=0,W={},me="onreadystatechange";E(function(){c=v.location});var oe=function(le){if(A(W,le)){var ye=W[le];delete W[le],ye()}},q=function(le){return function(){oe(le)}},ee=function(le){oe(le.data)},we=function(le){v.postMessage(z(le),c.protocol+"//"+c.host)};y&&w||(y=function(le){u(arguments.length,1);var ye=S(le)?le:I(le),Ee=T(arguments,1);return W[++Q]=function(){k(ye,void 0,Ee)},d(Q),Q},w=function(le){delete W[le]},m?d=function(le){C.nextTick(q(le))}:M&&M.now?d=function(le){M.now(q(le))}:D&&!f?(p=(h=new D).port2,h.port1.onmessage=ee,d=x(p.postMessage,p)):v.addEventListener&&S(v.postMessage)&&!v.importScripts&&c&&c.protocol!=="file:"&&!E(we)?(d=we,v.addEventListener("message",ee,!1)):d=me in b("script")?function(le){O.appendChild(b("script"))[me]=function(){O.removeChild(this),oe(le)}}:function(ie){setTimeout(q(ie),0)}),s.exports={set:y,clear:w}},1240:function(s,a,r){"use strict";var c=r(9504);s.exports=c(1 .valueOf)},5610:function(s,a,r){"use strict";var c=r(1291),d=Math.max,h=Math.min;s.exports=function(p,v){var k=c(p);return k<0?d(k+v,0):h(k,v)}},5397:function(s,a,r){"use strict";var c=r(7055),d=r(7750);s.exports=function(h){return c(d(h))}},1291:function(s,a,r){"use strict";var c=r(741);s.exports=function(d){var h=+d;return h!=h||h===0?0:c(h)}},8014:function(s,a,r){"use strict";var c=r(1291),d=Math.min;s.exports=function(h){var p=c(h);return p>0?d(p,9007199254740991):0}},8981:function(s,a,r){"use strict";var c=r(7750),d=Object;s.exports=function(h){return d(c(h))}},2777:function(s,a,r){"use strict";var c=r(9565),d=r(34),h=r(757),p=r(5966),v=r(4270),k=r(8227),x=TypeError,S=k("toPrimitive");s.exports=function(A,E){if(!d(A)||h(A))return A;var O,T=p(A,S);if(T){if(E===void 0&&(E="default"),O=c(T,A,E),!d(O)||h(O))return O;throw new x("Can't convert object to primitive value")}return E===void 0&&(E="number"),v(A,E)}},6969:function(s,a,r){"use strict";var c=r(2777),d=r(757);s.exports=function(h){var p=c(h,"string");return d(p)?p:p+""}},2140:function(s,a,r){"use strict";var c={};c[r(8227)("toStringTag")]="z",s.exports=String(c)==="[object z]"},655:function(s,a,r){"use strict";var c=r(6955),d=String;s.exports=function(h){if(c(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(h)}},6823:function(s){"use strict";var a=String;s.exports=function(r){try{return a(r)}catch(c){return"Object"}}},3392:function(s,a,r){"use strict";var c=r(9504),d=0,h=Math.random(),p=c(1 .toString);s.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+p(++d+h,36)}},7416:function(s,a,r){"use strict";var c=r(9039),d=r(8227),h=r(3724),p=r(6395),v=d("iterator");s.exports=!c(function(){var k=new URL("b?a=1&b=2&c=3","https://a"),x=k.searchParams,S=new URLSearchParams("a=1&a=2&b=3"),A="";return k.pathname="c%20d",x.forEach(function(E,O){x.delete("b"),A+=O+E}),S.delete("a",2),S.delete("b",void 0),p&&(!k.toJSON||!S.has("a",1)||S.has("a",2)||!S.has("a",void 0)||S.has("b"))||!x.size&&(p||!h)||!x.sort||k.href!=="https://a/c%20d?a=1&c=3"||x.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!x[v]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||A!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7040:function(s,a,r){"use strict";var c=r(4495);s.exports=c&&!Symbol.sham&&_typeof(Symbol.iterator)=="symbol"},8686:function(s,a,r){"use strict";var c=r(3724),d=r(9039);s.exports=c&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2812:function(s){"use strict";var a=TypeError;s.exports=function(r,c){if(r<c)throw new a("Not enough arguments");return r}},8622:function(s,a,r){"use strict";var c=r(4576),d=r(4901),h=c.WeakMap;s.exports=d(h)&&/native code/.test(String(h))},511:function(s,a,r){"use strict";var c=r(9167),d=r(9297),h=r(1951),p=r(4913).f;s.exports=function(v){var k=c.Symbol||(c.Symbol={});d(k,v)||p(k,v,{value:h.f(v)})}},1951:function(s,a,r){"use strict";var c=r(8227);a.f=c},8227:function(s,a,r){"use strict";var c=r(4576),d=r(5745),h=r(9297),p=r(3392),v=r(4495),k=r(7040),x=c.Symbol,S=d("wks"),A=k?x.for||x:x&&x.withoutSetter||p;s.exports=function(E){return h(S,E)||(S[E]=v&&h(x,E)?x[E]:A("Symbol."+E)),S[E]}},7452:function(s){"use strict";s.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},8706:function(s,a,r){"use strict";var c=r(6518),d=r(9039),h=r(4376),p=r(34),v=r(8981),k=r(6198),x=r(6837),S=r(4659),A=r(1469),E=r(597),O=r(8227),T=r(9519),b=O("isConcatSpreadable"),u=T>=51||!d(function(){var m=[];return m[b]=!1,m.concat()[0]!==m}),f=function(y){if(!p(y))return!1;var w=y[b];return w!==void 0?!!w:h(y)};c({target:"Array",proto:!0,arity:1,forced:!u||!E("concat")},{concat:function(y){var w,C,M,I,D,z=v(this),Q=A(z,0),W=0;for(w=-1,M=arguments.length;w<M;w++)if(f(D=w===-1?z:arguments[w]))for(I=k(D),x(W+I),C=0;C<I;C++,W++)C in D&&S(Q,W,D[C]);else x(W+1),S(Q,W++,D);return Q.length=W,Q}})},3771:function(s,a,r){"use strict";var c=r(6518),d=r(4373),h=r(6469);c({target:"Array",proto:!0},{fill:d}),h("fill")},2008:function(s,a,r){"use strict";var c=r(6518),d=r(9213).filter;c({target:"Array",proto:!0,forced:!r(597)("filter")},{filter:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}})},8980:function(s,a,r){"use strict";var c=r(6518),d=r(9213).findIndex,h=r(6469),p="findIndex",v=!0;p in[]&&Array(1)[p](function(){v=!1}),c({target:"Array",proto:!0,forced:v},{findIndex:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),h(p)},113:function(s,a,r){"use strict";var c=r(6518),d=r(9213).find,h=r(6469),p="find",v=!0;p in[]&&Array(1)[p](function(){v=!1}),c({target:"Array",proto:!0,forced:v},{find:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),h(p)},8350:function(s,a,r){"use strict";var c=r(6518),d=r(259),h=r(9306),p=r(8981),v=r(6198),k=r(1469);c({target:"Array",proto:!0},{flatMap:function(S){var A,E=p(this),O=v(E);return h(S),(A=k(E,0)).length=d(A,E,E,O,0,1,S,arguments.length>1?arguments[1]:void 0),A}})},6449:function(s,a,r){"use strict";var c=r(6518),d=r(259),h=r(8981),p=r(6198),v=r(1291),k=r(1469);c({target:"Array",proto:!0},{flat:function(){var S=arguments.length?arguments[0]:void 0,A=h(this),E=p(A),O=k(A,0);return O.length=d(O,A,A,E,0,S===void 0?1:v(S)),O}})},3418:function(s,a,r){"use strict";var c=r(6518),d=r(7916);c({target:"Array",stat:!0,forced:!r(4428)(function(h){Array.from(h)})},{from:d})},4423:function(s,a,r){"use strict";var c=r(6518),d=r(9617).includes,h=r(9039),p=r(6469);c({target:"Array",proto:!0,forced:h(function(){return!Array(1).includes()})},{includes:function(k){return d(this,k,arguments.length>1?arguments[1]:void 0)}}),p("includes")},3792:function(s,a,r){"use strict";var c=r(5397),d=r(6469),h=r(6269),p=r(1181),v=r(4913).f,k=r(1088),x=r(2529),S=r(6395),A=r(3724),E="Array Iterator",O=p.set,T=p.getterFor(E);s.exports=k(Array,"Array",function(u,f){O(this,{type:E,target:c(u),index:0,kind:f})},function(){var u=T(this),f=u.target,m=u.index++;if(!f||m>=f.length)return u.target=null,x(void 0,!0);switch(u.kind){case"keys":return x(m,!1);case"values":return x(f[m],!1)}return x([m,f[m]],!1)},"values");var b=h.Arguments=h.Array;if(d("keys"),d("values"),d("entries"),!S&&A&&b.name!=="values")try{v(b,"name",{value:"values"})}catch(u){}},8598:function(s,a,r){"use strict";var c=r(6518),d=r(9504),h=r(7055),p=r(5397),v=r(4598),k=d([].join);c({target:"Array",proto:!0,forced:h!==Object||!v("join",",")},{join:function(S){return k(p(this),S===void 0?",":S)}})},2062:function(s,a,r){"use strict";var c=r(6518),d=r(9213).map;c({target:"Array",proto:!0,forced:!r(597)("map")},{map:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}})},2712:function(s,a,r){"use strict";var c=r(6518),d=r(926).left,h=r(4598),p=r(9519);c({target:"Array",proto:!0,forced:!r(6193)&&p>79&&p<83||!h("reduce")},{reduce:function(k){var x=arguments.length;return d(this,k,x,x>1?arguments[1]:void 0)}})},4490:function(s,a,r){"use strict";var c=r(6518),d=r(9504),h=r(4376),p=d([].reverse),v=[1,2];c({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return h(this)&&(this.length=this.length),p(this)}})},4782:function(s,a,r){"use strict";var c=r(6518),d=r(4376),h=r(3517),p=r(34),v=r(5610),k=r(6198),x=r(5397),S=r(4659),A=r(8227),E=r(597),O=r(7680),T=E("slice"),b=A("species"),u=Array,f=Math.max;c({target:"Array",proto:!0,forced:!T},{slice:function(y,w){var C,M,I,D=x(this),z=k(D),Q=v(y,z),W=v(w===void 0?z:w,z);if(d(D)&&(C=D.constructor,(h(C)&&(C===u||d(C.prototype))||p(C)&&(C=C[b])===null)&&(C=void 0),C===u||C===void 0))return O(D,Q,W);for(M=new(C===void 0?u:C)(f(W-Q,0)),I=0;Q<W;Q++,I++)Q in D&&S(M,I,D[Q]);return M.length=I,M}})},6910:function(s,a,r){"use strict";var c=r(6518),d=r(9504),h=r(9306),p=r(8981),v=r(6198),k=r(4606),x=r(655),S=r(9039),A=r(4488),E=r(4598),O=r(3709),T=r(3763),b=r(9519),u=r(3607),f=[],m=d(f.sort),y=d(f.push),w=S(function(){f.sort(void 0)}),C=S(function(){f.sort(null)}),M=E("sort"),I=!S(function(){if(b)return b<70;if(!(O&&O>3)){if(T)return!0;if(u)return u<603;var D,z,Q,W,me="";for(D=65;D<76;D++){switch(z=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:Q=3;break;case 68:case 71:Q=4;break;default:Q=2}for(W=0;W<47;W++)f.push({k:z+W,v:Q})}for(f.sort(function(oe,q){return q.v-oe.v}),W=0;W<f.length;W++)z=f[W].k.charAt(0),me.charAt(me.length-1)!==z&&(me+=z);return me!=="DGBEFHACIJK"}});c({target:"Array",proto:!0,forced:w||!C||!M||!I},{sort:function(z){z!==void 0&&h(z);var Q=p(this);if(I)return z===void 0?m(Q):m(Q,z);var W,me,oe=[],q=v(Q);for(me=0;me<q;me++)me in Q&&y(oe,Q[me]);for(A(oe,function(ee){return function(we,ie){return ie===void 0?-1:we===void 0?1:ee!==void 0?+ee(we,ie)||0:x(we)>x(ie)?1:-1}}(z)),W=v(oe),me=0;me<W;)Q[me]=oe[me++];for(;me<q;)k(Q,me++);return Q}})},4554:function(s,a,r){"use strict";var c=r(6518),d=r(8981),h=r(5610),p=r(1291),v=r(6198),k=r(4527),x=r(6837),S=r(1469),A=r(4659),E=r(4606),O=r(597)("splice"),T=Math.max,b=Math.min;c({target:"Array",proto:!0,forced:!O},{splice:function(f,m){var y,w,C,M,I,D,z=d(this),Q=v(z),W=h(f,Q),me=arguments.length;for(me===0?y=w=0:me===1?(y=0,w=Q-W):(y=me-2,w=b(T(p(m),0),Q-W)),x(Q+y-w),C=S(z,w),M=0;M<w;M++)(I=W+M)in z&&A(C,M,z[I]);if(C.length=w,y<w){for(M=W;M<Q-w;M++)D=M+y,(I=M+w)in z?z[D]=z[I]:E(z,D);for(M=Q;M>Q-w+y;M--)E(z,M-1)}else if(y>w)for(M=Q-w;M>W;M--)D=M+y-1,(I=M+w-1)in z?z[D]=z[I]:E(z,D);for(M=0;M<y;M++)z[M+W]=arguments[M+2];return k(z,Q-w+y),C}})},237:function(s,a,r){"use strict";r(6469)("flatMap")},3514:function(s,a,r){"use strict";r(6469)("flat")},739:function(s,a,r){"use strict";var c=r(6518),d=r(9039),h=r(8981),p=r(2777);c({target:"Date",proto:!0,arity:1,forced:d(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(k){var x=h(this),S=p(x,"number");return typeof S!="number"||isFinite(S)?x.toISOString():null}})},9572:function(s,a,r){"use strict";var c=r(9297),d=r(6840),h=r(3640),p=r(8227)("toPrimitive"),v=Date.prototype;c(v,p)||d(v,p,h)},2010:function(s,a,r){"use strict";var c=r(3724),d=r(350).EXISTS,h=r(9504),p=r(2106),v=Function.prototype,k=h(v.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=h(x.exec);c&&!d&&p(v,"name",{configurable:!0,get:function(){try{return S(x,k(this))[1]}catch(E){return""}}})},5081:function(s,a,r){"use strict";var c=r(6518),d=r(4576);c({global:!0,forced:d.globalThis!==d},{globalThis:d})},3110:function(s,a,r){"use strict";var c=r(6518),d=r(7751),h=r(8745),p=r(9565),v=r(9504),k=r(9039),x=r(4901),S=r(757),A=r(7680),E=r(6933),O=r(4495),T=String,b=d("JSON","stringify"),u=v(/./.exec),f=v("".charAt),m=v("".charCodeAt),y=v("".replace),w=v(1 .toString),C=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,D=!O||k(function(){var me=d("Symbol")("stringify detection");return b([me])!=="[null]"||b({a:me})!=="{}"||b(Object(me))!=="{}"}),z=k(function(){return b("\uDF06\uD834")!=='"\uDF06\uD834"'||b("\uDEAD")!=='"\uDEAD"'}),Q=function(oe,q){var ee=A(arguments),we=E(q);if(x(we)||oe!==void 0&&!S(oe))return ee[1]=function(ie,le){if(x(we)&&(le=p(we,this,T(ie),le)),!S(le))return le},h(b,null,ee)},W=function(oe,q,ee){var we=f(ee,q-1),ie=f(ee,q+1);return u(M,oe)&&!u(I,ie)||u(I,oe)&&!u(M,we)?"\\u"+w(m(oe,0),16):oe};b&&c({target:"JSON",stat:!0,arity:3,forced:D||z},{stringify:function(oe,q,ee){var we=A(arguments),ie=h(D?Q:b,null,we);return z&&typeof ie=="string"?y(ie,C,W):ie}})},4731:function(s,a,r){"use strict";var c=r(4576);r(687)(c.JSON,"JSON",!0)},8523:function(s,a,r){"use strict";r(6468)("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},r(6938))},6033:function(s,a,r){"use strict";r(8523)},1367:function(s,a,r){"use strict";var c=r(6518),d=Math.log,h=Math.LN2;c({target:"Math",stat:!0},{log2:function(v){return d(v)/h}})},5914:function(s,a,r){"use strict";r(6518)({target:"Math",stat:!0},{sign:r(7782)})},479:function(s,a,r){"use strict";r(687)(Math,"Math",!0)},8130:function(s,a,r){"use strict";var c=r(6518),d=r(6395),h=r(3724),p=r(4576),v=r(9167),k=r(9504),x=r(2796),S=r(9297),A=r(3167),E=r(1625),O=r(757),T=r(2777),b=r(9039),u=r(8480).f,f=r(7347).f,m=r(4913).f,y=r(1240),w=r(3802).trim,C="Number",M=p[C],I=v[C],D=M.prototype,z=p.TypeError,Q=k("".slice),W=k("".charCodeAt),me=x(C,!M(" 0o1")||!M("0b1")||M("+0x1")),oe=function(ee){var we,ie=arguments.length<1?0:M(function(le){var ye=T(le,"number");return(typeof ye=="undefined"?"undefined":_typeof(ye))=="bigint"?ye:function(Ee){var fe,rt,ct,Ot,_t,De,be,Xe,Ne=T(Ee,"number");if(O(Ne))throw new z("Cannot convert a Symbol value to a number");if(typeof Ne=="string"&&Ne.length>2){if(Ne=w(Ne),(fe=W(Ne,0))===43||fe===45){if((rt=W(Ne,2))===88||rt===120)return NaN}else if(fe===48){switch(W(Ne,1)){case 66:case 98:ct=2,Ot=49;break;case 79:case 111:ct=8,Ot=55;break;default:return+Ne}for(De=(_t=Q(Ne,2)).length,be=0;be<De;be++)if((Xe=W(_t,be))<48||Xe>Ot)return NaN;return parseInt(_t,ct)}}return+Ne}(ye)}(ee));return E(D,we=this)&&b(function(){y(we)})?A(Object(ie),this,oe):ie};oe.prototype=D,me&&!d&&(D.constructor=oe),c({global:!0,constructor:!0,wrap:!0,forced:me},{Number:oe});var q=function(we,ie){for(var le,ye=h?u(ie):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ee=0;ye.length>Ee;Ee++)S(ie,le=ye[Ee])&&!S(we,le)&&m(we,le,f(ie,le))};d&&I&&q(v[C],I),(me||d)&&q(v[C],M)},9085:function(s,a,r){"use strict";var c=r(6518),d=r(4213);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})},2811:function(s,a,r){"use strict";var c=r(6518),d=r(2744),h=r(9039),p=r(34),v=r(3451).onFreeze,k=Object.freeze;c({target:"Object",stat:!0,forced:h(function(){k(1)}),sham:!d},{freeze:function(S){return k&&p(S)?k(v(S)):S}})},3851:function(s,a,r){"use strict";var c=r(6518),d=r(9039),h=r(5397),p=r(7347).f,v=r(3724);c({target:"Object",stat:!0,forced:!v||d(function(){p(1)}),sham:!v},{getOwnPropertyDescriptor:function(x,S){return p(h(x),S)}})},1278:function(s,a,r){"use strict";var c=r(6518),d=r(3724),h=r(5031),p=r(5397),v=r(7347),k=r(4659);c({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(S){for(var A,E,O=p(S),T=v.f,b=h(O),u={},f=0;b.length>f;)(E=T(O,A=b[f++]))!==void 0&&k(u,A,E);return u}})},1480:function(s,a,r){"use strict";var c=r(6518),d=r(9039),h=r(298).f;c({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},9773:function(s,a,r){"use strict";var c=r(6518),d=r(4495),h=r(9039),p=r(3717),v=r(8981);c({target:"Object",stat:!0,forced:!d||h(function(){p.f(1)})},{getOwnPropertySymbols:function(x){var S=p.f;return S?S(v(x)):[]}})},875:function(s,a,r){"use strict";var c=r(6518),d=r(9039),h=r(8981),p=r(2787),v=r(2211);c({target:"Object",stat:!0,forced:d(function(){p(1)}),sham:!v},{getPrototypeOf:function(x){return p(h(x))}})},9432:function(s,a,r){"use strict";var c=r(6518),d=r(8981),h=r(1072);c({target:"Object",stat:!0,forced:r(9039)(function(){h(1)})},{keys:function(v){return h(d(v))}})},6099:function(s,a,r){"use strict";var c=r(2140),d=r(6840),h=r(3179);c||d(Object.prototype,"toString",h,{unsafe:!0})},6034:function(s,a,r){"use strict";var c=r(6518),d=r(2357).values;c({target:"Object",stat:!0},{values:function(p){return d(p)}})},8459:function(s,a,r){"use strict";var c=r(6518),d=r(3904);c({global:!0,forced:parseFloat!==d},{parseFloat:d})},8940:function(s,a,r){"use strict";var c=r(6518),d=r(2703);c({global:!0,forced:parseInt!==d},{parseInt:d})},6499:function(s,a,r){"use strict";var c=r(6518),d=r(9565),h=r(9306),p=r(6043),v=r(1103),k=r(2652);c({target:"Promise",stat:!0,forced:r(537)},{all:function(S){var A=this,E=p.f(A),O=E.resolve,T=E.reject,b=v(function(){var u=h(A.resolve),f=[],m=0,y=1;k(S,function(w){var C=m++,M=!1;y++,d(u,A,w).then(function(I){M||(M=!0,f[C]=I,--y||O(f))},T)}),--y||O(f)});return b.error&&T(b.value),E.promise}})},2003:function(s,a,r){"use strict";var c=r(6518),d=r(6395),h=r(916).CONSTRUCTOR,p=r(550),v=r(7751),k=r(4901),x=r(6840),S=p&&p.prototype;if(c({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(O){return this.then(void 0,O)}}),!d&&k(p)){var A=v("Promise").prototype.catch;S.catch!==A&&x(S,"catch",A,{unsafe:!0})}},436:function(s,a,r){"use strict";var c,d,h,p=r(6518),v=r(6395),k=r(6193),x=r(4576),S=r(9565),A=r(6840),E=r(2967),O=r(687),T=r(7633),b=r(9306),u=r(4901),f=r(34),m=r(679),y=r(2293),w=r(9225).set,C=r(1955),M=r(3138),I=r(1103),D=r(8265),z=r(1181),Q=r(550),W=r(916),me=r(6043),oe="Promise",q=W.CONSTRUCTOR,ee=W.REJECTION_EVENT,we=W.SUBCLASSING,ie=z.getterFor(oe),le=z.set,ye=Q&&Q.prototype,Ee=Q,fe=ye,rt=x.TypeError,ct=x.document,Ot=x.process,_t=me.f,De=_t,be=!!(ct&&ct.createEvent&&x.dispatchEvent),Xe="unhandledrejection",Ne=function($e){var ze;return!(!f($e)||!u(ze=$e.then))&&ze},Qe=function($e,ze){var xt,bt,lt,Ze=ze.value,dt=ze.state===1,$t=dt?$e.ok:$e.fail,qt=$e.resolve,Bt=$e.reject,ut=$e.domain;try{$t?(dt||(ze.rejection===2&&Mt(ze),ze.rejection=1),$t===!0?xt=Ze:(ut&&ut.enter(),xt=$t(Ze),ut&&(ut.exit(),lt=!0)),xt===$e.promise?Bt(new rt("Promise-chain cycle")):(bt=Ne(xt))?S(bt,xt,qt,Bt):qt(xt)):Bt(Ze)}catch(Y){ut&&!lt&&ut.exit(),Bt(Y)}},Me=function($e,ze){$e.notified||($e.notified=!0,C(function(){for(var xt,bt=$e.reactions;xt=bt.get();)Qe(xt,$e);$e.notified=!1,ze&&!$e.rejection&&st($e)}))},Ve=function($e,ze,xt){var bt,lt;be?((bt=ct.createEvent("Event")).promise=ze,bt.reason=xt,bt.initEvent($e,!1,!0),x.dispatchEvent(bt)):bt={promise:ze,reason:xt},!ee&&(lt=x["on"+$e])?lt(bt):$e===Xe&&M("Unhandled promise rejection",xt)},st=function($e){S(w,x,function(){var ze,xt=$e.facade,bt=$e.value;if(gt($e)&&(ze=I(function(){k?Ot.emit("unhandledRejection",bt,xt):Ve(Xe,xt,bt)}),$e.rejection=k||gt($e)?2:1,ze.error))throw ze.value})},gt=function($e){return $e.rejection!==1&&!$e.parent},Mt=function($e){S(w,x,function(){var ze=$e.facade;k?Ot.emit("rejectionHandled",ze):Ve("rejectionhandled",ze,$e.value)})},Ue=function($e,ze,xt){return function(bt){$e(ze,bt,xt)}},Be=function($e,ze,xt){$e.done||($e.done=!0,xt&&($e=xt),$e.value=ze,$e.state=2,Me($e,!0))},et=function(Ge,$e,ze){if(!Ge.done){Ge.done=!0,ze&&(Ge=ze);try{if(Ge.facade===$e)throw new rt("Promise can't be resolved itself");var xt=Ne($e);xt?C(function(){var bt={done:!1};try{S(xt,$e,Ue(et,bt,Ge),Ue(Be,bt,Ge))}catch(lt){Be(bt,lt,Ge)}}):(Ge.value=$e,Ge.state=1,Me(Ge,!1))}catch(bt){Be({done:!1},bt,Ge)}}};if(q&&(fe=(Ee=function($e){m(this,fe),b($e),S(c,this);var ze=ie(this);try{$e(Ue(et,ze),Ue(Be,ze))}catch(xt){Be(ze,xt)}}).prototype,(c=function($e){le(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:null})}).prototype=A(fe,"then",function(Ge,$e){var ze=ie(this),xt=_t(y(this,Ee));return ze.parent=!0,xt.ok=!u(Ge)||Ge,xt.fail=u($e)&&$e,xt.domain=k?Ot.domain:void 0,ze.state===0?ze.reactions.add(xt):C(function(){Qe(xt,ze)}),xt.promise}),d=function(){var $e=new c,ze=ie($e);this.promise=$e,this.resolve=Ue(et,ze),this.reject=Ue(Be,ze)},me.f=_t=function($e){return $e===Ee||$e===void 0?new d($e):De($e)},!v&&u(Q)&&ye!==Object.prototype)){h=ye.then,we||A(ye,"then",function(Ge,$e){var ze=this;return new Ee(function(xt,bt){S(h,ze,xt,bt)}).then(Ge,$e)},{unsafe:!0});try{delete ye.constructor}catch(Ge){}E&&E(ye,fe)}p({global:!0,constructor:!0,wrap:!0,forced:q},{Promise:Ee}),O(Ee,oe,!1,!0),T(oe)},3362:function(s,a,r){"use strict";r(436),r(6499),r(2003),r(7743),r(1481),r(280)},7743:function(s,a,r){"use strict";var c=r(6518),d=r(9565),h=r(9306),p=r(6043),v=r(1103),k=r(2652);c({target:"Promise",stat:!0,forced:r(537)},{race:function(S){var A=this,E=p.f(A),O=E.reject,T=v(function(){var b=h(A.resolve);k(S,function(u){d(b,A,u).then(E.resolve,O)})});return T.error&&O(T.value),E.promise}})},1481:function(s,a,r){"use strict";var c=r(6518),d=r(6043);c({target:"Promise",stat:!0,forced:r(916).CONSTRUCTOR},{reject:function(p){var v=d.f(this);return(0,v.reject)(p),v.promise}})},280:function(s,a,r){"use strict";var c=r(6518),d=r(7751),h=r(6395),p=r(550),v=r(916).CONSTRUCTOR,k=r(3438),x=d("Promise"),S=h&&!v;c({target:"Promise",stat:!0,forced:h||v},{resolve:function(E){return k(S&&this===x?p:this,E)}})},825:function(s,a,r){"use strict";var c=r(6518),d=r(7751),h=r(8745),p=r(566),v=r(5548),k=r(8551),x=r(34),S=r(2360),A=r(9039),E=d("Reflect","construct"),O=Object.prototype,T=[].push,b=A(function(){var m=function(){};return!_instanceof(E(function(){},[],m),m)}),u=!A(function(){E(function(){})}),f=b||u;c({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(y,w){v(y),k(w);var C=arguments.length<3?y:v(arguments[2]);if(u&&!b)return E(y,w,C);if(y===C){switch(w.length){case 0:return new y;case 1:return new y(w[0]);case 2:return new y(w[0],w[1]);case 3:return new y(w[0],w[1],w[2]);case 4:return new y(w[0],w[1],w[2],w[3])}var M=[null];return h(T,M,w),new(h(p,y,M))}var I=C.prototype,D=S(x(I)?I:O),z=h(y,D,w);return x(z)?z:D}})},888:function(s,a,r){"use strict";var c=r(6518),d=r(9565),h=r(34),p=r(8551),v=r(6575),k=r(7347),x=r(2787);c({target:"Reflect",stat:!0},{get:function S(A,E){var O,T,b=arguments.length<3?A:arguments[2];return p(A)===b?A[E]:(O=k.f(A,E))?v(O)?O.value:O.get===void 0?void 0:d(O.get,b):h(T=x(A))?S(T,E,b):void 0}})},4864:function(s,a,r){"use strict";var c=r(3724),d=r(4576),h=r(9504),p=r(2796),v=r(3167),k=r(6699),x=r(2360),S=r(8480).f,A=r(1625),E=r(788),O=r(655),T=r(1034),b=r(8429),u=r(1056),f=r(6840),m=r(9039),y=r(9297),w=r(1181).enforce,C=r(7633),M=r(8227),I=r(3635),D=r(8814),z=M("match"),Q=d.RegExp,W=Q.prototype,me=d.SyntaxError,oe=h(W.exec),q=h("".charAt),ee=h("".replace),we=h("".indexOf),ie=h("".slice),le=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ye=/a/g,Ee=/a/g,fe=new Q(ye)!==ye,rt=b.MISSED_STICKY,ct=b.UNSUPPORTED_Y;if(p("RegExp",c&&(!fe||rt||I||D||m(function(){return Ee[z]=!1,Q(ye)!==ye||Q(Ee)===Ee||String(Q(ye,"i"))!=="/a/i"})))){for(var Ot=function(be,Xe){var Ne,Qe,Me,Ve,st,gt,Mt=A(W,this),Ue=E(be),Be=Xe===void 0,et=[],Ge=be;if(!Mt&&Ue&&Be&&be.constructor===Ot)return be;if((Ue||A(W,be))&&(be=be.source,Be&&(Xe=T(Ge))),be=be===void 0?"":O(be),Xe=Xe===void 0?"":O(Xe),Ge=be,I&&"dotAll"in ye&&(Qe=!!Xe&&we(Xe,"s")>-1)&&(Xe=ee(Xe,/s/g,"")),Ne=Xe,rt&&"sticky"in ye&&(Me=!!Xe&&we(Xe,"y")>-1)&&ct&&(Xe=ee(Xe,/y/g,"")),D&&(Ve=function($e){for(var ze,xt=$e.length,bt=0,lt="",Ze=[],dt=x(null),$t=!1,qt=!1,Bt=0,ut="";bt<=xt;bt++){if((ze=q($e,bt))==="\\")ze+=q($e,++bt);else if(ze==="]")$t=!1;else if(!$t)switch(!0){case ze==="[":$t=!0;break;case ze==="(":if(lt+=ze,ie($e,bt+1,bt+3)==="?:")continue;oe(le,ie($e,bt+1))&&(bt+=2,qt=!0),Bt++;continue;case(ze===">"&&qt):if(ut===""||y(dt,ut))throw new me("Invalid capture group name");dt[ut]=!0,Ze[Ze.length]=[ut,Bt],qt=!1,ut="";continue}qt?ut+=ze:lt+=ze}return[lt,Ze]}(be),be=Ve[0],et=Ve[1]),st=v(Q(be,Xe),Mt?this:W,Ot),(Qe||Me||et.length)&&(gt=w(st),Qe&&(gt.dotAll=!0,gt.raw=Ot(function($e){for(var ze,xt=$e.length,bt=0,lt="",Ze=!1;bt<=xt;bt++)(ze=q($e,bt))!=="\\"?Ze||ze!=="."?(ze==="["?Ze=!0:ze==="]"&&(Ze=!1),lt+=ze):lt+="[\\s\\S]":lt+=ze+q($e,++bt);return lt}(be),Ne)),Me&&(gt.sticky=!0),et.length&&(gt.groups=et)),be!==Ge)try{k(st,"source",Ge===""?"(?:)":Ge)}catch($e){}return st},_t=S(Q),De=0;_t.length>De;)u(Ot,Q,_t[De++]);W.constructor=Ot,Ot.prototype=W,f(d,"RegExp",Ot,{constructor:!0})}C("RegExp")},7495:function(s,a,r){"use strict";var c=r(6518),d=r(7323);c({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},8781:function(s,a,r){"use strict";var c=r(350).PROPER,d=r(6840),h=r(8551),p=r(655),v=r(9039),k=r(1034),x="toString",S=RegExp.prototype,A=S[x],E=v(function(){return A.call({source:"a",flags:"b"})!=="/a/b"}),O=c&&A.name!==x;(E||O)&&d(S,x,function(){var T=h(this);return"/"+p(T.source)+"/"+p(k(T))},{unsafe:!0})},2405:function(s,a,r){"use strict";r(6468)("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},r(6938))},1415:function(s,a,r){"use strict";r(2405)},9449:function(s,a,r){"use strict";var c,d=r(6518),h=r(7476),p=r(7347).f,v=r(8014),k=r(655),x=r(2892),S=r(7750),A=r(1436),E=r(6395),O=h("".slice),T=Math.min,b=A("endsWith");d({target:"String",proto:!0,forced:!(!E&&!b&&(c=p(String.prototype,"endsWith"),c&&!c.writable)||b)},{endsWith:function(f){var m=k(S(this));x(f);var y=arguments.length>1?arguments[1]:void 0,w=m.length,C=y===void 0?w:T(v(y),w),M=k(f);return O(m,C-M.length,C)===M}})},7337:function(s,a,r){"use strict";var c=r(6518),d=r(9504),h=r(5610),p=RangeError,v=String.fromCharCode,k=String.fromCodePoint,x=d([].join);c({target:"String",stat:!0,arity:1,forced:!!k&&k.length!==1},{fromCodePoint:function(A){for(var E,O=[],T=arguments.length,b=0;T>b;){if(E=+arguments[b++],h(E,1114111)!==E)throw new p(E+" is not a valid code point");O[b]=E<65536?v(E):v(55296+((E-=65536)>>10),E%1024+56320)}return x(O,"")}})},1699:function(s,a,r){"use strict";var c=r(6518),d=r(9504),h=r(2892),p=r(7750),v=r(655),k=r(1436),x=d("".indexOf);c({target:"String",proto:!0,forced:!k("includes")},{includes:function(A){return!!~x(v(p(this)),v(h(A)),arguments.length>1?arguments[1]:void 0)}})},7764:function(s,a,r){"use strict";var c=r(8183).charAt,d=r(655),h=r(1181),p=r(1088),v=r(2529),k="String Iterator",x=h.set,S=h.getterFor(k);p(String,"String",function(A){x(this,{type:k,string:d(A),index:0})},function(){var A,E=S(this),O=E.string,T=E.index;return T>=O.length?v(void 0,!0):(A=c(O,T),E.index+=A.length,v(A,!1))})},1761:function(s,a,r){"use strict";var c=r(9565),d=r(9228),h=r(8551),p=r(4117),v=r(8014),k=r(655),x=r(7750),S=r(5966),A=r(7829),E=r(6682);d("match",function(O,T,b){return[function(u){var f=x(this),m=p(u)?void 0:S(u,O);return m?c(m,u,f):new RegExp(u)[O](k(f))},function(u){var f=h(this),m=k(u),y=b(T,f,m);if(y.done)return y.value;if(!f.global)return E(f,m);var w=f.unicode;f.lastIndex=0;for(var C,M=[],I=0;(C=E(f,m))!==null;){var D=k(C[0]);M[I]=D,D===""&&(f.lastIndex=A(m,v(f.lastIndex),w)),I++}return I===0?null:M}]})},5440:function(s,a,r){"use strict";var c=r(8745),d=r(9565),h=r(9504),p=r(9228),v=r(9039),k=r(8551),x=r(4901),S=r(4117),A=r(1291),E=r(8014),O=r(655),T=r(7750),b=r(7829),u=r(5966),f=r(2478),m=r(6682),y=r(8227)("replace"),w=Math.max,C=Math.min,M=h([].concat),I=h([].push),D=h("".indexOf),z=h("".slice),Q="a".replace(/./,"$0")==="$0",W=!!/./[y]&&/./[y]("a","$0")==="";p("replace",function(me,oe,q){var ee=W?"$":"$0";return[function(we,ie){var le=T(this),ye=S(we)?void 0:u(we,y);return ye?d(ye,we,le,ie):d(oe,O(le),we,ie)},function(we,ie){var le=k(this),ye=O(we);if(typeof ie=="string"&&D(ie,ee)===-1&&D(ie,"$<")===-1){var Ee=q(oe,le,ye,ie);if(Ee.done)return Ee.value}var fe=x(ie);fe||(ie=O(ie));var rt,ct=le.global;ct&&(rt=le.unicode,le.lastIndex=0);for(var Ot,_t=[];(Ot=m(le,ye))!==null&&(I(_t,Ot),ct);)O(Ot[0])===""&&(le.lastIndex=b(ye,E(le.lastIndex),rt));for(var De,be="",Xe=0,Ne=0;Ne<_t.length;Ne++){for(var Qe,Me=O((Ot=_t[Ne])[0]),Ve=w(C(A(Ot.index),ye.length),0),st=[],gt=1;gt<Ot.length;gt++)I(st,(De=Ot[gt])===void 0?De:String(De));var Mt=Ot.groups;if(fe){var Ue=M([Me],st,Ve,ye);Mt!==void 0&&I(Ue,Mt),Qe=O(c(ie,void 0,Ue))}else Qe=f(Me,ye,Ve,st,Mt,ie);Ve>=Xe&&(be+=z(ye,Xe,Ve)+Qe,Xe=Ve+Me.length)}return be+z(ye,Xe)}]},!!v(function(){var me=/./;return me.exec=function(){var oe=[];return oe.groups={a:"7"},oe},"".replace(me,"$<a>")!=="7"})||!Q||W)},5746:function(s,a,r){"use strict";var c=r(9565),d=r(9228),h=r(8551),p=r(4117),v=r(7750),k=r(3470),x=r(655),S=r(5966),A=r(6682);d("search",function(E,O,T){return[function(b){var u=v(this),f=p(b)?void 0:S(b,E);return f?c(f,b,u):new RegExp(b)[E](x(u))},function(b){var u=h(this),f=x(b),m=T(O,u,f);if(m.done)return m.value;var y=u.lastIndex;k(y,0)||(u.lastIndex=0);var w=A(u,f);return k(u.lastIndex,y)||(u.lastIndex=y),w===null?-1:w.index}]})},744:function(s,a,r){"use strict";var c=r(9565),d=r(9504),h=r(9228),p=r(8551),v=r(4117),k=r(7750),x=r(2293),S=r(7829),A=r(8014),E=r(655),O=r(5966),T=r(6682),b=r(8429),u=r(9039),f=b.UNSUPPORTED_Y,m=Math.min,y=d([].push),w=d("".slice),C=!u(function(){var I=/(?:)/,D=I.exec;I.exec=function(){return D.apply(this,arguments)};var z="ab".split(I);return z.length!==2||z[0]!=="a"||z[1]!=="b"}),M="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;h("split",function(I,D,z){var Q="0".split(void 0,0).length?function(me,oe){return me===void 0&&oe===0?[]:c(D,this,me,oe)}:D;return[function(W,me){var oe=k(this),q=v(W)?void 0:O(W,I);return q?c(q,W,oe,me):c(Q,E(oe),W,me)},function(W,me){var oe=p(this),q=E(W);if(!M){var ee=z(Q,oe,q,me,Q!==D);if(ee.done)return ee.value}var we=x(oe,RegExp),ie=oe.unicode,le=(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.unicode?"u":"")+(f?"g":"y"),ye=new we(f?"^(?:"+oe.source+")":oe,le),Ee=me===void 0?4294967295:me>>>0;if(Ee===0)return[];if(q.length===0)return T(ye,q)===null?[q]:[];for(var fe=0,rt=0,ct=[];rt<q.length;){ye.lastIndex=f?0:rt;var Ot,_t=T(ye,f?w(q,rt):q);if(_t===null||(Ot=m(A(ye.lastIndex+(f?rt:0)),q.length))===fe)rt=S(q,rt,ie);else{if(y(ct,w(q,fe,rt)),ct.length===Ee)return ct;for(var De=1;De<=_t.length-1;De++)if(y(ct,_t[De]),ct.length===Ee)return ct;rt=fe=Ot}}return y(ct,w(q,fe)),ct}]},M||!C,f)},1392:function(s,a,r){"use strict";var c,d=r(6518),h=r(7476),p=r(7347).f,v=r(8014),k=r(655),x=r(2892),S=r(7750),A=r(1436),E=r(6395),O=h("".slice),T=Math.min,b=A("startsWith");d({target:"String",proto:!0,forced:!(!E&&!b&&(c=p(String.prototype,"startsWith"),c&&!c.writable)||b)},{startsWith:function(f){var m=k(S(this));x(f);var y=v(T(arguments.length>1?arguments[1]:void 0,m.length)),w=k(f);return O(m,y,y+w.length)===w}})},6412:function(s,a,r){"use strict";r(511)("asyncIterator")},6761:function(s,a,r){"use strict";var c=r(6518),d=r(4576),h=r(9565),p=r(9504),v=r(6395),k=r(3724),x=r(4495),S=r(9039),A=r(9297),E=r(1625),O=r(8551),T=r(5397),b=r(6969),u=r(655),f=r(6980),m=r(2360),y=r(1072),w=r(8480),C=r(298),M=r(3717),I=r(7347),D=r(4913),z=r(6801),Q=r(8773),W=r(6840),me=r(2106),oe=r(5745),q=r(6119),ee=r(421),we=r(3392),ie=r(8227),le=r(1951),ye=r(511),Ee=r(8242),fe=r(687),rt=r(1181),ct=r(9213).forEach,Ot=q("hidden"),_t="Symbol",De="prototype",be=rt.set,Xe=rt.getterFor(_t),Ne=Object[De],Qe=d.Symbol,Me=Qe&&Qe[De],Ve=d.RangeError,st=d.TypeError,gt=d.QObject,Mt=I.f,Ue=D.f,Be=C.f,et=Q.f,Ge=p([].push),$e=oe("symbols"),ze=oe("op-symbols"),xt=oe("wks"),bt=!gt||!gt[De]||!gt[De].findChild,lt=function(Xt,R,nt){var je=Mt(Ne,R);je&&delete Ne[R],Ue(Xt,R,nt),je&&Xt!==Ne&&Ue(Ne,R,je)},Ze=k&&S(function(){return m(Ue({},"a",{get:function(){return Ue(this,"a",{value:7}).a}})).a!==7})?lt:Ue,dt=function(Xt,R){var nt=$e[Xt]=m(Me);return be(nt,{type:_t,tag:Xt,description:R}),k||(nt.description=R),nt},$t=function(Ft,Xt,R){Ft===Ne&&$t(ze,Xt,R),O(Ft);var nt=b(Xt);return O(R),A($e,nt)?(R.enumerable?(A(Ft,Ot)&&Ft[Ot][nt]&&(Ft[Ot][nt]=!1),R=m(R,{enumerable:f(0,!1)})):(A(Ft,Ot)||Ue(Ft,Ot,f(1,m(null))),Ft[Ot][nt]=!0),Ze(Ft,nt,R)):Ue(Ft,nt,R)},qt=function(Xt,R){O(Xt);var nt=T(R),je=y(nt).concat(Kt(nt));return ct(je,function(ue){k&&!h(Bt,nt,ue)||$t(Xt,ue,nt[ue])}),Xt},Bt=function(Xt){var R=b(Xt),nt=h(et,this,R);return!(this===Ne&&A($e,R)&&!A(ze,R))&&(!(nt||!A(this,R)||!A($e,R)||A(this,Ot)&&this[Ot][R])||nt)},ut=function(Xt,R){var nt=T(Xt),je=b(R);if(nt!==Ne||!A($e,je)||A(ze,je)){var ue=Mt(nt,je);return!ue||!A($e,je)||A(nt,Ot)&&nt[Ot][je]||(ue.enumerable=!0),ue}},Y=function(Xt){var R=Be(T(Xt)),nt=[];return ct(R,function(je){A($e,je)||A(ee,je)||Ge(nt,je)}),nt},Kt=function(Xt){var R=Xt===Ne,nt=Be(R?ze:T(Xt)),je=[];return ct(nt,function(ue){!A($e,ue)||R&&!A(Ne,ue)||Ge(je,$e[ue])}),je};x||(Qe=function(){if(E(Me,this))throw new st("Symbol is not a constructor");var Xt=arguments.length&&arguments[0]!==void 0?u(arguments[0]):void 0,R=we(Xt),nt=function(je){var ue=this===void 0?d:this;ue===Ne&&h(nt,ze,je),A(ue,Ot)&&A(ue[Ot],R)&&(ue[Ot][R]=!1);var J=f(1,je);try{Ze(ue,R,J)}catch(K){if(!_instanceof(K,Ve))throw K;lt(ue,R,J)}};return k&&bt&&Ze(Ne,R,{configurable:!0,set:nt}),dt(R,Xt)},W(Me=Qe[De],"toString",function(){return Xe(this).tag}),W(Qe,"withoutSetter",function(Ft){return dt(we(Ft),Ft)}),Q.f=Bt,D.f=$t,z.f=qt,I.f=ut,w.f=C.f=Y,M.f=Kt,le.f=function(Ft){return dt(ie(Ft),Ft)},k&&(me(Me,"description",{configurable:!0,get:function(){return Xe(this).description}}),v||W(Ne,"propertyIsEnumerable",Bt,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Qe}),ct(y(xt),function(Ft){ye(Ft)}),c({target:_t,stat:!0,forced:!x},{useSetter:function(){bt=!0},useSimple:function(){bt=!1}}),c({target:"Object",stat:!0,forced:!x,sham:!k},{create:function(Xt,R){return R===void 0?m(Xt):qt(m(Xt),R)},defineProperty:$t,defineProperties:qt,getOwnPropertyDescriptor:ut}),c({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Y}),Ee(),fe(Qe,_t),ee[Ot]=!0},9463:function(s,a,r){"use strict";var c=r(6518),d=r(3724),h=r(4576),p=r(9504),v=r(9297),k=r(4901),x=r(1625),S=r(655),A=r(2106),E=r(7740),O=h.Symbol,T=O&&O.prototype;if(d&&k(O)&&(!("description"in T)||O().description!==void 0)){var b={},u=function(){var D=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),z=x(T,this)?new O(D):D===void 0?O():O(D);return D===""&&(b[z]=!0),z};E(u,O),u.prototype=T,T.constructor=u;var f=String(O("description detection"))==="Symbol(description detection)",m=p(T.valueOf),y=p(T.toString),w=/^Symbol\((.*)\)[^)]+$/,C=p("".replace),M=p("".slice);A(T,"description",{configurable:!0,get:function(){var D=m(this);if(v(b,D))return"";var z=y(D),Q=f?M(z,7,-1):C(z,w,"$1");return Q===""?void 0:Q}}),c({global:!0,constructor:!0,forced:!0},{Symbol:u})}},1510:function(s,a,r){"use strict";var c=r(6518),d=r(7751),h=r(9297),p=r(655),v=r(5745),k=r(1296),x=v("string-to-symbol-registry"),S=v("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!k},{for:function(E){var O=p(E);if(h(x,O))return x[O];var T=d("Symbol")(O);return x[O]=T,S[T]=O,T}})},2259:function(s,a,r){"use strict";r(511)("iterator")},2675:function(s,a,r){"use strict";r(6761),r(1510),r(7812),r(3110),r(9773)},7812:function(s,a,r){"use strict";var c=r(6518),d=r(9297),h=r(757),p=r(6823),v=r(5745),k=r(1296),x=v("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!k},{keyFor:function(A){if(!h(A))throw new TypeError(p(A)+" is not a symbol");if(d(x,A))return x[A]}})},5700:function(s,a,r){"use strict";var c=r(511),d=r(8242);c("toPrimitive"),d()},8125:function(s,a,r){"use strict";var c=r(7751),d=r(511),h=r(687);d("toStringTag"),h(c("Symbol"),"Symbol")},3365:function(s,a,r){"use strict";var c,d=r(2744),h=r(4576),p=r(9504),v=r(6279),k=r(3451),x=r(6468),S=r(4006),A=r(34),E=r(1181).enforce,O=r(9039),T=r(8622),b=Object,u=Array.isArray,f=b.isExtensible,m=b.isFrozen,y=b.isSealed,w=b.freeze,C=b.seal,M=!h.ActiveXObject&&"ActiveXObject"in h,I=function(ee){return function(){return ee(this,arguments.length?arguments[0]:void 0)}},D=x("WeakMap",I,S),z=D.prototype,Q=p(z.set);if(T)if(M){c=S.getConstructor(I,"WeakMap",!0),k.enable();var W=p(z.delete),me=p(z.has),oe=p(z.get);v(z,{delete:function(ee){if(A(ee)&&!f(ee)){var we=E(this);return we.frozen||(we.frozen=new c),W(this,ee)||we.frozen.delete(ee)}return W(this,ee)},has:function(ee){if(A(ee)&&!f(ee)){var we=E(this);return we.frozen||(we.frozen=new c),me(this,ee)||we.frozen.has(ee)}return me(this,ee)},get:function(ee){if(A(ee)&&!f(ee)){var we=E(this);return we.frozen||(we.frozen=new c),me(this,ee)?oe(this,ee):we.frozen.get(ee)}return oe(this,ee)},set:function(ee,we){if(A(ee)&&!f(ee)){var ie=E(this);ie.frozen||(ie.frozen=new c),me(this,ee)?Q(this,ee,we):ie.frozen.set(ee,we)}else Q(this,ee,we);return this}})}else d&&O(function(){var q=w([]);return Q(new D,q,1),!m(q)})&&v(z,{set:function(ee,we){var ie;return u(ee)&&(m(ee)?ie=w:y(ee)&&(ie=C)),Q(this,ee,we),ie&&ie(ee),this}})},3772:function(s,a,r){"use strict";r(3365)},2480:function(s,a,r){"use strict";r(5081)},3500:function(s,a,r){"use strict";var c=r(4576),d=r(7400),h=r(9296),p=r(235),v=r(6699),k=function(A){if(A&&A.forEach!==p)try{v(A,"forEach",p)}catch(E){A.forEach=p}};for(var x in d)d[x]&&k(c[x]&&c[x].prototype);k(h)},2953:function(s,a,r){"use strict";var c=r(4576),d=r(7400),h=r(9296),p=r(3792),v=r(6699),k=r(687),x=r(8227)("iterator"),S=p.values,A=function(T,b){if(T){if(T[x]!==S)try{v(T,x,S)}catch(f){T[x]=S}if(k(T,b,!0),d[b]){for(var u in p)if(T[u]!==p[u])try{v(T,u,p[u])}catch(f){T[u]=p[u]}}}};for(var E in d)A(c[E]&&c[E].prototype,E);A(h,"DOMTokenList")},8406:function(s,a,r){"use strict";r(3792),r(7337);var c=r(6518),d=r(4576),h=r(3389),p=r(7751),v=r(9565),k=r(9504),x=r(3724),S=r(7416),A=r(6840),E=r(2106),O=r(6279),T=r(687),b=r(3994),u=r(1181),f=r(679),m=r(4901),y=r(9297),w=r(6080),C=r(6955),M=r(8551),I=r(34),D=r(655),z=r(2360),Q=r(6980),W=r(81),me=r(851),oe=r(2529),q=r(2812),ee=r(8227),we=r(4488),ie=ee("iterator"),le="URLSearchParams",ye=le+"Iterator",Ee=u.set,fe=u.getterFor(le),rt=u.getterFor(ye),ct=h("fetch"),Ot=h("Request"),_t=h("Headers"),De=Ot&&Ot.prototype,be=_t&&_t.prototype,Xe=d.TypeError,Ne=d.encodeURIComponent,Qe=String.fromCharCode,Me=p("String","fromCodePoint"),Ve=parseInt,st=k("".charAt),gt=k([].join),Mt=k([].push),Ue=k("".replace),Be=k([].shift),et=k([].splice),Ge=k("".split),$e=k("".slice),ze=k(/./.exec),xt=/\+/g,bt=/^[0-9a-f]+$/i,lt=function(Z,se){var he=$e(Z,se,se+2);return ze(bt,he)?Ve(he,16):NaN},Ze=function(Z){for(var se=0,he=128;he>0&&Z&he;he>>=1)se++;return se},dt=function(Z){var se=null;switch(Z.length){case 1:se=Z[0];break;case 2:se=(31&Z[0])<<6|63&Z[1];break;case 3:se=(15&Z[0])<<12|(63&Z[1])<<6|63&Z[2];break;case 4:se=(7&Z[0])<<18|(63&Z[1])<<12|(63&Z[2])<<6|63&Z[3]}return se>1114111?null:se},$t=function(Z){for(var se=(Z=Ue(Z,xt," ")).length,he="",Ae=0;Ae<se;){var Te=st(Z,Ae);if(Te==="%"){if(st(Z,Ae+1)==="%"||Ae+3>se){he+="%",Ae++;continue}var He=lt(Z,Ae+1);if(He!=He){he+=Te,Ae++;continue}Ae+=2;var qe=Ze(He);if(qe===0)Te=Qe(He);else{if(qe===1||qe>4){he+="\uFFFD",Ae++;continue}for(var We=[He],Je=1;Je<qe&&!(3+ ++Ae>se||st(Z,Ae)!=="%");){var Tt=lt(Z,Ae+1);if(Tt!=Tt){Ae+=3;break}if(Tt>191||Tt<128)break;Mt(We,Tt),Ae+=2,Je++}if(We.length!==qe){he+="\uFFFD";continue}var It=dt(We);It===null?he+="\uFFFD":Te=Me(It)}}he+=Te,Ae++}return he},qt=/[!'()~]|%20/g,Bt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ut=function(Z){return Bt[Z]},Y=function(Z){return Ue(Ne(Z),qt,ut)},Kt=b(function(K,Z){Ee(this,{type:ye,target:fe(K).entries,index:0,kind:Z})},le,function(){var K=rt(this),Z=K.target,se=K.index++;if(!Z||se>=Z.length)return K.target=null,oe(void 0,!0);var he=Z[se];switch(K.kind){case"keys":return oe(he.key,!1);case"values":return oe(he.value,!1)}return oe([he.key,he.value],!1)},!0),Ft=function(Z){this.entries=[],this.url=null,Z!==void 0&&(I(Z)?this.parseObject(Z):this.parseQuery(typeof Z=="string"?st(Z,0)==="?"?$e(Z,1):Z:D(Z)))};Ft.prototype={type:le,bindURL:function(Z){this.url=Z,this.update()},parseObject:function(Z){var se,he,Ae,Te,He,qe,We,Je=this.entries,Tt=me(Z);if(Tt)for(he=(se=W(Z,Tt)).next;!(Ae=v(he,se)).done;){if(He=(Te=W(M(Ae.value))).next,(qe=v(He,Te)).done||(We=v(He,Te)).done||!v(He,Te).done)throw new Xe("Expected sequence with length 2");Mt(Je,{key:D(qe.value),value:D(We.value)})}else for(var It in Z)y(Z,It)&&Mt(Je,{key:It,value:D(Z[It])})},parseQuery:function(Z){if(Z)for(var se,he,Ae=this.entries,Te=Ge(Z,"&"),He=0;He<Te.length;)(se=Te[He++]).length&&(he=Ge(se,"="),Mt(Ae,{key:$t(Be(he)),value:$t(gt(he,"="))}))},serialize:function(){for(var Z,se=this.entries,he=[],Ae=0;Ae<se.length;)Z=se[Ae++],Mt(he,Y(Z.key)+"="+Y(Z.value));return gt(he,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Xt=function(){f(this,R);var Z=Ee(this,new Ft(arguments.length>0?arguments[0]:void 0));x||(this.size=Z.entries.length)},R=Xt.prototype;if(O(R,{append:function(Z,se){var he=fe(this);q(arguments.length,2),Mt(he.entries,{key:D(Z),value:D(se)}),x||this.length++,he.updateURL()},delete:function(Z){for(var se=fe(this),he=q(arguments.length,1),Ae=se.entries,Te=D(Z),He=he<2?void 0:arguments[1],qe=He===void 0?He:D(He),We=0;We<Ae.length;){var Je=Ae[We];if(Je.key!==Te||qe!==void 0&&Je.value!==qe)We++;else if(et(Ae,We,1),qe!==void 0)break}x||(this.size=Ae.length),se.updateURL()},get:function(Z){var se=fe(this).entries;q(arguments.length,1);for(var he=D(Z),Ae=0;Ae<se.length;Ae++)if(se[Ae].key===he)return se[Ae].value;return null},getAll:function(Z){var se=fe(this).entries;q(arguments.length,1);for(var he=D(Z),Ae=[],Te=0;Te<se.length;Te++)se[Te].key===he&&Mt(Ae,se[Te].value);return Ae},has:function(Z){for(var se=fe(this).entries,he=q(arguments.length,1),Ae=D(Z),Te=he<2?void 0:arguments[1],He=Te===void 0?Te:D(Te),qe=0;qe<se.length;){var We=se[qe++];if(We.key===Ae&&(He===void 0||We.value===He))return!0}return!1},set:function(Z,se){var he=fe(this);q(arguments.length,1);for(var Ae,Te=he.entries,He=!1,qe=D(Z),We=D(se),Je=0;Je<Te.length;Je++)(Ae=Te[Je]).key===qe&&(He?et(Te,Je--,1):(He=!0,Ae.value=We));He||Mt(Te,{key:qe,value:We}),x||(this.size=Te.length),he.updateURL()},sort:function(){var Z=fe(this);we(Z.entries,function(se,he){return se.key>he.key?1:-1}),Z.updateURL()},forEach:function(Z){for(var se,he=fe(this).entries,Ae=w(Z,arguments.length>1?arguments[1]:void 0),Te=0;Te<he.length;)Ae((se=he[Te++]).value,se.key,this)},keys:function(){return new Kt(this,"keys")},values:function(){return new Kt(this,"values")},entries:function(){return new Kt(this,"entries")}},{enumerable:!0}),A(R,ie,R.entries,{name:"entries"}),A(R,"toString",function(){return fe(this).serialize()},{enumerable:!0}),x&&E(R,"size",{get:function(){return fe(this).entries.length},configurable:!0,enumerable:!0}),T(Xt,le),c({global:!0,constructor:!0,forced:!S},{URLSearchParams:Xt}),!S&&m(_t)){var nt=k(be.has),je=k(be.set),ue=function(Z){if(I(Z)){var se,he=Z.body;if(C(he)===le)return se=Z.headers?new _t(Z.headers):new _t,nt(se,"content-type")||je(se,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),z(Z,{body:Q(0,D(he)),headers:Q(0,se)})}return Z};if(m(ct)&&c({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(Z){return ct(Z,arguments.length>1?ue(arguments[1]):{})}}),m(Ot)){var J=function(Z){return f(this,De),new Ot(Z,arguments.length>1?ue(arguments[1]):{})};De.constructor=J,J.prototype=De,c({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:J})}}s.exports={URLSearchParams:Xt,getState:fe}},8408:function(s,a,r){"use strict";r(8406)},1091:function(s,a,r){"use strict";var c=function(A,E){(E==null||E>A.length)&&(E=A.length);for(var O=0,T=Array(E);O<E;O++)T[O]=A[O];return T},d=function(A,E){for(var O=0;O<E.length;O++){var T=E[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,h(T.key),T)}},h=function(A){var E=function(O,T){if(p(O)!="object"||!O)return O;var b=O[Symbol.toPrimitive];if(b!==void 0){var u=b.call(O,"string");if(p(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(A);return p(E)=="symbol"?E:E+""};function p(S){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(E){return typeof E=="undefined"?"undefined":_typeof(E)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A=="undefined"?"undefined":_typeof(A)},p(S)}r.d(a,{OA:function(){return v},WL:function(){return x},u$:function(){return k}}),r(2675),r(9463),r(2259),r(5700),r(3418),r(3792),r(4782),r(9572),r(2010),r(8130),r(6099),r(7495),r(8781),r(7764),r(2953);var v={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},k=function(A){return function(){for(var E=arguments.length,O=new Array(E),T=0;T<E;T++)O[T]=arguments[T];return{_$litDirective$:A,values:O}}},x=function(){return function(S,A,E){return A&&d(S.prototype,A),Object.defineProperty(S,"prototype",{writable:!1}),S}(function S(A){(function(E,O){if(!_instanceof(E,O))throw new TypeError("Cannot call a class as a function")})(this,S)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(A,E,O){this._$Ct=A,this._$AM=E,this._$Ci=O}},{key:"_$AS",value:function(A,E){return this.update(A,E)}},{key:"update",value:function(A,E){return this.render.apply(this,function(T){if(Array.isArray(T))return c(T)}(O=E)||function(T){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(O)||function(T,b){if(T){if(typeof T=="string")return c(T,b);var u={}.toString.call(T).slice(8,-1);return u==="Object"&&T.constructor&&(u=T.constructor.name),u==="Map"||u==="Set"?Array.from(T):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?c(T,b):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var O}}])}()},6681:function(s,a,r){"use strict";var c=function(lt,Ze,dt){return Ze=b(Ze),function($t,qt){if(qt&&(f(qt)=="object"||typeof qt=="function"))return qt;if(qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}($t)}(lt,T()?Reflect.construct(Ze,dt||[],b(lt).constructor):Ze.apply(lt,dt))},d=function(lt,Ze){if(typeof Ze!="function"&&Ze!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(Ze&&Ze.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),Ze&&u(lt,Ze)},h=function(lt,Ze){var dt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(!dt){if(Array.isArray(lt)||(dt=p(lt))||Ze&&lt&&typeof lt.length=="number"){dt&&(lt=dt);var $t=0,qt=function(){};return{s:qt,n:function(){return $t>=lt.length?{done:!0}:{done:!1,value:lt[$t++]}},e:function(Ft){throw Ft},f:qt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Bt,ut=!0,Y=!1;return{s:function(){dt=dt.call(lt)},n:function(){var Ft=dt.next();return ut=Ft.done,Ft},e:function(Ft){Y=!0,Bt=Ft},f:function(){try{ut||dt.return==null||dt.return()}finally{if(Y)throw Bt}}}},p=function(lt,Ze){if(lt){if(typeof lt=="string")return v(lt,Ze);var dt={}.toString.call(lt).slice(8,-1);return dt==="Object"&&lt.constructor&&(dt=lt.constructor.name),dt==="Map"||dt==="Set"?Array.from(lt):dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt)?v(lt,Ze):void 0}},v=function(lt,Ze){(Ze==null||Ze>lt.length)&&(Ze=lt.length);for(var dt=0,$t=Array(Ze);dt<Ze;dt++)$t[dt]=lt[dt];return $t},k=function(lt,Ze){if(!_instanceof(lt,Ze))throw new TypeError("Cannot call a class as a function")},x=function(lt,Ze){for(var dt=0;dt<Ze.length;dt++){var $t=Ze[dt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(lt,A($t.key),$t)}},S=function(lt,Ze,dt){return Ze&&x(lt.prototype,Ze),dt&&x(lt,dt),Object.defineProperty(lt,"prototype",{writable:!1}),lt},A=function(lt){var Ze=function(dt,$t){if(f(dt)!="object"||!dt)return dt;var qt=dt[Symbol.toPrimitive];if(qt!==void 0){var Bt=qt.call(dt,"string");if(f(Bt)!="object")return Bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(dt)}(lt);return f(Ze)=="symbol"?Ze:Ze+""},E=function(lt,Ze){if(!Array.isArray(lt)||!lt.hasOwnProperty("raw"))throw Error("invalid template strings array");return w!==void 0?w.createHTML(Ze):Ze},O;function T(){try{var bt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(lt){}return(T=function(){return!!bt})()}function b(bt){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)},b(bt)}function u(bt,lt){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dt,$t){return dt.__proto__=$t,dt},u(bt,lt)}function f(bt){return f=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ze){return typeof Ze=="undefined"?"undefined":_typeof(Ze)}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt=="undefined"?"undefined":_typeof(lt)},f(bt)}r.d(a,{JW:function(){return Ot},XX:function(){return xt},c0:function(){return _t},ge:function(){return $e},qy:function(){return ct},s6:function(){return De}}),r(2675),r(9463),r(2259),r(5700),r(8706),r(3771),r(3418),r(3792),r(4782),r(9572),r(2010),r(8130),r(875),r(6099),r(825),r(4864),r(7495),r(8781),r(9449),r(7764),r(744),r(1392),r(3772),r(2953);var m=window,y=m.trustedTypes,w=y?y.createPolicy("lit-html",{createHTML:function(lt){return lt}}):void 0,C="$lit$",M="lit$".concat((Math.random()+"").slice(9),"$"),I="?"+M,D="<".concat(I,">"),z=document,Q=function(){return z.createComment("")},W=function(lt){return lt===null||f(lt)!="object"&&typeof lt!="function"},me=Array.isArray,oe=function(lt){return me(lt)||typeof(lt==null?void 0:lt[Symbol.iterator])=="function"},q="[ 	\n\f\r]",ee=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,we=/-->/g,ie=/>/g,le=RegExp(">|".concat(q,"(?:([^\\s\"'>=/]+)(").concat(q,"*=").concat(q,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),ye=/'/g,Ee=/"/g,fe=/^(?:script|style|textarea|title)$/i,rt=function(lt){return function(Ze){for(var dt=arguments.length,$t=new Array(dt>1?dt-1:0),qt=1;qt<dt;qt++)$t[qt-1]=arguments[qt];return{_$litType$:lt,strings:Ze,values:$t}}},ct=rt(1),Ot=rt(2),_t=Symbol.for("lit-noChange"),De=Symbol.for("lit-nothing"),be=new WeakMap,Xe=z.createTreeWalker(z,129,null,!1),Ne=function(lt,Ze){for(var dt,$t=lt.length-1,qt=[],Bt=Ze===2?"<svg>":"",ut=ee,Y=0;Y<$t;Y++){for(var Kt=lt[Y],Ft=void 0,Xt=void 0,R=-1,nt=0;nt<Kt.length&&(ut.lastIndex=nt,(Xt=ut.exec(Kt))!==null);)nt=ut.lastIndex,ut===ee?Xt[1]==="!--"?ut=we:Xt[1]!==void 0?ut=ie:Xt[2]!==void 0?(fe.test(Xt[2])&&(dt=RegExp("</"+Xt[2],"g")),ut=le):Xt[3]!==void 0&&(ut=le):ut===le?Xt[0]===">"?(ut=dt!=null?dt:ee,R=-1):Xt[1]===void 0?R=-2:(R=ut.lastIndex-Xt[2].length,Ft=Xt[1],ut=Xt[3]===void 0?le:Xt[3]==='"'?Ee:ye):ut===Ee||ut===ye?ut=le:ut===we||ut===ie?ut=ee:(ut=le,dt=void 0);var je=ut===le&&lt[Y+1].startsWith("/>")?" ":"";Bt+=ut===ee?Kt+D:R>=0?(qt.push(Ft),Kt.slice(0,R)+C+Kt.slice(R)+M+je):Kt+M+(R===-2?(qt.push(void 0),Y):je)}return[E(lt,Bt+(lt[$t]||"<?>")+(Ze===2?"</svg>":"")),qt]},Qe=function(){return S(function bt(lt,Ze){var dt,$t=lt.strings,qt=lt._$litType$;k(this,bt),this.parts=[];var Bt=0,ut=0,Y=$t.length-1,Kt=this.parts,Ft=function(Nt,Lt){return function(Rt){if(Array.isArray(Rt))return Rt}(Nt)||function(Rt,sn){var ln=Rt==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Rt[Symbol.iterator]||Rt["@@iterator"];if(ln!=null){var jt,rn,Qt,Rn,Vt=[],ur=!0,Dn=!1;try{if(Qt=(ln=ln.call(Rt)).next,sn===0){if(Object(ln)!==ln)return;ur=!1}else for(;!(ur=(jt=Qt.call(ln)).done)&&(Vt.push(jt.value),Vt.length!==sn);ur=!0);}catch(tr){Dn=!0,rn=tr}finally{try{if(!ur&&ln.return!=null&&(Rn=ln.return(),Object(Rn)!==Rn))return}finally{if(Dn)throw rn}}return Vt}}(Nt,Lt)||p(Nt,Lt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ne($t,qt),2),Xt=Ft[0],R=Ft[1];if(this.el=bt.createElement(Xt,Ze),Xe.currentNode=this.el.content,qt===2){var nt=this.el.content,je=nt.firstChild;je.remove(),nt.append.apply(nt,function(Nt){return function(Lt){if(Array.isArray(Lt))return v(Lt)}(Nt)||function(Lt){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Lt[Symbol.iterator]!=null||Lt["@@iterator"]!=null)return Array.from(Lt)}(Nt)||p(Nt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(je.childNodes))}for(;(dt=Xe.nextNode())!==null&&Kt.length<Y;){if(dt.nodeType===1){if(dt.hasAttributes()){var ue,J=[],K=h(dt.getAttributeNames());try{for(K.s();!(ue=K.n()).done;){var Z=ue.value;if(Z.endsWith(C)||Z.startsWith(M)){var se=R[ut++];if(J.push(Z),se!==void 0){var he=dt.getAttribute(se.toLowerCase()+C).split(M),Ae=/([.?@])?(.*)/.exec(se);Kt.push({type:1,index:Bt,name:Ae[2],strings:he,ctor:Ae[1]==="."?Mt:Ae[1]==="?"?Be:Ae[1]==="@"?et:gt})}else Kt.push({type:6,index:Bt})}}}catch(Nt){K.e(Nt)}finally{K.f()}for(var Te=0,He=J;Te<He.length;Te++){var qe=He[Te];dt.removeAttribute(qe)}}if(fe.test(dt.tagName)){var We=dt.textContent.split(M),Je=We.length-1;if(Je>0){dt.textContent=y?y.emptyScript:"";for(var Tt=0;Tt<Je;Tt++)dt.append(We[Tt],Q()),Xe.nextNode(),Kt.push({type:2,index:++Bt});dt.append(We[Je],Q())}}}else if(dt.nodeType===8)if(dt.data===I)Kt.push({type:2,index:Bt});else for(var It=-1;(It=dt.data.indexOf(M,It+1))!==-1;)Kt.push({type:7,index:Bt}),It+=M.length-1;Bt++}},null,[{key:"createElement",value:function(lt,Ze){var dt=z.createElement("template");return dt.innerHTML=lt,dt}}])}();function Me(bt,lt){var Ze,dt,$t,qt,Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bt,ut=arguments.length>3?arguments[3]:void 0;if(lt===_t)return lt;var Y=ut!==void 0?(Ze=Bt._$Co)===null||Ze===void 0?void 0:Ze[ut]:Bt._$Cl,Kt=W(lt)?void 0:lt._$litDirective$;return(Y==null?void 0:Y.constructor)!==Kt&&((dt=Y==null?void 0:Y._$AO)===null||dt===void 0||dt.call(Y,!1),Kt===void 0?Y=void 0:(Y=new Kt(bt))._$AT(bt,Bt,ut),ut!==void 0?(($t=(qt=Bt)._$Co)!==null&&$t!==void 0?$t:qt._$Co=[])[ut]=Y:Bt._$Cl=Y),Y!==void 0&&(lt=Me(bt,Y._$AS(bt,lt.values),Y,ut)),lt}var Ve=function(){return S(function bt(lt,Ze){k(this,bt),this._$AV=[],this._$AN=void 0,this._$AD=lt,this._$AM=Ze},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(lt){var Ze,dt=this._$AD,$t=dt.el.content,qt=dt.parts,Bt=((Ze=lt==null?void 0:lt.creationScope)!==null&&Ze!==void 0?Ze:z).importNode($t,!0);Xe.currentNode=Bt;for(var ut=Xe.nextNode(),Y=0,Kt=0,Ft=qt[0];Ft!==void 0;){if(Y===Ft.index){var Xt=void 0;Ft.type===2?Xt=new st(ut,ut.nextSibling,this,lt):Ft.type===1?Xt=new Ft.ctor(ut,Ft.name,Ft.strings,this,lt):Ft.type===6&&(Xt=new Ge(ut,this,lt)),this._$AV.push(Xt),Ft=qt[++Kt]}Y!==(Ft==null?void 0:Ft.index)&&(ut=Xe.nextNode(),Y++)}return Xe.currentNode=z,Bt}},{key:"v",value:function(lt){var Ze,dt=0,$t=h(this._$AV);try{for($t.s();!(Ze=$t.n()).done;){var qt=Ze.value;qt!==void 0&&(qt.strings!==void 0?(qt._$AI(lt,qt,dt),dt+=qt.strings.length-2):qt._$AI(lt[dt])),dt++}}catch(Bt){$t.e(Bt)}finally{$t.f()}}}])}(),st=function(){function bt(lt,Ze,dt,$t){var qt;k(this,bt),this.type=2,this._$AH=De,this._$AN=void 0,this._$AA=lt,this._$AB=Ze,this._$AM=dt,this.options=$t,this._$Cp=(qt=$t==null?void 0:$t.isConnected)===null||qt===void 0||qt}return S(bt,[{key:"_$AU",get:function(){var Ze,dt;return(dt=(Ze=this._$AM)===null||Ze===void 0?void 0:Ze._$AU)!==null&&dt!==void 0?dt:this._$Cp}},{key:"parentNode",get:function(){var Ze=this._$AA.parentNode,dt=this._$AM;return dt!==void 0&&(Ze==null?void 0:Ze.nodeType)===11&&(Ze=dt.parentNode),Ze}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(Ze){Ze=Me(this,Ze,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),W(Ze)?Ze===De||Ze==null||Ze===""?(this._$AH!==De&&this._$AR(),this._$AH=De):Ze!==this._$AH&&Ze!==_t&&this._(Ze):Ze._$litType$!==void 0?this.g(Ze):Ze.nodeType!==void 0?this.$(Ze):oe(Ze)?this.T(Ze):this._(Ze)}},{key:"k",value:function(Ze){return this._$AA.parentNode.insertBefore(Ze,this._$AB)}},{key:"$",value:function(Ze){this._$AH!==Ze&&(this._$AR(),this._$AH=this.k(Ze))}},{key:"_",value:function(Ze){this._$AH!==De&&W(this._$AH)?this._$AA.nextSibling.data=Ze:this.$(z.createTextNode(Ze)),this._$AH=Ze}},{key:"g",value:function(Ze){var dt,$t=Ze.values,qt=Ze._$litType$,Bt=typeof qt=="number"?this._$AC(Ze):(qt.el===void 0&&(qt.el=Qe.createElement(E(qt.h,qt.h[0]),this.options)),qt);if(((dt=this._$AH)===null||dt===void 0?void 0:dt._$AD)===Bt)this._$AH.v($t);else{var ut=new Ve(Bt,this),Y=ut.u(this.options);ut.v($t),this.$(Y),this._$AH=ut}}},{key:"_$AC",value:function(Ze){var dt=be.get(Ze.strings);return dt===void 0&&be.set(Ze.strings,dt=new Qe(Ze)),dt}},{key:"T",value:function(Ze){me(this._$AH)||(this._$AH=[],this._$AR());var dt,$t,qt=this._$AH,Bt=0,ut=h(Ze);try{for(ut.s();!($t=ut.n()).done;){var Y=$t.value;Bt===qt.length?qt.push(dt=new bt(this.k(Q()),this.k(Q()),this,this.options)):dt=qt[Bt],dt._$AI(Y),Bt++}}catch(Kt){ut.e(Kt)}finally{ut.f()}Bt<qt.length&&(this._$AR(dt&&dt._$AB.nextSibling,Bt),qt.length=Bt)}},{key:"_$AR",value:function(){var Ze,dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,$t=arguments.length>1?arguments[1]:void 0;for((Ze=this._$AP)===null||Ze===void 0||Ze.call(this,!1,!0,$t);dt&&dt!==this._$AB;){var qt=dt.nextSibling;dt.remove(),dt=qt}}},{key:"setConnected",value:function(Ze){var dt;this._$AM===void 0&&(this._$Cp=Ze,(dt=this._$AP)===null||dt===void 0||dt.call(this,Ze))}}])}(),gt=function(){return S(function bt(lt,Ze,dt,$t,qt){k(this,bt),this.type=1,this._$AH=De,this._$AN=void 0,this.element=lt,this.name=Ze,this._$AM=$t,this.options=qt,dt.length>2||dt[0]!==""||dt[1]!==""?(this._$AH=Array(dt.length-1).fill(new String),this.strings=dt):this._$AH=De},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(lt){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,dt=arguments.length>2?arguments[2]:void 0,$t=arguments.length>3?arguments[3]:void 0,qt=this.strings,Bt=!1;if(qt===void 0)lt=Me(this,lt,Ze,0),(Bt=!W(lt)||lt!==this._$AH&&lt!==_t)&&(this._$AH=lt);else{var ut,Y,Kt=lt;for(lt=qt[0],ut=0;ut<qt.length-1;ut++)(Y=Me(this,Kt[dt+ut],Ze,ut))===_t&&(Y=this._$AH[ut]),Bt||(Bt=!W(Y)||Y!==this._$AH[ut]),Y===De?lt=De:lt!==De&&(lt+=(Y!=null?Y:"")+qt[ut+1]),this._$AH[ut]=Y}Bt&&!$t&&this.j(lt)}},{key:"j",value:function(lt){lt===De?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,lt!=null?lt:"")}}])}(),Mt=function(bt){function lt(){var Ze;return k(this,lt),(Ze=c(this,lt,arguments)).type=3,Ze}return d(lt,bt),S(lt,[{key:"j",value:function(dt){this.element[this.name]=dt===De?void 0:dt}}])}(gt),Ue=y?y.emptyScript:"",Be=function(bt){function lt(){var Ze;return k(this,lt),(Ze=c(this,lt,arguments)).type=4,Ze}return d(lt,bt),S(lt,[{key:"j",value:function(dt){dt&&dt!==De?this.element.setAttribute(this.name,Ue):this.element.removeAttribute(this.name)}}])}(gt),et=function(bt){function lt(Ze,dt,$t,qt,Bt){var ut;return k(this,lt),(ut=c(this,lt,[Ze,dt,$t,qt,Bt])).type=5,ut}return d(lt,bt),S(lt,[{key:"_$AI",value:function(dt){var $t;if((dt=($t=Me(this,dt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&$t!==void 0?$t:De)!==_t){var qt=this._$AH,Bt=dt===De&&qt!==De||dt.capture!==qt.capture||dt.once!==qt.once||dt.passive!==qt.passive,ut=dt!==De&&(qt===De||Bt);Bt&&this.element.removeEventListener(this.name,this,qt),ut&&this.element.addEventListener(this.name,this,dt),this._$AH=dt}}},{key:"handleEvent",value:function(dt){var $t,qt;typeof this._$AH=="function"?this._$AH.call((qt=($t=this.options)===null||$t===void 0?void 0:$t.host)!==null&&qt!==void 0?qt:this.element,dt):this._$AH.handleEvent(dt)}}])}(gt),Ge=function(){return S(function bt(lt,Ze,dt){k(this,bt),this.element=lt,this.type=6,this._$AN=void 0,this._$AM=Ze,this.options=dt},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(lt){Me(this,lt)}}])}(),$e={O:C,P:M,A:I,C:1,M:Ne,L:Ve,R:oe,D:Me,I:st,V:gt,H:Be,N:et,U:Mt,F:Ge},ze=m.litHtmlPolyfillSupport;ze==null||ze(Qe,st),((O=m.litHtmlVersions)!==null&&O!==void 0?O:m.litHtmlVersions=[]).push("2.8.0");var xt=function(lt,Ze,dt){var $t,qt,Bt=($t=dt==null?void 0:dt.renderBefore)!==null&&$t!==void 0?$t:Ze,ut=Bt._$litPart$;if(ut===void 0){var Y=(qt=dt==null?void 0:dt.renderBefore)!==null&&qt!==void 0?qt:null;Bt._$litPart$=ut=new st(Ze.insertBefore(Q(),Y),Y,void 0,dt!=null?dt:{})}return ut._$AI(lt),ut}},9696:function(s,a,r){"use strict";var c=function(z,Q){var W=Object.keys(z);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(z);Q&&(me=me.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),W.push.apply(W,me)}return W},d=function(z){for(var Q=arguments,W=function(oe){var q=Q[oe]!=null?Q[oe]:{};oe%2?c(Object(q),!0).forEach(function(ee){h(z,ee,q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(q)):c(Object(q)).forEach(function(ee){Object.defineProperty(z,ee,Object.getOwnPropertyDescriptor(q,ee))})},me=1;me<arguments.length;me++)W(me);return z},h=function(z,Q,W){return(Q=function(me){var oe=function(q,ee){if(u(q)!="object"||!q)return q;var we=q[Symbol.toPrimitive];if(we!==void 0){var ie=we.call(q,"string");if(u(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(me);return u(oe)=="symbol"?oe:oe+""}(Q))in z?Object.defineProperty(z,Q,{value:W,enumerable:!0,configurable:!0,writable:!0}):z[Q]=W,z},p=function(z){return function(Q,W){return W!==void 0?m(z,Q,W):f(z,Q)}},v=function(z,Q){var W=Object.keys(z);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(z);Q&&(me=me.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),W.push.apply(W,me)}return W},k=function(z){for(var Q=arguments,W=function(oe){var q=Q[oe]!=null?Q[oe]:{};oe%2?v(Object(q),!0).forEach(function(ee){x(z,ee,q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(q)):v(Object(q)).forEach(function(ee){Object.defineProperty(z,ee,Object.getOwnPropertyDescriptor(q,ee))})},me=1;me<arguments.length;me++)W(me);return z},x=function(z,Q,W){return(Q=function(me){var oe=function(q,ee){if(y(q)!="object"||!q)return q;var we=q[Symbol.toPrimitive];if(we!==void 0){var ie=we.call(q,"string");if(y(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(me);return y(oe)=="symbol"?oe:oe+""}(Q))in z?Object.defineProperty(z,Q,{value:W,enumerable:!0,configurable:!0,writable:!0}):z[Q]=W,z},S=function(z){return p(k(k({},z),{},{state:!0}))},A=function(z,Q){var W=Object.keys(z);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(z);Q&&(me=me.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),W.push.apply(W,me)}return W},E=function(z){for(var Q=arguments,W=function(oe){var q=Q[oe]!=null?Q[oe]:{};oe%2?A(Object(q),!0).forEach(function(ee){O(z,ee,q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(q)):A(Object(q)).forEach(function(ee){Object.defineProperty(z,ee,Object.getOwnPropertyDescriptor(q,ee))})},me=1;me<arguments.length;me++)W(me);return z},O=function(z,Q,W){return(Q=function(me){var oe=function(q,ee){if(w(q)!="object"||!q)return q;var we=q[Symbol.toPrimitive];if(we!==void 0){var ie=we.call(q,"string");if(w(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(me);return w(oe)=="symbol"?oe:oe+""}(Q))in z?Object.defineProperty(z,Q,{value:W,enumerable:!0,configurable:!0,writable:!0}):z[Q]=W,z},T=function(z,Q){return M({descriptor:function(me){var oe={get:function(){var we,ie;return(ie=(we=this.renderRoot)===null||we===void 0?void 0:we.querySelector(z))!==null&&ie!==void 0?ie:null},enumerable:!0,configurable:!0};if(Q){var q=I(me)=="symbol"?Symbol():"__"+me;oe.get=function(){var ee,we;return this[q]===void 0&&(this[q]=(we=(ee=this.renderRoot)===null||ee===void 0?void 0:ee.querySelector(z))!==null&&we!==void 0?we:null),this[q]}}return oe}})};r.d(a,{EM:function(){return b},MZ:function(){return p},P:function(){return T},wk:function(){return S}});var b=function(z){return function(Q){return typeof Q=="function"?function(W,me){return customElements.define(W,me),me}(z,Q):function(W,me){return{kind:me.kind,elements:me.elements,finisher:function(q){customElements.define(W,q)}}}(z,Q)}};function u(D){return u=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Q){return typeof Q=="undefined"?"undefined":_typeof(Q)}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z=="undefined"?"undefined":_typeof(z)},u(D)}r(2675),r(9463),r(2259),r(5700),r(2008),r(3792),r(9572),r(8130),r(3851),r(1278),r(9432),r(6099),r(7764),r(3500),r(2953);var f=function(z,Q){return Q.kind==="method"&&Q.descriptor&&!("value"in Q.descriptor)?d(d({},Q),{},{finisher:function(me){me.createProperty(Q.key,z)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:Q.key,initializer:function(){typeof Q.initializer=="function"&&(this[Q.key]=Q.initializer.call(this))},finisher:function(me){me.createProperty(Q.key,z)}}},m=function(z,Q,W){Q.constructor.createProperty(W,z)};function y(D){return y=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Q){return typeof Q=="undefined"?"undefined":_typeof(Q)}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z=="undefined"?"undefined":_typeof(z)},y(D)}function w(D){return w=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Q){return typeof Q=="undefined"?"undefined":_typeof(Q)}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z=="undefined"?"undefined":_typeof(z)},w(D)}r(9085);var C,M=function(z){var Q=z.finisher,W=z.descriptor;return function(me,oe){var q;if(oe===void 0){var ee=(q=me.originalKey)!==null&&q!==void 0?q:me.key,we=W!=null?{kind:"method",placement:"prototype",key:ee,descriptor:W(me.key)}:E(E({},me),{},{key:ee});return Q!=null&&(we.finisher=function(le){Q(le,ee)}),we}var ie=me.constructor;W!==void 0&&Object.defineProperty(me,oe,W(oe)),Q==null||Q(ie,oe)}};function I(D){return I=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Q){return typeof Q=="undefined"?"undefined":_typeof(Q)}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z=="undefined"?"undefined":_typeof(z)},I(D)}r(6412),r(8125),r(4490),r(4782),r(2010),r(4731),r(479),r(875),r(3362),(C=window.HTMLSlotElement)===null||C===void 0||C.prototype.assignedElements},8900:function(s,a,r){"use strict";var c=function(f,m){(m==null||m>f.length)&&(m=f.length);for(var y=0,w=Array(m);y<m;y++)w[y]=f[y];return w},d=function(f,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,h(w.key),w)}},h=function(f){var m=function(y,w){if(x(y)!="object"||!y)return y;var C=y[Symbol.toPrimitive];if(C!==void 0){var M=C.call(y,"string");if(x(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(f);return x(m)=="symbol"?m:m+""},p=function(f,m,y){return m=A(m),function(w,C){if(C&&(x(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(f,S()?Reflect.construct(m,y||[],A(f).constructor):m.apply(f,y))};r.d(a,{W:function(){return b}}),r(2675),r(9463),r(2259),r(5700),r(8706),r(3418),r(4423),r(3792),r(2712),r(4782),r(9572),r(2010),r(8130),r(875),r(9432),r(6099),r(825),r(7495),r(8781),r(1415),r(9449),r(1699),r(7764),r(5440),r(3500),r(2953);var v=r(6681),k=r(1091);function x(u){return x=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(m){return typeof m=="undefined"?"undefined":_typeof(m)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f=="undefined"?"undefined":_typeof(f)},x(u)}function S(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(f){}return(S=function(){return!!u})()}function A(u){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A(u)}function E(u,f){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,w){return y.__proto__=w,y},E(u,f)}var O="important",T=" !"+O,b=(0,k.u$)(function(u){function f(w){var C,M;if(function(I,D){if(!_instanceof(I,D))throw new TypeError("Cannot call a class as a function")}(this,f),C=p(this,f,[w]),w.type!==k.OA.ATTRIBUTE||w.name!=="style"||((M=w.strings)===null||M===void 0?void 0:M.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return C}return function(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),C&&E(w,C)}(f,u),m=f,y=[{key:"render",value:function(C){return Object.keys(C).reduce(function(M,I){var D=C[I];return D==null?M:M+"".concat(I=I.includes("-")?I:I.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(D,";")},"")}},{key:"update",value:function(C,M){var I=this,D=function(q,ee){return function(we){if(Array.isArray(we))return we}(q)||function(we,ie){var le=we==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&we[Symbol.iterator]||we["@@iterator"];if(le!=null){var ye,Ee,fe,rt,ct=[],Ot=!0,_t=!1;try{if(fe=(le=le.call(we)).next,ie===0){if(Object(le)!==le)return;Ot=!1}else for(;!(Ot=(ye=fe.call(le)).done)&&(ct.push(ye.value),ct.length!==ie);Ot=!0);}catch(De){_t=!0,Ee=De}finally{try{if(!Ot&&le.return!=null&&(rt=le.return(),Object(rt)!==rt))return}finally{if(_t)throw Ee}}return ct}}(q,ee)||function(we,ie){if(we){if(typeof we=="string")return c(we,ie);var le={}.toString.call(we).slice(8,-1);return le==="Object"&&we.constructor&&(le=we.constructor.name),le==="Map"||le==="Set"?Array.from(we):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?c(we,ie):void 0}}(q,ee)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(M,1)[0],z=C.element.style;if(this.ht===void 0){for(var Q in this.ht=new Set,D)this.ht.add(Q);return this.render(D)}for(var W in this.ht.forEach(function(q){D[q]==null&&(I.ht.delete(q),q.includes("-")?z.removeProperty(q):z[q]="")}),D){var me=D[W];if(me!=null){this.ht.add(W);var oe=typeof me=="string"&&me.endsWith(T);W.includes("-")||oe?z.setProperty(W,oe?me.slice(0,-11):me,oe?O:""):z[W]=me}}return v.c0}}],y&&d(m.prototype,y),Object.defineProperty(m,"prototype",{writable:!1}),m;var m,y}(k.WL))},420:function(s,a,r){"use strict";var c=function(Be,et){(et==null||et>Be.length)&&(et=Be.length);for(var Ge=0,$e=Array(et);Ge<et;Ge++)$e[Ge]=Be[Ge];return $e},d=function(Be,et){for(var Ge=0;Ge<et.length;Ge++){var $e=et[Ge];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Be,h($e.key),$e)}},h=function(Be){var et=function(Ge,$e){if(m(Ge)!="object"||!Ge)return Ge;var ze=Ge[Symbol.toPrimitive];if(ze!==void 0){var xt=ze.call(Ge,"string");if(m(xt)!="object")return xt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ge)}(Be);return m(et)=="symbol"?et:et+""},p=function(Be,et){var Ge=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Be[Symbol.iterator]||Be["@@iterator"];if(!Ge){if(Array.isArray(Be)||(Ge=k(Be))||et&&Be&&typeof Be.length=="number"){Ge&&(Be=Ge);var $e=0,ze=function(){};return{s:ze,n:function(){return $e>=Be.length?{done:!0}:{done:!1,value:Be[$e++]}},e:function(dt){throw dt},f:ze}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var xt,bt=!0,lt=!1;return{s:function(){Ge=Ge.call(Be)},n:function(){var dt=Ge.next();return bt=dt.done,dt},e:function(dt){lt=!0,xt=dt},f:function(){try{bt||Ge.return==null||Ge.return()}finally{if(lt)throw xt}}}},v=function(Be){return function(et){if(Array.isArray(et))return x(et)}(Be)||function(et){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}(Be)||k(Be)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},k=function(Be,et){if(Be){if(typeof Be=="string")return x(Be,et);var Ge={}.toString.call(Be).slice(8,-1);return Ge==="Object"&&Be.constructor&&(Ge=Be.constructor.name),Ge==="Map"||Ge==="Set"?Array.from(Be):Ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ge)?x(Be,et):void 0}},x=function(Be,et){(et==null||et>Be.length)&&(et=Be.length);for(var Ge=0,$e=Array(et);Ge<et;Ge++)$e[Ge]=Be[Ge];return $e},S=function(Be,et,Ge,$e,ze,xt,bt){try{var lt=Be[xt](bt),Ze=lt.value}catch(dt){return void Ge(dt)}lt.done?et(Ze):Promise.resolve(Ze).then($e,ze)},A=function(Be,et){for(var Ge=0;Ge<et.length;Ge++){var $e=et[Ge];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Be,E($e.key),$e)}},E=function(Be){var et=function(Ge,$e){if(W(Ge)!="object"||!Ge)return Ge;var ze=Ge[Symbol.toPrimitive];if(ze!==void 0){var xt=ze.call(Ge,"string");if(W(xt)!="object")return xt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ge)}(Be);return W(et)=="symbol"?et:et+""},O=function(Be,et){for(var Ge=0;Ge<et.length;Ge++){var $e=et[Ge];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Be,T($e.key),$e)}},T=function(Be){var et=function(Ge,$e){if(Ne(Ge)!="object"||!Ge)return Ge;var ze=Ge[Symbol.toPrimitive];if(ze!==void 0){var xt=ze.call(Ge,"string");if(Ne(xt)!="object")return xt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ge)}(Be);return Ne(et)=="symbol"?et:et+""},b=function(Be,et,Ge){return et=Ve(et),function($e,ze){if(ze&&(Ne(ze)=="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u($e)}(Be,Qe()?Reflect.construct(et,Ge||[],Ve(Be).constructor):et.apply(Be,Ge))},u=function(Be){if(Be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Be},f=function(Be,et,Ge,$e){var ze=Me(Ve(1&$e?Be.prototype:Be),et,Ge);return 2&$e&&typeof ze=="function"?function(xt){return ze.apply(Ge,xt)}:ze};function m(Ue){return m=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(et){return typeof et=="undefined"?"undefined":_typeof(et)}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be=="undefined"?"undefined":_typeof(Be)},m(Ue)}r.d(a,{WF:function(){return gt},AH:function(){return z},qy:function(){return Xe.qy},s6:function(){return Xe.s6},XX:function(){return Xe.XX},JW:function(){return Xe.JW}}),r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(6449),r(3418),r(3792),r(4490),r(4782),r(4554),r(3514),r(739),r(9572),r(2010),r(4731),r(6033),r(479),r(8130),r(1480),r(875),r(9432),r(6099),r(3362),r(825),r(7495),r(8781),r(1415),r(7764),r(3500),r(2953),r(2062),r(2712),r(3772);var y,w=window,C=w.ShadowRoot&&(w.ShadyCSS===void 0||w.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,M=Symbol(),I=new WeakMap,D=function(){return function(Ue,Be,et){return Be&&d(Ue.prototype,Be),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue}(function Ue(Be,et,Ge){if(function($e,ze){if(!_instanceof($e,ze))throw new TypeError("Cannot call a class as a function")}(this,Ue),this._$cssResult$=!0,Ge!==M)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Be,this.t=et},[{key:"styleSheet",get:function(){var Be=this.o,et=this.t;if(C&&Be===void 0){var Ge=et!==void 0&&et.length===1;Ge&&(Be=I.get(et)),Be===void 0&&((this.o=Be=new CSSStyleSheet).replaceSync(this.cssText),Ge&&I.set(et,Be))}return Be}},{key:"toString",value:function(){return this.cssText}}])}(),z=function(Be){for(var et=arguments.length,Ge=new Array(et>1?et-1:0),$e=1;$e<et;$e++)Ge[$e-1]=arguments[$e];var ze=Be.length===1?Be[0]:Ge.reduce(function(xt,bt,lt){return xt+function(Ze){if(Ze._$cssResult$===!0)return Ze.cssText;if(typeof Ze=="number")return Ze;throw Error("Value passed to 'css' function must be a 'css' function result: "+Ze+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(bt)+Be[lt+1]},Be[0]);return new D(ze,Be,M)},Q=C?function(Be){return Be}:function(Ue){return _instanceof(Ue,CSSStyleSheet)?function(Be){var et,Ge="",$e=function(ze,xt){var bt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(!bt){if(Array.isArray(ze)||(bt=function(Bt,ut){if(Bt){if(typeof Bt=="string")return c(Bt,ut);var Y={}.toString.call(Bt).slice(8,-1);return Y==="Object"&&Bt.constructor&&(Y=Bt.constructor.name),Y==="Map"||Y==="Set"?Array.from(Bt):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?c(Bt,ut):void 0}}(ze))||xt&&ze&&typeof ze.length=="number"){bt&&(ze=bt);var lt=0,Ze=function(){};return{s:Ze,n:function(){return lt>=ze.length?{done:!0}:{done:!1,value:ze[lt++]}},e:function(ut){throw ut},f:Ze}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var dt,$t=!0,qt=!1;return{s:function(){bt=bt.call(ze)},n:function(){var ut=bt.next();return $t=ut.done,ut},e:function(ut){qt=!0,dt=ut},f:function(){try{$t||bt.return==null||bt.return()}finally{if(qt)throw dt}}}}(Be.cssRules);try{for($e.s();!(et=$e.n()).done;)Ge+=et.value.cssText}catch(ze){$e.e(ze)}finally{$e.f()}return function(ze){return new D(typeof ze=="string"?ze:ze+"",void 0,M)}(Ge)}(Ue):Ue};function W(Ue){return W=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(et){return typeof et=="undefined"?"undefined":_typeof(et)}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be=="undefined"?"undefined":_typeof(Be)},W(Ue)}function me(){me=function(){return Be};var Ue,Be={},et=Object.prototype,Ge=et.hasOwnProperty,$e=Object.defineProperty||function(We,Je,Tt){We[Je]=Tt.value},ze=typeof Symbol=="function"?Symbol:{},xt=ze.iterator||"@@iterator",bt=ze.asyncIterator||"@@asyncIterator",lt=ze.toStringTag||"@@toStringTag";function Ze(We,Je,Tt){return Object.defineProperty(We,Je,{value:Tt,enumerable:!0,configurable:!0,writable:!0}),We[Je]}try{Ze({},"")}catch(We){Ze=function(Tt,It,Nt){return Tt[It]=Nt}}function dt(We,Je,Tt,It){var Nt=Je&&_instanceof(Je.prototype,Ft)?Je:Ft,Lt=Object.create(Nt.prototype),Rt=new He(It||[]);return $e(Lt,"_invoke",{value:se(We,Tt,Rt)}),Lt}function $t(We,Je,Tt){try{return{type:"normal",arg:We.call(Je,Tt)}}catch(It){return{type:"throw",arg:It}}}Be.wrap=dt;var qt="suspendedStart",Bt="suspendedYield",ut="executing",Y="completed",Kt={};function Ft(){}function Xt(){}function R(){}var nt={};Ze(nt,xt,function(){return this});var je=Object.getPrototypeOf,ue=je&&je(je(qe([])));ue&&ue!==et&&Ge.call(ue,xt)&&(nt=ue);var J=R.prototype=Ft.prototype=Object.create(nt);function K(We){["next","throw","return"].forEach(function(Je){Ze(We,Je,function(Tt){return this._invoke(Je,Tt)})})}function Z(We,Je){function Tt(Nt,Lt,Rt,sn){var ln=$t(We[Nt],We,Lt);if(ln.type!=="throw"){var jt=ln.arg,rn=jt.value;return rn&&W(rn)=="object"&&Ge.call(rn,"__await")?Je.resolve(rn.__await).then(function(Qt){Tt("next",Qt,Rt,sn)},function(Qt){Tt("throw",Qt,Rt,sn)}):Je.resolve(rn).then(function(Qt){jt.value=Qt,Rt(jt)},function(Qt){return Tt("throw",Qt,Rt,sn)})}sn(ln.arg)}var It;$e(this,"_invoke",{value:function(Lt,Rt){function sn(){return new Je(function(ln,jt){Tt(Lt,Rt,ln,jt)})}return It=It?It.then(sn,sn):sn()}})}function se(We,Je,Tt){var It=qt;return function(Nt,Lt){if(It===ut)throw Error("Generator is already running");if(It===Y){if(Nt==="throw")throw Lt;return{value:Ue,done:!0}}for(Tt.method=Nt,Tt.arg=Lt;;){var Rt=Tt.delegate;if(Rt){var sn=he(Rt,Tt);if(sn){if(sn===Kt)continue;return sn}}if(Tt.method==="next")Tt.sent=Tt._sent=Tt.arg;else if(Tt.method==="throw"){if(It===qt)throw It=Y,Tt.arg;Tt.dispatchException(Tt.arg)}else Tt.method==="return"&&Tt.abrupt("return",Tt.arg);It=ut;var ln=$t(We,Je,Tt);if(ln.type==="normal"){if(It=Tt.done?Y:Bt,ln.arg===Kt)continue;return{value:ln.arg,done:Tt.done}}ln.type==="throw"&&(It=Y,Tt.method="throw",Tt.arg=ln.arg)}}}function he(We,Je){var Tt=Je.method,It=We.iterator[Tt];if(It===Ue)return Je.delegate=null,Tt==="throw"&&We.iterator.return&&(Je.method="return",Je.arg=Ue,he(We,Je),Je.method==="throw")||Tt!=="return"&&(Je.method="throw",Je.arg=new TypeError("The iterator does not provide a '"+Tt+"' method")),Kt;var Nt=$t(It,We.iterator,Je.arg);if(Nt.type==="throw")return Je.method="throw",Je.arg=Nt.arg,Je.delegate=null,Kt;var Lt=Nt.arg;return Lt?Lt.done?(Je[We.resultName]=Lt.value,Je.next=We.nextLoc,Je.method!=="return"&&(Je.method="next",Je.arg=Ue),Je.delegate=null,Kt):Lt:(Je.method="throw",Je.arg=new TypeError("iterator result is not an object"),Je.delegate=null,Kt)}function Ae(We){var Je={tryLoc:We[0]};1 in We&&(Je.catchLoc=We[1]),2 in We&&(Je.finallyLoc=We[2],Je.afterLoc=We[3]),this.tryEntries.push(Je)}function Te(We){var Je=We.completion||{};Je.type="normal",delete Je.arg,We.completion=Je}function He(We){this.tryEntries=[{tryLoc:"root"}],We.forEach(Ae,this),this.reset(!0)}function qe(We){if(We||We===""){var Je=We[xt];if(Je)return Je.call(We);if(typeof We.next=="function")return We;if(!isNaN(We.length)){var Tt=-1,It=function Nt(){for(;++Tt<We.length;)if(Ge.call(We,Tt))return Nt.value=We[Tt],Nt.done=!1,Nt;return Nt.value=Ue,Nt.done=!0,Nt};return It.next=It}}throw new TypeError(W(We)+" is not iterable")}return Xt.prototype=R,$e(J,"constructor",{value:R,configurable:!0}),$e(R,"constructor",{value:Xt,configurable:!0}),Xt.displayName=Ze(R,lt,"GeneratorFunction"),Be.isGeneratorFunction=function(We){var Je=typeof We=="function"&&We.constructor;return!!Je&&(Je===Xt||(Je.displayName||Je.name)==="GeneratorFunction")},Be.mark=function(We){return Object.setPrototypeOf?Object.setPrototypeOf(We,R):(We.__proto__=R,Ze(We,lt,"GeneratorFunction")),We.prototype=Object.create(J),We},Be.awrap=function(We){return{__await:We}},K(Z.prototype),Ze(Z.prototype,bt,function(){return this}),Be.AsyncIterator=Z,Be.async=function(We,Je,Tt,It,Nt){Nt===void 0&&(Nt=Promise);var Lt=new Z(dt(We,Je,Tt,It),Nt);return Be.isGeneratorFunction(Je)?Lt:Lt.next().then(function(Rt){return Rt.done?Rt.value:Lt.next()})},K(J),Ze(J,lt,"Generator"),Ze(J,xt,function(){return this}),Ze(J,"toString",function(){return"[object Generator]"}),Be.keys=function(We){var Je=Object(We),Tt=[];for(var It in Je)Tt.push(It);return Tt.reverse(),function Nt(){for(;Tt.length;){var Lt=Tt.pop();if(Lt in Je)return Nt.value=Lt,Nt.done=!1,Nt}return Nt.done=!0,Nt}},Be.values=qe,He.prototype={constructor:He,reset:function(Je){if(this.prev=0,this.next=0,this.sent=this._sent=Ue,this.done=!1,this.delegate=null,this.method="next",this.arg=Ue,this.tryEntries.forEach(Te),!Je)for(var Tt in this)Tt.charAt(0)==="t"&&Ge.call(this,Tt)&&!isNaN(+Tt.slice(1))&&(this[Tt]=Ue)},stop:function(){this.done=!0;var Je=this.tryEntries[0].completion;if(Je.type==="throw")throw Je.arg;return this.rval},dispatchException:function(Je){if(this.done)throw Je;var Tt=this;function It(jt,rn){return Rt.type="throw",Rt.arg=Je,Tt.next=jt,rn&&(Tt.method="next",Tt.arg=Ue),!!rn}for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var Lt=this.tryEntries[Nt],Rt=Lt.completion;if(Lt.tryLoc==="root")return It("end");if(Lt.tryLoc<=this.prev){var sn=Ge.call(Lt,"catchLoc"),ln=Ge.call(Lt,"finallyLoc");if(sn&&ln){if(this.prev<Lt.catchLoc)return It(Lt.catchLoc,!0);if(this.prev<Lt.finallyLoc)return It(Lt.finallyLoc)}else if(sn){if(this.prev<Lt.catchLoc)return It(Lt.catchLoc,!0)}else{if(!ln)throw Error("try statement without catch or finally");if(this.prev<Lt.finallyLoc)return It(Lt.finallyLoc)}}}},abrupt:function(Je,Tt){for(var It=this.tryEntries.length-1;It>=0;--It){var Nt=this.tryEntries[It];if(Nt.tryLoc<=this.prev&&Ge.call(Nt,"finallyLoc")&&this.prev<Nt.finallyLoc){var Lt=Nt;break}}Lt&&(Je==="break"||Je==="continue")&&Lt.tryLoc<=Tt&&Tt<=Lt.finallyLoc&&(Lt=null);var Rt=Lt?Lt.completion:{};return Rt.type=Je,Rt.arg=Tt,Lt?(this.method="next",this.next=Lt.finallyLoc,Kt):this.complete(Rt)},complete:function(Je,Tt){if(Je.type==="throw")throw Je.arg;return Je.type==="break"||Je.type==="continue"?this.next=Je.arg:Je.type==="return"?(this.rval=this.arg=Je.arg,this.method="return",this.next="end"):Je.type==="normal"&&Tt&&(this.next=Tt),Kt},finish:function(Je){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var It=this.tryEntries[Tt];if(It.finallyLoc===Je)return this.complete(It.completion,It.afterLoc),Te(It),Kt}},catch:function(Je){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var It=this.tryEntries[Tt];if(It.tryLoc===Je){var Nt=It.completion;if(Nt.type==="throw"){var Lt=Nt.arg;Te(It)}return Lt}}throw Error("illegal catch attempt")},delegateYield:function(Je,Tt,It){return this.delegate={iterator:qe(Je),resultName:Tt,nextLoc:It},this.method==="next"&&(this.arg=Ue),Kt}},Be}function oe(Ue){var Be=typeof Map=="function"?new Map:void 0;return oe=function(Ge){if(Ge===null||!function(ze){try{return Function.toString.call(ze).indexOf("[native code]")!==-1}catch(xt){return typeof ze=="function"}}(Ge))return Ge;if(typeof Ge!="function")throw new TypeError("Super expression must either be null or a function");if(Be!==void 0){if(Be.has(Ge))return Be.get(Ge);Be.set(Ge,$e)}function $e(){return function(ze,xt,bt){if(q())return Reflect.construct.apply(null,arguments);var lt=[null];lt.push.apply(lt,xt);var Ze=new(ze.bind.apply(ze,lt));return bt&&ee(Ze,bt.prototype),Ze}(Ge,arguments,we(this).constructor)}return $e.prototype=Object.create(Ge.prototype,{constructor:{value:$e,enumerable:!1,writable:!0,configurable:!0}}),ee($e,Ge)},oe(Ue)}function q(){try{var Ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Be){}return(q=function(){return!!Ue})()}function ee(Ue,Be){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ge,$e){return Ge.__proto__=$e,Ge},ee(Ue,Be)}function we(Ue){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},we(Ue)}var ie=window,le=ie.trustedTypes,ye=le?le.emptyScript:"",Ee=ie.reactiveElementPolyfillSupport,fe={toAttribute:function(Be,et){switch(et){case Boolean:Be=Be?ye:null;break;case Object:case Array:Be=Be==null?Be:JSON.stringify(Be)}return Be},fromAttribute:function(Be,et){var Ge=Be;switch(et){case Boolean:Ge=Be!==null;break;case Number:Ge=Be===null?null:Number(Be);break;case Object:case Array:try{Ge=JSON.parse(Be)}catch($e){Ge=null}}return Ge}},rt=function(Be,et){return et!==Be&&(et==et||Be==Be)},ct={attribute:!0,type:String,converter:fe,reflect:!1,hasChanged:rt},Ot="finalized",_t=function(Ue){function Be(){var Ge;return function($e,ze){if(!_instanceof($e,ze))throw new TypeError("Cannot call a class as a function")}(this,Be),(Ge=function($e,ze,xt){return ze=we(ze),function(bt,lt){if(lt&&(W(lt)=="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ze){if(Ze===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ze}(bt)}($e,q()?Reflect.construct(ze,xt||[],we($e).constructor):ze.apply($e,xt))}(this,Be))._$Ei=new Map,Ge.isUpdatePending=!1,Ge.hasUpdated=!1,Ge._$El=null,Ge._$Eu(),Ge}return function(Ge,$e){if(typeof $e!="function"&&$e!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create($e&&$e.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),$e&&ee(Ge,$e)}(Be,Ue),function(Ge,$e,ze){return $e&&A(Ge.prototype,$e),ze&&A(Ge,ze),Object.defineProperty(Ge,"prototype",{writable:!1}),Ge}(Be,[{key:"_$Eu",value:function(){var $e,ze=this;this._$E_=new Promise(function(xt){return ze.enableUpdating=xt}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),($e=this.constructor.h)===null||$e===void 0||$e.forEach(function(xt){return xt(ze)})}},{key:"addController",value:function($e){var ze,xt;((ze=this._$ES)!==null&&ze!==void 0?ze:this._$ES=[]).push($e),this.renderRoot!==void 0&&this.isConnected&&((xt=$e.hostConnected)===null||xt===void 0||xt.call($e))}},{key:"removeController",value:function($e){var ze;(ze=this._$ES)===null||ze===void 0||ze.splice(this._$ES.indexOf($e)>>>0,1)}},{key:"_$Eg",value:function(){var $e=this;this.constructor.elementProperties.forEach(function(ze,xt){$e.hasOwnProperty(xt)&&($e._$Ei.set(xt,$e[xt]),delete $e[xt])})}},{key:"createRenderRoot",value:function(){var $e,ze=($e=this.shadowRoot)!==null&&$e!==void 0?$e:this.attachShadow(this.constructor.shadowRootOptions);return function(xt,bt){C?xt.adoptedStyleSheets=bt.map(function(lt){return _instanceof(lt,CSSStyleSheet)?lt:lt.styleSheet}):bt.forEach(function(lt){var Ze=document.createElement("style"),dt=w.litNonce;dt!==void 0&&Ze.setAttribute("nonce",dt),Ze.textContent=lt.cssText,xt.appendChild(Ze)})}(ze,this.constructor.elementStyles),ze}},{key:"connectedCallback",value:function(){var $e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),($e=this._$ES)===null||$e===void 0||$e.forEach(function(ze){var xt;return(xt=ze.hostConnected)===null||xt===void 0?void 0:xt.call(ze)})}},{key:"enableUpdating",value:function($e){}},{key:"disconnectedCallback",value:function(){var $e;($e=this._$ES)===null||$e===void 0||$e.forEach(function(ze){var xt;return(xt=ze.hostDisconnected)===null||xt===void 0?void 0:xt.call(ze)})}},{key:"attributeChangedCallback",value:function($e,ze,xt){this._$AK($e,xt)}},{key:"_$EO",value:function($e,ze){var xt,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct,lt=this.constructor._$Ep($e,bt);if(lt!==void 0&&bt.reflect===!0){var Ze=(((xt=bt.converter)===null||xt===void 0?void 0:xt.toAttribute)!==void 0?bt.converter:fe).toAttribute(ze,bt.type);this._$El=$e,Ze==null?this.removeAttribute(lt):this.setAttribute(lt,Ze),this._$El=null}}},{key:"_$AK",value:function($e,ze){var xt,bt=this.constructor,lt=bt._$Ev.get($e);if(lt!==void 0&&this._$El!==lt){var Ze=bt.getPropertyOptions(lt),dt=typeof Ze.converter=="function"?{fromAttribute:Ze.converter}:((xt=Ze.converter)===null||xt===void 0?void 0:xt.fromAttribute)!==void 0?Ze.converter:fe;this._$El=lt,this[lt]=dt.fromAttribute(ze,Ze.type),this._$El=null}}},{key:"requestUpdate",value:function($e,ze,xt){var bt=!0;$e!==void 0&&(((xt=xt||this.constructor.getPropertyOptions($e)).hasChanged||rt)(this[$e],ze)?(this._$AL.has($e)||this._$AL.set($e,ze),xt.reflect===!0&&this._$El!==$e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set($e,xt))):bt=!1),!this.isUpdatePending&&bt&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(et=function(Ge){return function(){var $e=this,ze=arguments;return new Promise(function(xt,bt){var lt=Ge.apply($e,ze);function Ze($t){S(lt,xt,bt,Ze,dt,"next",$t)}function dt($t){S(lt,xt,bt,Ze,dt,"throw",$t)}Ze(void 0)})}}(me().mark(function Ge(){var $e;return me().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return this.isUpdatePending=!0,ze.prev=1,ze.next=4,this._$E_;case 4:ze.next=9;break;case 6:ze.prev=6,ze.t0=ze.catch(1),Promise.reject(ze.t0);case 9:if($e=this.scheduleUpdate(),ze.t1=$e!=null,!ze.t1){ze.next=14;break}return ze.next=14,$e;case 14:return ze.abrupt("return",!this.isUpdatePending);case 15:case"end":return ze.stop()}},Ge,this,[[1,6]])})),function(){return et.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var $e,ze=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(lt,Ze){return ze[Ze]=lt}),this._$Ei=void 0);var xt=!1,bt=this._$AL;try{(xt=this.shouldUpdate(bt))?(this.willUpdate(bt),($e=this._$ES)===null||$e===void 0||$e.forEach(function(lt){var Ze;return(Ze=lt.hostUpdate)===null||Ze===void 0?void 0:Ze.call(lt)}),this.update(bt)):this._$Ek()}catch(lt){throw xt=!1,this._$Ek(),lt}xt&&this._$AE(bt)}}},{key:"willUpdate",value:function($e){}},{key:"_$AE",value:function($e){var ze;(ze=this._$ES)===null||ze===void 0||ze.forEach(function(xt){var bt;return(bt=xt.hostUpdated)===null||bt===void 0?void 0:bt.call(xt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated($e)),this.updated($e)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function($e){return!0}},{key:"update",value:function($e){var ze=this;this._$EC!==void 0&&(this._$EC.forEach(function(xt,bt){return ze._$EO(bt,ze[bt],xt)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function($e){}},{key:"firstUpdated",value:function($e){}}],[{key:"addInitializer",value:function($e){var ze;this.finalize(),((ze=this.h)!==null&&ze!==void 0?ze:this.h=[]).push($e)}},{key:"observedAttributes",get:function(){var $e=this;this.finalize();var ze=[];return this.elementProperties.forEach(function(xt,bt){var lt=$e._$Ep(bt,xt);lt!==void 0&&($e._$Ev.set(lt,bt),ze.push(lt))}),ze}},{key:"createProperty",value:function($e){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ct;if(ze.state&&(ze.attribute=!1),this.finalize(),this.elementProperties.set($e,ze),!ze.noAccessor&&!this.prototype.hasOwnProperty($e)){var xt=W($e)=="symbol"?Symbol():"__"+$e,bt=this.getPropertyDescriptor($e,xt,ze);bt!==void 0&&Object.defineProperty(this.prototype,$e,bt)}}},{key:"getPropertyDescriptor",value:function($e,ze,xt){return{get:function(){return this[ze]},set:function(lt){var Ze=this[$e];this[ze]=lt,this.requestUpdate($e,Ze,xt)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function($e){return this.elementProperties.get($e)||ct}},{key:"finalize",value:function(){if(this.hasOwnProperty(Ot))return!1;this[Ot]=!0;var $e=Object.getPrototypeOf(this);if($e.finalize(),$e.h!==void 0&&(this.h=v($e.h)),this.elementProperties=new Map($e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var ze,xt=this.properties,bt=p([].concat(v(Object.getOwnPropertyNames(xt)),v(Object.getOwnPropertySymbols(xt))));try{for(bt.s();!(ze=bt.n()).done;){var lt=ze.value;this.createProperty(lt,xt[lt])}}catch(Ze){bt.e(Ze)}finally{bt.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function($e){var ze=[];if(Array.isArray($e)){var xt,bt=p(new Set($e.flat(1/0).reverse()));try{for(bt.s();!(xt=bt.n()).done;){var lt=xt.value;ze.unshift(Q(lt))}}catch(Ze){bt.e(Ze)}finally{bt.f()}}else $e!==void 0&&ze.push(Q($e));return ze}},{key:"_$Ep",value:function($e,ze){var xt=ze.attribute;return xt===!1?void 0:typeof xt=="string"?xt:typeof $e=="string"?$e.toLowerCase():void 0}}]);var et}(oe(HTMLElement));_t[Ot]=!0,_t.elementProperties=new Map,_t.elementStyles=[],_t.shadowRootOptions={mode:"open"},Ee==null||Ee({ReactiveElement:_t}),((y=ie.reactiveElementVersions)!==null&&y!==void 0?y:ie.reactiveElementVersions=[]).push("1.6.3");var De,be,Xe=r(6681);function Ne(Ue){return Ne=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(et){return typeof et=="undefined"?"undefined":_typeof(et)}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be=="undefined"?"undefined":_typeof(Be)},Ne(Ue)}function Qe(){try{var Ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Be){}return(Qe=function(){return!!Ue})()}function Me(){return Me=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(Be,et,Ge){var $e=function(xt,bt){for(;!{}.hasOwnProperty.call(xt,bt)&&(xt=Ve(xt))!==null;);return xt}(Be,et);if($e){var ze=Object.getOwnPropertyDescriptor($e,et);return ze.get?ze.get.call(arguments.length<3?Be:Ge):ze.value}},Me.apply(null,arguments)}function Ve(Ue){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},Ve(Ue)}function st(Ue,Be){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ge,$e){return Ge.__proto__=$e,Ge},st(Ue,Be)}r(3851),r(888),r(2480);var gt=function(Ue){function Be(){var et;return function(Ge,$e){if(!_instanceof(Ge,$e))throw new TypeError("Cannot call a class as a function")}(this,Be),(et=b(this,Be,arguments)).renderOptions={host:u(et)},et._$Do=void 0,et}return function(et,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(Ge&&Ge.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),Ge&&st(et,Ge)}(Be,Ue),function(et,Ge,$e){return Ge&&O(et.prototype,Ge),Object.defineProperty(et,"prototype",{writable:!1}),et}(Be,[{key:"createRenderRoot",value:function(){var Ge,$e,ze=f(Be,"createRenderRoot",this,3)([]);return(Ge=($e=this.renderOptions).renderBefore)!==null&&Ge!==void 0||($e.renderBefore=ze.firstChild),ze}},{key:"update",value:function(Ge){var $e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),f(Be,"update",this,3)([Ge]),this._$Do=(0,Xe.XX)($e,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var Ge;f(Be,"connectedCallback",this,3)([]),(Ge=this._$Do)===null||Ge===void 0||Ge.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var Ge;f(Be,"disconnectedCallback",this,3)([]),(Ge=this._$Do)===null||Ge===void 0||Ge.setConnected(!1)}},{key:"render",value:function(){return Xe.c0}}])}(_t);gt.finalized=!0,gt._$litElement$=!0,(De=globalThis.litElementHydrateSupport)===null||De===void 0||De.call(globalThis,{LitElement:gt});var Mt=globalThis.litElementPolyfillSupport;Mt==null||Mt({LitElement:gt}),((be=globalThis.litElementVersions)!==null&&be!==void 0?be:globalThis.litElementVersions=[]).push("3.3.3")}},t={};function o(s){var a=t[s];if(a!==void 0)return a.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,n=[],o.O=function(s,a,r,c){if(!a){var d=1/0;for(x=0;x<n.length;x++){var h=function(S,A){(!1&c||d>=c)&&Object.keys(o.O).every(function(E){return o.O[E](a[A])})?a.splice(A--,1):(S=!1,c<d&&(d=c)),p=S,v=A};a=n[x][0],r=n[x][1],c=n[x][2];for(var p=!0,v=0;v<a.length;v++)h(p,v);if(p){n.splice(x--,1);var k=r();k!==void 0&&(s=k)}}return s}c=c||0;for(var x=n.length;x>0&&n[x-1][2]>c;x--)n[x]=n[x-1];n[x]=[a,r,c]},o.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(a,{a:a}),a},o.d=function(s,a){for(var r in a)o.o(a,r)&&!o.o(s,r)&&Object.defineProperty(s,r,{enumerable:!0,get:a[r]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(s){if(typeof window=="object")return window}}(),o.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},o.r=function(s){(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.nmd=function(s){return s.paths=[],s.children||(s.children=[]),s},function(){var s={340:0};o.O.j=function(c){return s[c]===0};var a=function(d,h){var p,v,k=h[0],x=h[1],S=h[2],A=0;if(k.some(function(O){return s[O]!==0})){for(p in x)o.o(x,p)&&(o.m[p]=x[p]);if(S)var E=S(o)}for(d&&d(h);A<k.length;A++)v=k[A],o.o(s,v)&&s[v]&&s[v][0](),s[v]=0;return o.O(E)},r=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var l={};(function(){"use strict";var s=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,a(G.key),G)}},a=function(L){var N=function(F,G){if(Nt(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(Nt(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return Nt(N)=="symbol"?N:N+""},r=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},c=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,d(G.key),G)}},d=function(L){var N=function(F,G){if(ur(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(ur(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return ur(N)=="symbol"?N:N+""},h=function(L,N,F,G){var ve=window.screenLeft!=null?window.screenLeft:screen.left,Se=window.screenTop!=null?window.screenTop:screen.top,it=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-N/2+ve,Pt=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-F/2+Se,ft="status=1,width=".concat(N,",height=").concat(F,",top=").concat(Pt,",left=").concat(it);window.open(L,G,ft)},p=function(L,N){var F=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!F){if(Array.isArray(L)||(F=function(ft,fn){if(ft){if(typeof ft=="string")return v(ft,fn);var cn={}.toString.call(ft).slice(8,-1);return cn==="Object"&&ft.constructor&&(cn=ft.constructor.name),cn==="Map"||cn==="Set"?Array.from(ft):cn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cn)?v(ft,fn):void 0}}(L))||N&&L&&typeof L.length=="number"){F&&(L=F);var G=0,ve=function(){};return{s:ve,n:function(){return G>=L.length?{done:!0}:{done:!1,value:L[G++]}},e:function(fn){throw fn},f:ve}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Se,it=!0,Pt=!1;return{s:function(){F=F.call(L)},n:function(){var fn=F.next();return it=fn.done,fn},e:function(fn){Pt=!0,Se=fn},f:function(){try{it||F.return==null||F.return()}finally{if(Pt)throw Se}}}},v=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},k=function(L,N){if(!_instanceof(L,N))throw new TypeError("Cannot call a class as a function")},x=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,A(G.key),G)}},S=function(L,N,F){return N&&x(L.prototype,N),F&&x(L,F),Object.defineProperty(L,"prototype",{writable:!1}),L},A=function(L){var N=function(F,G){if(tr(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(tr(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return tr(N)=="symbol"?N:N+""},E=function(L,N,F,G,ve,Se,it){try{var Pt=L[Se](it),ft=Pt.value}catch(fn){return void F(fn)}Pt.done?N(ft):Promise.resolve(ft).then(G,ve)},O=function(L){return function(){var N=this,F=arguments;return new Promise(function(G,ve){var Se=L.apply(N,F);function it(ft){E(Se,G,ve,it,Pt,"next",ft)}function Pt(ft){E(Se,G,ve,it,Pt,"throw",ft)}it(void 0)})}},T=function(L,N){if(!_instanceof(L,N))throw new TypeError("Cannot call a class as a function")},b=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,m(G.key),G)}},u=function(L,N,F){return N&&b(L.prototype,N),F&&b(L,F),Object.defineProperty(L,"prototype",{writable:!1}),L},f=function(L,N,F){return(N=m(N))in L?Object.defineProperty(L,N,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[N]=F,L},m=function(L){var N=function(F,G){if(At(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(At(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return At(N)=="symbol"?N:N+""},y=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,C(G.key),G)}},w=function(L,N,F){return(N=C(N))in L?Object.defineProperty(L,N,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[N]=F,L},C=function(L){var N=function(F,G){if($n(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if($n(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return $n(N)=="symbol"?N:N+""},M=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,I(G.key),G)}},I=function(L){var N=function(F,G){if(ar(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(ar(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return ar(N)=="symbol"?N:N+""},D=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,W(G.key),G)}},z=function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),Object.defineProperty(L,"prototype",{writable:!1}),L},Q=function(L,N,F){return(N=W(N))in L?Object.defineProperty(L,N,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[N]=F,L},W=function(L){var N=function(F,G){if(yi(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(yi(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return yi(N)=="symbol"?N:N+""},me=function(L){return function(N){if(Array.isArray(N))return rt(N)}(L)||ct(L)||fe(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},oe=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,Ee(G.key),G)}},q=function(L,N,F){return N=Un(N),function(G,ve){if(ve&&(pt(ve)=="object"||typeof ve=="function"))return ve;if(ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Se){if(Se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se}(G)}(L,tt()?Reflect.construct(N,F||[],Un(L).constructor):N.apply(L,F))},ee=function(L){var N,F=Ee(L.key);L.kind==="method"?N={value:L.value,writable:!0,configurable:!0,enumerable:!1}:L.kind==="get"?N={get:L.value,configurable:!0,enumerable:!1}:L.kind==="set"?N={set:L.value,configurable:!0,enumerable:!1}:L.kind==="field"&&(N={configurable:!0,writable:!0,enumerable:!0});var G={kind:L.kind==="field"?"field":"method",key:F,placement:L.static?"static":L.kind==="field"?"own":"prototype",descriptor:N};return L.decorators&&(G.decorators=L.decorators),L.kind==="field"&&(G.initializer=L.value),G},we=function(L,N){L.descriptor.get!==void 0?N.descriptor.get=L.descriptor.get:N.descriptor.set=L.descriptor.set},ie=function(L){return L.decorators&&L.decorators.length},le=function(L){return L!==void 0&&!(L.value===void 0&&L.writable===void 0)},ye=function(L,N){var F=L[N];if(F!==void 0&&typeof F!="function")throw new TypeError("Expected '"+N+"' to be a function");return F},Ee=function(L){var N=function(F,G){if(pt(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(pt(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return pt(N)=="symbol"?N:N+""},fe=function(L,N){if(L){if(typeof L=="string")return rt(L,N);var F={}.toString.call(L).slice(8,-1);return F==="Object"&&L.constructor&&(F=L.constructor.name),F==="Map"||F==="Set"?Array.from(L):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?rt(L,N):void 0}},rt=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},ct=function(L){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)},Ot=function(L,N,F,G){var ve=hn(Un(1&G?L.prototype:L),N,F);return 2&G&&typeof ve=="function"?function(Se){return ve.apply(F,Se)}:ve},_t=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,be(G.key),G)}},De=function(L,N,F){return(N=be(N))in L?Object.defineProperty(L,N,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[N]=F,L},be=function(L){var N=function(F,G){if(Yi(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(Yi(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return Yi(N)=="symbol"?N:N+""},Xe=function(L,N){return L.split(" ").map(function(F){return F+N}).join(" ")},Ne=function(L){var N,F;return L.clientX!==void 0?(N=L.clientX,F=L.clientY):L.screenX!==void 0?(N=L.screenX,F=L.screenY):L.targetTouches!==void 0?(N=L.targetTouches[0].pageX,F=L.targetTouches[0].pageY):L.originalEvent===void 0?console.error("don't understand x and y for "+L.type,L):L.originalEvent.clientX!==void 0?(N=L.originalEvent.clientX,F=L.originalEvent.clientY):L.originalEvent.screenX!==void 0?(N=L.originalEvent.screenX,F=L.originalEvent.screenY):L.originalEvent.targetTouches!==void 0&&(N=L.originalEvent.targetTouches[0].pageX,F=L.originalEvent.targetTouches[0].pageY),{left:N,top:F}},Qe=function(L,N,F,G,ve,Se,it){try{var Pt=L[Se](it),ft=Pt.value}catch(fn){return void F(fn)}Pt.done?N(ft):Promise.resolve(ft).then(G,ve)},Me=function(L){return function(){var N=this,F=arguments;return new Promise(function(G,ve){var Se=L.apply(N,F);function it(ft){Qe(Se,G,ve,it,Pt,"next",ft)}function Pt(ft){Qe(Se,G,ve,it,Pt,"throw",ft)}it(void 0)})}},Ve=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,st(G.key),G)}},st=function(L){var N=function(F,G){if(pn(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(pn(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return pn(N)=="symbol"?N:N+""},gt=function(L,N){return N||(N=L.slice(0)),Object.freeze(Object.defineProperties(L,{raw:{value:Object.freeze(N)}}))},Mt=function(L,N,F,G,ve,Se,it){try{var Pt=L[Se](it),ft=Pt.value}catch(fn){return void F(fn)}Pt.done?N(ft):Promise.resolve(ft).then(G,ve)},Ue=function(L){return function(){var N=this,F=arguments;return new Promise(function(G,ve){var Se=L.apply(N,F);function it(ft){Mt(Se,G,ve,it,Pt,"next",ft)}function Pt(ft){Mt(Se,G,ve,it,Pt,"throw",ft)}it(void 0)})}},Be=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,qt(G.key),G)}},et=function(L,N,F){return N&&Be(L.prototype,N),F&&Be(L,F),Object.defineProperty(L,"prototype",{writable:!1}),L},Ge=function(L,N){if(!_instanceof(L,N))throw new TypeError("Cannot call a class as a function")},$e=function(L,N,F){return N=Gi(N),function(G,ve){if(ve&&(Po(ve)=="object"||typeof ve=="function"))return ve;if(ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Se){if(Se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se}(G)}(L,oo()?Reflect.construct(N,F||[],Gi(L).constructor):N.apply(L,F))},ze=function(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),N&&ao(L,N)},xt=function(L,N,F,G){var ve=xs();if(G)for(var Se=0;Se<G.length;Se++)ve=G[Se](ve);var it=N(function(ft){ve.initializeInstanceElements(ft,Pt.elements)},F),Pt=ve.decorateClass(function(ft){for(var fn=[],cn=function(Pn){return Pn.kind==="method"&&Pn.key===In.key&&Pn.placement===In.placement},En=0;En<ft.length;En++){var Wn,In=ft[En];if(In.kind==="method"&&(Wn=fn.find(cn)))if(dt(In.descriptor)||dt(Wn.descriptor)){if(Ze(In)||Ze(Wn))throw new ReferenceError("Duplicated methods ("+In.key+") can't be decorated.");Wn.descriptor=In.descriptor}else{if(Ze(In)){if(Ze(Wn))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+In.key+").");Wn.decorators=In.decorators}lt(In,Wn)}else fn.push(In)}return fn}(it.d.map(bt)),L);return ve.initializeClassElements(it.F,Pt.elements),ve.runClassFinishers(it.F,Pt.finishers)},bt=function(L){var N,F=qt(L.key);L.kind==="method"?N={value:L.value,writable:!0,configurable:!0,enumerable:!1}:L.kind==="get"?N={get:L.value,configurable:!0,enumerable:!1}:L.kind==="set"?N={set:L.value,configurable:!0,enumerable:!1}:L.kind==="field"&&(N={configurable:!0,writable:!0,enumerable:!0});var G={kind:L.kind==="field"?"field":"method",key:F,placement:L.static?"static":L.kind==="field"?"own":"prototype",descriptor:N};return L.decorators&&(G.decorators=L.decorators),L.kind==="field"&&(G.initializer=L.value),G},lt=function(L,N){L.descriptor.get!==void 0?N.descriptor.get=L.descriptor.get:N.descriptor.set=L.descriptor.set},Ze=function(L){return L.decorators&&L.decorators.length},dt=function(L){return L!==void 0&&!(L.value===void 0&&L.writable===void 0)},$t=function(L,N){var F=L[N];if(F!==void 0&&typeof F!="function")throw new TypeError("Expected '"+N+"' to be a function");return F},qt=function(L){var N=function(F,G){if(Po(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(Po(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return Po(N)=="symbol"?N:N+""},Bt=function(L,N){if(L){if(typeof L=="string")return ut(L,N);var F={}.toString.call(L).slice(8,-1);return F==="Object"&&L.constructor&&(F=L.constructor.name),F==="Map"||F==="Set"?Array.from(L):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?ut(L,N):void 0}},ut=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},Y=function(L){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)},Kt=function(L,N,F,G){var ve=Ia(Gi(1&G?L.prototype:L),N,F);return 2&G&&typeof ve=="function"?function(Se){return ve.apply(F,Se)}:ve},Ft=function(L,N,F,G,ve,Se,it){try{var Pt=L[Se](it),ft=Pt.value}catch(fn){return void F(fn)}Pt.done?N(ft):Promise.resolve(ft).then(G,ve)},Xt=function(L){return function(){var N=this,F=arguments;return new Promise(function(G,ve){var Se=L.apply(N,F);function it(ft){Ft(Se,G,ve,it,Pt,"next",ft)}function Pt(ft){Ft(Se,G,ve,it,Pt,"throw",ft)}it(void 0)})}},R=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,nt(G.key),G)}},nt=function(L){var N=function(F,G){if(ko(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(ko(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return ko(N)=="symbol"?N:N+""},je=function(L,N){var F=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!F){if(Array.isArray(L)||(F=function(ft,fn){if(ft){if(typeof ft=="string")return ue(ft,fn);var cn={}.toString.call(ft).slice(8,-1);return cn==="Object"&&ft.constructor&&(cn=ft.constructor.name),cn==="Map"||cn==="Set"?Array.from(ft):cn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cn)?ue(ft,fn):void 0}}(L))||N&&L&&typeof L.length=="number"){F&&(L=F);var G=0,ve=function(){};return{s:ve,n:function(){return G>=L.length?{done:!0}:{done:!1,value:L[G++]}},e:function(fn){throw fn},f:ve}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Se,it=!0,Pt=!1;return{s:function(){F=F.call(L)},n:function(){var fn=F.next();return it=fn.done,fn},e:function(fn){Pt=!0,Se=fn},f:function(){try{it||F.return==null||F.return()}finally{if(Pt)throw Se}}}},ue=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},J=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,K(G.key),G)}},K=function(L){var N=function(F,G){if(_e(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(_e(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return _e(N)=="symbol"?N:N+""},Z=function(L){return function(N){if(Array.isArray(N))return se(N)}(L)||function(N){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}(L)||function(N,F){if(N){if(typeof N=="string")return se(N,F);var G={}.toString.call(N).slice(8,-1);return G==="Object"&&N.constructor&&(G=N.constructor.name),G==="Map"||G==="Set"?Array.from(N):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?se(N,F):void 0}}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},se=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},he=function(L,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,Ae(G.key),G)}},Ae=function(L){var N=function(F,G){if(Ke(F)!="object"||!F)return F;var ve=F[Symbol.toPrimitive];if(ve!==void 0){var Se=ve.call(F,"string");if(Ke(Se)!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(L);return Ke(N)=="symbol"?N:N+""},Te=function(L,N,F,G,ve,Se,it){try{var Pt=L[Se](it),ft=Pt.value}catch(fn){return void F(fn)}Pt.done?N(ft):Promise.resolve(ft).then(G,ve)},He=function(L){return function(){var N=this,F=arguments;return new Promise(function(G,ve){var Se=L.apply(N,F);function it(ft){Te(Se,G,ve,it,Pt,"next",ft)}function Pt(ft){Te(Se,G,ve,it,Pt,"throw",ft)}it(void 0)})}},qe=function(L,N){(N==null||N>L.length)&&(N=L.length);for(var F=0,G=Array(N);F<N;F++)G[F]=L[F];return G},We=function(L,N,F){var G,ve,Se,it,Pt,ft,fn,cn;ve=F,Se=function(Wn){return Wn.br},it=Jt,Pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F,ft=function(Wn){return Wn._overrideable[N]},fn=(G=L).prototype[ve],cn=function(){return fn.apply(ft(this),arguments)},Object.defineProperty(it.prototype,Pt,{get:function(){return cn},set:function(Wn){G.prototype[ve]=function(){var In=_instanceof(this,G)?Se(this):this;return Wn.apply(In,arguments)},cn=Wn}})};o(2675),o(9463),o(6412),o(2259),o(8125),o(8706),o(2008),o(113),o(3418),o(4423),o(3792),o(8598),o(2062),o(2712),o(4490),o(4782),o(2010),o(4731),o(479),o(875),o(9432),o(6099),o(6034),o(8940),o(3362),o(7495),o(8781),o(1699),o(7764),o(5746),o(3500),o(2953),o(8408),o(9139),o(3662),o(8497);var Je=o(6257);o(5700),o(9572),o(8130),o(8459),o(4720);var Tt={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"},It=o(1669);function Nt(X){return Nt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},Nt(X)}var Lt=function(){return X=function N(F){(function(G,ve){if(!_instanceof(G,ve))throw new TypeError("Cannot call a class as a function")})(this,N),this.br=F,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,Je.throttle)(this.updateNavIndex.bind(this),250,!1)},L=[{key:"controlFor",value:function(F){var G=this.br.options.controls[F];return G.visible?G.template?"<li>".concat(G.template(this.br),"</li>"):'<li>\n      <button class="BRicon '.concat(G.className,'" title="').concat(G.label,'">\n        <div class="icon icon-').concat(G.iconClassName,'"></div>\n        <span class="BRtooltip">').concat(G.label,"</span>\n      </button>\n    </li>"):""}},{key:"_renderControls",value:function(){var F=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(G){return F.controlFor(G)}).join("")}},{key:"_bindViewModeButton",value:function(){var F=this,G=this.br,ve=G.options.controls.viewmode,Se=[{mode:G.constMode1up,className:"onepg",title:"One-page view"},{mode:G.constMode2up,className:"twopg",title:"Two-page view"},{mode:G.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(fn){return!ve.excludedModes.includes(fn.mode)}),it=Se.map(function(fn){return fn.mode});ve.excludedModes.includes(G.mode)&&G.switchMode(it[0]);for(var Pt=it.indexOf(G.mode),ft=0;ft<=Pt;ft++)it.push(it.shift());Se.length<2&&this.$nav.find(".".concat(ve.className)).remove(),this.br.bind(Tt.PostInit,function(){var fn=F.$nav.find(".".concat(ve.className)).off(".bindNavigationHandlers").on("click",function(En){var Wn=it.shift(),In=Se.find(function(Pn){return Pn.mode===Wn}),er=Se.find(function(Pn){return Pn.mode===it[0]});it.push(Wn),G.viewModeOrder=it,F.updateViewModeButton(It(En.currentTarget),er.className,er.title),G.switchMode(In.mode)}),cn=Se.find(function(En){return En.mode===it[0]});F.updateViewModeButton(fn,cn.className,cn.title)})}},{key:"updateViewModeButton",value:function(F,G,ve){F.attr("title",ve).find(".icon").removeClass().addClass("icon icon-".concat(G)).end().find(".BRtooltip").text(ve)}},{key:"switchNavbarControls",value:function(){this.br.options.bookType!=="linerNotes"&&(this.br.refs.$brContainer.prop("clientWidth")<640?this.showMinimumNavbarControls():this.showMaximumNavbarControls())}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(F){var G=document.querySelector(".controls .".concat(F));G&&G.classList.remove("hide")}),this.maximumControls.forEach(function(F){var G=document.querySelector(".controls .".concat(F));G&&G.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(F){var G=document.querySelector(".controls .".concat(F));G&&G.classList.remove("hide")}),this.minimumControls.forEach(function(F){var G=document.querySelector(".controls .".concat(F));G&&G.classList.add("hide")})}},{key:"init",value:function(){var F=this,G=this.br,ve=G.options.navbarTitle,Se=G.pageProgression==="rl",it=Se?"book_flip_next":"book_flip_prev",Pt=Se?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(it),this.br.options.controls.bookRight.className="book_right ".concat(Pt),G.refs.$BRfooter=this.$root=It('<div class="BRfooter"></div>'),G.refs.$BRnav=this.$nav=It('<div class="BRnav BRnavDesktop">\n          '.concat(ve?'<div class="BRnavTitle">'.concat(ve,"</div>"):"",'\n          <nav class="BRcontrols">\n            <ul class="controls">\n              <li class="scrubber">\n                <div class="BRnavpos">\n                  <div class="BRpager"></div>\n                  <div class="BRnavline"></div>\n                </div>\n                <p><span class=\'BRcurrentpage\'></span></p>\n              </li>\n              ').concat(this._renderControls(),"\n            </ul>\n          </nav>\n        </div>")),this.$root.append(this.$nav),G.refs.$br.append(this.$root);var ft=this.$root.find(".BRpager").slider({animate:!0,min:0,max:G.book.getNumLeafs()-1,value:G.currentIndex(),range:"min"});return ft.on("slide",function(fn,cn){return F.updateNavPageNum(cn.value),!0}),ft.on("slidechange",function(fn,cn){return F.updateNavPageNum(cn.value),ft.data("swallowchange")?ft.data("swallowchange",!1):G.jumpToIndex(cn.value),!0}),G.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(G.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(F){var G=this.br,ve=G.book.getPageNum(F),Se=(G.book.getPageProp(F,"pageType"),G.book.getNumLeafs());if(!this.maxPageNum){for(var it,Pt=0,ft=0;ft<Se;ft++)it=parseFloat(G.book.getPageNum(ft)),!isNaN(it)&&it>Pt&&(Pt=it);this.maxPageNum=Pt}return function(fn,cn,En,Wn,In){if(En[0]=="n")return"(".concat(fn+1," of ").concat(cn,")");var er=In&&parseFloat(En)?" of ".concat(In):"";return"".concat(En).concat(er)}(F,Se,ve,0,this.maxPageNum)}},{key:"updateNavPageNum",value:function(F){this.$root.find(".BRcurrentpage").html(this.getNavPageNumString(F))}},{key:"updateNavIndex",value:function(F){F=F!==void 0?F:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",F)}}],L&&s(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X;var X,L}();function Rt(X){return Rt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},Rt(X)}function sn(X){var L=typeof Map=="function"?new Map:void 0;return sn=function(F){if(F===null||!function(ve){try{return Function.toString.call(ve).indexOf("[native code]")!==-1}catch(Se){return typeof ve=="function"}}(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(L!==void 0){if(L.has(F))return L.get(F);L.set(F,G)}function G(){return function(ve,Se,it){if(ln())return Reflect.construct.apply(null,arguments);var Pt=[null];Pt.push.apply(Pt,Se);var ft=new(ve.bind.apply(ve,Pt));return it&&jt(ft,it.prototype),ft}(F,arguments,rn(this).constructor)}return G.prototype=Object.create(F.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),jt(G,F)},sn(X)}function ln(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(ln=function(){return!!X})()}function jt(X,L){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,G){return F.__proto__=G,F},jt(X,L)}function rn(X){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},rn(X)}o(6033),o(825);var Qt={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{textSelection:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},Rn=function(X){function L(){return function(Se,it){if(!_instanceof(Se,it))throw new TypeError("Cannot call a class as a function")}(this,L),F=this,ve=arguments,G=rn(G=L),function(Se,it){if(it&&(Rt(it)=="object"||typeof it=="function"))return it;if(it!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Pt){if(Pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pt}(Se)}(F,ln()?Reflect.construct(G,ve||[],rn(F).constructor):G.apply(F,ve));var F,G,ve}return function(F,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(G&&G.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),G&&jt(F,G)}(L,X),N=L,Object.defineProperty(N,"prototype",{writable:!1}),N;var N}(sn(Error)),Vt=(o(5440),o(4638),o(1669));function ur(X){return ur=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},ur(X)}var Dn=function(){return X=function N(F){(function(G,ve){if(!_instanceof(G,ve))throw new TypeError("Cannot call a class as a function")})(this,N),this.br=F},L=[{key:"buildToolbarElement",value:function(){var F=this.br,G=F.showLogo?'\n      <span class="BRtoolbarSection BRtoolbarSectionLogo">\n        <a class="logo" href="'.concat(F.logoURL,'"></a>\n      </span>'):"";F.refs.$BRtoolbar=Vt('\n      <div class="BRtoolbar header">\n        <div class="BRtoolbarbuttons">\n          <div class="BRtoolbarLeft">\n            '.concat(G,'\n            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>\n          </div>\n          <div class="BRtoolbarRight">\n            <span class="BRtoolbarSection BRtoolbarSectionInfo">\n              <button class="BRpill info js-tooltip">Info</button>\n              <button class="BRpill share js-tooltip">Share</button>\n            </span>\n          </div>\n        </div>\n      </div>'));var ve=F.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");return F.bookUrl&&F.options.enableBookTitleLink?ve.append(Vt("<a>").attr({href:F.bookUrl,title:F.bookUrlTitle}).addClass("BRreturn").html(F.bookUrlText||F.bookTitle)):F.bookTitle&&ve.append(F.bookUrlText||F.bookTitle),F.refs.$BRtoolbar}},{key:"initToolbar",value:function(F,G){var ve=this.br;ve.refs.$br.append(this.buildToolbarElement()),ve.$(".BRnavCntl").addClass("BRup"),ve.$(".pause").hide(),ve.refs.$BRtoolbar.append(),ve.canSwitchToMode(ve.constMode2up)||ve.$(".two_page_mode, .play, .pause").hide(),ve.canSwitchToMode(ve.constModeThumb)||ve.$(".thumbnail_mode").hide(),ve.canSwitchToMode(ve.constMode2up)||ve.canSwitchToMode(ve.constModeThumb)||ve.$(".one_page_mode").hide(),Vt('<div style="display: none;"></div>').append(Vt('\n    <div class="BRfloat BRshare">\n      <div class="BRfloatHead">\n        Share\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n    </div>')).append(Vt('\n    <div class="BRfloat BRinfo">\n      <div class="BRfloatHead">About this book\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n      <div class="BRfloatBody">\n        <div class="BRfloatCover"></div>\n        <div class="BRfloatMeta">\n          <div class="BRfloatTitle">\n            <h2><a /></h2>\n          </div>\n        </div>\n      </div>\n      <div class="BRfloatFoot">\n        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>\n      </div>\n    </div>')).appendTo(ve.refs.$br),ve.$(".BRinfo .BRfloatTitle a").attr({href:ve.bookUrl}).text(ve.bookTitle).addClass("title"),this.buildInfoDiv(ve.$(".BRinfo")),this.buildShareDiv(ve.$(".BRshare")),ve.$(".share").colorbox({inline:!0,opacity:"0.5",href:ve.$(".BRshare"),onLoad:function(){ve.trigger(Tt.stop),ve.$(".BRpageviewValue").val(window.location.href)}}),ve.$(".info").colorbox({inline:!0,opacity:"0.5",href:ve.$(".BRinfo"),onLoad:function(){ve.trigger(Tt.stop)}})}},{key:"buildShareDiv",value:function(F){var G=this,ve=this.br,Se=document.location+"",it=(Se+"").replace(/#.*/,""),Pt=ve.getEmbedCode?'\n      <div class="share-embed">\n        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>\n        <form method="post" action="">\n          <fieldset class="fieldset-share-pageview">\n            <label for="pageview">Link to this page view</label>\n            <input type="text" name="pageview" class="BRpageviewValue" value="'.concat(Se,'"/>\n          </fieldset>\n          <fieldset class="fieldset-share-book-link">\n            <label for="booklink">Link to the book</label>\n            <input type="text" name="booklink" class="booklink" value="').concat(it,'"/>\n          </fieldset>\n          <fieldset class="fieldset-embed">\n            <label for="iframe">Embed a mini Book Reader</label>\n            <fieldset class="sub">\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(ve.constMode1up,'" checked="checked"/>\n                1 page\n              </label>\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(ve.constMode2up,'"/>\n                2 pages\n              </label>\n              <label class="sub">\n                <input type="checkbox" name="thispage" value="thispage"/>\n                Open to this page?\n              </label>\n            </fieldset>\n            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>\n          </fieldset>\n        </form>\n      </div>'):"",ft=Vt('\n      <div class="share-title">Share this book</div>\n      <div class="share-social">\n        <label class="sub open-to-this-page">\n          <input class="thispage-social" type="checkbox" />\n          Open to this page?\n        </label>\n        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>\n        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>\n        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>\n      </div>\n      '.concat(Pt,'\n      <div class="BRfloatFoot">\n        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>\n      </div>'));ft.appendTo(F),ft.find(".fieldset-embed input").on("change",function(fn){var cn=Vt(fn.target).parents("form").first(),En={};En.mode=Vt(cn.find(".fieldset-embed input[name=pages]:checked")).val(),cn.find(".fieldset-embed input[name=thispage]").prop("checked")&&(En.page=ve.book.getPageNum(ve.currentIndex())),ve.getEmbedCode&&cn.find(".BRframeEmbed").val(ve.getEmbedCode("480px","430px",En))}),ft.find("input, textarea").on("focus",function(fn){return fn.target.select()}),ft.find(".facebook-share-button").on("click",function(){h("https://www.facebook.com/sharer.php?"+Vt.param({u:G._getSocialShareUrl()}),600,400,"Share")}),ft.find(".twitter-share-button").on("click",function(){h("https://twitter.com/intent/tweet?"+Vt.param({url:G._getSocialShareUrl(),text:ve.bookTitle}),600,400,"Share")}),ft.find(".email-share-button").on("click",function(){var fn="".concat(ve.bookTitle,"\n\n").concat(G._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(ve.bookTitle),"&body=").concat(encodeURI(fn))}),ft.find("input[name=thispage]").trigger("change"),ft.appendTo(F)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(F){var G=this.br;F.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var ve=Vt('<div class="BRinfoLeftCol"></div>');G.thumbnail&&ve.append(Vt('\n        <div class="BRimageW">\n          <img src="'.concat(G.thumbnail,'" alt="').concat((0,Je.escapeHTML)(G.bookTitle),'" />\n        </div>')));var Se,it=Vt('<div class="BRinfoRightCol">'),Pt=function(nr,qn){var Kn=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&nr[Symbol.iterator]||nr["@@iterator"];if(!Kn){if(Array.isArray(nr)||(Kn=function(Rr,Mr){if(Rr){if(typeof Rr=="string")return r(Rr,Mr);var Gr={}.toString.call(Rr).slice(8,-1);return Gr==="Object"&&Rr.constructor&&(Gr=Rr.constructor.name),Gr==="Map"||Gr==="Set"?Array.from(Rr):Gr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gr)?r(Rr,Mr):void 0}}(nr))||qn&&nr&&typeof nr.length=="number"){Kn&&(nr=Kn);var _r=0,jr=function(){};return{s:jr,n:function(){return _r>=nr.length?{done:!0}:{done:!1,value:nr[_r++]}},e:function(Mr){throw Mr},f:jr}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var pr,gr=!0,Cr=!1;return{s:function(){Kn=Kn.call(nr)},n:function(){var Mr=Kn.next();return gr=Mr.done,Mr},e:function(Mr){Cr=!0,pr=Mr},f:function(){try{gr||Kn.return==null||Kn.return()}finally{if(Cr)throw pr}}}}(G.metadata);try{for(Pt.s();!(Se=Pt.n()).done;){var ft=Se.value,fn=ft.extraValueClass,cn=fn===void 0?"":fn,En=ft.label,Wn=ft.value,In=En==="Title"?(0,Je.escapeHTML)(Wn):Wn;it.append(Vt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoLabel">'.concat(En,'</div>\n          <div class="BRinfoValue ').concat(cn,'">').concat(In,"</div>\n        </div>")))}}catch(nr){Pt.e(nr)}finally{Pt.f()}var er=G.bookUrlMoreInfo?G.bookUrlMoreInfo:G.bookTitle;er&&G.bookUrl&&it.append(Vt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoMoreInfoWrapper">\n            <a class="BRinfoMoreInfo" href="'.concat(G.bookUrl,'">\n              ').concat((0,Je.escapeHTML)(er),"\n            </a>\n          </div>\n        </div>")));var Pn=Vt('<div class="BRfloatFoot BRinfoFooter"></div>'),Vn=Vt('<div class="BRinfoW mv20-lg">').append([ve,it,Vt('<br style="clear:both"/>')]);F.append(Vn,Pn).addClass("wide")}},{key:"getToolBarHeight",value:function(){var F=this.br.refs.$BRtoolbar;return F&&F.css("display")==="block"?F.outerHeight()+parseInt(F.css("top")):0}}],L&&c(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X;var X,L}();function tr(X){return tr=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},tr(X)}function en(){en=function(){return L};var X,L={},N=Object.prototype,F=N.hasOwnProperty,G=Object.defineProperty||function(Le,ge,Oe){Le[ge]=Oe.value},ve=typeof Symbol=="function"?Symbol:{},Se=ve.iterator||"@@iterator",it=ve.asyncIterator||"@@asyncIterator",Pt=ve.toStringTag||"@@toStringTag";function ft(Le,ge,Oe){return Object.defineProperty(Le,ge,{value:Oe,enumerable:!0,configurable:!0,writable:!0}),Le[ge]}try{ft({},"")}catch(Le){ft=function(Oe,wt,Et){return Oe[wt]=Et}}function fn(Le,ge,Oe,wt){var Et=ge&&_instanceof(ge.prototype,Vn)?ge:Vn,St=Object.create(Et.prototype),vn=new Nr(wt||[]);return G(St,"_invoke",{value:Rr(Le,Oe,vn)}),St}function cn(Le,ge,Oe){try{return{type:"normal",arg:Le.call(ge,Oe)}}catch(wt){return{type:"throw",arg:wt}}}L.wrap=fn;var En="suspendedStart",Wn="suspendedYield",In="executing",er="completed",Pn={};function Vn(){}function nr(){}function qn(){}var Kn={};ft(Kn,Se,function(){return this});var _r=Object.getPrototypeOf,jr=_r&&_r(_r(Dr([])));jr&&jr!==N&&F.call(jr,Se)&&(Kn=jr);var pr=qn.prototype=Vn.prototype=Object.create(Kn);function gr(Le){["next","throw","return"].forEach(function(ge){ft(Le,ge,function(Oe){return this._invoke(ge,Oe)})})}function Cr(Le,ge){function Oe(Et,St,vn,Cn){var Hn=cn(Le[Et],Le,St);if(Hn.type!=="throw"){var Qn=Hn.arg,vr=Qn.value;return vr&&tr(vr)=="object"&&F.call(vr,"__await")?ge.resolve(vr.__await).then(function(Sr){Oe("next",Sr,vn,Cn)},function(Sr){Oe("throw",Sr,vn,Cn)}):ge.resolve(vr).then(function(Sr){Qn.value=Sr,vn(Qn)},function(Sr){return Oe("throw",Sr,vn,Cn)})}Cn(Hn.arg)}var wt;G(this,"_invoke",{value:function(St,vn){function Cn(){return new ge(function(Hn,Qn){Oe(St,vn,Hn,Qn)})}return wt=wt?wt.then(Cn,Cn):Cn()}})}function Rr(Le,ge,Oe){var wt=En;return function(Et,St){if(wt===In)throw Error("Generator is already running");if(wt===er){if(Et==="throw")throw St;return{value:X,done:!0}}for(Oe.method=Et,Oe.arg=St;;){var vn=Oe.delegate;if(vn){var Cn=Mr(vn,Oe);if(Cn){if(Cn===Pn)continue;return Cn}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(wt===En)throw wt=er,Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);wt=In;var Hn=cn(Le,ge,Oe);if(Hn.type==="normal"){if(wt=Oe.done?er:Wn,Hn.arg===Pn)continue;return{value:Hn.arg,done:Oe.done}}Hn.type==="throw"&&(wt=er,Oe.method="throw",Oe.arg=Hn.arg)}}}function Mr(Le,ge){var Oe=ge.method,wt=Le.iterator[Oe];if(wt===X)return ge.delegate=null,Oe==="throw"&&Le.iterator.return&&(ge.method="return",ge.arg=X,Mr(Le,ge),ge.method==="throw")||Oe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Oe+"' method")),Pn;var Et=cn(wt,Le.iterator,ge.arg);if(Et.type==="throw")return ge.method="throw",ge.arg=Et.arg,ge.delegate=null,Pn;var St=Et.arg;return St?St.done?(ge[Le.resultName]=St.value,ge.next=Le.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=X),ge.delegate=null,Pn):St:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Pn)}function Gr(Le){var ge={tryLoc:Le[0]};1 in Le&&(ge.catchLoc=Le[1]),2 in Le&&(ge.finallyLoc=Le[2],ge.afterLoc=Le[3]),this.tryEntries.push(ge)}function Kr(Le){var ge=Le.completion||{};ge.type="normal",delete ge.arg,Le.completion=ge}function Nr(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Gr,this),this.reset(!0)}function Dr(Le){if(Le||Le===""){var ge=Le[Se];if(ge)return ge.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Oe=-1,wt=function Et(){for(;++Oe<Le.length;)if(F.call(Le,Oe))return Et.value=Le[Oe],Et.done=!1,Et;return Et.value=X,Et.done=!0,Et};return wt.next=wt}}throw new TypeError(tr(Le)+" is not iterable")}return nr.prototype=qn,G(pr,"constructor",{value:qn,configurable:!0}),G(qn,"constructor",{value:nr,configurable:!0}),nr.displayName=ft(qn,Pt,"GeneratorFunction"),L.isGeneratorFunction=function(Le){var ge=typeof Le=="function"&&Le.constructor;return!!ge&&(ge===nr||(ge.displayName||ge.name)==="GeneratorFunction")},L.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,qn):(Le.__proto__=qn,ft(Le,Pt,"GeneratorFunction")),Le.prototype=Object.create(pr),Le},L.awrap=function(Le){return{__await:Le}},gr(Cr.prototype),ft(Cr.prototype,it,function(){return this}),L.AsyncIterator=Cr,L.async=function(Le,ge,Oe,wt,Et){Et===void 0&&(Et=Promise);var St=new Cr(fn(Le,ge,Oe,wt),Et);return L.isGeneratorFunction(ge)?St:St.next().then(function(vn){return vn.done?vn.value:St.next()})},gr(pr),ft(pr,Pt,"Generator"),ft(pr,Se,function(){return this}),ft(pr,"toString",function(){return"[object Generator]"}),L.keys=function(Le){var ge=Object(Le),Oe=[];for(var wt in ge)Oe.push(wt);return Oe.reverse(),function Et(){for(;Oe.length;){var St=Oe.pop();if(St in ge)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}},L.values=Dr,Nr.prototype={constructor:Nr,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(Kr),!ge)for(var Oe in this)Oe.charAt(0)==="t"&&F.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=X)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Oe=this;function wt(Qn,vr){return vn.type="throw",vn.arg=ge,Oe.next=Qn,vr&&(Oe.method="next",Oe.arg=X),!!vr}for(var Et=this.tryEntries.length-1;Et>=0;--Et){var St=this.tryEntries[Et],vn=St.completion;if(St.tryLoc==="root")return wt("end");if(St.tryLoc<=this.prev){var Cn=F.call(St,"catchLoc"),Hn=F.call(St,"finallyLoc");if(Cn&&Hn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0);if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}else if(Cn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}}}},abrupt:function(ge,Oe){for(var wt=this.tryEntries.length-1;wt>=0;--wt){var Et=this.tryEntries[wt];if(Et.tryLoc<=this.prev&&F.call(Et,"finallyLoc")&&this.prev<Et.finallyLoc){var St=Et;break}}St&&(ge==="break"||ge==="continue")&&St.tryLoc<=Oe&&Oe<=St.finallyLoc&&(St=null);var vn=St?St.completion:{};return vn.type=ge,vn.arg=Oe,St?(this.method="next",this.next=St.finallyLoc,Pn):this.complete(vn)},complete:function(ge,Oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Oe&&(this.next=Oe),Pn},finish:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.finallyLoc===ge)return this.complete(wt.completion,wt.afterLoc),Kr(wt),Pn}},catch:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.tryLoc===ge){var Et=wt.completion;if(Et.type==="throw"){var St=Et.arg;Kr(wt)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ge,Oe,wt){return this.delegate={iterator:Dr(ge),resultName:Oe,nextLoc:wt},this.method==="next"&&(this.arg=X),Pn}},L}o(8980),o(8350),o(6910),o(237),o(1392);var Tn=function(){return S(function X(L){var N,F,G,ve;k(this,X),this.br=L,this.reduceSet=L.reduceSet,this.ppi=(N=(F=L.options)===null||F===void 0?void 0:F.ppi)!==null&&N!==void 0?N:Qt.ppi,this.pageProgression=(G=(ve=L.options)===null||ve===void 0?void 0:ve.pageProgression)!==null&&G!==void 0?G:Qt.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null},[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var L,N=[],F=[],G=p(this.pagesIterator());try{for(G.s();!(L=G.n()).done;){var ve=L.value;N.push(ve.widthInches),F.push(ve.heightInches)}}catch(Se){G.e(Se)}finally{G.f()}return N.sort(function(Se,it){return Se-it}),F.sort(function(Se,it){return Se-it}),this._medianPageSize={width:N[Math.floor(N.length/2)],height:F[Math.floor(F.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(L){return L=(0,Je.clamp)(L,0,this.getNumLeafs()-1),this.getPageWidth(L)}},{key:"_getPageHeight",value:function(L){var N=(0,Je.clamp)(L,0,this.getNumLeafs()-1);return this.getPageHeight(N)}},{key:"getPageIndex",value:function(L){var N=this.getPageIndices(L);return N.length?N[N.length-1]:void 0}},{key:"getPageIndices",value:function(L){var N=[];if(L.slice(0,1)=="n")try{var F=L.slice(1,L.length),G=parseInt(F);return N.push(G),N}catch(Se){}for(var ve=0;ve<this.getNumLeafs();ve++)this.getPageNum(ve)==L&&N.push(ve);return N}},{key:"getPageName",value:function(L){return"Page "+this.getPageNum(L)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(L){return this.getPageProp(L,"width")}},{key:"getPageHeight",value:function(L){return this.getPageProp(L,"height")}},{key:"getPageURI",value:function(L,N,F){if(this.getPageProp(L,"viewable",!0))return this.getPageProp(L,"uri");var G=this.br.options.unviewablePageURI;return G.startsWith(".")?this.br.options.imagesBaseURL+G:G}},{key:"getPageSide",value:function(L){return this.getPageProp(L,"pageSide")||(L%2==0?"R":"L")}},{key:"getPageNum",value:function(L){var N=this.getPageProp(L,"pageNum");return N===void 0?"n".concat(L):N}},{key:"getPageProp",value:function(L,N){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(L,N,F)}},{key:"getSpreadIndices",value:function(L){return this.pageProgression=="rl"?this.getPageSide(L)=="R"?[L+1,L]:[L,L-1]:this.getPageSide(L)=="L"?[L,L+1]:[L-1,L]}},{key:"leafNumToIndex",value:function(L){var N=this._getDataFlattened().findIndex(function(F){return F.leafNum==L});return N>-1?N:L}},{key:"parsePageString",value:function(L){var N,F=/^leaf(\d+)/.exec(L);return F?(N=this.leafNumToIndex(parseInt(F[1],10)))===null&&(N=void 0):N=this.getPageIndex(L),N}},{key:"getPage",value:function(L){var N=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],F=this.getNumLeafs();if(N||!(L<0||L>=F))return L<0&&L>=-F&&(L+=F),new fr(this,L%=F)}},{key:"pagesIterator",value:function(){var L=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=N.start,G=F===void 0?0:F,ve=N.end,Se=ve===void 0?1/0:ve,it=N.combineConsecutiveUnviewables,Pt=it!==void 0&&it;return en().mark(function ft(){var fn,cn;return en().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:G=Math.max(0,G),Se=Math.min(Se,L.getNumLeafs()),fn=G;case 3:if(!(fn<Se)){En.next=12;break}if(cn=L.getPage(fn),!Pt||!cn.isConsecutiveUnviewable){En.next=7;break}return En.abrupt("continue",9);case 7:return En.next=9,cn;case 9:fn++,En.next=3;break;case 12:case"end":return En.stop()}},ft)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var L=null,N=null,F=0,G=this.br.data.flatMap(function(ve){return ve.map(function(Se){return Se.pageSide||(Se.pageSide=L===null?ve.length===2?"L":"R":L==="L"?"R":"L"),L=Se.pageSide,Se.viewable===!1?Se.unviewablesStart=N===null?N=F:N:N=null,F++,Se})});return this._getDataFlattenedCached=[G,this.br.data.length],G}},{key:"_getDataProp",value:function(L,N){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this._getDataFlattened();return isNaN(L)||L<0||L>=G.length||G[L][N]===void 0?F:G[L][N]}}])}(),fr=function(){function X(L,N){k(this,X);var F=L._getDataProp(N,"ppi",L.ppi);this.ppi=Math.max(F<10?L.ppi:F,10),this.book=L,this.index=N,this.width=L.getPageWidth(N),this.widthInches=this.width/this.ppi,this.height=L.getPageHeight(N),this.heightInches=this.height/this.ppi,this.pageSide=L.getPageSide(N),this.leafNum=L._getDataProp(N,"leafNum",this.index),this.isViewable=L._getDataProp(N,"viewable",!0),this.unviewablesStart=L._getDataProp(N,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return S(X,[{key:"makeViewable",value:function(){var N=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=N)if(N){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var F,G=p(this.book.pagesIterator({start:this.index+1}));try{for(G.s();!(F=G.n()).done;){var ve=F.value;if(ve.isViewable)break;ve._rawData.unviewablesStart=this.index+1}}catch(ft){G.e(ft)}finally{G.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var Se,it=p(this.book.pagesIterator({start:this.index+1}));try{for(it.s();!(Se=it.n()).done;){var Pt=Se.value;if(!Pt.isViewable)break;Pt._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(ft){it.e(ft)}finally{it.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(N){var F=this.book.pageProgression==="lr"?this.index-N:this.index+N;return this.book.getPage(F)}},{key:"goRight",value:function(N){var F=this.book.pageProgression==="lr"?this.index+N:this.index-N;return this.book.getPage(F)}},{key:"getURI",value:function(N,F){return this.book.getPageURI(this.index,N,F)}},{key:"getURISrcSet",value:function(N){for(var F=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ve=this.book.reduceSet,Se=ve.floor(N),it=[],Pt=ve.decr(Se);Pt>=1;Pt=ve.decr(Pt))it.push(Pt);return it.map(function(ft){return"".concat(F.getURI(ft,G)," ").concat(Se/ft,"x")}).join(", ")}},{key:"findNext",value:function(){var N=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,F=N!==void 0&&N;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:F}).next().value}},{key:"findPrev",value:function(){var N=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,F=N!==void 0&&N;if(this.index!=0){if(F){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var G=new X(this.book,this.index-1);return G.isViewable?G:G.findPrev({combineConsecutiveUnviewables:F})}return new X(this.book,this.index-1)}}},{key:"findLeft",value:function(){var N=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,F=N!==void 0&&N;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:F}):this.findNext({combineConsecutiveUnviewables:F})}},{key:"findRight",value:function(){var N=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,F=N!==void 0&&N;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:F}):this.findPrev({combineConsecutiveUnviewables:F})}}])}(),_n=(o(4554),o(9085),o(2811),o(3851),o(888),o(9696)),cr=o(420),Pe=o(8900),re=(o(5914),o(2617)),Ce=o.n(re),ht=o(542);function At(X){return At=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},At(X)}function yt(){yt=function(){return L};var X,L={},N=Object.prototype,F=N.hasOwnProperty,G=Object.defineProperty||function(Le,ge,Oe){Le[ge]=Oe.value},ve=typeof Symbol=="function"?Symbol:{},Se=ve.iterator||"@@iterator",it=ve.asyncIterator||"@@asyncIterator",Pt=ve.toStringTag||"@@toStringTag";function ft(Le,ge,Oe){return Object.defineProperty(Le,ge,{value:Oe,enumerable:!0,configurable:!0,writable:!0}),Le[ge]}try{ft({},"")}catch(Le){ft=function(Oe,wt,Et){return Oe[wt]=Et}}function fn(Le,ge,Oe,wt){var Et=ge&&_instanceof(ge.prototype,Vn)?ge:Vn,St=Object.create(Et.prototype),vn=new Nr(wt||[]);return G(St,"_invoke",{value:Rr(Le,Oe,vn)}),St}function cn(Le,ge,Oe){try{return{type:"normal",arg:Le.call(ge,Oe)}}catch(wt){return{type:"throw",arg:wt}}}L.wrap=fn;var En="suspendedStart",Wn="suspendedYield",In="executing",er="completed",Pn={};function Vn(){}function nr(){}function qn(){}var Kn={};ft(Kn,Se,function(){return this});var _r=Object.getPrototypeOf,jr=_r&&_r(_r(Dr([])));jr&&jr!==N&&F.call(jr,Se)&&(Kn=jr);var pr=qn.prototype=Vn.prototype=Object.create(Kn);function gr(Le){["next","throw","return"].forEach(function(ge){ft(Le,ge,function(Oe){return this._invoke(ge,Oe)})})}function Cr(Le,ge){function Oe(Et,St,vn,Cn){var Hn=cn(Le[Et],Le,St);if(Hn.type!=="throw"){var Qn=Hn.arg,vr=Qn.value;return vr&&At(vr)=="object"&&F.call(vr,"__await")?ge.resolve(vr.__await).then(function(Sr){Oe("next",Sr,vn,Cn)},function(Sr){Oe("throw",Sr,vn,Cn)}):ge.resolve(vr).then(function(Sr){Qn.value=Sr,vn(Qn)},function(Sr){return Oe("throw",Sr,vn,Cn)})}Cn(Hn.arg)}var wt;G(this,"_invoke",{value:function(St,vn){function Cn(){return new ge(function(Hn,Qn){Oe(St,vn,Hn,Qn)})}return wt=wt?wt.then(Cn,Cn):Cn()}})}function Rr(Le,ge,Oe){var wt=En;return function(Et,St){if(wt===In)throw Error("Generator is already running");if(wt===er){if(Et==="throw")throw St;return{value:X,done:!0}}for(Oe.method=Et,Oe.arg=St;;){var vn=Oe.delegate;if(vn){var Cn=Mr(vn,Oe);if(Cn){if(Cn===Pn)continue;return Cn}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(wt===En)throw wt=er,Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);wt=In;var Hn=cn(Le,ge,Oe);if(Hn.type==="normal"){if(wt=Oe.done?er:Wn,Hn.arg===Pn)continue;return{value:Hn.arg,done:Oe.done}}Hn.type==="throw"&&(wt=er,Oe.method="throw",Oe.arg=Hn.arg)}}}function Mr(Le,ge){var Oe=ge.method,wt=Le.iterator[Oe];if(wt===X)return ge.delegate=null,Oe==="throw"&&Le.iterator.return&&(ge.method="return",ge.arg=X,Mr(Le,ge),ge.method==="throw")||Oe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Oe+"' method")),Pn;var Et=cn(wt,Le.iterator,ge.arg);if(Et.type==="throw")return ge.method="throw",ge.arg=Et.arg,ge.delegate=null,Pn;var St=Et.arg;return St?St.done?(ge[Le.resultName]=St.value,ge.next=Le.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=X),ge.delegate=null,Pn):St:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Pn)}function Gr(Le){var ge={tryLoc:Le[0]};1 in Le&&(ge.catchLoc=Le[1]),2 in Le&&(ge.finallyLoc=Le[2],ge.afterLoc=Le[3]),this.tryEntries.push(ge)}function Kr(Le){var ge=Le.completion||{};ge.type="normal",delete ge.arg,Le.completion=ge}function Nr(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Gr,this),this.reset(!0)}function Dr(Le){if(Le||Le===""){var ge=Le[Se];if(ge)return ge.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Oe=-1,wt=function Et(){for(;++Oe<Le.length;)if(F.call(Le,Oe))return Et.value=Le[Oe],Et.done=!1,Et;return Et.value=X,Et.done=!0,Et};return wt.next=wt}}throw new TypeError(At(Le)+" is not iterable")}return nr.prototype=qn,G(pr,"constructor",{value:qn,configurable:!0}),G(qn,"constructor",{value:nr,configurable:!0}),nr.displayName=ft(qn,Pt,"GeneratorFunction"),L.isGeneratorFunction=function(Le){var ge=typeof Le=="function"&&Le.constructor;return!!ge&&(ge===nr||(ge.displayName||ge.name)==="GeneratorFunction")},L.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,qn):(Le.__proto__=qn,ft(Le,Pt,"GeneratorFunction")),Le.prototype=Object.create(pr),Le},L.awrap=function(Le){return{__await:Le}},gr(Cr.prototype),ft(Cr.prototype,it,function(){return this}),L.AsyncIterator=Cr,L.async=function(Le,ge,Oe,wt,Et){Et===void 0&&(Et=Promise);var St=new Cr(fn(Le,ge,Oe,wt),Et);return L.isGeneratorFunction(ge)?St:St.next().then(function(vn){return vn.done?vn.value:St.next()})},gr(pr),ft(pr,Pt,"Generator"),ft(pr,Se,function(){return this}),ft(pr,"toString",function(){return"[object Generator]"}),L.keys=function(Le){var ge=Object(Le),Oe=[];for(var wt in ge)Oe.push(wt);return Oe.reverse(),function Et(){for(;Oe.length;){var St=Oe.pop();if(St in ge)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}},L.values=Dr,Nr.prototype={constructor:Nr,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(Kr),!ge)for(var Oe in this)Oe.charAt(0)==="t"&&F.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=X)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Oe=this;function wt(Qn,vr){return vn.type="throw",vn.arg=ge,Oe.next=Qn,vr&&(Oe.method="next",Oe.arg=X),!!vr}for(var Et=this.tryEntries.length-1;Et>=0;--Et){var St=this.tryEntries[Et],vn=St.completion;if(St.tryLoc==="root")return wt("end");if(St.tryLoc<=this.prev){var Cn=F.call(St,"catchLoc"),Hn=F.call(St,"finallyLoc");if(Cn&&Hn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0);if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}else if(Cn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}}}},abrupt:function(ge,Oe){for(var wt=this.tryEntries.length-1;wt>=0;--wt){var Et=this.tryEntries[wt];if(Et.tryLoc<=this.prev&&F.call(Et,"finallyLoc")&&this.prev<Et.finallyLoc){var St=Et;break}}St&&(ge==="break"||ge==="continue")&&St.tryLoc<=Oe&&Oe<=St.finallyLoc&&(St=null);var vn=St?St.completion:{};return vn.type=ge,vn.arg=Oe,St?(this.method="next",this.next=St.finallyLoc,Pn):this.complete(vn)},complete:function(ge,Oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Oe&&(this.next=Oe),Pn},finish:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.finallyLoc===ge)return this.complete(wt.completion,wt.afterLoc),Kr(wt),Pn}},catch:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.tryLoc===ge){var Et=wt.completion;if(Et.type==="throw"){var St=Et.arg;Kr(wt)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ge,Oe,wt){return this.delegate={iterator:Dr(ge),resultName:Oe,nextLoc:wt},this.method==="next"&&(this.arg=X),Pn}},L}var gn=function(){return u(function X(L){var N=this;T(this,X),f(this,"scaleCenter",{x:.5,y:.5}),f(this,"_preventEvent",function(F){return F.preventDefault(),!1}),f(this,"_pinchStart",O(yt().mark(function F(){var G,ve;return yt().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!N.pinching){Se.next=2;break}return Se.abrupt("return");case 2:if(!(0,ht.un)()){Se.next=7;break}return Se.next=5,(0,Je.sleep)(0);case 5:if(!(N.touchesMonitor.touches<2)){Se.next=7;break}return Se.abrupt("return");case 7:N.pinching=!0,N.oldScale=1,N.mode.$visibleWorld.classList.add("BRsmooth-zooming"),N.mode.$visibleWorld.style.willChange="transform",N.mode.autoFit="none",N.detachCtrlZoom(),(G=(ve=N.mode).detachScrollListeners)===null||G===void 0||G.call(ve),N.interact.gesturable({listeners:{start:N._pinchStart,move:N._pinchMove,end:N._pinchEnd}});case 15:case"end":return Se.stop()}},F)}))),f(this,"_pinchMove",function(){var F=O(yt().mark(function G(ve){return yt().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(N.pinching){Se.next=2;break}return Se.abrupt("return");case 2:N.lastEvent={scale:ve.scale,clientX:ve.clientX,clientY:ve.clientY},N.pinchMoveFrame||(N.pinchMoveFrame=N.bufferFn(N._drawPinchZoomFrame));case 4:case"end":return Se.stop()}},G)}));return function(G){return F.apply(this,arguments)}}()),f(this,"_pinchEnd",O(yt().mark(function F(){var G,ve;return yt().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(N.pinching){Se.next=2;break}return Se.abrupt("return");case 2:return N.pinching=!1,N.interact.gesturable({listeners:{start:N._pinchStart,end:N._pinchEnd}}),Se.next=6,N.pinchMoveFramePromise;case 6:N.scaleCenter={x:.5,y:.5},N.oldScale=1,N.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),N.mode.$visibleWorld.style.willChange="auto",N.attachCtrlZoom(),(G=(ve=N.mode).attachScrollListeners)===null||G===void 0||G.call(ve);case 12:case"end":return Se.stop()}},F)}))),f(this,"_drawPinchZoomFrame",O(yt().mark(function F(){var G,ve;return yt().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(N.pinching){Se.next=3;break}return N.pinchMoveFrame=null,Se.abrupt("return");case 3:if(N.mode.$container.style.overflow="hidden",N.pinchMoveFramePromiseRes=null,N.pinchMoveFramePromise=new Promise(function(it){return N.pinchMoveFramePromiseRes=it}),N.updateScaleCenter({clientX:N.lastEvent.clientX,clientY:N.lastEvent.clientY}),G=N.mode.scale,ve=G*N.lastEvent.scale/N.oldScale,G==ve){Se.next=13;break}return N.mode.scale=ve,Se.next=13,N.pinchMoveFramePromise;case 13:N.mode.$container.style.overflow="auto",N.oldScale=N.lastEvent.scale,N.pinchMoveFrame=null;case 16:case"end":return Se.stop()}},F)}))),f(this,"_dragMove",function(){var F=O(yt().mark(function G(ve){return yt().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!N.pinching){Se.next=3;break}return Se.next=3,N._pinchEnd();case 3:N.mode.$container.scrollTop-=ve.dy,N.mode.$container.scrollLeft-=ve.dx;case 5:case"end":return Se.stop()}},G)}));return function(G){return F.apply(this,arguments)}}()),f(this,"_handleCtrlWheel",function(F){if(F.ctrlKey){F.preventDefault();var G=/Mac/i.test(navigator.platform)?.045:.03;N.updateScaleCenter(F),N.mode.autoFit="none",N.mode.scale*=1-Math.sign(F.deltaY)*G}}),this.mode=L,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)},[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,ht.un)()&&(this.touchesMonitor=new An(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=Ce()(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,ht.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var L,N;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(L=this.touchesMonitor)===null||L===void 0||(N=L.detach)===null||N===void 0||N.call(L),this.interact.unset(),Ce().removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(L){var N=L.clientX,F=L.clientY,G=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(N-G.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(F-G.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(L,N){var F,G=this.mode.$container,ve=G.scrollTop,Se=G.scrollLeft,it=this.mode.htmlDimensionsCacher.clientWidth,Pt=this.mode.htmlDimensionsCacher.clientHeight,ft=L/N,fn=this.scaleCenter.x,cn=this.scaleCenter.y,En=ft*(Se+fn*it),Wn=ft*(ve+cn*Pt);G.scrollTop=Wn-cn*Pt,G.scrollLeft=En-fn*it,(F=this.pinchMoveFramePromiseRes)===null||F===void 0||F.call(this)}}])}(),An=function(){return u(function X(L){var N=this;T(this,X),f(this,"_updateTouchCount",function(F){N.touches=F.touches.length}),this.container=L,this.touches=0},[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function $n(X){return $n=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},$n(X)}var sr=function(){return X=function N(F){var G=this;(function(ve,Se){if(!_instanceof(ve,Se))throw new TypeError("Cannot call a class as a function")})(this,N),w(this,"clientWidth",100),w(this,"clientHeight",100),w(this,"boundingClientRect",{top:0,left:0}),w(this,"updateClientSizes",function(){var ve=G.element.getBoundingClientRect();G.clientWidth=G.element.clientWidth,G.clientHeight=G.element.clientHeight,G.boundingClientRect.top=ve.top,G.boundingClientRect.left=ve.left}),w(this,"debouncedUpdateClientSizes",(0,Je.debounce)(this.updateClientSizes,150,!1)),this.element=F},L=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],L&&y(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X;var X,L}();function ar(X){return ar=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},ar(X)}var Ar=function(){return X=function N(F,G){var ve,Se,it,Pt=this;(function(ft,fn){if(!_instanceof(ft,fn))throw new TypeError("Cannot call a class as a function")})(this,N),ve=this,it=function(){Pt.element.classList.add(Pt.className),clearTimeout(Pt.timeout),Pt.timeout=setTimeout(function(){Pt.element.classList.remove(Pt.className)},600)},(Se=I(Se="onScroll"))in ve?Object.defineProperty(ve,Se,{value:it,enumerable:!0,configurable:!0,writable:!0}):ve[Se]=it,this.element=F,this.className=G,this.timeout=null},(L=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&M(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X;var X,L}();function yi(X){return yi=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},yi(X)}var ki,wi=z(function X(L){var N=this;(function(F,G){if(!_instanceof(F,G))throw new TypeError("Cannot call a class as a function")})(this,X),Q(this,"screenDPI",(0,Je.calcScreenDPI)()),Q(this,"worldUnitsToRenderedPixels",function(F){return F*N.screenDPI}),Q(this,"renderedPixelsToWorldUnits",function(F){return F/N.screenDPI}),Q(this,"renderedPixelsToVisiblePixels",function(F){return F*N.mode.scale}),Q(this,"visiblePixelsToRenderedPixels",function(F){return F/N.mode.scale}),Q(this,"worldUnitsToVisiblePixels",function(F){return N.renderedPixelsToVisiblePixels(N.worldUnitsToRenderedPixels(F))}),Q(this,"visiblePixelsToWorldUnits",function(F){return N.renderedPixelsToWorldUnits(N.visiblePixelsToRenderedPixels(F))}),this.mode=L});function pt(X){return pt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},pt(X)}function tt(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(tt=function(){return!!X})()}function mt(X,L){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,G){return F.__proto__=G,F},mt(X,L)}function un(){un=function(){return X};var X={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(N,F){["method","field"].forEach(function(G){F.forEach(function(ve){ve.kind===G&&ve.placement==="own"&&this.defineClassElement(N,ve)},this)},this)},initializeClassElements:function(N,F){var G=N.prototype;["method","field"].forEach(function(ve){F.forEach(function(Se){var it=Se.placement;if(Se.kind===ve&&(it==="static"||it==="prototype")){var Pt=it==="static"?N:G;this.defineClassElement(Pt,Se)}},this)},this)},defineClassElement:function(N,F){var G=F.descriptor;if(F.kind==="field"){var ve=F.initializer;G={enumerable:G.enumerable,writable:G.writable,configurable:G.configurable,value:ve===void 0?void 0:ve.call(N)}}Object.defineProperty(N,F.key,G)},decorateClass:function(N,F){var G=[],ve=[],Se={static:[],prototype:[],own:[]};if(N.forEach(function(Pt){this.addElementPlacement(Pt,Se)},this),N.forEach(function(Pt){if(!ie(Pt))return G.push(Pt);var ft=this.decorateElement(Pt,Se);G.push(ft.element),G.push.apply(G,ft.extras),ve.push.apply(ve,ft.finishers)},this),!F)return{elements:G,finishers:ve};var it=this.decorateConstructor(G,F);return ve.push.apply(ve,it.finishers),it.finishers=ve,it},addElementPlacement:function(N,F,G){var ve=F[N.placement];if(!G&&ve.indexOf(N.key)!==-1)throw new TypeError("Duplicated element ("+N.key+")");ve.push(N.key)},decorateElement:function(N,F){for(var G=[],ve=[],Se=N.decorators,it=Se.length-1;it>=0;it--){var Pt=F[N.placement];Pt.splice(Pt.indexOf(N.key),1);var ft=this.fromElementDescriptor(N),fn=this.toElementFinisherExtras((0,Se[it])(ft)||ft);N=fn.element,this.addElementPlacement(N,F),fn.finisher&&ve.push(fn.finisher);var cn=fn.extras;if(cn){for(var En=0;En<cn.length;En++)this.addElementPlacement(cn[En],F);G.push.apply(G,cn)}}return{element:N,finishers:ve,extras:G}},decorateConstructor:function(N,F){for(var G=[],ve=F.length-1;ve>=0;ve--){var Se=this.fromClassDescriptor(N),it=this.toClassDescriptor((0,F[ve])(Se)||Se);if(it.finisher!==void 0&&G.push(it.finisher),it.elements!==void 0){N=it.elements;for(var Pt=0;Pt<N.length-1;Pt++)for(var ft=Pt+1;ft<N.length;ft++)if(N[Pt].key===N[ft].key&&N[Pt].placement===N[ft].placement)throw new TypeError("Duplicated element ("+N[Pt].key+")")}}return{elements:N,finishers:G}},fromElementDescriptor:function(N){var F={kind:N.kind,key:N.key,placement:N.placement,descriptor:N.descriptor};return Object.defineProperty(F,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),N.kind==="field"&&(F.initializer=N.initializer),F},toElementDescriptors:function(N){if(N!==void 0)return(F=N,function(G){if(Array.isArray(G))return G}(F)||ct(F)||fe(F)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(G){var ve=this.toElementDescriptor(G);return this.disallowProperty(G,"finisher","An element descriptor"),this.disallowProperty(G,"extras","An element descriptor"),ve},this);var F},toElementDescriptor:function(N){var F=N.kind+"";if(F!=="method"&&F!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+F+'"');var G=Ee(N.key),ve=N.placement+"";if(ve!=="static"&&ve!=="prototype"&&ve!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+ve+'"');var Se=N.descriptor;this.disallowProperty(N,"elements","An element descriptor");var it={kind:F,key:G,placement:ve,descriptor:Object.assign({},Se)};return F!=="field"?this.disallowProperty(N,"initializer","A method descriptor"):(this.disallowProperty(Se,"get","The property descriptor of a field descriptor"),this.disallowProperty(Se,"set","The property descriptor of a field descriptor"),this.disallowProperty(Se,"value","The property descriptor of a field descriptor"),it.initializer=N.initializer),it},toElementFinisherExtras:function(N){return{element:this.toElementDescriptor(N),finisher:ye(N,"finisher"),extras:this.toElementDescriptors(N.extras)}},fromClassDescriptor:function(N){var F={kind:"class",elements:N.map(this.fromElementDescriptor,this)};return Object.defineProperty(F,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),F},toClassDescriptor:function(N){var F=N.kind+"";if(F!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+F+'"');this.disallowProperty(N,"key","A class descriptor"),this.disallowProperty(N,"placement","A class descriptor"),this.disallowProperty(N,"descriptor","A class descriptor"),this.disallowProperty(N,"initializer","A class descriptor"),this.disallowProperty(N,"extras","A class descriptor");var G=ye(N,"finisher");return{elements:this.toElementDescriptors(N.elements),finisher:G}},runClassFinishers:function(N,F){for(var G=0;G<F.length;G++){var ve=(0,F[G])(N);if(ve!==void 0){if(typeof ve!="function")throw new TypeError("Finishers must return a constructor.");N=ve}}return N},disallowProperty:function(N,F,G){if(N[F]!==void 0)throw new TypeError(G+" can't have a ."+F+" property.")}};return X}function hn(){return hn=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(L,N,F){var G=function(Se,it){for(;!{}.hasOwnProperty.call(Se,it)&&(Se=Un(Se))!==null;);return Se}(L,N);if(G){var ve=Object.getOwnPropertyDescriptor(G,N);return ve.get?ve.get.call(arguments.length<3?L:F):ve.value}},hn.apply(null,arguments)}function Un(X){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},Un(X)}var dr,Or,Ln,ai,oi,Hr=(dr=[(0,_n.EM)("br-mode-1up")],Or=cr.WF,Ln=un(),ai=function(X,L){var N=function(F){function G(ve,Se){var it;return function(Pt,ft){if(!_instanceof(Pt,ft))throw new TypeError("Cannot call a class as a function")}(this,G),it=q(this,G),X(it),it.book=ve,it.br=Se,it}return function(ve,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(Se&&Se.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),Object.defineProperty(ve,"prototype",{writable:!1}),Se&&mt(ve,Se)}(G,F),function(ve,Se,it){return Se&&oe(ve.prototype,Se),it&&oe(ve,it),Object.defineProperty(ve,"prototype",{writable:!1}),ve}(G)}(L);return{F:N,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,_n.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,_n.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,_n.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new wi(this)}},{kind:"field",decorators:[(0,_n.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,_n.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,_n.MZ)({type:Array,hasChanged:Je.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,_n.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,_n.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var G=this.coordSpace.worldUnitsToRenderedPixels;return{width:G(this.worldDimensions.width)+"px",height:G(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,_n.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new sr(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new gn(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new Ar(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(G){var ve=this,Se=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,it=Se!==void 0&&Se;it&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[G]-this.SPACING_IN/2),it&&setTimeout(function(){return ve.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(G){Ot(N,"firstUpdated",this,3)([G]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(G){var ve=this.book.getPage(G);this.scale=this.computeDefaultScale(ve)}},{kind:"method",key:"updated",value:function(G){if(G.has("book")&&this.updatePages(),G.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),G.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),G.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(Se){return Se.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),G.has("scale")){var ve=G.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,ve),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,Je.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){Ot(N,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),Ot(N,"disconnectedCallback",this,3)([])}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var G=this;return(0,cr.qy)(ki||(ki=function(ve,Se){return Se||(Se=ve.slice(0)),Object.freeze(Object.defineProperties(ve,{raw:{value:Object.freeze(Se)}}))}(['\n      <div class="br-mode-1up__world" style=','></div>\n      <div class="br-mode-1up__visible-world">\n        ',"\n      </div>"])),(0,Pe.W)(this.worldStyle),this.renderedPages.map(function(ve){return G.renderPage(ve)}))}},{kind:"field",key:"createPageContainer",value:function(){var G=this;return function(ve){return G.pageContainerCache[ve.index]||(G.pageContainerCache[ve.index]=G.br._createPageContainer(ve.index))}}},{kind:"field",key:"renderPage",value:function(){var G=this;return function(ve){var Se=G.coordSpace.worldUnitsToRenderedPixels,it=G.coordSpace.worldUnitsToVisiblePixels,Pt=G.coordSpace.visiblePixelsToWorldUnits(G.htmlDimensionsCacher.clientWidth),ft=Se(ve.widthInches),fn=Se(ve.heightInches),cn=Math.max(G.SPACING_IN,(Pt-ve.widthInches)/2),En=G.pageTops[ve.index],Wn="translate(".concat(Se(cn),"px, ").concat(Se(En),"px)"),In=G.createPageContainer(ve).update({dimensions:{width:ft,height:fn,top:0,left:0},reduce:ve.width/it(ve.widthInches)}).$container[0];return In.style.transform=Wn,In.classList.toggle("BRpage-visible",G.visiblePages.includes(ve)),In}}},{kind:"field",key:"updateVisibleRegion",value:function(){var G=this;return function(){var ve=G.scrollTop,Se=G.scrollLeft,it=G.htmlDimensionsCacher.clientWidth,Pt=G.htmlDimensionsCacher.clientHeight,ft=G.coordSpace.visiblePixelsToWorldUnits;G.visibleRegion={top:ft(ve),height:ft(Pt),left:ft(Se),width:ft(it)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var G,ve;return[(G=this.visiblePages[0])===null||G===void 0?void 0:G.prev].concat(me(this.visiblePages),[(ve=this.visiblePages[this.visiblePages.length-1])===null||ve===void 0?void 0:ve.next]).filter(function(Se){return Se}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var G=this;return(0,Je.throttle)(function(){G.renderedPages=G.computeRenderedPages(),G.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(G,ve){var Se,it={},Pt=ve,ft=function(cn,En){var Wn=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Wn){if(Array.isArray(cn)||(Wn=fe(cn))||En&&cn&&typeof cn.length=="number"){Wn&&(cn=Wn);var In=0,er=function(){};return{s:er,n:function(){return In>=cn.length?{done:!0}:{done:!1,value:cn[In++]}},e:function(Kn){throw Kn},f:er}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Pn,Vn=!0,nr=!1;return{s:function(){Wn=Wn.call(cn)},n:function(){var Kn=Wn.next();return Vn=Kn.done,Kn},e:function(Kn){nr=!0,Pn=Kn},f:function(){try{Vn||Wn.return==null||Wn.return()}finally{if(nr)throw Pn}}}}(G);try{for(ft.s();!(Se=ft.n()).done;){var fn=Se.value;it[fn.index]=Pt,Pt+=fn.heightInches+ve}}catch(cn){ft.e(cn)}finally{ft.f()}return it}},{kind:"method",key:"computeDefaultScale",value:function(G){var ve=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,ve/(G.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,me(this.pages.map(function(G){return G.widthInches})))+2*this.SPACING_IN,height:(0,Je.sum)(this.pages.map(function(G){return G.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var G=this;return this.pages.filter(function(ve){var Se=G.pageTops[ve.index],it=Se+ve.heightInches,Pt=G.visibleRegion.top;return Se<=Pt+G.visibleRegion.height&&it>=Pt})}},{kind:"field",key:"attachScrollListeners",value:function(){var G=this;return function(){G.addEventListener("scroll",G.updateVisibleRegion),G.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var G=this;return function(){G.removeEventListener("scroll",G.updateVisibleRegion),G.scrollClassAdder.detach()}}}]}}(function(X){Ln.initializeInstanceElements(X,oi.elements)},Or),oi=Ln.decorateClass(function(X){for(var L=[],N=function(it){return it.kind==="method"&&it.key===ve.key&&it.placement===ve.placement},F=0;F<X.length;F++){var G,ve=X[F];if(ve.kind==="method"&&(G=L.find(N)))if(le(ve.descriptor)||le(G.descriptor)){if(ie(ve)||ie(G))throw new ReferenceError("Duplicated methods ("+ve.key+") can't be decorated.");G.descriptor=ve.descriptor}else{if(ie(ve)){if(ie(G))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+ve.key+").");G.decorators=ve.decorators}we(ve,G)}else L.push(ve)}return L}(ai.d.map(ee)),dr),Ln.initializeClassElements(ai.F,oi.elements),Ln.runClassFinishers(ai.F,oi.finishers)),pe=o(1669);function Yi(X){return Yi=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},Yi(X)}var si={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},Ui=function(){return function(X,L,N){return L&&_t(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X}(function X(L){var N=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(G,ve){if(!_instanceof(G,ve))throw new TypeError("Cannot call a class as a function")})(this,X),De(this,"_dragStartHandler",function(G){return!!N._shouldAbort()||!(G.which>1||!N.settings.acceptPropagatedEvent&&G.target!=N.handling_element[0])&&(N.lastCoord=N.firstCoord=Ne(G),N.handling_element.on(N.settings.dragcontinue,N._dragContinueHandler),N.settings.dragend.split(" ").forEach(function(ve){N.handling_element[0].addEventListener(ve,N._dragEndHandler,!0)}),N.settings.preventDefault?(G.preventDefault(),!1):void 0)}),De(this,"_dragContinueHandler",function(G){if(N._shouldAbort())return!0;var ve=Ne(G),Se=ve.left-N.lastCoord.left,it=ve.top-N.lastCoord.top,Pt=N.settings.scrollWindow?pe(window):N.handling_element;return Pt.scrollLeft(Pt.scrollLeft()-Se),Pt.scrollTop(Pt.scrollTop()-it),N.lastCoord=ve,N.settings.preventDefault?(G.preventDefault(),!1):void 0}),De(this,"_dragEndHandler",function(G){if(N._shouldAbort())return!0;N.handling_element.off(N.settings.dragcontinue).off(N.settings.dragend),N.settings.dragend.split(" ").forEach(function(it){N.handling_element[0].removeEventListener(it,N._dragEndHandler,!0)});var ve={left:Math.abs(N.lastCoord.left-N.firstCoord.left),top:Math.abs(N.lastCoord.top-N.firstCoord.top)},Se=Math.max(ve.left,ve.top);return N.settings.preventDefault&&Se>N.settings.dragMinDistance?(G.preventDefault(),G.stopImmediatePropagation(),G.stopPropagation(),!1):void 0}),this.handling_element=pe(L),this.settings=pe.extend({},si,F||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=Xe(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=Xe(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)},[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])}(),_i=o(1669);function pn(X){return pn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},pn(X)}function yn(){yn=function(){return L};var X,L={},N=Object.prototype,F=N.hasOwnProperty,G=Object.defineProperty||function(Le,ge,Oe){Le[ge]=Oe.value},ve=typeof Symbol=="function"?Symbol:{},Se=ve.iterator||"@@iterator",it=ve.asyncIterator||"@@asyncIterator",Pt=ve.toStringTag||"@@toStringTag";function ft(Le,ge,Oe){return Object.defineProperty(Le,ge,{value:Oe,enumerable:!0,configurable:!0,writable:!0}),Le[ge]}try{ft({},"")}catch(Le){ft=function(Oe,wt,Et){return Oe[wt]=Et}}function fn(Le,ge,Oe,wt){var Et=ge&&_instanceof(ge.prototype,Vn)?ge:Vn,St=Object.create(Et.prototype),vn=new Nr(wt||[]);return G(St,"_invoke",{value:Rr(Le,Oe,vn)}),St}function cn(Le,ge,Oe){try{return{type:"normal",arg:Le.call(ge,Oe)}}catch(wt){return{type:"throw",arg:wt}}}L.wrap=fn;var En="suspendedStart",Wn="suspendedYield",In="executing",er="completed",Pn={};function Vn(){}function nr(){}function qn(){}var Kn={};ft(Kn,Se,function(){return this});var _r=Object.getPrototypeOf,jr=_r&&_r(_r(Dr([])));jr&&jr!==N&&F.call(jr,Se)&&(Kn=jr);var pr=qn.prototype=Vn.prototype=Object.create(Kn);function gr(Le){["next","throw","return"].forEach(function(ge){ft(Le,ge,function(Oe){return this._invoke(ge,Oe)})})}function Cr(Le,ge){function Oe(Et,St,vn,Cn){var Hn=cn(Le[Et],Le,St);if(Hn.type!=="throw"){var Qn=Hn.arg,vr=Qn.value;return vr&&pn(vr)=="object"&&F.call(vr,"__await")?ge.resolve(vr.__await).then(function(Sr){Oe("next",Sr,vn,Cn)},function(Sr){Oe("throw",Sr,vn,Cn)}):ge.resolve(vr).then(function(Sr){Qn.value=Sr,vn(Qn)},function(Sr){return Oe("throw",Sr,vn,Cn)})}Cn(Hn.arg)}var wt;G(this,"_invoke",{value:function(St,vn){function Cn(){return new ge(function(Hn,Qn){Oe(St,vn,Hn,Qn)})}return wt=wt?wt.then(Cn,Cn):Cn()}})}function Rr(Le,ge,Oe){var wt=En;return function(Et,St){if(wt===In)throw Error("Generator is already running");if(wt===er){if(Et==="throw")throw St;return{value:X,done:!0}}for(Oe.method=Et,Oe.arg=St;;){var vn=Oe.delegate;if(vn){var Cn=Mr(vn,Oe);if(Cn){if(Cn===Pn)continue;return Cn}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(wt===En)throw wt=er,Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);wt=In;var Hn=cn(Le,ge,Oe);if(Hn.type==="normal"){if(wt=Oe.done?er:Wn,Hn.arg===Pn)continue;return{value:Hn.arg,done:Oe.done}}Hn.type==="throw"&&(wt=er,Oe.method="throw",Oe.arg=Hn.arg)}}}function Mr(Le,ge){var Oe=ge.method,wt=Le.iterator[Oe];if(wt===X)return ge.delegate=null,Oe==="throw"&&Le.iterator.return&&(ge.method="return",ge.arg=X,Mr(Le,ge),ge.method==="throw")||Oe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Oe+"' method")),Pn;var Et=cn(wt,Le.iterator,ge.arg);if(Et.type==="throw")return ge.method="throw",ge.arg=Et.arg,ge.delegate=null,Pn;var St=Et.arg;return St?St.done?(ge[Le.resultName]=St.value,ge.next=Le.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=X),ge.delegate=null,Pn):St:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Pn)}function Gr(Le){var ge={tryLoc:Le[0]};1 in Le&&(ge.catchLoc=Le[1]),2 in Le&&(ge.finallyLoc=Le[2],ge.afterLoc=Le[3]),this.tryEntries.push(ge)}function Kr(Le){var ge=Le.completion||{};ge.type="normal",delete ge.arg,Le.completion=ge}function Nr(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Gr,this),this.reset(!0)}function Dr(Le){if(Le||Le===""){var ge=Le[Se];if(ge)return ge.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Oe=-1,wt=function Et(){for(;++Oe<Le.length;)if(F.call(Le,Oe))return Et.value=Le[Oe],Et.done=!1,Et;return Et.value=X,Et.done=!0,Et};return wt.next=wt}}throw new TypeError(pn(Le)+" is not iterable")}return nr.prototype=qn,G(pr,"constructor",{value:qn,configurable:!0}),G(qn,"constructor",{value:nr,configurable:!0}),nr.displayName=ft(qn,Pt,"GeneratorFunction"),L.isGeneratorFunction=function(Le){var ge=typeof Le=="function"&&Le.constructor;return!!ge&&(ge===nr||(ge.displayName||ge.name)==="GeneratorFunction")},L.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,qn):(Le.__proto__=qn,ft(Le,Pt,"GeneratorFunction")),Le.prototype=Object.create(pr),Le},L.awrap=function(Le){return{__await:Le}},gr(Cr.prototype),ft(Cr.prototype,it,function(){return this}),L.AsyncIterator=Cr,L.async=function(Le,ge,Oe,wt,Et){Et===void 0&&(Et=Promise);var St=new Cr(fn(Le,ge,Oe,wt),Et);return L.isGeneratorFunction(ge)?St:St.next().then(function(vn){return vn.done?vn.value:St.next()})},gr(pr),ft(pr,Pt,"Generator"),ft(pr,Se,function(){return this}),ft(pr,"toString",function(){return"[object Generator]"}),L.keys=function(Le){var ge=Object(Le),Oe=[];for(var wt in ge)Oe.push(wt);return Oe.reverse(),function Et(){for(;Oe.length;){var St=Oe.pop();if(St in ge)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}},L.values=Dr,Nr.prototype={constructor:Nr,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(Kr),!ge)for(var Oe in this)Oe.charAt(0)==="t"&&F.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=X)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Oe=this;function wt(Qn,vr){return vn.type="throw",vn.arg=ge,Oe.next=Qn,vr&&(Oe.method="next",Oe.arg=X),!!vr}for(var Et=this.tryEntries.length-1;Et>=0;--Et){var St=this.tryEntries[Et],vn=St.completion;if(St.tryLoc==="root")return wt("end");if(St.tryLoc<=this.prev){var Cn=F.call(St,"catchLoc"),Hn=F.call(St,"finallyLoc");if(Cn&&Hn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0);if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}else if(Cn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}}}},abrupt:function(ge,Oe){for(var wt=this.tryEntries.length-1;wt>=0;--wt){var Et=this.tryEntries[wt];if(Et.tryLoc<=this.prev&&F.call(Et,"finallyLoc")&&this.prev<Et.finallyLoc){var St=Et;break}}St&&(ge==="break"||ge==="continue")&&St.tryLoc<=Oe&&Oe<=St.finallyLoc&&(St=null);var vn=St?St.completion:{};return vn.type=ge,vn.arg=Oe,St?(this.method="next",this.next=St.finallyLoc,Pn):this.complete(vn)},complete:function(ge,Oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Oe&&(this.next=Oe),Pn},finish:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.finallyLoc===ge)return this.complete(wt.completion,wt.afterLoc),Kr(wt),Pn}},catch:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.tryLoc===ge){var Et=wt.completion;if(Et.type==="throw"){var St=Et.arg;Kr(wt)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ge,Oe,wt){return this.delegate={iterator:Dr(ge),resultName:Oe,nextLoc:wt},this.method==="next"&&(this.arg=X),Pn}},L}var wn,lr,Ir,ri,Ei,ia,jo,no,bl=function(){return function(X,L,N){return L&&Ve(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X}(function X(L,N){(function(F,G){if(!_instanceof(F,G))throw new TypeError("Cannot call a class as a function")})(this,X),this.br=L,this.book=N,this.mode1UpLit=new Hr(N,L),this.$el=_i(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1},[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var L=this,N=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(Me(yn().mark(function F(){return yn().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(L.everShown){G.next=7;break}return L.mode1UpLit.initFirstRender(N),L.everShown=!0,L.mode1UpLit.requestUpdate(),G.next=6,L.mode1UpLit.updateComplete;case 6:new Ui(L.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:L.mode1UpLit.jumpToIndex(N),setTimeout(function(){L.mode1UpLit.updateVisibleRegion()});case 9:case"end":return G.stop()}},F)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(L,N,F,G){var ve=Math.abs(this.br.currentIndex()-L),Se=!G&&ve>0&&ve<=4;this.mode1UpLit.jumpToIndex(L,{smooth:Se})}},{key:"zoom",value:function(L){switch(L){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(L))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(),Pa=(o(1761),o(1669));function Po(X){return Po=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},Po(X)}function Vi(){Vi=function(){return L};var X,L={},N=Object.prototype,F=N.hasOwnProperty,G=Object.defineProperty||function(Le,ge,Oe){Le[ge]=Oe.value},ve=typeof Symbol=="function"?Symbol:{},Se=ve.iterator||"@@iterator",it=ve.asyncIterator||"@@asyncIterator",Pt=ve.toStringTag||"@@toStringTag";function ft(Le,ge,Oe){return Object.defineProperty(Le,ge,{value:Oe,enumerable:!0,configurable:!0,writable:!0}),Le[ge]}try{ft({},"")}catch(Le){ft=function(Oe,wt,Et){return Oe[wt]=Et}}function fn(Le,ge,Oe,wt){var Et=ge&&_instanceof(ge.prototype,Vn)?ge:Vn,St=Object.create(Et.prototype),vn=new Nr(wt||[]);return G(St,"_invoke",{value:Rr(Le,Oe,vn)}),St}function cn(Le,ge,Oe){try{return{type:"normal",arg:Le.call(ge,Oe)}}catch(wt){return{type:"throw",arg:wt}}}L.wrap=fn;var En="suspendedStart",Wn="suspendedYield",In="executing",er="completed",Pn={};function Vn(){}function nr(){}function qn(){}var Kn={};ft(Kn,Se,function(){return this});var _r=Object.getPrototypeOf,jr=_r&&_r(_r(Dr([])));jr&&jr!==N&&F.call(jr,Se)&&(Kn=jr);var pr=qn.prototype=Vn.prototype=Object.create(Kn);function gr(Le){["next","throw","return"].forEach(function(ge){ft(Le,ge,function(Oe){return this._invoke(ge,Oe)})})}function Cr(Le,ge){function Oe(Et,St,vn,Cn){var Hn=cn(Le[Et],Le,St);if(Hn.type!=="throw"){var Qn=Hn.arg,vr=Qn.value;return vr&&Po(vr)=="object"&&F.call(vr,"__await")?ge.resolve(vr.__await).then(function(Sr){Oe("next",Sr,vn,Cn)},function(Sr){Oe("throw",Sr,vn,Cn)}):ge.resolve(vr).then(function(Sr){Qn.value=Sr,vn(Qn)},function(Sr){return Oe("throw",Sr,vn,Cn)})}Cn(Hn.arg)}var wt;G(this,"_invoke",{value:function(St,vn){function Cn(){return new ge(function(Hn,Qn){Oe(St,vn,Hn,Qn)})}return wt=wt?wt.then(Cn,Cn):Cn()}})}function Rr(Le,ge,Oe){var wt=En;return function(Et,St){if(wt===In)throw Error("Generator is already running");if(wt===er){if(Et==="throw")throw St;return{value:X,done:!0}}for(Oe.method=Et,Oe.arg=St;;){var vn=Oe.delegate;if(vn){var Cn=Mr(vn,Oe);if(Cn){if(Cn===Pn)continue;return Cn}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(wt===En)throw wt=er,Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);wt=In;var Hn=cn(Le,ge,Oe);if(Hn.type==="normal"){if(wt=Oe.done?er:Wn,Hn.arg===Pn)continue;return{value:Hn.arg,done:Oe.done}}Hn.type==="throw"&&(wt=er,Oe.method="throw",Oe.arg=Hn.arg)}}}function Mr(Le,ge){var Oe=ge.method,wt=Le.iterator[Oe];if(wt===X)return ge.delegate=null,Oe==="throw"&&Le.iterator.return&&(ge.method="return",ge.arg=X,Mr(Le,ge),ge.method==="throw")||Oe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Oe+"' method")),Pn;var Et=cn(wt,Le.iterator,ge.arg);if(Et.type==="throw")return ge.method="throw",ge.arg=Et.arg,ge.delegate=null,Pn;var St=Et.arg;return St?St.done?(ge[Le.resultName]=St.value,ge.next=Le.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=X),ge.delegate=null,Pn):St:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Pn)}function Gr(Le){var ge={tryLoc:Le[0]};1 in Le&&(ge.catchLoc=Le[1]),2 in Le&&(ge.finallyLoc=Le[2],ge.afterLoc=Le[3]),this.tryEntries.push(ge)}function Kr(Le){var ge=Le.completion||{};ge.type="normal",delete ge.arg,Le.completion=ge}function Nr(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Gr,this),this.reset(!0)}function Dr(Le){if(Le||Le===""){var ge=Le[Se];if(ge)return ge.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Oe=-1,wt=function Et(){for(;++Oe<Le.length;)if(F.call(Le,Oe))return Et.value=Le[Oe],Et.done=!1,Et;return Et.value=X,Et.done=!0,Et};return wt.next=wt}}throw new TypeError(Po(Le)+" is not iterable")}return nr.prototype=qn,G(pr,"constructor",{value:qn,configurable:!0}),G(qn,"constructor",{value:nr,configurable:!0}),nr.displayName=ft(qn,Pt,"GeneratorFunction"),L.isGeneratorFunction=function(Le){var ge=typeof Le=="function"&&Le.constructor;return!!ge&&(ge===nr||(ge.displayName||ge.name)==="GeneratorFunction")},L.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,qn):(Le.__proto__=qn,ft(Le,Pt,"GeneratorFunction")),Le.prototype=Object.create(pr),Le},L.awrap=function(Le){return{__await:Le}},gr(Cr.prototype),ft(Cr.prototype,it,function(){return this}),L.AsyncIterator=Cr,L.async=function(Le,ge,Oe,wt,Et){Et===void 0&&(Et=Promise);var St=new Cr(fn(Le,ge,Oe,wt),Et);return L.isGeneratorFunction(ge)?St:St.next().then(function(vn){return vn.done?vn.value:St.next()})},gr(pr),ft(pr,Pt,"Generator"),ft(pr,Se,function(){return this}),ft(pr,"toString",function(){return"[object Generator]"}),L.keys=function(Le){var ge=Object(Le),Oe=[];for(var wt in ge)Oe.push(wt);return Oe.reverse(),function Et(){for(;Oe.length;){var St=Oe.pop();if(St in ge)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}},L.values=Dr,Nr.prototype={constructor:Nr,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(Kr),!ge)for(var Oe in this)Oe.charAt(0)==="t"&&F.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=X)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Oe=this;function wt(Qn,vr){return vn.type="throw",vn.arg=ge,Oe.next=Qn,vr&&(Oe.method="next",Oe.arg=X),!!vr}for(var Et=this.tryEntries.length-1;Et>=0;--Et){var St=this.tryEntries[Et],vn=St.completion;if(St.tryLoc==="root")return wt("end");if(St.tryLoc<=this.prev){var Cn=F.call(St,"catchLoc"),Hn=F.call(St,"finallyLoc");if(Cn&&Hn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0);if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}else if(Cn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}}}},abrupt:function(ge,Oe){for(var wt=this.tryEntries.length-1;wt>=0;--wt){var Et=this.tryEntries[wt];if(Et.tryLoc<=this.prev&&F.call(Et,"finallyLoc")&&this.prev<Et.finallyLoc){var St=Et;break}}St&&(ge==="break"||ge==="continue")&&St.tryLoc<=Oe&&Oe<=St.finallyLoc&&(St=null);var vn=St?St.completion:{};return vn.type=ge,vn.arg=Oe,St?(this.method="next",this.next=St.finallyLoc,Pn):this.complete(vn)},complete:function(ge,Oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Oe&&(this.next=Oe),Pn},finish:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.finallyLoc===ge)return this.complete(wt.completion,wt.afterLoc),Kr(wt),Pn}},catch:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.tryLoc===ge){var Et=wt.completion;if(Et.type==="throw"){var St=Et.arg;Kr(wt)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ge,Oe,wt){return this.delegate={iterator:Dr(ge),resultName:Oe,nextLoc:wt},this.method==="next"&&(this.arg=X),Pn}},L}function oo(){try{var X=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(oo=function(){return!!X})()}function ao(X,L){return ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,G){return F.__proto__=G,F},ao(X,L)}function xs(){xs=function(){return X};var X={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(N,F){["method","field"].forEach(function(G){F.forEach(function(ve){ve.kind===G&&ve.placement==="own"&&this.defineClassElement(N,ve)},this)},this)},initializeClassElements:function(N,F){var G=N.prototype;["method","field"].forEach(function(ve){F.forEach(function(Se){var it=Se.placement;if(Se.kind===ve&&(it==="static"||it==="prototype")){var Pt=it==="static"?N:G;this.defineClassElement(Pt,Se)}},this)},this)},defineClassElement:function(N,F){var G=F.descriptor;if(F.kind==="field"){var ve=F.initializer;G={enumerable:G.enumerable,writable:G.writable,configurable:G.configurable,value:ve===void 0?void 0:ve.call(N)}}Object.defineProperty(N,F.key,G)},decorateClass:function(N,F){var G=[],ve=[],Se={static:[],prototype:[],own:[]};if(N.forEach(function(Pt){this.addElementPlacement(Pt,Se)},this),N.forEach(function(Pt){if(!Ze(Pt))return G.push(Pt);var ft=this.decorateElement(Pt,Se);G.push(ft.element),G.push.apply(G,ft.extras),ve.push.apply(ve,ft.finishers)},this),!F)return{elements:G,finishers:ve};var it=this.decorateConstructor(G,F);return ve.push.apply(ve,it.finishers),it.finishers=ve,it},addElementPlacement:function(N,F,G){var ve=F[N.placement];if(!G&&ve.indexOf(N.key)!==-1)throw new TypeError("Duplicated element ("+N.key+")");ve.push(N.key)},decorateElement:function(N,F){for(var G=[],ve=[],Se=N.decorators,it=Se.length-1;it>=0;it--){var Pt=F[N.placement];Pt.splice(Pt.indexOf(N.key),1);var ft=this.fromElementDescriptor(N),fn=this.toElementFinisherExtras((0,Se[it])(ft)||ft);N=fn.element,this.addElementPlacement(N,F),fn.finisher&&ve.push(fn.finisher);var cn=fn.extras;if(cn){for(var En=0;En<cn.length;En++)this.addElementPlacement(cn[En],F);G.push.apply(G,cn)}}return{element:N,finishers:ve,extras:G}},decorateConstructor:function(N,F){for(var G=[],ve=F.length-1;ve>=0;ve--){var Se=this.fromClassDescriptor(N),it=this.toClassDescriptor((0,F[ve])(Se)||Se);if(it.finisher!==void 0&&G.push(it.finisher),it.elements!==void 0){N=it.elements;for(var Pt=0;Pt<N.length-1;Pt++)for(var ft=Pt+1;ft<N.length;ft++)if(N[Pt].key===N[ft].key&&N[Pt].placement===N[ft].placement)throw new TypeError("Duplicated element ("+N[Pt].key+")")}}return{elements:N,finishers:G}},fromElementDescriptor:function(N){var F={kind:N.kind,key:N.key,placement:N.placement,descriptor:N.descriptor};return Object.defineProperty(F,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),N.kind==="field"&&(F.initializer=N.initializer),F},toElementDescriptors:function(N){if(N!==void 0)return(F=N,function(G){if(Array.isArray(G))return G}(F)||Y(F)||Bt(F)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(G){var ve=this.toElementDescriptor(G);return this.disallowProperty(G,"finisher","An element descriptor"),this.disallowProperty(G,"extras","An element descriptor"),ve},this);var F},toElementDescriptor:function(N){var F=N.kind+"";if(F!=="method"&&F!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+F+'"');var G=qt(N.key),ve=N.placement+"";if(ve!=="static"&&ve!=="prototype"&&ve!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+ve+'"');var Se=N.descriptor;this.disallowProperty(N,"elements","An element descriptor");var it={kind:F,key:G,placement:ve,descriptor:Object.assign({},Se)};return F!=="field"?this.disallowProperty(N,"initializer","A method descriptor"):(this.disallowProperty(Se,"get","The property descriptor of a field descriptor"),this.disallowProperty(Se,"set","The property descriptor of a field descriptor"),this.disallowProperty(Se,"value","The property descriptor of a field descriptor"),it.initializer=N.initializer),it},toElementFinisherExtras:function(N){return{element:this.toElementDescriptor(N),finisher:$t(N,"finisher"),extras:this.toElementDescriptors(N.extras)}},fromClassDescriptor:function(N){var F={kind:"class",elements:N.map(this.fromElementDescriptor,this)};return Object.defineProperty(F,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),F},toClassDescriptor:function(N){var F=N.kind+"";if(F!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+F+'"');this.disallowProperty(N,"key","A class descriptor"),this.disallowProperty(N,"placement","A class descriptor"),this.disallowProperty(N,"descriptor","A class descriptor"),this.disallowProperty(N,"initializer","A class descriptor"),this.disallowProperty(N,"extras","A class descriptor");var G=$t(N,"finisher");return{elements:this.toElementDescriptors(N.elements),finisher:G}},runClassFinishers:function(N,F){for(var G=0;G<F.length;G++){var ve=(0,F[G])(N);if(ve!==void 0){if(typeof ve!="function")throw new TypeError("Finishers must return a constructor.");N=ve}}return N},disallowProperty:function(N,F,G){if(N[F]!==void 0)throw new TypeError(G+" can't have a ."+F+" property.")}};return X}function Ia(){return Ia=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(L,N,F){var G=function(Se,it){for(;!{}.hasOwnProperty.call(Se,it)&&(Se=Gi(Se))!==null;);return Se}(L,N);if(G){var ve=Object.getOwnPropertyDescriptor(G,N);return ve.get?ve.get.call(arguments.length<3?L:F):ve.value}},Ia.apply(null,arguments)}function Gi(X){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},Gi(X)}var Er=xt([(0,_n.EM)("br-mode-2up")],function(X,L){var N,F,G=function(ve){function Se(it,Pt){var ft;return Ge(this,Se),ft=$e(this,Se),X(ft),ft.book=it,ft.br=Pt,ft}return ze(Se,ve),et(Se)}(L);return{F:G,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,_n.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new wi(this)}},{kind:"field",decorators:[(0,_n.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,_n.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,_n.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,_n.MZ)({type:Array,hasChanged:Je.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(Se){return Se.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(Se){return Se.pageSide=="R"})}},{kind:"field",decorators:[(0,_n.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,_n.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(Se){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(Se){return Se.widthInches*this.computePageHeight(Se)/Se.heightInches}},{kind:"method",key:"computePositions",value:function(Se,it){var Pt,ft,fn,cn,En=this.computePageWidth.bind(this),Wn=this.book.getNumLeafs(),In=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,er=this.book.pageProgression=="lr"?(Pt=Se==null?void 0:Se.index)!==null&&Pt!==void 0?Pt:0:Se?Wn-Se.index:0,Pn=this._leftCoverWidth+er*this.PAGE_THICKNESS_IN,Vn=Pn,nr=En(Se||it.right),qn=Pn-nr,Kn=qn,_r=((ft=this.activeFlip)===null||ft===void 0?void 0:ft.direction)!="left"?0:In,jr=Math.ceil(er/2)*this.PAGE_THICKNESS_IN-_r,pr=_r+jr,gr=Kn-_r,Cr=gr-jr,Rr=Pn,Mr=it?En(it):0,Gr=Rr+Mr,Kr=this.book.pageProgression=="lr"?it?Wn-it.index:0:(fn=it==null?void 0:it.index)!==null&&fn!==void 0?fn:0,Nr=Gr,Dr=((cn=this.activeFlip)===null||cn===void 0?void 0:cn.direction)!="right"?0:In,Le=Nr+Dr,ge=Math.ceil(Kr/2)*this.PAGE_THICKNESS_IN-Dr,Oe=Nr+ge+Dr;return{leafEdgesLeftStart:Cr,leafEdgesLeftMainWidth:jr,leafEdgesLeftMovingStart:gr,leafEdgesLeftMovingWidth:_r,leafEdgesLeftEnd:Kn,leafEdgesLeftFullWidth:pr,pageLeftStart:qn,pageLeftWidth:nr,pageLeftEnd:Vn,gutter:Pn,pageRightStart:Rr,pageRightWidth:Mr,pageRightEnd:Gr,leafEdgesRightStart:Nr,leafEdgesRightMovingWidth:Dr,leafEdgesRightMainStart:Le,leafEdgesRightMainWidth:ge,leafEdgesRightEnd:Oe,leafEdgesRightFullWidth:Dr+ge,spreadWidth:Gr-qn,bookWidth:Oe-Cr}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new sr(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new gn(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(F=Ue(Vi().mark(function ve(Se){var it,Pt,ft=arguments;return Vi().wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:return it=(ft.length>1&&ft[1]!==void 0?ft[1]:{}).smooth,Pt=it===void 0||it,fn.next=3,this.flipAnimation(Se,{animate:Pt});case 3:case"end":return fn.stop()}},ve,this)})),function(ve){return F.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(Se){Kt(G,"firstUpdated",this,3)([Se]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){Kt(G,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),Kt(G,"disconnectedCallback",this,3)([])}},{kind:"method",key:"updated",value:function(Se){if(Se.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),Se.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(Pt){return Pt.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),Se.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),Se.has("scale")){var it=Se.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,it)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var Se=this;return(0,cr.qy)(wn||(wn=gt(['\n      <div class="br-mode-2up__book" @mouseup=',">\n        ","\n        ","\n        ","\n      </div>"])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(it){return Se.renderPage(it)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var Se=this;return function(it){return Se.pageContainerCache[it.index]||(Se.pageContainerCache[it.index]=Se.br._createPageContainer(it.index))}}},{kind:"method",key:"initFirstRender",value:function(Se){var it=this.book.getPage(Se),Pt=it.spread;this.visiblePages=(this.book.pageProgression=="lr"?[Pt.left,Pt.right]:[Pt.right,Pt.left]).filter(function(ft){return ft}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(it),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var Se=this;return function(it){var Pt=Se.coordSpace.worldUnitsToRenderedPixels,ft=Se.coordSpace.worldUnitsToVisiblePixels,fn=Pt(Se.computePageWidth(it)),cn=Pt(Se.computePageHeight(it)),En=Se.visiblePages.map(function(er){return er.index}).includes(it.index),Wn=Se.computePositions(it.spread.left,it.spread.right),In=Se.createPageContainer(it).update({dimensions:{width:fn,height:cn,top:0,left:Pt(it.pageSide=="L"?Wn.pageLeftStart:Wn.pageLeftEnd)},reduce:it.width/ft(Se.computePageWidth(it))}).$container[0];return In.classList.toggle("BRpage-visible",En),In}}},{kind:"field",key:"renderLeafEdges",value:function(){var Se=this;return function(it){var Pt;if(!Se.visiblePages.length)return(0,cr.qy)(lr||(lr=gt([""])));if(!(it=="left"?Se.positions.leafEdgesLeftFullWidth:Se.positions.leafEdgesRightFullWidth))return(0,cr.qy)(Ir||(Ir=gt([""])));var ft=Se.coordSpace.worldUnitsToRenderedPixels,fn=ft(Se.computePageHeight(Se.visiblePages[0])),cn=((Pt=Se.activeFlip)===null||Pt===void 0?void 0:Pt.direction)==it,En=Se.book.getPage(Se.book.pageProgression=="lr"?0:Se.book.getNumLeafs()-1),Wn=Se.book.getPage(Se.book.pageProgression=="lr"?Se.book.getNumLeafs()-1:0),In=cn?Se.activeFlip.pagesFlippingCount:0,er=it=="left"?[En.index,Se.pageLeft.goLeft(In).index]:[Se.pageRight.goRight(In).index,Wn.index],Pn={width:"".concat(ft(it=="left"?Se.positions.leafEdgesLeftMainWidth:Se.positions.leafEdgesRightMainWidth),"px"),height:"".concat(fn,"px"),left:"".concat(ft(it=="left"?Se.positions.leafEdgesLeftStart:Se.positions.leafEdgesRightMainStart),"px")},Vn=(0,cr.qy)(ri||(ri=gt(["\n      <br-leaf-edges\n        leftIndex=","\n        rightIndex=","\n        .book=","\n        .pageClickHandler=","\n        side=",'\n        class="br-mode-2up__leafs br-mode-2up__leafs--','"\n        style=',"\n      ></br-leaf-edges>\n    "])),er[0],er[1],Se.book,function(_r){return Se.br.jumpToIndex(_r)},it,it,(0,Pe.W)(Pn));if(cn){var nr=ft(it=="left"?Se.positions.leafEdgesLeftMovingWidth:Se.positions.leafEdgesRightMovingWidth),qn={width:"".concat(nr,"px"),height:"".concat(fn,"px"),left:"".concat(ft(it=="left"?Se.positions.leafEdgesLeftMovingStart:Se.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(ft(it=="left"?Se.positions.pageLeftWidth:-Se.positions.pageRightWidth)+nr/2,"px 0")},Kn=(0,cr.qy)(Ei||(Ei=gt(["\n        <br-leaf-edges\n          leftIndex=","\n          rightIndex=","\n          .book=","\n          side=",'\n          class="br-mode-2up__leafs br-mode-2up__leafs--',' br-mode-2up__leafs--flipping"\n          style=',"\n        ></br-leaf-edges>\n      "])),Se.activeFlip.pagesFlipping[0],Se.activeFlip.pagesFlipping[1],Se.book,it,it,(0,Pe.W)(qn));return it=="left"?(0,cr.qy)(ia||(ia=gt(["","",""])),Vn,Kn):(0,cr.qy)(jo||(jo=gt(["","",""])),Kn,Vn)}return Vn}}},{kind:"method",key:"resizeViaAutofit",value:function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(Se,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],it=this.computeTranslate(Se,this.scale);this.$book.style.transform="translateX(".concat(it.x,"px) translateY(").concat(it.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var Se,it,Pt,ft,fn;return[(Se=this.visiblePages[0])===null||Se===void 0||(Se=Se.prev)===null||Se===void 0?void 0:Se.prev,(it=this.visiblePages[0])===null||it===void 0?void 0:it.prev].concat((fn=this.visiblePages,function(cn){if(Array.isArray(cn))return ut(cn)}(fn)||Y(fn)||Bt(fn)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[(Pt=this.visiblePages[this.visiblePages.length-1])===null||Pt===void 0?void 0:Pt.next,(ft=this.visiblePages[this.visiblePages.length-1])===null||ft===void 0||(ft=ft.next)===null||ft===void 0?void 0:ft.next]).filter(function(cn){return cn}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(Se,it){if(!Se)return 1;var Pt=Se.spread,ft=this.computePositions(Pt.left,Pt.right).bookWidth,fn=this.computePageHeight(Pt.left||Pt.right),cn=this.scale;this.scale=1;var En=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/ft,Wn=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/fn;this.scale=cn;var In=1;if(it=="width")In=En;else if(it=="height")In=Wn;else if(it=="auto")In=Math.min(En,Wn);else{if(it!="none")throw new Error("Invalid autoFit value: ".concat(it));In=this.scale}return In}},{kind:"method",key:"computeTranslate",value:function(Se){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!Se)return{x:0,y:0};var Pt=Se.spread,ft=this.computePositions(Pt.left,Pt.right),fn=ft.bookWidth,cn=this.computePageHeight(Pt.left||Pt.right),En=this.coordSpace.worldUnitsToRenderedPixels(fn)*it,Wn=this.coordSpace.worldUnitsToRenderedPixels(cn)*it,In=this.coordSpace.worldUnitsToRenderedPixels(-ft.leafEdgesLeftStart)*it,er=(this.htmlDimensionsCacher.clientWidth-En)/2+In,Pn=(this.htmlDimensionsCacher.clientHeight-Wn)/2;return{x:Math.max(In,er),y:Math.max(0,Pn)}}},{kind:"method",key:"flipAnimation",value:(N=Ue(Vi().mark(function ve(Se){var it,Pt,ft,fn,cn,En,Wn,In,er,Pn,Vn,nr,qn,Kn,_r,jr,pr,gr,Cr,Rr,Mr,Gr,Kr,Nr,Dr,Le,ge,Oe,wt,Et=this,St=arguments;return Vi().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:if(En=(St.length>1&&St[1]!==void 0?St[1]:{}).animate,Wn=En===void 0||En,In=(it=this.pageLeft||this.pageRight)===null||it===void 0?void 0:it.spread){vn.next=4;break}return vn.abrupt("return");case 4:if(Se=this.parseNextSpread(Se),!this.activeFlip&&Se){vn.next=7;break}return vn.abrupt("return");case 7:if(er=this.book.pageProgression,Pn=(Pt=(ft=In.left)===null||ft===void 0?void 0:ft.index)!==null&&Pt!==void 0?Pt:er=="lr"?-1:this.book.getNumLeafs(),Vn=(fn=(cn=Se.left)===null||cn===void 0?void 0:cn.index)!==null&&fn!==void 0?fn:er=="lr"?-1:this.book.getNumLeafs(),Pn!=Vn){vn.next=12;break}return vn.abrupt("return");case 12:nr=this.renderedPages.map(function(Cn){return Cn.index}),qn=[],Kn=0,_r=[Se.left,Se.right];case 15:if(!(Kn<_r.length)){vn.next=24;break}if(jr=_r[Kn]){vn.next=19;break}return vn.abrupt("continue",21);case 19:qn.push(this.createPageContainer(jr)),nr.includes(jr.index)||this.renderedPages.push(jr);case 21:Kn++,vn.next=15;break;case 24:if(pr=this.computeTranslate(In.left||In.right,this.scale),gr=this.computeTranslate(Se.left||Se.right,this.scale),Cr=Math.sqrt(Math.pow(gr.x-pr.x,2)+Math.pow(gr.y-pr.y,2)),Rr="translate(".concat(gr.x,"px, ").concat(gr.y,"px)"),Cr<50&&(Gr=(Mr=this.$book.style.transform.match(/translate\([^)]+\)/))===null||Mr===void 0?void 0:Mr[0])&&(Rr=Gr),Kr="".concat(Rr," scale(").concat(this.scale,")"),!Wn||!("animate"in Element.prototype)){vn.next=57;break}return Nr=er=="lr"?Vn>Pn?"right":"left":Vn>Pn?"left":"right",this.activeFlip={direction:Nr,pagesFlipping:[Pn,Vn],pagesFlippingCount:Math.abs(Vn-Pn)},this.classList.add("br-mode-2up--flipping-".concat(Nr)),this.classList.add("BRpageFlipping"),this.requestUpdate(),vn.next=38,this.updateComplete;case 38:return this.visiblePages.map(function(Cn){return Et.pageContainerCache[Cn.index].$container}).forEach(function(Cn){return Cn.addClass("BRpage-exiting")}),qn.forEach(function(Cn){return Cn.$container.addClass("BRpage-entering")}),Dr={duration:this.flipSpeed+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Le=this.$book.animate([{transform:Kr}],Dr),ge=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:Nr=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],Dr),Oe=Nr=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],Dr):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],Dr),wt=Nr=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],Dr):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],Dr),Le.play(),ge.play(),Oe.play(),wt.play(),qn.forEach(function(Cn){return Cn.$container.addClass("BRpage-visible")}),vn.next=52,Promise.race([(0,Je.promisifyEvent)(Le,"finish"),(0,Je.promisifyEvent)(ge,"finish"),(0,Je.promisifyEvent)(Oe,"finish"),(0,Je.promisifyEvent)(wt,"finish")]);case 52:this.classList.remove("br-mode-2up--flipping-".concat(Nr)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(Cn){return Et.pageContainerCache[Cn.index].$container}).forEach(function(Cn){return Cn.removeClass("BRpage-exiting BRpage-visible")}),qn.forEach(function(Cn){return Cn.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 57:this.$book.style.transform=Kr,this.visiblePages=(er=="lr"?[Se.left,Se.right]:[Se.right,Se.left]).filter(function(Cn){return Cn});case 59:case"end":return vn.stop()}},ve,this)})),function(ve){return N.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(Se){Se=="next"?Se=this.book.pageProgression=="lr"?"right":"left":Se=="prev"&&(Se=this.book.pageProgression=="lr"?"left":"right");var it,Pt=(this.pageLeft||this.pageRight).spread;if(Se=="left")Se=(it=Pt.left)===null||it===void 0||(it=it.findLeft({combineConsecutiveUnviewables:!0}))===null||it===void 0?void 0:it.spread;else if(Se=="right"){var ft;Se=(ft=Pt.right)===null||ft===void 0||(ft=ft.findRight({combineConsecutiveUnviewables:!0}))===null||ft===void 0?void 0:ft.spread}return typeof Se=="number"&&(Se=this.book.getPage(Se).spread),_instanceof(Se,fr)&&(Se=Se.spread),Se}},{kind:"field",key:"handlePageClick",value:function(){var Se=this;return function(it){if(it.which==3&&Se.br.protected)return!1;if(it.which==1){var Pt=Pa(it.target).closest(".BRpagecontainer");Pt.length&&(Pt.data("side")=="L"?Se.flipAnimation("left"):Pt.data("side")=="R"&&Se.flipAnimation("right"))}}}}]}},cr.WF),Mu=(xt([(0,_n.EM)("br-leaf-edges")],function(X,L){var N=function(F){function G(){var ve;Ge(this,G);for(var Se=arguments.length,it=new Array(Se),Pt=0;Pt<Se;Pt++)it[Pt]=arguments[Pt];return ve=$e(this,G,[].concat(it)),X(ve),ve}return ze(G,F),et(G)}(L);return{F:N,d:[{kind:"field",decorators:[(0,_n.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,_n.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,_n.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,_n.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,_n.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,_n.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,_n.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,cr.qy)(no||(no=gt(['\n      <div\n        class="br-leaf-edges__bar"\n        style="','"\n      ></div>\n      <div class="br-leaf-edges__label">Page</div>'])),(0,Pe.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){Kt(N,"connectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){Kt(N,"disconnectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var G=this;return function(ve){G.addEventListener("mousemove",G.onMouseMove),G.$hoverBar.style.display="block",G.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var G=this;return function(ve){G.$hoverBar.style.left="".concat(ve.offsetX,"px"),G.side=="right"?G.$hoverLabel.style.left="".concat(ve.offsetX,"px"):G.$hoverLabel.style.right="".concat(G.offsetWidth-ve.offsetX,"px"),G.$hoverLabel.style.top="".concat(ve.offsetY,"px");var Se=G.mouseEventToPageIndex(ve);G.$hoverLabel.textContent=G.book.getPageName(Se)}}},{kind:"field",key:"onMouseLeave",value:function(){var G=this;return function(ve){G.removeEventListener("mousemove",G.onMouseMove),G.$hoverBar.style.display="none",G.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var G=this;return function(ve){G.pageClickHandler(G.mouseEventToPageIndex(ve))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(G){return Math.floor(this.leftIndex+G.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},cr.WF),o(1669));function ko(X){return ko=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},ko(X)}function qi(){qi=function(){return L};var X,L={},N=Object.prototype,F=N.hasOwnProperty,G=Object.defineProperty||function(Le,ge,Oe){Le[ge]=Oe.value},ve=typeof Symbol=="function"?Symbol:{},Se=ve.iterator||"@@iterator",it=ve.asyncIterator||"@@asyncIterator",Pt=ve.toStringTag||"@@toStringTag";function ft(Le,ge,Oe){return Object.defineProperty(Le,ge,{value:Oe,enumerable:!0,configurable:!0,writable:!0}),Le[ge]}try{ft({},"")}catch(Le){ft=function(Oe,wt,Et){return Oe[wt]=Et}}function fn(Le,ge,Oe,wt){var Et=ge&&_instanceof(ge.prototype,Vn)?ge:Vn,St=Object.create(Et.prototype),vn=new Nr(wt||[]);return G(St,"_invoke",{value:Rr(Le,Oe,vn)}),St}function cn(Le,ge,Oe){try{return{type:"normal",arg:Le.call(ge,Oe)}}catch(wt){return{type:"throw",arg:wt}}}L.wrap=fn;var En="suspendedStart",Wn="suspendedYield",In="executing",er="completed",Pn={};function Vn(){}function nr(){}function qn(){}var Kn={};ft(Kn,Se,function(){return this});var _r=Object.getPrototypeOf,jr=_r&&_r(_r(Dr([])));jr&&jr!==N&&F.call(jr,Se)&&(Kn=jr);var pr=qn.prototype=Vn.prototype=Object.create(Kn);function gr(Le){["next","throw","return"].forEach(function(ge){ft(Le,ge,function(Oe){return this._invoke(ge,Oe)})})}function Cr(Le,ge){function Oe(Et,St,vn,Cn){var Hn=cn(Le[Et],Le,St);if(Hn.type!=="throw"){var Qn=Hn.arg,vr=Qn.value;return vr&&ko(vr)=="object"&&F.call(vr,"__await")?ge.resolve(vr.__await).then(function(Sr){Oe("next",Sr,vn,Cn)},function(Sr){Oe("throw",Sr,vn,Cn)}):ge.resolve(vr).then(function(Sr){Qn.value=Sr,vn(Qn)},function(Sr){return Oe("throw",Sr,vn,Cn)})}Cn(Hn.arg)}var wt;G(this,"_invoke",{value:function(St,vn){function Cn(){return new ge(function(Hn,Qn){Oe(St,vn,Hn,Qn)})}return wt=wt?wt.then(Cn,Cn):Cn()}})}function Rr(Le,ge,Oe){var wt=En;return function(Et,St){if(wt===In)throw Error("Generator is already running");if(wt===er){if(Et==="throw")throw St;return{value:X,done:!0}}for(Oe.method=Et,Oe.arg=St;;){var vn=Oe.delegate;if(vn){var Cn=Mr(vn,Oe);if(Cn){if(Cn===Pn)continue;return Cn}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(wt===En)throw wt=er,Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);wt=In;var Hn=cn(Le,ge,Oe);if(Hn.type==="normal"){if(wt=Oe.done?er:Wn,Hn.arg===Pn)continue;return{value:Hn.arg,done:Oe.done}}Hn.type==="throw"&&(wt=er,Oe.method="throw",Oe.arg=Hn.arg)}}}function Mr(Le,ge){var Oe=ge.method,wt=Le.iterator[Oe];if(wt===X)return ge.delegate=null,Oe==="throw"&&Le.iterator.return&&(ge.method="return",ge.arg=X,Mr(Le,ge),ge.method==="throw")||Oe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Oe+"' method")),Pn;var Et=cn(wt,Le.iterator,ge.arg);if(Et.type==="throw")return ge.method="throw",ge.arg=Et.arg,ge.delegate=null,Pn;var St=Et.arg;return St?St.done?(ge[Le.resultName]=St.value,ge.next=Le.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=X),ge.delegate=null,Pn):St:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Pn)}function Gr(Le){var ge={tryLoc:Le[0]};1 in Le&&(ge.catchLoc=Le[1]),2 in Le&&(ge.finallyLoc=Le[2],ge.afterLoc=Le[3]),this.tryEntries.push(ge)}function Kr(Le){var ge=Le.completion||{};ge.type="normal",delete ge.arg,Le.completion=ge}function Nr(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Gr,this),this.reset(!0)}function Dr(Le){if(Le||Le===""){var ge=Le[Se];if(ge)return ge.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Oe=-1,wt=function Et(){for(;++Oe<Le.length;)if(F.call(Le,Oe))return Et.value=Le[Oe],Et.done=!1,Et;return Et.value=X,Et.done=!0,Et};return wt.next=wt}}throw new TypeError(ko(Le)+" is not iterable")}return nr.prototype=qn,G(pr,"constructor",{value:qn,configurable:!0}),G(qn,"constructor",{value:nr,configurable:!0}),nr.displayName=ft(qn,Pt,"GeneratorFunction"),L.isGeneratorFunction=function(Le){var ge=typeof Le=="function"&&Le.constructor;return!!ge&&(ge===nr||(ge.displayName||ge.name)==="GeneratorFunction")},L.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,qn):(Le.__proto__=qn,ft(Le,Pt,"GeneratorFunction")),Le.prototype=Object.create(pr),Le},L.awrap=function(Le){return{__await:Le}},gr(Cr.prototype),ft(Cr.prototype,it,function(){return this}),L.AsyncIterator=Cr,L.async=function(Le,ge,Oe,wt,Et){Et===void 0&&(Et=Promise);var St=new Cr(fn(Le,ge,Oe,wt),Et);return L.isGeneratorFunction(ge)?St:St.next().then(function(vn){return vn.done?vn.value:St.next()})},gr(pr),ft(pr,Pt,"Generator"),ft(pr,Se,function(){return this}),ft(pr,"toString",function(){return"[object Generator]"}),L.keys=function(Le){var ge=Object(Le),Oe=[];for(var wt in ge)Oe.push(wt);return Oe.reverse(),function Et(){for(;Oe.length;){var St=Oe.pop();if(St in ge)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}},L.values=Dr,Nr.prototype={constructor:Nr,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(Kr),!ge)for(var Oe in this)Oe.charAt(0)==="t"&&F.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=X)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Oe=this;function wt(Qn,vr){return vn.type="throw",vn.arg=ge,Oe.next=Qn,vr&&(Oe.method="next",Oe.arg=X),!!vr}for(var Et=this.tryEntries.length-1;Et>=0;--Et){var St=this.tryEntries[Et],vn=St.completion;if(St.tryLoc==="root")return wt("end");if(St.tryLoc<=this.prev){var Cn=F.call(St,"catchLoc"),Hn=F.call(St,"finallyLoc");if(Cn&&Hn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0);if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}else if(Cn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}}}},abrupt:function(ge,Oe){for(var wt=this.tryEntries.length-1;wt>=0;--wt){var Et=this.tryEntries[wt];if(Et.tryLoc<=this.prev&&F.call(Et,"finallyLoc")&&this.prev<Et.finallyLoc){var St=Et;break}}St&&(ge==="break"||ge==="continue")&&St.tryLoc<=Oe&&Oe<=St.finallyLoc&&(St=null);var vn=St?St.completion:{};return vn.type=ge,vn.arg=Oe,St?(this.method="next",this.next=St.finallyLoc,Pn):this.complete(vn)},complete:function(ge,Oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Oe&&(this.next=Oe),Pn},finish:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.finallyLoc===ge)return this.complete(wt.completion,wt.afterLoc),Kr(wt),Pn}},catch:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.tryLoc===ge){var Et=wt.completion;if(Et.type==="throw"){var St=Et.arg;Kr(wt)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ge,Oe,wt){return this.delegate={iterator:Dr(ge),resultName:Oe,nextLoc:wt},this.method==="next"&&(this.arg=X),Pn}},L}var Ss=function(){return function(X,L,N){return L&&R(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X}(function X(L,N){(function(F,G){if(!_instanceof(F,G))throw new TypeError("Cannot call a class as a function")})(this,X),this.br=L,this.book=N,this.mode2UpLit=new Er(N,L),this.mode2UpLit.flipSpeed=L.flipSpeed,this.$el=Mu(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1},[{key:"prepare",value:function(){var L=this,N=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(Xt(qi().mark(function F(){return qi().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(L.everShown){G.next=9;break}return L.mode2UpLit.initFirstRender(N),L.everShown=!0,L.mode2UpLit.requestUpdate(),G.next=6,L.mode2UpLit.updateComplete;case 6:new Ui(L.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),G.next=12;break;case 9:return G.next=11,L.mode2UpLit.jumpToIndex(N,{smooth:!1});case 11:L.resizePageView();case 12:L.mode2UpLit.style.opacity="1";case 13:case"end":return G.stop()}},F)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(L,N,F,G){this.mode2UpLit.jumpToIndex(L)}},{key:"zoom",value:function(L){switch(L){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(L))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(),Bo=o(1669);function _e(X){return _e=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},_e(X)}var j=function(){return function(X,L,N){return L&&J(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X}(function X(L,N){(function(F,G){if(!_instanceof(F,G))throw new TypeError("Cannot call a class as a function")})(this,X),this.br=L,this.book=N},[{key:"drawLeafs",value:function(L){var N,F,G,ve=this,Se=Math.floor,it=this.book,Pt=this.br.refs.$brContainer.prop("scrollWidth")-20,ft=0,fn=0,cn=0,En=0,Wn=0,In=[],er=je(it.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(er.s();!(G=er.n()).done;){var Pn=G.value,Vn=this.br.thumbWidth;ft+(Vn+this.br.thumbPadding)>Pt&&(En++,ft=0,Wn=0),In[En]||(In[En]={}),In[En].leafs||(In[En].leafs=[],In[En].height=0,In[En].top=0),In[En].leafs[Wn]={num:Pn.index,left:ft},(N=Se(Pn.height*this.br.thumbWidth/Pn.width))>In[En].height&&(In[En].height=N),Wn===0&&(fn+=this.br.thumbPadding+In[En].height),(ft+=Vn+this.br.thumbPadding)>cn&&(cn=ft),Wn++,Pn.index==L&&(F=fn-this.br.thumbPadding-In[En].height)}}catch(mo){er.e(mo)}finally{er.f()}this.br.refs.$brPageViewEl.height(fn);var nr=Se((this.br.refs.$brContainer.prop("scrollWidth")-cn)/2)-14;F!==void 0&&this.br.refs.$brContainer.scrollTop(F);for(var qn=this.br.refs.$brContainer.prop("scrollTop"),Kn=qn+this.br.refs.$brContainer.height(),_r=0,jr=0,pr=[],gr=[],Cr=it.getNumLeafs()-1,Rr=0,Mr=0;Mr<In.length;Mr++)In[Mr]&&(jr+=this.br.thumbPadding+In[Mr].height,(_r>=qn&&_r<=Kn||jr>=qn&&jr<=Kn||_r<=qn&&jr>=Kn)&&(pr.push(Mr),In[Mr].leafs[0].num<Cr&&(Cr=In[Mr].leafs[0].num),In[Mr].leafs[In[Mr].leafs.length-1].num>Rr&&(Rr=In[Mr].leafs[In[Mr].leafs.length-1].num)),_r>In[Mr].top&&(In[Mr].top=_r),_r=jr);for(var Gr=pr[0],Kr=pr[pr.length-1],Nr=1;Nr<this.br.thumbRowBuffer+1;Nr++)Kr+Nr<In.length&&pr.push(Kr+Nr);for(var Dr=1;Dr<this.br.thumbRowBuffer;Dr++)Gr-Dr>=0&&pr.push(Gr-Dr);pr.sort(function(mo,La){return mo-La});for(var Le=0,ge=pr;Le<ge.length;Le++){var Oe=ge[Le];if((0,Je.notInArray)(Oe,this.br.displayedRows)){if(!In[Oe])continue;var wt,Et=je(In[Oe].leafs);try{var St=function(){var La=wt.value,so=La.num,wl=La.left,oa=ve.br.thumbWidth,aa=Se(it.getPageHeight(so)*ve.br.thumbWidth/it.getPageWidth(so)),Io=In[Oe].top,Cs=wl+nr;ve.br.pageProgression=="rl"&&(Cs=Pt-oa-Cs),Cs+=ve.br.thumbPadding,gr.push(so);var Li=Se(it.getPageWidth(so)/ve.br.thumbWidth),sa=2*Math.round(Li/2),Lu=ve.br._createPageContainer(so).update({dimensions:{width:oa,height:aa,top:Io,left:Cs},reduce:sa});Lu.$container.data("leaf",so).on("mouseup",function(_l){ve.br.updateFirstIndex(so,{suppressFragmentChange:!0}),ve.br.switchMode(ve.br.constMode1up,{suppressFragmentChange:!0});var ro=ve.br.viewModeOrder.shift();ve.br.viewModeOrder.push(ro),ve.br._components.navbar.updateViewModeButton(Bo(".viewmode"),"twopg","Two-page view"),ve.br.trigger(Tt.fragmentChange),_l.stopPropagation()}),ve.br.refs.$brPageViewEl.append(Lu.$container)};for(Et.s();!(wt=Et.n()).done;)St()}catch(mo){Et.e(mo)}finally{Et.f()}}}var vn,Cn=je(this.br.displayedRows);try{for(Cn.s();!(vn=Cn.n()).done;){var Hn=vn.value;if((0,Je.notInArray)(Hn,pr)){var Qn,vr,Sr=je((Qn=In[Hn])===null||Qn===void 0?void 0:Qn.leafs);try{for(Sr.s();!(vr=Sr.n()).done;){var Fo,Ma=vr.value.num;gr!=null&&gr.includes(Ma)||(Fo=this.br.$(".pagediv".concat(Ma)))===null||Fo===void 0||Fo.remove()}}catch(mo){Sr.e(mo)}finally{Sr.f()}}}}catch(mo){Cn.e(mo)}finally{Cn.f()}var zo=this.br.currentIndex();zo<Cr?this.br.updateFirstIndex(Cr):zo>Rr&&this.br.updateFirstIndex(Rr),this.br.displayedRows=pr.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(L){var N=Bo(L).data("leaf"),F=Bo(L).data("reduce"),G=this.br.imageCache.image(N,F),ve=Bo(L).parent();Bo(ve).append(G),Bo(L).remove()}},{key:"zoom",value:function(L){var N=this.br.thumbColumns;switch(L){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(L))}this.br.thumbColumns=(0,Je.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=N&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(L){var N=(L+1)*this.br.thumbPadding,F=(this.br.refs.$brPageViewEl.width()-N)/(L+.5),G=Math.floor(F);return G>0?G:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=Bo("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new Ui(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(L){for(var N=this,F=Math.floor,G=this.book,ve=this.br.refs.$brContainer.prop("scrollWidth")-20,Se=this.br.thumbWidth,it=0,Pt=0,ft=0,fn=0,cn=0,En=0;En<=L;En++){Pt+(Se+this.br.thumbPadding)>ve&&(Pt=0,fn=0,cn=0);var Wn=F(G.getPageHeight(cn)*this.br.thumbWidth/G.getPageWidth(cn));Wn>fn&&(fn=Wn),cn==0&&(it=ft,ft+=this.br.thumbPadding+fn),Pt+=Se+this.br.thumbPadding,cn++}this.br.updateFirstIndex(L),this.br.refs.$brContainer.prop("scrollTop")==it?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:it},"fast",function(){N.br.animating=!1}))}}])}(),V=(o(1367),{floor:Math.floor,decr:function(L){return L-1}}),ae={floor:function(L){return Math.pow(2,Math.floor(Math.log2(Math.max(1,L))))},decr:function(L){return Math.pow(2,Math.log2(L)-1)}},ke={pow2:ae,integer:V},Ye=o(1669);function Ke(X){return Ke=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},Ke(X)}var at=function(){return function(X,L,N){return L&&he(X.prototype,L),Object.defineProperty(X,"prototype",{writable:!1}),X}(function X(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=N.useSrcSet,G=F!==void 0&&F,ve=N.reduceSet,Se=ve===void 0?ae:ve;(function(it,Pt){if(!_instanceof(it,Pt))throw new TypeError("Cannot call a class as a function")})(this,X),this.book=L,this.useSrcSet=G,this.reduceSet=Se,this.cache={},this.defaultScale=8},[{key:"image",value:function(L,N){var F=(this.cache[L]||[]).filter(function(ve){return ve.loaded&&ve.reduce<=N});if(F.length){var G=Math.max.apply(Math,Z(F.map(function(ve){return ve.reduce})));return this._serveImageElement(L,G)}return this._serveImageElement(L,N)}},{key:"imageLoaded",value:function(L,N){var F,G,ve=(F=this.cache[L])===null||F===void 0?void 0:F.find(function(Se){return Se.reduce<=N});return(G=ve==null?void 0:ve.loaded)!==null&&G!==void 0&&G}},{key:"getBestLoadedReduce",value:function(L){var N,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,G=((N=this.cache[L])===null||N===void 0?void 0:N.filter(function(it){return it.loaded}))||[];if(!G.length)return null;var ve=G.filter(function(it){return it.reduce>=F});if(ve.length)return Math.min.apply(Math,Z(ve.map(function(it){return it.reduce})));var Se=G.filter(function(it){return it.reduce<F});return Math.max.apply(Math,Z(Se.map(function(it){return it.reduce})))}},{key:"_serveImageElement",value:function(L,N){var F,G=this.reduceSet.floor(N),ve=(F=this.cache[L])===null||F===void 0?void 0:F.find(function(Pt){return Pt.reduce==G});ve||(ve={reduce:G,loaded:!1},(this.cache[L]||(this.cache[L]=[])).push(ve));var Se=this.book.getPage(L),it=Ye("<img />",{class:"BRpageimage",alt:"Book page image",src:Se.getURI(G,0)}).data("reduce",G);return this.useSrcSet&&it.attr("srcset",Se.getURISrcSet(G)),ve.loaded||it.one("load",function(){return ve.loaded=!0}),it}}])}(),Wt=o(1774),Dt=o(1669),tn=o(1669);function bn(X){return bn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(N){return typeof N=="undefined"?"undefined":_typeof(N)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L=="undefined"?"undefined":_typeof(L)},bn(X)}function Nn(){Nn=function(){return L};var X,L={},N=Object.prototype,F=N.hasOwnProperty,G=Object.defineProperty||function(Le,ge,Oe){Le[ge]=Oe.value},ve=typeof Symbol=="function"?Symbol:{},Se=ve.iterator||"@@iterator",it=ve.asyncIterator||"@@asyncIterator",Pt=ve.toStringTag||"@@toStringTag";function ft(Le,ge,Oe){return Object.defineProperty(Le,ge,{value:Oe,enumerable:!0,configurable:!0,writable:!0}),Le[ge]}try{ft({},"")}catch(Le){ft=function(Oe,wt,Et){return Oe[wt]=Et}}function fn(Le,ge,Oe,wt){var Et=ge&&_instanceof(ge.prototype,Vn)?ge:Vn,St=Object.create(Et.prototype),vn=new Nr(wt||[]);return G(St,"_invoke",{value:Rr(Le,Oe,vn)}),St}function cn(Le,ge,Oe){try{return{type:"normal",arg:Le.call(ge,Oe)}}catch(wt){return{type:"throw",arg:wt}}}L.wrap=fn;var En="suspendedStart",Wn="suspendedYield",In="executing",er="completed",Pn={};function Vn(){}function nr(){}function qn(){}var Kn={};ft(Kn,Se,function(){return this});var _r=Object.getPrototypeOf,jr=_r&&_r(_r(Dr([])));jr&&jr!==N&&F.call(jr,Se)&&(Kn=jr);var pr=qn.prototype=Vn.prototype=Object.create(Kn);function gr(Le){["next","throw","return"].forEach(function(ge){ft(Le,ge,function(Oe){return this._invoke(ge,Oe)})})}function Cr(Le,ge){function Oe(Et,St,vn,Cn){var Hn=cn(Le[Et],Le,St);if(Hn.type!=="throw"){var Qn=Hn.arg,vr=Qn.value;return vr&&bn(vr)=="object"&&F.call(vr,"__await")?ge.resolve(vr.__await).then(function(Sr){Oe("next",Sr,vn,Cn)},function(Sr){Oe("throw",Sr,vn,Cn)}):ge.resolve(vr).then(function(Sr){Qn.value=Sr,vn(Qn)},function(Sr){return Oe("throw",Sr,vn,Cn)})}Cn(Hn.arg)}var wt;G(this,"_invoke",{value:function(St,vn){function Cn(){return new ge(function(Hn,Qn){Oe(St,vn,Hn,Qn)})}return wt=wt?wt.then(Cn,Cn):Cn()}})}function Rr(Le,ge,Oe){var wt=En;return function(Et,St){if(wt===In)throw Error("Generator is already running");if(wt===er){if(Et==="throw")throw St;return{value:X,done:!0}}for(Oe.method=Et,Oe.arg=St;;){var vn=Oe.delegate;if(vn){var Cn=Mr(vn,Oe);if(Cn){if(Cn===Pn)continue;return Cn}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(wt===En)throw wt=er,Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);wt=In;var Hn=cn(Le,ge,Oe);if(Hn.type==="normal"){if(wt=Oe.done?er:Wn,Hn.arg===Pn)continue;return{value:Hn.arg,done:Oe.done}}Hn.type==="throw"&&(wt=er,Oe.method="throw",Oe.arg=Hn.arg)}}}function Mr(Le,ge){var Oe=ge.method,wt=Le.iterator[Oe];if(wt===X)return ge.delegate=null,Oe==="throw"&&Le.iterator.return&&(ge.method="return",ge.arg=X,Mr(Le,ge),ge.method==="throw")||Oe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Oe+"' method")),Pn;var Et=cn(wt,Le.iterator,ge.arg);if(Et.type==="throw")return ge.method="throw",ge.arg=Et.arg,ge.delegate=null,Pn;var St=Et.arg;return St?St.done?(ge[Le.resultName]=St.value,ge.next=Le.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=X),ge.delegate=null,Pn):St:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Pn)}function Gr(Le){var ge={tryLoc:Le[0]};1 in Le&&(ge.catchLoc=Le[1]),2 in Le&&(ge.finallyLoc=Le[2],ge.afterLoc=Le[3]),this.tryEntries.push(ge)}function Kr(Le){var ge=Le.completion||{};ge.type="normal",delete ge.arg,Le.completion=ge}function Nr(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(Gr,this),this.reset(!0)}function Dr(Le){if(Le||Le===""){var ge=Le[Se];if(ge)return ge.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var Oe=-1,wt=function Et(){for(;++Oe<Le.length;)if(F.call(Le,Oe))return Et.value=Le[Oe],Et.done=!1,Et;return Et.value=X,Et.done=!0,Et};return wt.next=wt}}throw new TypeError(bn(Le)+" is not iterable")}return nr.prototype=qn,G(pr,"constructor",{value:qn,configurable:!0}),G(qn,"constructor",{value:nr,configurable:!0}),nr.displayName=ft(qn,Pt,"GeneratorFunction"),L.isGeneratorFunction=function(Le){var ge=typeof Le=="function"&&Le.constructor;return!!ge&&(ge===nr||(ge.displayName||ge.name)==="GeneratorFunction")},L.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,qn):(Le.__proto__=qn,ft(Le,Pt,"GeneratorFunction")),Le.prototype=Object.create(pr),Le},L.awrap=function(Le){return{__await:Le}},gr(Cr.prototype),ft(Cr.prototype,it,function(){return this}),L.AsyncIterator=Cr,L.async=function(Le,ge,Oe,wt,Et){Et===void 0&&(Et=Promise);var St=new Cr(fn(Le,ge,Oe,wt),Et);return L.isGeneratorFunction(ge)?St:St.next().then(function(vn){return vn.done?vn.value:St.next()})},gr(pr),ft(pr,Pt,"Generator"),ft(pr,Se,function(){return this}),ft(pr,"toString",function(){return"[object Generator]"}),L.keys=function(Le){var ge=Object(Le),Oe=[];for(var wt in ge)Oe.push(wt);return Oe.reverse(),function Et(){for(;Oe.length;){var St=Oe.pop();if(St in ge)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}},L.values=Dr,Nr.prototype={constructor:Nr,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(Kr),!ge)for(var Oe in this)Oe.charAt(0)==="t"&&F.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=X)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Oe=this;function wt(Qn,vr){return vn.type="throw",vn.arg=ge,Oe.next=Qn,vr&&(Oe.method="next",Oe.arg=X),!!vr}for(var Et=this.tryEntries.length-1;Et>=0;--Et){var St=this.tryEntries[Et],vn=St.completion;if(St.tryLoc==="root")return wt("end");if(St.tryLoc<=this.prev){var Cn=F.call(St,"catchLoc"),Hn=F.call(St,"finallyLoc");if(Cn&&Hn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0);if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}else if(Cn){if(this.prev<St.catchLoc)return wt(St.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return wt(St.finallyLoc)}}}},abrupt:function(ge,Oe){for(var wt=this.tryEntries.length-1;wt>=0;--wt){var Et=this.tryEntries[wt];if(Et.tryLoc<=this.prev&&F.call(Et,"finallyLoc")&&this.prev<Et.finallyLoc){var St=Et;break}}St&&(ge==="break"||ge==="continue")&&St.tryLoc<=Oe&&Oe<=St.finallyLoc&&(St=null);var vn=St?St.completion:{};return vn.type=ge,vn.arg=Oe,St?(this.method="next",this.next=St.finallyLoc,Pn):this.complete(vn)},complete:function(ge,Oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Oe&&(this.next=Oe),Pn},finish:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.finallyLoc===ge)return this.complete(wt.completion,wt.afterLoc),Kr(wt),Pn}},catch:function(ge){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var wt=this.tryEntries[Oe];if(wt.tryLoc===ge){var Et=wt.completion;if(Et.type==="throw"){var St=Et.arg;Kr(wt)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ge,Oe,wt){return this.delegate={iterator:Dr(ge),resultName:Oe,nextLoc:wt},this.method==="next"&&(this.arg=X),Pn}},L}function Jt(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=Dt.extend(!0,{},Jt.defaultOptions,X,Jt.optionOverrides);this.setup(L)}Jt.version="5.0.0-87",Jt.constMode1up=1,Jt.constMode2up=2,Jt.constModeThumb=3,Jt.imageCache=null,Jt.constNavAnimationDuration=300,Jt.constResizeAnimationDuration=100,Jt.eventNames=Tt,Jt.defaultOptions=Qt,Jt.optionOverrides={},Jt.prototype.setup=function(X){this.options=X,this.numLeafs=void 0,this.enableSearch=!1,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=Jt.constMode1up,this.constMode2up=Jt.constMode2up,this.constModeThumb=Jt.constModeThumb,this.reduce=8,this.defaults=X.defaults,this.padding=X.padding,this.reduceSet=ke[X.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(X.reduceSet,". Ignoring.")),this.reduceSet=ke[Qt.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=X.ui,this.uiAutoHide=X.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=X.thumbRowBuffer,this.thumbColumns=X.thumbColumns,this.thumbMaxLoading=X.thumbMaxLoading,this.thumbPadding=X.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=typeof X.flipSpeed=="number"?X.flipSpeed:{fast:200,slow:600}[X.flipSpeed]||400,this.flipDelay=X.flipDelay,this.firstIndex=null,this.isFullscreenActive=X.startFullscreen||!1,this.lastScroll=null,this.showLogo=X.showLogo,this.logoURL=X.logoURL,this.imagesBaseURL=X.imagesBaseURL,this.reductionFactors=X.reductionFactors,this.onePage=X.onePage,this.twoPage=X.twoPage,this.onePageMinBreakpoint=X.onePageMinBreakpoint,this.bookTitle=X.bookTitle,this.bookUrl=X.bookUrl,this.bookUrlText=X.bookUrlText,this.bookUrlTitle=X.bookUrlTitle,this.titleLeaf=X.titleLeaf,this.metadata=X.metadata,this.thumbnail=X.thumbnail,this.bookUrlMoreInfo=X.bookUrlMoreInfo,this.enableExperimentalControls=X.enableExperimentalControls,this.el=X.el,this.pageProgression=X.pageProgression,this.protected=X.protected,this.getEmbedCode=X.getEmbedCode,this.popup=null,this.data=X.data,this.refs={},this.book=new Tn(this),X.getNumLeafs&&(this.book.getNumLeafs=X.getNumLeafs.bind(this)),X.getPageWidth&&(this.book.getPageWidth=X.getPageWidth.bind(this)),X.getPageHeight&&(this.book.getPageHeight=X.getPageHeight.bind(this)),X.getPageURI&&(this.book.getPageURI=X.getPageURI.bind(this)),X.getPageSide&&(this.book.getPageSide=X.getPageSide.bind(this)),X.getPageNum&&(this.book.getPageNum=X.getPageNum.bind(this)),X.getPageProp&&(this.book.getPageProp=X.getPageProp.bind(this)),X.getSpreadIndices&&(this.book.getSpreadIndices=X.getSpreadIndices.bind(this)),X.leafNumToIndex&&(this.book.leafNumToIndex=X.leafNumToIndex.bind(this)),this._components={navbar:new Lt(this),toolbar:new Dn(this)},this._modes={mode1Up:new bl(this,this.book),mode2Up:new Ss(this,this.book),modeThumb:new j(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new at(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet}),this.hasKeyFocus=!0},Jt.prototype.getActivePageContainerElements=function(){var X=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(L){return L.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(L){return L.$container[0]}));return this.mode==this.constModeThumb&&(X=X.concat(this.$(".BRpagecontainer").toArray())),X},Jt.prototype.getActivePageContainerElementsForIndex=function(X){var L,N,F;return[(L=this._modes.mode2Up.mode2UpLit.pageContainerCache[X])===null||L===void 0||(L=L.$container)===null||L===void 0?void 0:L[0],(N=this._modes.mode1Up.mode1UpLit.pageContainerCache[X])===null||N===void 0||(N=N.$container)===null||N===void 0?void 0:N[0]].concat((F=this.mode==this.constModeThumb?this.$(".pagediv".concat(X)).toArray():[],function(G){if(Array.isArray(G))return qe(G)}(F)||function(G){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}(F)||function(G,ve){if(G){if(typeof G=="string")return qe(G,ve);var Se={}.toString.call(G).slice(8,-1);return Se==="Object"&&G.constructor&&(Se=G.constructor.name),Se==="Map"||Se==="Set"?Array.from(G):Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se)?qe(G,ve):void 0}}(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter(function(G){return G})},Object.defineProperty(Jt.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),Jt.util=Je,Jt.prototype.extendParams=function(X,L){var N=tn.extend({},L);if(N.page!==void 0){var F=this.book.parsePageString(N.page);isNaN(F)||(N.index=F),delete N.page}tn.extend(X,N)},Jt.prototype.initParams=function(){var X={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?X.index=this.book.leafNumToIndex(this.titleLeaf):X.index=0,this.defaults){var L=this.paramsFromFragment(this.defaults);L.page!==void 0&&(X.pageFound=!0),this.extendParams(X,L)}if(this.options.enablePageResume){var N=this.getResumeValue();N!==null&&(X.index!==N&&(X.fragmentChange=!0),X.index=N)}if(this.options.enableUrlPlugin){var F=this.paramsFromFragment(this.urlReadFragment());!Object.keys(F).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(F=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(F).length&&(F.page!==void 0&&(X.pageFound=!0),this.extendParams(X,F),X.fragmentChange=!0)}if(this.options.enableSearch&&(this.options.goToFirstResult=!X.pageFound,!this.options.initialSearchTerm))if(X.search)this.options.initialSearchTerm=X.search,this.searchTerm=X.search;else{var G=new URLSearchParams(this.readQueryString()).get("q");G&&(this.options.initialSearchTerm=Je.decodeURIComponentPlus(G))}return this.suppressFragmentChange=!X.fragmentChange,X},Jt.prototype.getLocationSearch=function(){return window.location.search},Jt.prototype.getLocationHash=function(){return window.location.hash},Jt.prototype.readQueryString=function(){var X=this.getLocationSearch();if(X)return X;var L=this.getLocationHash(),N=L.search(/\?\w+=/);return N>-1?L.slice(N):""},Jt.prototype.getInitialMode=function(X){var L,N=tn(window).width(),F=N&&N<=this.onePageMinBreakpoint;if(L=X.mode?X.mode:F?this.constMode1up:this.constMode2up,this.canSwitchToMode(L)||(L=this.constMode1up),this.options.defaults)try{L=function(G){var ve={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(G in ve))throw new Rn("Invalid mode string: ".concat(G));return ve[G]}(this.options.defaults)}catch(G){}return L},Jt.prototype.init=function(){this.init.initComplete=!1,this.pageScale=this.reduce;var X=this.initParams();this.firstIndex=X.index?X.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=tn(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=tn("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),X.mode=this.getInitialMode(X),this.mode=X.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar&&this.initNavbar(),this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(X),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(L){L.data.lastScroll=new Date().getTime(),L.data.constModeThumb==L.data.mode&&L.data.drawLeafsThrottled()}),this.options.autoResize&&(tn(window).on("resize",this,function(L){L.data.resize()}),tn(window).on("orientationchange",this,function(L){L.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),this.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0),this.init.initComplete=!0,this.trigger(Jt.eventNames.PostInit)},Jt.prototype.trigger=function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,N="BookReader:"+X;Je.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(N,{bubbles:!0,composed:!0,detail:{props:L}})),tn(document).trigger(N,L)},Jt.prototype.bind=function(X,L){tn(document).on("BookReader:"+X,L)},Jt.prototype.unbind=function(X,L){tn(document).off("BookReader:"+X,L)},Jt.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(Jt.eventNames.resize))},Jt.prototype.setupKeyListeners=function(){var X=this;window.IntersectionObserver&&new IntersectionObserver(function(L){L.forEach(function(N){N.intersectionRatio===0?X.hasKeyFocus=!1:X.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(L){if(X.hasKeyFocus&&!(L.getModifierState("Control")||L.getModifierState("Alt")||L.getModifierState("Meta")||L.getModifierState("Win")||Je.isInputActive()))switch(L.key){case"Home":L.preventDefault(),X.first();break;case"End":L.preventDefault(),X.last();break;case"ArrowDown":case"PageDown":case"Down":X.constMode2up===X.mode&&(L.preventDefault(),X.next());break;case"ArrowUp":case"PageUp":case"Up":X.constMode2up===X.mode&&(L.preventDefault(),X.prev());break;case"ArrowLeft":case"Left":X.constModeThumb!=X.mode&&(L.preventDefault(),X.left());break;case"ArrowRight":case"Right":X.constModeThumb!=X.mode&&(L.preventDefault(),X.right());break;case"-":case"Subtract":L.preventDefault(),X.zoom(-1);break;case"+":case"=":case"Add":L.preventDefault(),X.zoom(1);break;case"F":case"f":L.preventDefault(),X.toggleFullscreen()}})},Jt.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},Jt.prototype._createPageContainer=function(X){return new Wt.LN(this.book.getPage(X,!1),{isProtected:this.protected,imageCache:this.imageCache,loadingImage:this.imagesBaseURL+"loading.gif"})},Jt.prototype.bindGestures=function(X){var L=this,N=1;X.unbind("touchmove").bind("touchmove",function(F){F.originalEvent.cancelable&&(N=F.originalEvent.touches.length),F.stopPropagation()}),X.unbind("gesturechange").bind("gesturechange",function(F){F.preventDefault(),N!==2||new Date().getTime()-L.lastScroll<500||(F.originalEvent.scale>1.5?L.zoom(1):F.originalEvent.scale<.6&&L.zoom(-1))})},Jt.prototype.drawLeafsThrottled=Je.throttle(Jt.prototype.drawLeafs,250),Jt.prototype.zoom=function(X){var L;X==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(L=this.textSelectionPlugin)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer)},Jt.prototype.resizeBRcontainer=function(X){X?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},Jt.prototype.centerPageView=function(){var X=this.refs.$brContainer.prop("scrollWidth"),L=this.refs.$brContainer.prop("clientWidth");X>L&&this.refs.$brContainer.prop("scrollLeft",(X-L)/2)},Jt.prototype.quantizeReduce=function(X,L){for(var N=L[0].reduce,F=Math.abs(X-N),G=1;G<L.length;G++){var ve=Math.abs(X-L[G].reduce);ve<F&&(F=ve,N=L[G].reduce)}return N},Jt.prototype.nextReduce=function(X,L,N){if(L==="in"){for(var F=0,G=1;G<N.length;G++)N[G].reduce<X&&(F=G);return N[F]}if(L==="out"){for(var ve=N.length-1,Se=ve,it=ve;it>=0;it--)N[it].reduce>X&&(Se=it);return N[Se]}if(L==="auto"){var Pt=N.find(function(Wn){return Wn.autofit=="auto"});if(Pt)return Pt;for(var ft=N.filter(function(Wn){var In=Wn.autofit;return In=="height"||In=="width"}),fn=null,cn=0;cn<ft.length;cn++)(fn===null||fn.reduce<ft[cn].reduce)&&(fn=ft[cn]);if(fn)return fn}else if(L==="height"||L==="width"){var En=N.find(function(Wn){return Wn.autofit==L});if(En)return En}return N[0]},Jt.prototype._reduceSort=function(X,L){return X.reduce-L.reduce},Jt.prototype.jumpToPage=function(X){var L=this.book.parsePageString(X);return L!==void 0&&(this.jumpToIndex(L),!0)},Jt.prototype._isIndexDisplayed=function(X){return this.displayedIndices?this.displayedIndices.includes(X):this.currentIndex()==X},Jt.prototype.jumpToIndex=function(X,L,N,F){var G=this.book.getPage(X);if(!G.isViewable&&G.unviewablesStart!=G.index){var ve=this._isIndexDisplayed(G.unviewablesStart)?G.findNext({combineConsecutiveUnviewables:!0}).index:G.unviewablesStart;return this.jumpToIndex(ve,L,N,F)}this.trigger(Jt.eventNames.stop),this.activeMode.jumpToIndex(X,L,N,F)},Jt.prototype.getPrevReadMode=function(X){return X===Jt.constMode1up||X===Jt.constMode2up?X:this.prevReadMode===null?Jt.constMode1up:void 0},Jt.prototype.switchMode=function(X){var L,N,F,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=G.suppressFragmentChange,Se=ve!==void 0&&ve;if(G.init,G.pageFound,!(this.init.initComplete&&(X===this.mode||!this.canSwitchToMode(X)))){this.trigger(Jt.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=X&&((N=(F=this.activeMode).unprepare)===null||N===void 0||N.call(F)),this.mode=X,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==X?this._modes.mode1Up.prepare():this.constModeThumb==X?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||Se||this.trigger(Jt.eventNames.fragmentChange);var it=X+"PageViewSelected";this.trigger(Jt.eventNames[it]),(L=this.textSelectionPlugin)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer)}},Jt.prototype.updateBrClasses=function(){var X={};X[this.constMode1up]="BRmode1up",X[this.constMode2up]="BRmode2up",X[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(X[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),tn(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),tn(document.body).removeClass("BRfullscreenActive"))},Jt.prototype.isFullscreen=function(){return this.isFullscreenActive},Jt.prototype.toggleFullscreen=He(Nn().mark(function X(){var L,N=arguments;return Nn().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(L=!(N.length>0&&N[0]!==void 0)||N[0],!this.isFullscreen()){F.next=6;break}return F.next=4,this.exitFullScreen();case 4:F.next=8;break;case 6:return F.next=8,this.enterFullscreen(L);case 8:case"end":return F.stop()}},X,this)})),Jt.prototype.enterFullscreen=He(Nn().mark(function X(){var L,N,F,G=this,ve=arguments;return Nn().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(N=!(ve.length>0&&ve[0]!==void 0)||ve[0],this.refs.$br.addClass("BRfullscreenAnimation"),F=this.currentIndex(),N&&(this._fullscreenCloseHandler=function(it){it.keyCode===27&&G.toggleFullscreen()},tn(document).on("keyup",this._fullscreenCloseHandler)),tn(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!_instanceof(this.activeMode,bl)){Se.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(F)),this.activeMode.mode1UpLit.requestUpdate(),Se.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(F),(L=this.textSelectionPlugin)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer),this.trigger(Jt.eventNames.fragmentChange),this.trigger(Jt.eventNames.fullscreenToggled),Se.next=19,new Promise(function(it){return setTimeout(it,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return Se.stop()}},X,this)})),Jt.prototype.exitFullScreen=He(Nn().mark(function X(){var L,N;return Nn().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),tn(document).off("keyup",this._fullscreenCloseHandler),N=tn(window).width(),this.options.controls.twoPage.visible&&N<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(Jt.eventNames.fullscreenToggled),this.updateBrClasses(),F.next=10,new Promise(function(G){return setTimeout(G,0)});case 10:if(this.resize(),!_instanceof(this.activeMode,bl)){F.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),F.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(L=this.textSelectionPlugin)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer),this.trigger(Jt.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return F.stop()}},X,this)})),Jt.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return Je.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},Jt.prototype.updateFirstIndex=function(X){var L=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,N=L!==void 0&&L;this.firstIndex!==X&&(this.firstIndex=X,this.suppressFragmentChange||N||this.trigger(Jt.eventNames.fragmentChange),this.options.initialSearchTerm&&!N&&(this.suppressFragmentChange=!1),this.trigger(Jt.eventNames.pageChanged),this.trigger(Jt.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(X))},Jt.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},Jt.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},Jt.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},Jt.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},Jt.prototype.next=function(){var X=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,L=X===void 0||X;this.constMode2up==this.mode?(L&&this.trigger(Jt.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("next")):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},Jt.prototype.prev=function(){var X=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,L=X===void 0||X;this.firstIndex<1||(this.constMode2up==this.mode?(L&&this.trigger(Jt.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("prev")):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},Jt.prototype.first=function(){this.jumpToIndex(0)},Jt.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},Jt.prototype.initNavbar=Lt.prototype.init,We(Lt,"_components.navbar","init","initNavbar"),Jt.prototype.buildToolbarElement=Dn.prototype.buildToolbarElement,We(Dn,"_components.toolbar","buildToolbarElement"),Jt.prototype.initToolbar=Dn.prototype.initToolbar,We(Dn,"_components.toolbar","initToolbar"),Jt.prototype.buildShareDiv=Dn.prototype.buildShareDiv,We(Dn,"_components.toolbar","buildShareDiv"),Jt.prototype.buildInfoDiv=Dn.prototype.buildInfoDiv,We(Dn,"_components.toolbar","buildInfoDiv"),Jt.prototype.getToolBarHeight=Dn.prototype.getToolBarHeight,We(Dn,"_components.toolbar","getToolBarHeight"),Jt.prototype.bindNavigationHandlers=function(){var X=this,L=this,N=this.$(".BRicon"),F={book_left:function(){X.trigger(Jt.eventNames.stop),X.left()},book_right:function(){X.trigger(Jt.eventNames.stop),X.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){X.switchMode(L.constMode1up)},thumb:function(){X.switchMode(L.constModeThumb)},twopg:function(){X.switchMode(L.constMode2up)},zoom_in:function(){X.trigger(Jt.eventNames.stop),X.zoom(1),X.trigger(Jt.eventNames.zoomIn)},zoom_out:function(){X.trigger(Jt.eventNames.stop),X.zoom(-1),X.trigger(Jt.eventNames.zoomOut)},full:function(){if(X.ui=="embed"){var ft=X.$(".BRembedreturn a").attr("href");window.open(ft)}else X.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){X.trigger(Jt.eventNames.userAction)});var G=function(ft){N.filter(".".concat(ft)).on("click.bindNavigationHandlers",function(){return F[ft](),!1})};for(var ve in F)G(ve);var Se=this.$(".BRnavCntlBtm"),it=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var Pt=[];Se.hasClass("BRdn")?(L.refs.$BRtoolbar&&Pt.push(L.refs.$BRtoolbar.animate({top:-1*L.getToolBarHeight()}).promise()),Pt.push(L.$(".BRfooter").animate({bottom:-1*L.getFooterHeight()}).promise()),Se.addClass("BRup").removeClass("BRdn"),it.addClass("BRdn").removeClass("BRup"),L.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),L.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(L.refs.$BRtoolbar&&Pt.push(L.refs.$BRtoolbar.animate({top:0}).promise()),Pt.push(L.$(".BRfooter").animate({bottom:0}).promise()),Se.addClass("BRdn").removeClass("BRup"),it.addClass("BRup").removeClass("BRdn"),L.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),L.$(".BRvavCntl").animate({opacity:1})),tn.when.apply(tn,Pt).done(function(){L.mode==L.constMode2up&&L.twoPage.autofit!=null&&L.twoPage.autofit!="none"||L.mode==L.constMode1up&&L.onePage.autofit!=null&&L.onePage.autofit!="none"?L.resize():L.resizeBRcontainer()})}),Se.on("mouseover",function(){tn(this).hasClass("BRup")&&L.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){tn(this).hasClass("BRup")&&L.$(".BRnavCntl").animate({opacity:.75},250)}),it.on("mouseover",function(){tn(this).hasClass("BRdn")&&L.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){tn(this).hasClass("BRdn")&&L.$(".BRnavCntl").animate({opacity:.75},250)})},Jt.prototype.getPageURI=Tn.prototype.getPageURI,We(Tn,"book","getPageURI"),Jt.prototype.updateFromParams=function(X){var L=X.mode,N=L===void 0?0:L,F=X.init,G=F!==void 0&&F,ve=X.fragmentChange,Se=ve!==void 0&&ve;N&&this.switchMode(N,{init:G,suppressFragmentChange:!Se}),X.index!==void 0?X.index!=this.currentIndex()&&this.jumpToIndex(X.index):X.page!==void 0&&X.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(X.page),this.enableSearch&&X.search!==void 0&&this.searchTerm!==X.search&&this.$(".BRsearchInput").val(X.search),this.enableThemesPlugin&&X.theme!==void 0&&this.updateTheme(X.theme)},Jt.prototype.canSwitchToMode=function(X){return X!=this.constMode2up&&X!=this.constModeThumb||!(this.book.getNumLeafs()<2)},Jt.prototype._getPageURI=function(X,L,N){var F=this.book.getPage(X,!1);return F?(L===void 0&&(L=F.height/this.twoPage.height),F.getURI(L,N)):this.imagesBaseURL+"transparent.png"},Jt.prototype.showProgressPopup=function(X,L){var N=this;if(!this.popup){if(this.popup=document.createElement("div"),tn(this.popup).prop("className","BRprogresspopup"),typeof L=="function"){var F=document.createElement("button");F.setAttribute("title","close"),F.setAttribute("class","close-popup");var G=document.createElement("span");G.setAttribute("class","icon icon-close-dark"),tn(F).append(G),F.addEventListener("click",function(){L(),N.removeProgressPopup()}),tn(this.popup).append(F)}var ve=document.createElement("div");if(tn(ve).css({height:"20px"}).prop("className","BRprogressbar"),tn(this.popup).append(ve),X){var Se=document.createElement("div");Se.innerHTML=X,tn(this.popup).append(Se)}tn(this.popup).appendTo(this.refs.$br)}},Jt.prototype.removeProgressPopup=function(){tn(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},Jt.prototype.initUIStrings=function(){var X={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var L in this.pageProgression=="rl"&&(X[".book_leftmost"]="Last page",X[".book_rightmost"]="First page"),X)this.$(L).prop("title",X[L])},Jt.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(X,L){if(!L.complete||L.naturalHeight===0){var N=L.src;L.src="",setTimeout(function(){L.src=N},1e3)}})},Jt.prototype.getFooterHeight=function(){var X=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(X&&this.refs.$BRfooter){var L=X.outerHeight(),N=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(L)&&!isNaN(N))return L+N}return 0},Jt.prototype.paramsFromCurrent=function(){var X={},L=this.currentIndex(),N=this.book.getPageNum(L);return(N===0||N)&&(X.page=N),X.index=L,X.mode=this.mode,this.isFullscreenActive&&(X.view="theater"),this.enableSearch&&(X.search=this.searchTerm),X},Jt.prototype.paramsFromFragment=function(X){var L={};X.substr(0,1)=="#"&&(X=X.substr(1));var N=parseInt(/^\d+$/.exec(X));if(!isNaN(N))return L.index=N,L;for(var F=X.split("/"),G={},ve=0;ve<F.length;ve+=2)G[F[ve]]=F[ve+1];return G.mode=="1up"?L.mode=this.constMode1up:G.mode=="2up"?L.mode=this.constMode2up:G.mode=="thumb"&&(L.mode=this.constModeThumb),G.page!==void 0&&(L.page=decodeURIComponent(G.page)),G.search!=null&&(L.search=Je.decodeURIComponentPlus(G.search)),G.theme!=null&&(L.theme=G.theme),L},Jt.prototype.fragmentFromParams=function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",N=[];if(X.page!==void 0?N.push("page",encodeURIComponent(X.page)):X.index!==void 0&&N.push("page","n"+X.index),X.mode!==void 0)if(X.mode==this.constMode1up)N.push("mode","1up");else if(X.mode==this.constMode2up)N.push("mode","2up");else{if(X.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+X.mode;N.push("mode","thumb")}return X.search&&L==="hash"&&N.push("search",Je.encodeURIComponentPlus(X.search)),N.join("/")},Jt.prototype.queryStringFromParams=function(X,L){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",F=new URLSearchParams(L);X.view?F.set("view",X.view):F.delete("view"),X.search&&N==="history"&&F.set("q",X.search);var G=F.toString();return G?"?"+G:""},Jt.prototype.$=function(X){return this.refs.$br.find(X)},window.BookReader=Jt})(),l=o.O(l)})()}),rm={},W7(rm,{default:function(){return om}}),G7=tm(nm()),Y7(rm,tm(nm()));var g;ir=G7,g=ir,im=g.default,K7=Ri(ir,["default"]),om=im!==void 0?im:K7}}),J7={};bi(J7,{default:function(){return om}});var Gj=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/BookReader.js":function(){X7(),X7()}}),Z7,ih,Q7,e9,t9,n9,r9,i9,oh,o9,am,sm,lm,a9,ir,um,s9,cm,l9=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.search.js":function(){Z7=Object.create,ih=Object.defineProperty,Q7=Object.getOwnPropertyDescriptor,e9=Object.getOwnPropertyNames,t9=Object.getPrototypeOf,n9=Object.prototype.hasOwnProperty,r9=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},i9=function(n,e){for(var t in e)ih(n,t,{get:e[t],enumerable:!0})},oh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!n9.call(n,v)&&v!==t&&ih(n,v,{get:function(){return e[v]},enumerable:!(o=Q7(e,v))||o.enumerable})},c=e9(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},o9=function(n,e,t){return oh(n,e,"default"),t&&oh(t,e,"default")},am=function(n,e,t){return t=n!=null?Z7(t9(n)):{},oh(e||!n||!n.__esModule?ih(t,"default",{value:n,enumerable:!0}):t,n)},sm=r9(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[924],{9007:function(n,e,t){var o=function(C,M){for(var I=0;I<M.length;I++){var D=M[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,l(D.key),D)}},l=function(C){var M=function(I,D){if(E(I)!="object"||!I)return I;var z=I[Symbol.toPrimitive];if(z!==void 0){var Q=z.call(I,"string");if(E(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(C);return E(M)=="symbol"?M:M+""},s=function(C,M){var I=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!I){if(Array.isArray(C)||(I=a(C))||M&&C&&typeof C.length=="number"){I&&(C=I);var D=0,z=function(){};return{s:z,n:function(){return D>=C.length?{done:!0}:{done:!1,value:C[D++]}},e:function(q){throw q},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,W=!0,me=!1;return{s:function(){I=I.call(C)},n:function(){var q=I.next();return W=q.done,q},e:function(q){me=!0,Q=q},f:function(){try{W||I.return==null||I.return()}finally{if(me)throw Q}}}},a=function(C,M){if(C){if(typeof C=="string")return r(C,M);var I={}.toString.call(C).slice(8,-1);return I==="Object"&&C.constructor&&(I=C.constructor.name),I==="Map"||I==="Set"?Array.from(C):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?r(C,M):void 0}},r=function(C,M){(M==null||M>C.length)&&(M=C.length);for(var I=0,D=Array(M);I<M;I++)D[I]=C[I];return D},c=function(C,M,I){var D=(0,x.escapeRegExp)((0,x.escapeHTML)(M)),z=(0,x.escapeRegExp)((0,x.escapeHTML)(I)),Q=new RegExp("".concat(D,"([^]+?)").concat(z),"g");return(0,x.escapeHTML)(C).replace(Q,"<mark>$1</mark>").replace(/(\b)- /g,"$1")},d=function(C,M){var I=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!I){if(Array.isArray(C)||(I=h(C))||M&&C&&typeof C.length=="number"){I&&(C=I);var D=0,z=function(){};return{s:z,n:function(){return D>=C.length?{done:!0}:{done:!1,value:C[D++]}},e:function(q){throw q},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,W=!0,me=!1;return{s:function(){I=I.call(C)},n:function(){var q=I.next();return W=q.done,q},e:function(q){me=!0,Q=q},f:function(){try{W||I.return==null||I.return()}finally{if(me)throw Q}}}},h=function(C,M){if(C){if(typeof C=="string")return p(C,M);var I={}.toString.call(C).slice(8,-1);return I==="Object"&&C.constructor&&(I=C.constructor.name),I==="Map"||I==="Set"?Array.from(C):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?p(C,M):void 0}},p=function(C,M){(M==null||M>C.length)&&(M=C.length);for(var I=0,D=Array(M);I<M;I++)D[I]=C[I];return D},v=function(C,M,I,D,z,Q,W){try{var me=C[Q](W),oe=me.value}catch(q){return void I(q)}me.done?M(oe):Promise.resolve(oe).then(D,z)},k=function(C){return function(){var M=this,I=arguments;return new Promise(function(D,z){var Q=C.apply(M,I);function W(oe){v(Q,D,z,W,me,"next",oe)}function me(oe){v(Q,D,z,W,me,"throw",oe)}W(void 0)})}};t(2675),t(9463),t(6412),t(2259),t(8125),t(8706),t(113),t(3418),t(3792),t(2062),t(4490),t(4782),t(2010),t(4731),t(479),t(9085),t(5506),t(875),t(6099),t(8459),t(3362),t(7495),t(8781),t(7764),t(5440),t(5746),t(3500),t(2953),t(8408);var x=t(6257),S=t(1774),A=(t(5700),t(9572),t(8130),t(8940),t(1669));function E(w){return E=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(M){return typeof M=="undefined"?"undefined":_typeof(M)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C=="undefined"?"undefined":_typeof(C)},E(w)}var O=function(){return w=function M(I){var D=I.br,z=I.searchCancelledCallback,Q=z===void 0?function(){}:z;(function(W,me){if(!_instanceof(W,me))throw new TypeError("Cannot call a class as a function")})(this,M),this.br=D,this.matches=[],this.cacheDOMElements(),this.cancelSearch=Q},C=[{key:"init",value:function(){this.bindEvents()}},{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(I){this.br.$('[name="query"]').val(I)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var I=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),I&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var I="BRsearch-navigation";A(".BRnav").before('\n      <div class="'.concat(I,'">\n        <button class="toggle-sidebar">\n          <h4>\n            <span class="icon icon-search"></span> Results\n          </h4>\n        </button>\n        <div class="pagination">\n          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>\n          <span data-id="resultsCount">').concat(this.resultsPosition(),'</span>\n          <button class="next" title="Next result"><span class="icon icon-chevron"></button>\n        </div>\n        <button class="clear" title="Clear search results">\n          <span class="icon icon-close"></span>\n        </button>\n      </div>\n    ')),this.dom.searchNavigation=A(".".concat(I))}},{key:"resultsPosition",value:function(){var I="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(I="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),I}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var I="searchNavigation";this.dom.searchNavigation.on("click.".concat(I),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(I),".prev",this.showPrevResult.bind(this)).on("click.".concat(I),".next",this.showNextResult.bind(this)).on("click.".concat(I),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(I),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(I,D,z){return D[0]>z})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(I,D,z){return I[I.length-1]>z})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(I){var D=this.matches.map(function(me){return me.par[0].page}),z=this.br.currentIndex()+1,Q=function(me,oe){if(me.length===1)return me[0];var q=me.slice(0,me.length/2),ee=me.slice(me.length/2);return Q(I(q,ee,oe)?q:ee,oe)},W=Q(D,z);return this.matches.indexOf(this.matches.find(function(me){return me.par[0].page===W}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=A(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var I;this.br.mode!==this.br.constModeThumb?(I=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(I)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var I=this;return this.matches.find(function(D){return I.br.currentIndex()===D.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var I=this;return this.matches.find(function(D){return I.br._isIndexDisplayed(D.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(I){var D=I?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:D})}},{key:"buildToolbarSearch",value:function(){var I=document.createElement("span");return I.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),I.innerHTML='\n      <form class="BRbooksearch desktop">\n        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>\n        <button type="submit" class="BRsearchSubmit">\n          <img src="'.concat(this.br.imagesBaseURL,'icon_search_button.svg" />\n        </button>\n      </form>\n    '),I}},{key:"renderPins",value:function(I){var D=this;I.forEach(function(z){var Q=D.br.book.leafNumToIndex(z.par[0].page),W=D.br.constructor.util.cssPercentage(Q,D.br.book.getNumLeafs()-1),me=z.html;if(me.length>200){var oe=Math.max(0,me.indexOf("<mark>")-100);oe!=0&&(me="\u2026"+z.html.substring(oe).replace(/^\S+/,""))}A("<div>").addClass("BRsearch").css({left:W}).attr("title","Search result").append('\n          <div class="BRquery">\n            <main>'.concat(me,"</main>\n            <footer>Page ").concat(z.displayPageNumber,"</footer>\n          </div>\n        ")).appendTo(D.br.$(".BRnavline")).on("mouseenter",function(q){var ee=q.currentTarget,we=ee.querySelector(".BRquery"),ie=we.getBoundingClientRect(),le=ee.getBoundingClientRect(),ye=2*parseInt(getComputedStyle(we).paddingLeft);ie.x-ye<0&&we.style.setProperty("transform","translateX(-".concat(le.left-ye,"px)")),A(".BRsearch,.BRchapter").removeClass("front"),A(q.target).addClass("front")}).on("mouseleave",function(q){return A(q.target).removeClass("front")}).on("click",function(){D.br._searchPluginGoToResult(z.matchIndex)})})}},{key:"toggleSearchPending",value:function(I){var D=this;I?this.br.showProgressPopup("Search results will appear below...",function(){return D.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var I="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage("\n      Sorry, there was an error with your search.\n      <br />\n      ".concat(I,"\n    ")),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage("\n      <p>\n         This book hasn't been indexed for searching yet.\n         We've just started indexing it, so search should be available soon.\n         <br />\n         Please try again later. Thanks!\n      </p>\n    "),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(I){var D=document.createElement("div");D.classList.add("BRprogresspopup","search_modal"),D.innerHTML=I,document.querySelector(this.br.el).append(D)}},{key:"delayModalRemovalFor",value:function(I){setTimeout(this.br.removeProgressPopup.bind(this.br),I)}},{key:"submitHandler",value:function(I){I.preventDefault();var D=I.target.querySelector('[name="query"]').value;return!!D.length&&(this.br.search(D),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(I,D){var z=this,Q=D.results,W=D.options;this.matches=Q.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(Q.matches),this.toggleSearchPending(!1),W.goToFirstResult?A(document).one("BookReader:pageChanged",function(){z.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var I,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var z=D==null||(I=D.detail)===null||I===void 0||(I=I.props)===null||I===void 0||(I=I.results)===null||I===void 0?void 0:I.indexed;this.renderErrorModal(z)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var I="BookReader:";window.addEventListener("".concat(I,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),A(document).on("".concat(I,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(I,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(I,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(I,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(I,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],C&&o(w.prototype,C),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,C}(),T=O;t(4864);var b,u=t(1669),f=t(1669);function m(w){return m=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(M){return typeof M=="undefined"?"undefined":_typeof(M)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C=="undefined"?"undefined":_typeof(C)},m(w)}function y(){y=function(){return C};var w,C={},M=Object.prototype,I=M.hasOwnProperty,D=Object.defineProperty||function(Ue,Be,et){Ue[Be]=et.value},z=typeof Symbol=="function"?Symbol:{},Q=z.iterator||"@@iterator",W=z.asyncIterator||"@@asyncIterator",me=z.toStringTag||"@@toStringTag";function oe(Ue,Be,et){return Object.defineProperty(Ue,Be,{value:et,enumerable:!0,configurable:!0,writable:!0}),Ue[Be]}try{oe({},"")}catch(Ue){oe=function(et,Ge,$e){return et[Ge]=$e}}function q(Ue,Be,et,Ge){var $e=Be&&_instanceof(Be.prototype,fe)?Be:fe,ze=Object.create($e.prototype),xt=new gt(Ge||[]);return D(ze,"_invoke",{value:Qe(Ue,et,xt)}),ze}function ee(Ue,Be,et){try{return{type:"normal",arg:Ue.call(Be,et)}}catch(Ge){return{type:"throw",arg:Ge}}}C.wrap=q;var we="suspendedStart",ie="suspendedYield",le="executing",ye="completed",Ee={};function fe(){}function rt(){}function ct(){}var Ot={};oe(Ot,Q,function(){return this});var _t=Object.getPrototypeOf,De=_t&&_t(_t(Mt([])));De&&De!==M&&I.call(De,Q)&&(Ot=De);var be=ct.prototype=fe.prototype=Object.create(Ot);function Xe(Ue){["next","throw","return"].forEach(function(Be){oe(Ue,Be,function(et){return this._invoke(Be,et)})})}function Ne(Ue,Be){function et($e,ze,xt,bt){var lt=ee(Ue[$e],Ue,ze);if(lt.type!=="throw"){var Ze=lt.arg,dt=Ze.value;return dt&&m(dt)=="object"&&I.call(dt,"__await")?Be.resolve(dt.__await).then(function($t){et("next",$t,xt,bt)},function($t){et("throw",$t,xt,bt)}):Be.resolve(dt).then(function($t){Ze.value=$t,xt(Ze)},function($t){return et("throw",$t,xt,bt)})}bt(lt.arg)}var Ge;D(this,"_invoke",{value:function(ze,xt){function bt(){return new Be(function(lt,Ze){et(ze,xt,lt,Ze)})}return Ge=Ge?Ge.then(bt,bt):bt()}})}function Qe(Ue,Be,et){var Ge=we;return function($e,ze){if(Ge===le)throw Error("Generator is already running");if(Ge===ye){if($e==="throw")throw ze;return{value:w,done:!0}}for(et.method=$e,et.arg=ze;;){var xt=et.delegate;if(xt){var bt=Me(xt,et);if(bt){if(bt===Ee)continue;return bt}}if(et.method==="next")et.sent=et._sent=et.arg;else if(et.method==="throw"){if(Ge===we)throw Ge=ye,et.arg;et.dispatchException(et.arg)}else et.method==="return"&&et.abrupt("return",et.arg);Ge=le;var lt=ee(Ue,Be,et);if(lt.type==="normal"){if(Ge=et.done?ye:ie,lt.arg===Ee)continue;return{value:lt.arg,done:et.done}}lt.type==="throw"&&(Ge=ye,et.method="throw",et.arg=lt.arg)}}}function Me(Ue,Be){var et=Be.method,Ge=Ue.iterator[et];if(Ge===w)return Be.delegate=null,et==="throw"&&Ue.iterator.return&&(Be.method="return",Be.arg=w,Me(Ue,Be),Be.method==="throw")||et!=="return"&&(Be.method="throw",Be.arg=new TypeError("The iterator does not provide a '"+et+"' method")),Ee;var $e=ee(Ge,Ue.iterator,Be.arg);if($e.type==="throw")return Be.method="throw",Be.arg=$e.arg,Be.delegate=null,Ee;var ze=$e.arg;return ze?ze.done?(Be[Ue.resultName]=ze.value,Be.next=Ue.nextLoc,Be.method!=="return"&&(Be.method="next",Be.arg=w),Be.delegate=null,Ee):ze:(Be.method="throw",Be.arg=new TypeError("iterator result is not an object"),Be.delegate=null,Ee)}function Ve(Ue){var Be={tryLoc:Ue[0]};1 in Ue&&(Be.catchLoc=Ue[1]),2 in Ue&&(Be.finallyLoc=Ue[2],Be.afterLoc=Ue[3]),this.tryEntries.push(Be)}function st(Ue){var Be=Ue.completion||{};Be.type="normal",delete Be.arg,Ue.completion=Be}function gt(Ue){this.tryEntries=[{tryLoc:"root"}],Ue.forEach(Ve,this),this.reset(!0)}function Mt(Ue){if(Ue||Ue===""){var Be=Ue[Q];if(Be)return Be.call(Ue);if(typeof Ue.next=="function")return Ue;if(!isNaN(Ue.length)){var et=-1,Ge=function $e(){for(;++et<Ue.length;)if(I.call(Ue,et))return $e.value=Ue[et],$e.done=!1,$e;return $e.value=w,$e.done=!0,$e};return Ge.next=Ge}}throw new TypeError(m(Ue)+" is not iterable")}return rt.prototype=ct,D(be,"constructor",{value:ct,configurable:!0}),D(ct,"constructor",{value:rt,configurable:!0}),rt.displayName=oe(ct,me,"GeneratorFunction"),C.isGeneratorFunction=function(Ue){var Be=typeof Ue=="function"&&Ue.constructor;return!!Be&&(Be===rt||(Be.displayName||Be.name)==="GeneratorFunction")},C.mark=function(Ue){return Object.setPrototypeOf?Object.setPrototypeOf(Ue,ct):(Ue.__proto__=ct,oe(Ue,me,"GeneratorFunction")),Ue.prototype=Object.create(be),Ue},C.awrap=function(Ue){return{__await:Ue}},Xe(Ne.prototype),oe(Ne.prototype,W,function(){return this}),C.AsyncIterator=Ne,C.async=function(Ue,Be,et,Ge,$e){$e===void 0&&($e=Promise);var ze=new Ne(q(Ue,Be,et,Ge),$e);return C.isGeneratorFunction(Be)?ze:ze.next().then(function(xt){return xt.done?xt.value:ze.next()})},Xe(be),oe(be,me,"Generator"),oe(be,Q,function(){return this}),oe(be,"toString",function(){return"[object Generator]"}),C.keys=function(Ue){var Be=Object(Ue),et=[];for(var Ge in Be)et.push(Ge);return et.reverse(),function $e(){for(;et.length;){var ze=et.pop();if(ze in Be)return $e.value=ze,$e.done=!1,$e}return $e.done=!0,$e}},C.values=Mt,gt.prototype={constructor:gt,reset:function(Be){if(this.prev=0,this.next=0,this.sent=this._sent=w,this.done=!1,this.delegate=null,this.method="next",this.arg=w,this.tryEntries.forEach(st),!Be)for(var et in this)et.charAt(0)==="t"&&I.call(this,et)&&!isNaN(+et.slice(1))&&(this[et]=w)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var et=this;function Ge(Ze,dt){return xt.type="throw",xt.arg=Be,et.next=Ze,dt&&(et.method="next",et.arg=w),!!dt}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var ze=this.tryEntries[$e],xt=ze.completion;if(ze.tryLoc==="root")return Ge("end");if(ze.tryLoc<=this.prev){var bt=I.call(ze,"catchLoc"),lt=I.call(ze,"finallyLoc");if(bt&&lt){if(this.prev<ze.catchLoc)return Ge(ze.catchLoc,!0);if(this.prev<ze.finallyLoc)return Ge(ze.finallyLoc)}else if(bt){if(this.prev<ze.catchLoc)return Ge(ze.catchLoc,!0)}else{if(!lt)throw Error("try statement without catch or finally");if(this.prev<ze.finallyLoc)return Ge(ze.finallyLoc)}}}},abrupt:function(Be,et){for(var Ge=this.tryEntries.length-1;Ge>=0;--Ge){var $e=this.tryEntries[Ge];if($e.tryLoc<=this.prev&&I.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var ze=$e;break}}ze&&(Be==="break"||Be==="continue")&&ze.tryLoc<=et&&et<=ze.finallyLoc&&(ze=null);var xt=ze?ze.completion:{};return xt.type=Be,xt.arg=et,ze?(this.method="next",this.next=ze.finallyLoc,Ee):this.complete(xt)},complete:function(Be,et){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&et&&(this.next=et),Ee},finish:function(Be){for(var et=this.tryEntries.length-1;et>=0;--et){var Ge=this.tryEntries[et];if(Ge.finallyLoc===Be)return this.complete(Ge.completion,Ge.afterLoc),st(Ge),Ee}},catch:function(Be){for(var et=this.tryEntries.length-1;et>=0;--et){var Ge=this.tryEntries[et];if(Ge.tryLoc===Be){var $e=Ge.completion;if($e.type==="throw"){var ze=$e.arg;st(Ge)}return ze}}throw Error("illegal catch attempt")},delegateYield:function(Be,et,Ge){return this.delegate={iterator:Mt(Be),resultName:et,nextLoc:Ge},this.method==="next"&&(this.arg=w),Ee}},C}u.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookId:"",subPrefix:"",bookPath:"",enableSearch:!0,searchInsideProtocol:"https",searchInsideUrl:"/fulltext/inside.php",searchInsidePreTag:"{{{",searchInsidePostTag:"}}}",initialSearchTerm:null}),BookReader.prototype.setup=(b=BookReader.prototype.setup,function(w){var C=this;b.call(this,w),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=w.searchInsideUrl,this.enableSearch=w.enableSearch,this.bookId=w.bookId,this.server=w.server,this.subPrefix=w.subPrefix,this.bookPath=w.bookPath,this.searchXHR=null,this._cancelSearch.bind(this),this.cancelSearchRequest.bind(this),this._searchBoxesByIndex={},this.enableSearch?this.searchView=new T({br:this,searchCancelledCallback:function(){C._cancelSearch(),C.trigger("SearchCanceled",{term:C.searchTerm,instance:C})}}):this.searchView=null}),BookReader.prototype.init=function(w){return function(){w.call(this),this.enableSearch&&(this.searchView.init(),this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1}))}}(BookReader.prototype.init),BookReader.prototype.buildToolbarElement=function(w){return function(){var C=w.call(this);if(this.enableSearch)return this.searchView.dom.toolbarSearch&&C.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),C}}(BookReader.prototype.buildToolbarElement),BookReader.prototype._createPageContainer=function(w){return function(C){var M=w.call(this,C);if(this.enableSearch&&M.page&&C in this._searchBoxesByIndex){var I=M.page.index,D=this._searchBoxesByIndex[I];(0,S.KL)("searchHiliteLayer",D,M.page,M.$container[0],D.map(function(z){return"match-index-".concat(z.matchIndex)}))}return M}}(BookReader.prototype._createPageContainer),BookReader.prototype.search=k(y().mark(function w(){var C,M,I,D,z,Q,W,me,oe,q,ee,we,ie=this,le=arguments;return y().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return C=le.length>0&&le[0]!==void 0?le[0]:"",M=le.length>1&&le[1]!==void 0?le[1]:{},I={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},D=u.extend({},I,M),this.suppressFragmentChange=D.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=C.replace(/\//g," "),D.suppressFragmentChange||this.trigger(BookReader.eventNames.fragmentChange),z=this.server.replace(/:.+/,""),Q="".concat(this.options.searchInsideProtocol,"://").concat(z).concat(this.searchInsideUrl,"?"),W=this.bookPath,me="/".concat(this.subPrefix),this.bookPath.length-this.bookPath.lastIndexOf(me)==me.length&&(W=this.bookPath.substr(0,this.bookPath.length-me.length)),oe={item_id:this.bookId,doc:this.subPrefix,path:W,q:C,pre_tag:this.options.searchInsidePreTag,post_tag:this.options.searchInsidePostTag},q=f.param(oe).replace(/%2F/g,"/"),ee="".concat(Q).concat(q),we=function(fe){if(!ie.searchCancelled){var rt=fe.error||!fe.matches.length,ct=typeof D.error=="function",Ot=typeof D.success=="function";rt?(console.error("Search Inside Response Error",fe.error||"matches.length == 0"),ct?D.error.call(ie,fe,D):ie.BRSearchCallbackError(fe,D)):Ot?D.success.call(ie,fe,D):ie.BRSearchCallback(fe,D)}},this.trigger("SearchStarted",{term:this.searchTerm,instance:this}),ye.t0=we,ye.next=21,f.ajax({url:ee,cache:!0,xhrFields:{withCredentials:this.protected},beforeSend:function(fe){ie.searchXHR=fe}});case 21:ye.t1=ye.sent,(0,ye.t0)(ye.t1);case 23:case"end":return ye.stop()}},w,this)})),BookReader.prototype._cancelSearch=function(){var w;(w=this.searchXHR)===null||w===void 0||w.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=[]},BookReader.prototype.cancelSearchRequest=function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.trigger("SearchCanceled",{term:this.searchTerm,instance:this}))},BookReader.prototype.BRSearchCallback=function(w,C){var M=this;(function(I,D,z,Q){var W,me,oe,q,ee=s(I.matches.entries());try{for(ee.s();!(W=ee.n()).done;){var we=(oe=W.value,q=2,function(ct){if(Array.isArray(ct))return ct}(oe)||function(ct,Ot){var _t=ct==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ct[Symbol.iterator]||ct["@@iterator"];if(_t!=null){var De,be,Xe,Ne,Qe=[],Me=!0,Ve=!1;try{if(Xe=(_t=_t.call(ct)).next,Ot===0){if(Object(_t)!==_t)return;Me=!1}else for(;!(Me=(De=Xe.call(_t)).done)&&(Qe.push(De.value),Qe.length!==Ot);Me=!0);}catch(st){Ve=!0,be=st}finally{try{if(!Me&&_t.return!=null&&(Ne=_t.return(),Object(Ne)!==Ne))return}finally{if(Ve)throw be}}return Qe}}(oe,q)||a(oe,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ie=we[0],le=we[1];le.matchIndex=ie,le.displayPageNumber=(me=le.par[0].page,M.book.getPageNum(M.book.leafNumToIndex(me))),le.html=c(le.text,z,Q);var ye,Ee=s(le.par);try{for(Ee.s();!(ye=Ee.n()).done;){var fe,rt=s(ye.value.boxes);try{for(rt.s();!(fe=rt.n()).done;)fe.value.matchIndex=ie}catch(ct){rt.e(ct)}finally{rt.f()}}}catch(ct){Ee.e(ct)}finally{Ee.f()}}}catch(ct){ee.e(ct)}finally{ee.f()}})(w,0,this.options.searchInsidePreTag,this.options.searchInsidePostTag),this.searchResults=w||[],this.updateSearchHilites(),this.removeProgressPopup(),C.goToFirstResult&&this._searchPluginGoToResult(0),this.trigger("SearchCallback",{results:w,options:C,instance:this})},BookReader.prototype.BRSearchCallbackError=function(w){this._BRSearchCallbackError(w)},BookReader.prototype._BRSearchCallbackError=function(w){this.searchResults=w;var C={term:this.searchTerm,instance:this};if(w.error){var M=Object.assign({},C,{results:w});this.trigger("SearchCallbackError",M)}else if(w.matches.length==0){if(w.indexed===!1)return void this.trigger("SearchCallbackBookNotIndexed",C);this.trigger("SearchCallbackEmpty",C)}},BookReader.prototype.updateSearchHilites=function(){var w,C=((w=this.searchResults)===null||w===void 0?void 0:w.matches)||[],M={};this.removeSearchHilites();var I,D,z,Q=d(C);try{for(Q.s();!(I=Q.n()).done;){var W,me=d(I.value.par[0].boxes);try{for(me.s();!(W=me.n()).done;){var oe=W.value,q=this.book.leafNumToIndex(oe.page);(M[q]||(M[q]=[])).push(oe)}}catch(_t){me.e(_t)}finally{me.f()}}}catch(_t){Q.e(_t)}finally{Q.f()}for(var ee=0,we=Object.entries(M);ee<we.length;ee++){var ie,le=(D=we[ee],z=2,function(_t){if(Array.isArray(_t))return _t}(D)||function(_t,De){var be=_t==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&_t[Symbol.iterator]||_t["@@iterator"];if(be!=null){var Xe,Ne,Qe,Me,Ve=[],st=!0,gt=!1;try{if(Qe=(be=be.call(_t)).next,De===0){if(Object(be)!==be)return;st=!1}else for(;!(st=(Xe=Qe.call(be)).done)&&(Ve.push(Xe.value),Ve.length!==De);st=!0);}catch(Mt){gt=!0,Ne=Mt}finally{try{if(!st&&be.return!=null&&(Me=be.return(),Object(Me)!==Me))return}finally{if(gt)throw Ne}}return Ve}}(D,z)||h(D,z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ye=le[0],Ee=le[1],fe=parseFloat(ye),rt=this.book.getPage(fe),ct=d(this.getActivePageContainerElementsForIndex(fe));try{var Ot=function(_t,De){var be=ie.value;(0,S.KL)("searchHiliteLayer",Ee,rt,be,Ee.map(function(Xe){return"match-index-".concat(Xe.matchIndex)}))};for(ct.s();!(ie=ct.n()).done;)Ot(ee,we)}catch(_t){ct.e(_t)}finally{ct.f()}}this._searchBoxesByIndex=M},BookReader.prototype.removeSearchHilites=function(){f(this.getActivePageContainerElements()).find(".searchHiliteLayer").remove()},BookReader.prototype._searchPluginGoToResult=function(){var w=k(y().mark(function C(M){var I,D,z,Q,W,me,oe,q,ee,we,ie,le;return y().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(D=(I=this.searchResults)===null||I===void 0?void 0:I.matches[M],z=this.book,Q=z.leafNumToIndex(D.par[0].page),W=z.getPage(Q),me=Math.abs(this.currentIndex()-Q)<3,oe=!1,W.isViewable){ye.next=17;break}return ye.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.options.bookId,subprefix:this.options.subPrefix,leafNum:W.leafNum})).then(function(Ee){return Ee.json()});case 9:q=ye.sent,ee=d(q.value);try{for(ee.s();!(we=ee.n()).done;)ie=we.value,z.getPage(z.leafNumToIndex(ie)).makeViewable()}catch(Ee){ee.e(Ee)}finally{ee.f()}if(q.value.length||(z.getPage(Q).makeViewable(),oe=!0),this._modes.mode1Up.mode1UpLit.updatePages(),this.activeMode!=this._modes.mode1Up){ye.next=17;break}return ye.next=17,this._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this._isIndexDisplayed(Q)||(this.suppressFragmentChange=!1,this.jumpToIndex(Q)),oe&&z.getPage(Q).makeViewable(!1),ye.next=21,(0,x.poll)(function(){return f("rect.match-index-".concat(D.matchIndex))},{until:function(fe){return fe.length>0}});case 21:if(!(le=ye.sent).length){ye.next=28;break}return le.css("animation","none"),le[0].scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:me?"smooth":"auto"}),ye.next=27,new Promise(function(Ee){return setTimeout(Ee,100)});case 27:le.removeAttr("style");case 28:case"end":return ye.stop()}},C,this)}));return function(C){return w.apply(this,arguments)}}(),BookReader.prototype.removeSearchResults=function(){var w=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,w||this.trigger(BookReader.eventNames.fragmentChange)},BookReader.prototype.searchHighlightVisible=function(){var w=this,C=this.searchResults,M=[];if(C==null)return!1;if(this.constMode2up==this.mode)M=[this.twoPage.currentIndexL,this.twoPage.currentIndexR];else{if(this.constMode1up!=this.mode)return!1;M=[this.currentIndex()]}return C.matches.some(function(I){return I.par[0].boxes.some(function(D){var z=w.book.leafNumToIndex(D.page);if(u.inArray(z,M)>=0)return!0})}),!1}},5506:function(n,e,t){var o=t(6518),l=t(2357).entries;o({target:"Object",stat:!0},{entries:function(a){return l(a)}})}},function(n){n(n.s=9007)}])}),lm={},i9(lm,{default:function(){return cm}}),a9=am(sm()),o9(lm,am(sm()));var g;ir=a9,g=ir,um=g.default,s9=Ri(ir,["default"]),cm=um!==void 0?um:s9}}),u9={};bi(u9,{default:function(){return cm}});var Kj=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.search.js":function(){l9(),l9()}}),c9,ah,d9,h9,f9,p9,v9,m9,sh,g9,dm,hm,fm,y9,ir,pm,b9,vm,w9=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.tts.js":function(){c9=Object.create,ah=Object.defineProperty,d9=Object.getOwnPropertyDescriptor,h9=Object.getOwnPropertyNames,f9=Object.getPrototypeOf,p9=Object.prototype.hasOwnProperty,v9=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},m9=function(n,e){for(var t in e)ah(n,t,{get:e[t],enumerable:!0})},sh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!p9.call(n,v)&&v!==t&&ah(n,v,{get:function(){return e[v]},enumerable:!(o=d9(e,v))||o.enumerable})},c=h9(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},g9=function(n,e,t){return sh(n,e,"default"),t&&sh(t,e,"default")},dm=function(n,e,t){return t=n!=null?c9(f9(n)):{},sh(e||!n||!n.__esModule?ah(t,"default",{value:n,enumerable:!0}):t,n)},hm=v9(function(){(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[51],{7653:function(n,e,t){"use strict";var o=function(J,K){return function(Z){if(Array.isArray(Z))return Z}(J)||function(Z,se){var he=Z==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(he!=null){var Ae,Te,He,qe,We=[],Je=!0,Tt=!1;try{if(He=(he=he.call(Z)).next,se===0){if(Object(he)!==he)return;Je=!1}else for(;!(Je=(Ae=He.call(he)).done)&&(We.push(Ae.value),We.length!==se);Je=!0);}catch(It){Tt=!0,Te=It}finally{try{if(!Je&&he.return!=null&&(qe=he.return(),Object(qe)!==qe))return}finally{if(Tt)throw Te}}return We}}(J,K)||function(Z,se){if(Z){if(typeof Z=="string")return l(Z,se);var he={}.toString.call(Z).slice(8,-1);return he==="Object"&&Z.constructor&&(he=Z.constructor.name),he==="Map"||he==="Set"?Array.from(Z):he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he)?l(Z,se):void 0}}(J,K)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},l=function(J,K){(K==null||K>J.length)&&(K=J.length);for(var Z=0,se=Array(K);Z<K;Z++)se[Z]=J[Z];return se},s=function(J,K,Z,se,he,Ae,Te){try{var He=J[Ae](Te),qe=He.value}catch(We){return void Z(We)}He.done?K(qe):Promise.resolve(qe).then(se,he)},a=function(J,K){for(var Z=0;Z<K.length;Z++){var se=K[Z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,r(se.key),se)}},r=function(J){var K=function(Z,se){if(ie(Z)!="object"||!Z)return Z;var he=Z[Symbol.toPrimitive];if(he!==void 0){var Ae=he.call(Z,"string");if(ie(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(J);return ie(K)=="symbol"?K:K+""},c=function(J,K,Z,se,he,Ae,Te){try{var He=J[Ae](Te),qe=He.value}catch(We){return void Z(We)}He.done?K(qe):Promise.resolve(qe).then(se,he)},d=function(J,K){for(var Z=0;Z<K.length;Z++){var se=K[Z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,h(se.key),se)}},h=function(J){var K=function(Z,se){if(Ee(Z)!="object"||!Z)return Z;var he=Z[Symbol.toPrimitive];if(he!==void 0){var Ae=he.call(Z,"string");if(Ee(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(J);return Ee(K)=="symbol"?K:K+""},p=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(J)},v=function(J,K){for(var Z=0;Z<Ot.A.length;Z++)for(var se=0;se<K.length;se++){var he=K[se];if(Ot.A[Z][_t[he]].split(", ").map(function(Ae){return Ae.toLowerCase()}).indexOf(J)!=-1)return Ot.A[Z][_t["ISO 639-1"]]}return null},k=function(){try{return!!window.localStorage}catch(J){return!1}},x=function(J,K){(K==null||K>J.length)&&(K=J.length);for(var Z=0,se=Array(K);Z<K;Z++)se[Z]=J[Z];return se},S=function(J,K,Z,se,he,Ae,Te){try{var He=J[Ae](Te),qe=He.value}catch(We){return void Z(We)}He.done?K(qe):Promise.resolve(qe).then(se,he)},A=function(J){return function(){var K=this,Z=arguments;return new Promise(function(se,he){var Ae=J.apply(K,Z);function Te(qe){S(Ae,se,he,Te,He,"next",qe)}function He(qe){S(Ae,se,he,Te,He,"throw",qe)}Te(void 0)})}},E=function(J,K){for(var Z=0;Z<K.length;Z++){var se=K[Z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,O(se.key),se)}},O=function(J){var K=function(Z,se){if(be(Z)!="object"||!Z)return Z;var he=Z[Symbol.toPrimitive];if(he!==void 0){var Ae=he.call(Z,"string");if(be(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(J);return be(K)=="symbol"?K:K+""},T=function(J,K,Z,se,he,Ae,Te){try{var He=J[Ae](Te),qe=He.value}catch(We){return void Z(We)}He.done?K(qe):Promise.resolve(qe).then(se,he)},b=function(J){return function(){var K=this,Z=arguments;return new Promise(function(se,he){var Ae=J.apply(K,Z);function Te(qe){T(Ae,se,he,Te,He,"next",qe)}function He(qe){T(Ae,se,he,Te,He,"throw",qe)}Te(void 0)})}},u=function(J,K){if(!_instanceof(J,K))throw new TypeError("Cannot call a class as a function")},f=function(J,K){for(var Z=0;Z<K.length;Z++){var se=K[Z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,y(se.key),se)}},m=function(J,K,Z){return K&&f(J.prototype,K),Z&&f(J,Z),Object.defineProperty(J,"prototype",{writable:!1}),J},y=function(J){var K=function(Z,se){if(Ve(Z)!="object"||!Z)return Z;var he=Z[Symbol.toPrimitive];if(he!==void 0){var Ae=he.call(Z,"string");if(Ve(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(J);return Ve(K)=="symbol"?K:K+""},w=function(J,K,Z){return K=Ue(K),function(se,he){if(he&&(Ve(he)=="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ae){if(Ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae}(se)}(J,gt()?Reflect.construct(K,Z||[],Ue(J).constructor):K.apply(J,Z))},C=function(J,K,Z,se,he,Ae,Te){try{var He=J[Ae](Te),qe=He.value}catch(We){return void Z(We)}He.done?K(qe):Promise.resolve(qe).then(se,he)},M=function(J){return function(){var K=this,Z=arguments;return new Promise(function(se,he){var Ae=J.apply(K,Z);function Te(qe){C(Ae,se,he,Te,He,"next",qe)}function He(qe){C(Ae,se,he,Te,He,"throw",qe)}Te(void 0)})}},I=function(J,K){if(!_instanceof(J,K))throw new TypeError("Cannot call a class as a function")},D=function(J,K){for(var Z=0;Z<K.length;Z++){var se=K[Z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,Q(se.key),se)}},z=function(J,K,Z){return K&&D(J.prototype,K),Z&&D(J,Z),Object.defineProperty(J,"prototype",{writable:!1}),J},Q=function(J){var K=function(Z,se){if(xt(Z)!="object"||!Z)return Z;var he=Z[Symbol.toPrimitive];if(he!==void 0){var Ae=he.call(Z,"string");if(xt(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(J);return xt(K)=="symbol"?K:K+""},W=function(J,K,Z){return K=dt(K),function(se,he){if(he&&(xt(he)=="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ae){if(Ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae}(se)}(J,lt()?Reflect.construct(K,Z||[],dt(J).constructor):K.apply(J,Z))},me=function(J,K){return function(Z){if(Array.isArray(Z))return Z}(J)||function(Z,se){var he=Z==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(he!=null){var Ae,Te,He,qe,We=[],Je=!0,Tt=!1;try{if(He=(he=he.call(Z)).next,se===0){if(Object(he)!==he)return;Je=!1}else for(;!(Je=(Ae=He.call(he)).done)&&(We.push(Ae.value),We.length!==se);Je=!0);}catch(It){Tt=!0,Te=It}finally{try{if(!Je&&he.return!=null&&(qe=he.return(),Object(qe)!==qe))return}finally{if(Tt)throw Te}}return We}}(J,K)||function(Z,se){if(Z){if(typeof Z=="string")return oe(Z,se);var he={}.toString.call(Z).slice(8,-1);return he==="Object"&&Z.constructor&&(he=Z.constructor.name),he==="Map"||he==="Set"?Array.from(Z):he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he)?oe(Z,se):void 0}}(J,K)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},oe=function(J,K){(K==null||K>J.length)&&(K=J.length);for(var Z=0,se=Array(K);Z<K;Z++)se[Z]=J[Z];return se},q=function(J,K,Z,se,he,Ae,Te){try{var He=J[Ae](Te),qe=He.value}catch(We){return void Z(We)}He.done?K(qe):Promise.resolve(qe).then(se,he)},ee=function(J){return function(){var K=this,Z=arguments;return new Promise(function(se,he){var Ae=J.apply(K,Z);function Te(qe){q(Ae,se,he,Te,He,"next",qe)}function He(qe){q(Ae,se,he,Te,He,"throw",qe)}Te(void 0)})}};t(2675),t(9463),t(6412),t(2259),t(5700),t(8125),t(8706),t(2008),t(113),t(3418),t(3792),t(8598),t(2062),t(4490),t(4782),t(6910),t(9572),t(2010),t(4731),t(479),t(8130),t(5506),t(875),t(6099),t(8459),t(3362),t(7495),t(8781),t(7764),t(1761),t(1392),t(3500),t(2953),t(3851),t(825),t(888),t(5440),t(9085);var we=t(1669);function ie(ue){return ie=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(K){return typeof K=="undefined"?"undefined":_typeof(K)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J=="undefined"?"undefined":_typeof(J)},ie(ue)}function le(){le=function(){return J};var ue,J={},K=Object.prototype,Z=K.hasOwnProperty,se=Object.defineProperty||function(Pe,re,Ce){Pe[re]=Ce.value},he=typeof Symbol=="function"?Symbol:{},Ae=he.iterator||"@@iterator",Te=he.asyncIterator||"@@asyncIterator",He=he.toStringTag||"@@toStringTag";function qe(Pe,re,Ce){return Object.defineProperty(Pe,re,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Pe[re]}try{qe({},"")}catch(Pe){qe=function(Ce,ht,At){return Ce[ht]=At}}function We(Pe,re,Ce,ht){var At=re&&_instanceof(re.prototype,sn)?re:sn,yt=Object.create(At.prototype),gn=new _n(ht||[]);return se(yt,"_invoke",{value:tr(Pe,Ce,gn)}),yt}function Je(Pe,re,Ce){try{return{type:"normal",arg:Pe.call(re,Ce)}}catch(ht){return{type:"throw",arg:ht}}}J.wrap=We;var Tt="suspendedStart",It="suspendedYield",Nt="executing",Lt="completed",Rt={};function sn(){}function ln(){}function jt(){}var rn={};qe(rn,Ae,function(){return this});var Qt=Object.getPrototypeOf,Rn=Qt&&Qt(Qt(cr([])));Rn&&Rn!==K&&Z.call(Rn,Ae)&&(rn=Rn);var Vt=jt.prototype=sn.prototype=Object.create(rn);function ur(Pe){["next","throw","return"].forEach(function(re){qe(Pe,re,function(Ce){return this._invoke(re,Ce)})})}function Dn(Pe,re){function Ce(At,yt,gn,An){var $n=Je(Pe[At],Pe,yt);if($n.type!=="throw"){var sr=$n.arg,ar=sr.value;return ar&&ie(ar)=="object"&&Z.call(ar,"__await")?re.resolve(ar.__await).then(function(Ar){Ce("next",Ar,gn,An)},function(Ar){Ce("throw",Ar,gn,An)}):re.resolve(ar).then(function(Ar){sr.value=Ar,gn(sr)},function(Ar){return Ce("throw",Ar,gn,An)})}An($n.arg)}var ht;se(this,"_invoke",{value:function(yt,gn){function An(){return new re(function($n,sr){Ce(yt,gn,$n,sr)})}return ht=ht?ht.then(An,An):An()}})}function tr(Pe,re,Ce){var ht=Tt;return function(At,yt){if(ht===Nt)throw Error("Generator is already running");if(ht===Lt){if(At==="throw")throw yt;return{value:ue,done:!0}}for(Ce.method=At,Ce.arg=yt;;){var gn=Ce.delegate;if(gn){var An=en(gn,Ce);if(An){if(An===Rt)continue;return An}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(ht===Tt)throw ht=Lt,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);ht=Nt;var $n=Je(Pe,re,Ce);if($n.type==="normal"){if(ht=Ce.done?Lt:It,$n.arg===Rt)continue;return{value:$n.arg,done:Ce.done}}$n.type==="throw"&&(ht=Lt,Ce.method="throw",Ce.arg=$n.arg)}}}function en(Pe,re){var Ce=re.method,ht=Pe.iterator[Ce];if(ht===ue)return re.delegate=null,Ce==="throw"&&Pe.iterator.return&&(re.method="return",re.arg=ue,en(Pe,re),re.method==="throw")||Ce!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),Rt;var At=Je(ht,Pe.iterator,re.arg);if(At.type==="throw")return re.method="throw",re.arg=At.arg,re.delegate=null,Rt;var yt=At.arg;return yt?yt.done?(re[Pe.resultName]=yt.value,re.next=Pe.nextLoc,re.method!=="return"&&(re.method="next",re.arg=ue),re.delegate=null,Rt):yt:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,Rt)}function Tn(Pe){var re={tryLoc:Pe[0]};1 in Pe&&(re.catchLoc=Pe[1]),2 in Pe&&(re.finallyLoc=Pe[2],re.afterLoc=Pe[3]),this.tryEntries.push(re)}function fr(Pe){var re=Pe.completion||{};re.type="normal",delete re.arg,Pe.completion=re}function _n(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(Tn,this),this.reset(!0)}function cr(Pe){if(Pe||Pe===""){var re=Pe[Ae];if(re)return re.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var Ce=-1,ht=function At(){for(;++Ce<Pe.length;)if(Z.call(Pe,Ce))return At.value=Pe[Ce],At.done=!1,At;return At.value=ue,At.done=!0,At};return ht.next=ht}}throw new TypeError(ie(Pe)+" is not iterable")}return ln.prototype=jt,se(Vt,"constructor",{value:jt,configurable:!0}),se(jt,"constructor",{value:ln,configurable:!0}),ln.displayName=qe(jt,He,"GeneratorFunction"),J.isGeneratorFunction=function(Pe){var re=typeof Pe=="function"&&Pe.constructor;return!!re&&(re===ln||(re.displayName||re.name)==="GeneratorFunction")},J.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,jt):(Pe.__proto__=jt,qe(Pe,He,"GeneratorFunction")),Pe.prototype=Object.create(Vt),Pe},J.awrap=function(Pe){return{__await:Pe}},ur(Dn.prototype),qe(Dn.prototype,Te,function(){return this}),J.AsyncIterator=Dn,J.async=function(Pe,re,Ce,ht,At){At===void 0&&(At=Promise);var yt=new Dn(We(Pe,re,Ce,ht),At);return J.isGeneratorFunction(re)?yt:yt.next().then(function(gn){return gn.done?gn.value:yt.next()})},ur(Vt),qe(Vt,He,"Generator"),qe(Vt,Ae,function(){return this}),qe(Vt,"toString",function(){return"[object Generator]"}),J.keys=function(Pe){var re=Object(Pe),Ce=[];for(var ht in re)Ce.push(ht);return Ce.reverse(),function At(){for(;Ce.length;){var yt=Ce.pop();if(yt in re)return At.value=yt,At.done=!1,At}return At.done=!0,At}},J.values=cr,_n.prototype={constructor:_n,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(fr),!re)for(var Ce in this)Ce.charAt(0)==="t"&&Z.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=ue)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var Ce=this;function ht(sr,ar){return gn.type="throw",gn.arg=re,Ce.next=sr,ar&&(Ce.method="next",Ce.arg=ue),!!ar}for(var At=this.tryEntries.length-1;At>=0;--At){var yt=this.tryEntries[At],gn=yt.completion;if(yt.tryLoc==="root")return ht("end");if(yt.tryLoc<=this.prev){var An=Z.call(yt,"catchLoc"),$n=Z.call(yt,"finallyLoc");if(An&&$n){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}else if(An){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0)}else{if(!$n)throw Error("try statement without catch or finally");if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}}}},abrupt:function(re,Ce){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var At=this.tryEntries[ht];if(At.tryLoc<=this.prev&&Z.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var yt=At;break}}yt&&(re==="break"||re==="continue")&&yt.tryLoc<=Ce&&Ce<=yt.finallyLoc&&(yt=null);var gn=yt?yt.completion:{};return gn.type=re,gn.arg=Ce,yt?(this.method="next",this.next=yt.finallyLoc,Rt):this.complete(gn)},complete:function(re,Ce){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&Ce&&(this.next=Ce),Rt},finish:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.finallyLoc===re)return this.complete(ht.completion,ht.afterLoc),fr(ht),Rt}},catch:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.tryLoc===re){var At=ht.completion;if(At.type==="throw"){var yt=At.arg;fr(ht)}return yt}}throw Error("illegal catch attempt")},delegateYield:function(re,Ce,ht){return this.delegate={iterator:cr(re),resultName:Ce,nextLoc:ht},this.method==="next"&&(this.arg=ue),Rt}},J}var ye=function(){function ue(he,Ae,Te,He){(function(qe,We){if(!_instanceof(qe,We))throw new TypeError("Cannot call a class as a function")})(this,ue),this.leafIndex=he,this.chunkIndex=Ae,this.text=Te,this.lineRects=He}return J=ue,K=[{key:"fetch",value:(Z=le().mark(function he(Ae,Te,He){var qe;return le().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,we.ajax({type:"GET",url:"https://".concat(Ae,"/BookReader/BookReaderGetTextWrapper.php"),cache:!0,xhrFields:{withCredentials:window.br.protected},data:{path:"".concat(Te,"_djvu.xml"),page:He,callback:"false"}});case 2:return qe=We.sent,We.abrupt("return",ue._fromTextWrapperResponse(He,qe));case 4:case"end":return We.stop()}},he)}),se=function(){var Ae=this,Te=arguments;return new Promise(function(He,qe){var We=Z.apply(Ae,Te);function Je(It){s(We,He,qe,Je,Tt,"next",It)}function Tt(It){s(We,He,qe,Je,Tt,"throw",It)}Je(void 0)})},function(he,Ae,Te){return se.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(Ae,Te){return Te.map(function(He,qe){var We=ue._fixChunkRects(He.slice(1)),Je=ue._removeDanglingHyphens(He[0]);return new ue(Ae,qe,Je,We)})}},{key:"_fixChunkRects",value:function(Ae){if(Ae.length<2)return Ae;var Te=o(Ae,2),He=Te[0],qe=Te[1],We=o(He,3),Je=We[0],Tt=We[1],It=We[2]-Je,Nt=qe[1]-qe[3],Lt=qe[2]-qe[0],Rt=qe[2];return It>30*Lt&&(He[2]=Rt,He[3]=Tt-Nt),Ae}},{key:"_removeDanglingHyphens",value:function(Ae){return Ae.replace(/[-]\s+/g,"")}}],K&&a(J,K),Object.defineProperty(J,"prototype",{writable:!1}),J;var J,K,Z,se}();function Ee(ue){return Ee=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(K){return typeof K=="undefined"?"undefined":_typeof(K)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J=="undefined"?"undefined":_typeof(J)},Ee(ue)}function fe(){fe=function(){return J};var ue,J={},K=Object.prototype,Z=K.hasOwnProperty,se=Object.defineProperty||function(Pe,re,Ce){Pe[re]=Ce.value},he=typeof Symbol=="function"?Symbol:{},Ae=he.iterator||"@@iterator",Te=he.asyncIterator||"@@asyncIterator",He=he.toStringTag||"@@toStringTag";function qe(Pe,re,Ce){return Object.defineProperty(Pe,re,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Pe[re]}try{qe({},"")}catch(Pe){qe=function(Ce,ht,At){return Ce[ht]=At}}function We(Pe,re,Ce,ht){var At=re&&_instanceof(re.prototype,sn)?re:sn,yt=Object.create(At.prototype),gn=new _n(ht||[]);return se(yt,"_invoke",{value:tr(Pe,Ce,gn)}),yt}function Je(Pe,re,Ce){try{return{type:"normal",arg:Pe.call(re,Ce)}}catch(ht){return{type:"throw",arg:ht}}}J.wrap=We;var Tt="suspendedStart",It="suspendedYield",Nt="executing",Lt="completed",Rt={};function sn(){}function ln(){}function jt(){}var rn={};qe(rn,Ae,function(){return this});var Qt=Object.getPrototypeOf,Rn=Qt&&Qt(Qt(cr([])));Rn&&Rn!==K&&Z.call(Rn,Ae)&&(rn=Rn);var Vt=jt.prototype=sn.prototype=Object.create(rn);function ur(Pe){["next","throw","return"].forEach(function(re){qe(Pe,re,function(Ce){return this._invoke(re,Ce)})})}function Dn(Pe,re){function Ce(At,yt,gn,An){var $n=Je(Pe[At],Pe,yt);if($n.type!=="throw"){var sr=$n.arg,ar=sr.value;return ar&&Ee(ar)=="object"&&Z.call(ar,"__await")?re.resolve(ar.__await).then(function(Ar){Ce("next",Ar,gn,An)},function(Ar){Ce("throw",Ar,gn,An)}):re.resolve(ar).then(function(Ar){sr.value=Ar,gn(sr)},function(Ar){return Ce("throw",Ar,gn,An)})}An($n.arg)}var ht;se(this,"_invoke",{value:function(yt,gn){function An(){return new re(function($n,sr){Ce(yt,gn,$n,sr)})}return ht=ht?ht.then(An,An):An()}})}function tr(Pe,re,Ce){var ht=Tt;return function(At,yt){if(ht===Nt)throw Error("Generator is already running");if(ht===Lt){if(At==="throw")throw yt;return{value:ue,done:!0}}for(Ce.method=At,Ce.arg=yt;;){var gn=Ce.delegate;if(gn){var An=en(gn,Ce);if(An){if(An===Rt)continue;return An}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(ht===Tt)throw ht=Lt,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);ht=Nt;var $n=Je(Pe,re,Ce);if($n.type==="normal"){if(ht=Ce.done?Lt:It,$n.arg===Rt)continue;return{value:$n.arg,done:Ce.done}}$n.type==="throw"&&(ht=Lt,Ce.method="throw",Ce.arg=$n.arg)}}}function en(Pe,re){var Ce=re.method,ht=Pe.iterator[Ce];if(ht===ue)return re.delegate=null,Ce==="throw"&&Pe.iterator.return&&(re.method="return",re.arg=ue,en(Pe,re),re.method==="throw")||Ce!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),Rt;var At=Je(ht,Pe.iterator,re.arg);if(At.type==="throw")return re.method="throw",re.arg=At.arg,re.delegate=null,Rt;var yt=At.arg;return yt?yt.done?(re[Pe.resultName]=yt.value,re.next=Pe.nextLoc,re.method!=="return"&&(re.method="next",re.arg=ue),re.delegate=null,Rt):yt:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,Rt)}function Tn(Pe){var re={tryLoc:Pe[0]};1 in Pe&&(re.catchLoc=Pe[1]),2 in Pe&&(re.finallyLoc=Pe[2],re.afterLoc=Pe[3]),this.tryEntries.push(re)}function fr(Pe){var re=Pe.completion||{};re.type="normal",delete re.arg,Pe.completion=re}function _n(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(Tn,this),this.reset(!0)}function cr(Pe){if(Pe||Pe===""){var re=Pe[Ae];if(re)return re.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var Ce=-1,ht=function At(){for(;++Ce<Pe.length;)if(Z.call(Pe,Ce))return At.value=Pe[Ce],At.done=!1,At;return At.value=ue,At.done=!0,At};return ht.next=ht}}throw new TypeError(Ee(Pe)+" is not iterable")}return ln.prototype=jt,se(Vt,"constructor",{value:jt,configurable:!0}),se(jt,"constructor",{value:ln,configurable:!0}),ln.displayName=qe(jt,He,"GeneratorFunction"),J.isGeneratorFunction=function(Pe){var re=typeof Pe=="function"&&Pe.constructor;return!!re&&(re===ln||(re.displayName||re.name)==="GeneratorFunction")},J.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,jt):(Pe.__proto__=jt,qe(Pe,He,"GeneratorFunction")),Pe.prototype=Object.create(Vt),Pe},J.awrap=function(Pe){return{__await:Pe}},ur(Dn.prototype),qe(Dn.prototype,Te,function(){return this}),J.AsyncIterator=Dn,J.async=function(Pe,re,Ce,ht,At){At===void 0&&(At=Promise);var yt=new Dn(We(Pe,re,Ce,ht),At);return J.isGeneratorFunction(re)?yt:yt.next().then(function(gn){return gn.done?gn.value:yt.next()})},ur(Vt),qe(Vt,He,"Generator"),qe(Vt,Ae,function(){return this}),qe(Vt,"toString",function(){return"[object Generator]"}),J.keys=function(Pe){var re=Object(Pe),Ce=[];for(var ht in re)Ce.push(ht);return Ce.reverse(),function At(){for(;Ce.length;){var yt=Ce.pop();if(yt in re)return At.value=yt,At.done=!1,At}return At.done=!0,At}},J.values=cr,_n.prototype={constructor:_n,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(fr),!re)for(var Ce in this)Ce.charAt(0)==="t"&&Z.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=ue)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var Ce=this;function ht(sr,ar){return gn.type="throw",gn.arg=re,Ce.next=sr,ar&&(Ce.method="next",Ce.arg=ue),!!ar}for(var At=this.tryEntries.length-1;At>=0;--At){var yt=this.tryEntries[At],gn=yt.completion;if(yt.tryLoc==="root")return ht("end");if(yt.tryLoc<=this.prev){var An=Z.call(yt,"catchLoc"),$n=Z.call(yt,"finallyLoc");if(An&&$n){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}else if(An){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0)}else{if(!$n)throw Error("try statement without catch or finally");if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}}}},abrupt:function(re,Ce){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var At=this.tryEntries[ht];if(At.tryLoc<=this.prev&&Z.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var yt=At;break}}yt&&(re==="break"||re==="continue")&&yt.tryLoc<=Ce&&Ce<=yt.finallyLoc&&(yt=null);var gn=yt?yt.completion:{};return gn.type=re,gn.arg=Ce,yt?(this.method="next",this.next=yt.finallyLoc,Rt):this.complete(gn)},complete:function(re,Ce){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&Ce&&(this.next=Ce),Rt},finish:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.finallyLoc===re)return this.complete(ht.completion,ht.afterLoc),fr(ht),Rt}},catch:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.tryLoc===re){var At=ht.completion;if(At.type==="throw"){var yt=At.arg;fr(ht)}return yt}}throw Error("illegal catch attempt")},delegateYield:function(re,Ce,ht){return this.delegate={iterator:cr(re),resultName:Ce,nextLoc:ht},this.method==="next"&&(this.arg=ue),Rt}},J}var rt=function(){function ue(he,Ae,Te){(function(He,qe){if(!_instanceof(He,qe))throw new TypeError("Cannot call a class as a function")})(this,ue),this.pageCount=he,this.opts=Object.assign({},ct,Te),this._cursor={page:Ae,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}return J=ue,K=[{key:"next",value:function(){var Ae=this;return this._cursorLock=this._cursorLock.then(function(){return Ae._nextUncontrolled()})}},{key:"decrement",value:function(){var Ae=this;return this._cursorLock=this._cursorLock.then(function(){return Ae._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(Z=fe().mark(function he(){var Ae;return fe().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(this._cursor.page!=this.pageCount){Te.next=2;break}return Te.abrupt("return",Promise.resolve(ue.AT_END));case 2:return this._recenterBuffer(this._cursor.page),Te.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(Ae=Te.sent,this._cursor.chunk!=Ae.length){Te.next=10;break}return this._cursor.page++,this._cursor.chunk=0,Te.abrupt("return",this._nextUncontrolled());case 10:return Te.abrupt("return",Ae[this._cursor.chunk++]);case 11:case"end":return Te.stop()}},he,this)}),se=function(){var Ae=this,Te=arguments;return new Promise(function(He,qe){var We=Z.apply(Ae,Te);function Je(It){c(We,He,qe,Je,Tt,"next",It)}function Tt(It){c(We,He,qe,Je,Tt,"throw",It)}Je(void 0)})},function(){return se.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var Ae=this,Te=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,Te=this._fetchPageChunks(this._cursor.page).then(function(He){if(He.length==0)return Ae._decrementUncontrolled();Ae._cursor.chunk=He.length-1})),Te.then(function(){return Ae._fetchPageChunks(Ae._cursor.page)})}},{key:"_recenterBuffer",value:function(Ae){for(var Te=Math.max(0,Ae-this.opts.pageBufferSize),He=Math.min(this.pageCount,Ae+this.opts.pageBufferSize+1),qe=Te;qe<He;qe++)this._fetchPageChunks(qe);this._removePageFromBuffer(Te-1),this._removePageFromBuffer(He+1)}},{key:"_removePageFromBuffer",value:function(Ae){delete this._bufferingPages[Ae],delete this._bufferedPages[Ae]}},{key:"_fetchPageChunks",value:function(Ae){var Te=this;return Ae in this._bufferingPages?this._bufferingPages[Ae]:Ae in this._bufferedPages?Promise.resolve(this._bufferedPages[Ae]):(this._bufferingPages[Ae]=this._fetchPageChunksDirect(Ae).then(function(He){return delete Te._bufferingPages[Ae],Te._bufferedPages[Ae]=He,He}),this._bufferingPages[Ae])}},{key:"_fetchPageChunksDirect",value:function(Ae){return ye.fetch(this.opts.server,this.opts.bookPath,Ae)}}],K&&d(J.prototype,K),Object.defineProperty(J,"prototype",{writable:!1}),J;var J,K,Z,se}();rt.AT_END="__PageChunkIterator.AT_END__";var ct={server:null,bookPath:null,pageBufferSize:2},Ot=t(4031),_t={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4},De=t(1669);function be(ue){return be=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(K){return typeof K=="undefined"?"undefined":_typeof(K)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J=="undefined"?"undefined":_typeof(J)},be(ue)}function Xe(){Xe=function(){return J};var ue,J={},K=Object.prototype,Z=K.hasOwnProperty,se=Object.defineProperty||function(Pe,re,Ce){Pe[re]=Ce.value},he=typeof Symbol=="function"?Symbol:{},Ae=he.iterator||"@@iterator",Te=he.asyncIterator||"@@asyncIterator",He=he.toStringTag||"@@toStringTag";function qe(Pe,re,Ce){return Object.defineProperty(Pe,re,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Pe[re]}try{qe({},"")}catch(Pe){qe=function(Ce,ht,At){return Ce[ht]=At}}function We(Pe,re,Ce,ht){var At=re&&_instanceof(re.prototype,sn)?re:sn,yt=Object.create(At.prototype),gn=new _n(ht||[]);return se(yt,"_invoke",{value:tr(Pe,Ce,gn)}),yt}function Je(Pe,re,Ce){try{return{type:"normal",arg:Pe.call(re,Ce)}}catch(ht){return{type:"throw",arg:ht}}}J.wrap=We;var Tt="suspendedStart",It="suspendedYield",Nt="executing",Lt="completed",Rt={};function sn(){}function ln(){}function jt(){}var rn={};qe(rn,Ae,function(){return this});var Qt=Object.getPrototypeOf,Rn=Qt&&Qt(Qt(cr([])));Rn&&Rn!==K&&Z.call(Rn,Ae)&&(rn=Rn);var Vt=jt.prototype=sn.prototype=Object.create(rn);function ur(Pe){["next","throw","return"].forEach(function(re){qe(Pe,re,function(Ce){return this._invoke(re,Ce)})})}function Dn(Pe,re){function Ce(At,yt,gn,An){var $n=Je(Pe[At],Pe,yt);if($n.type!=="throw"){var sr=$n.arg,ar=sr.value;return ar&&be(ar)=="object"&&Z.call(ar,"__await")?re.resolve(ar.__await).then(function(Ar){Ce("next",Ar,gn,An)},function(Ar){Ce("throw",Ar,gn,An)}):re.resolve(ar).then(function(Ar){sr.value=Ar,gn(sr)},function(Ar){return Ce("throw",Ar,gn,An)})}An($n.arg)}var ht;se(this,"_invoke",{value:function(yt,gn){function An(){return new re(function($n,sr){Ce(yt,gn,$n,sr)})}return ht=ht?ht.then(An,An):An()}})}function tr(Pe,re,Ce){var ht=Tt;return function(At,yt){if(ht===Nt)throw Error("Generator is already running");if(ht===Lt){if(At==="throw")throw yt;return{value:ue,done:!0}}for(Ce.method=At,Ce.arg=yt;;){var gn=Ce.delegate;if(gn){var An=en(gn,Ce);if(An){if(An===Rt)continue;return An}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(ht===Tt)throw ht=Lt,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);ht=Nt;var $n=Je(Pe,re,Ce);if($n.type==="normal"){if(ht=Ce.done?Lt:It,$n.arg===Rt)continue;return{value:$n.arg,done:Ce.done}}$n.type==="throw"&&(ht=Lt,Ce.method="throw",Ce.arg=$n.arg)}}}function en(Pe,re){var Ce=re.method,ht=Pe.iterator[Ce];if(ht===ue)return re.delegate=null,Ce==="throw"&&Pe.iterator.return&&(re.method="return",re.arg=ue,en(Pe,re),re.method==="throw")||Ce!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),Rt;var At=Je(ht,Pe.iterator,re.arg);if(At.type==="throw")return re.method="throw",re.arg=At.arg,re.delegate=null,Rt;var yt=At.arg;return yt?yt.done?(re[Pe.resultName]=yt.value,re.next=Pe.nextLoc,re.method!=="return"&&(re.method="next",re.arg=ue),re.delegate=null,Rt):yt:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,Rt)}function Tn(Pe){var re={tryLoc:Pe[0]};1 in Pe&&(re.catchLoc=Pe[1]),2 in Pe&&(re.finallyLoc=Pe[2],re.afterLoc=Pe[3]),this.tryEntries.push(re)}function fr(Pe){var re=Pe.completion||{};re.type="normal",delete re.arg,Pe.completion=re}function _n(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(Tn,this),this.reset(!0)}function cr(Pe){if(Pe||Pe===""){var re=Pe[Ae];if(re)return re.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var Ce=-1,ht=function At(){for(;++Ce<Pe.length;)if(Z.call(Pe,Ce))return At.value=Pe[Ce],At.done=!1,At;return At.value=ue,At.done=!0,At};return ht.next=ht}}throw new TypeError(be(Pe)+" is not iterable")}return ln.prototype=jt,se(Vt,"constructor",{value:jt,configurable:!0}),se(jt,"constructor",{value:ln,configurable:!0}),ln.displayName=qe(jt,He,"GeneratorFunction"),J.isGeneratorFunction=function(Pe){var re=typeof Pe=="function"&&Pe.constructor;return!!re&&(re===ln||(re.displayName||re.name)==="GeneratorFunction")},J.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,jt):(Pe.__proto__=jt,qe(Pe,He,"GeneratorFunction")),Pe.prototype=Object.create(Vt),Pe},J.awrap=function(Pe){return{__await:Pe}},ur(Dn.prototype),qe(Dn.prototype,Te,function(){return this}),J.AsyncIterator=Dn,J.async=function(Pe,re,Ce,ht,At){At===void 0&&(At=Promise);var yt=new Dn(We(Pe,re,Ce,ht),At);return J.isGeneratorFunction(re)?yt:yt.next().then(function(gn){return gn.done?gn.value:yt.next()})},ur(Vt),qe(Vt,He,"Generator"),qe(Vt,Ae,function(){return this}),qe(Vt,"toString",function(){return"[object Generator]"}),J.keys=function(Pe){var re=Object(Pe),Ce=[];for(var ht in re)Ce.push(ht);return Ce.reverse(),function At(){for(;Ce.length;){var yt=Ce.pop();if(yt in re)return At.value=yt,At.done=!1,At}return At.done=!0,At}},J.values=cr,_n.prototype={constructor:_n,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(fr),!re)for(var Ce in this)Ce.charAt(0)==="t"&&Z.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=ue)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var Ce=this;function ht(sr,ar){return gn.type="throw",gn.arg=re,Ce.next=sr,ar&&(Ce.method="next",Ce.arg=ue),!!ar}for(var At=this.tryEntries.length-1;At>=0;--At){var yt=this.tryEntries[At],gn=yt.completion;if(yt.tryLoc==="root")return ht("end");if(yt.tryLoc<=this.prev){var An=Z.call(yt,"catchLoc"),$n=Z.call(yt,"finallyLoc");if(An&&$n){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}else if(An){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0)}else{if(!$n)throw Error("try statement without catch or finally");if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}}}},abrupt:function(re,Ce){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var At=this.tryEntries[ht];if(At.tryLoc<=this.prev&&Z.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var yt=At;break}}yt&&(re==="break"||re==="continue")&&yt.tryLoc<=Ce&&Ce<=yt.finallyLoc&&(yt=null);var gn=yt?yt.completion:{};return gn.type=re,gn.arg=Ce,yt?(this.method="next",this.next=yt.finallyLoc,Rt):this.complete(gn)},complete:function(re,Ce){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&Ce&&(this.next=Ce),Rt},finish:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.finallyLoc===re)return this.complete(ht.completion,ht.afterLoc),fr(ht),Rt}},catch:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.tryLoc===re){var At=ht.completion;if(At.type==="throw"){var yt=At.arg;fr(ht)}return yt}}throw Error("illegal catch attempt")},delegateYield:function(re,Ce,ht){return this.delegate={iterator:cr(re),resultName:Ce,nextLoc:ht},this.method==="next"&&(this.arg=ue),Rt}},J}var Ne=function(){function ue(Ae){var Te,He,qe,We=this;(function(Je,Tt){if(!_instanceof(Je,Tt))throw new TypeError("Cannot call a class as a function")})(this,ue),Te=this,qe=function(){We.voice=ue.getBestBookVoice(We.getVoices(),We.opts.bookLanguage)},(He=O(He="updateBestVoice"))in Te?Object.defineProperty(Te,He,{value:qe,enumerable:!0,configurable:!0,writable:!0}):Te[He]=qe,this.playing=!1,this.paused=!1,this.opts=Ae,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=De({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}return J=ue,K=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(Te,He){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new rt(He,Te,{server:this.opts.server,bookPath:this.opts.bookPath,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var Te=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),Te&&this.events.trigger("pause")}},{key:"resume",value:function(){var Te=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),Te&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(he=A(Xe().mark(function Ae(){var Te=this;return Xe().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return Te._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return He.stop()}},Ae,this)})),function(){return he.apply(this,arguments)})},{key:"setVoice",value:function(Te){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(He){return He.voiceURI===Te}),this.opts.bookLanguage&&k()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(Te){this.playbackRate=Te,this.activeSound&&this.activeSound.setPlaybackRate(Te)}},{key:"step",value:(se=A(Xe().mark(function Ae(){var Te,He,qe,We=this;return Xe().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,this._chunkIterator.next();case 2:if((Te=Je.sent)!=rt.AT_END){Je.next=7;break}return this.stop(),this.opts.onDone(),Je.abrupt("return");case 7:return this.opts.onLoadingStart(),(He=this.createSound(Te)).chunk=Te,He.rate=this.playbackRate,He.voice=this.voice,He.load(function(){return We.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),Je.next=16,this.opts.beforeChunkPlay(Te);case 16:if(this.playing){Je.next=18;break}return Je.abrupt("return");case 18:return Je.next=20,this.playSound(He).then(function(){return We.opts.afterChunkPlay(He.chunk)});case 20:return qe=Je.sent,this.paused&&this.pause(),Je.next=24,qe;case 24:if(!this.playing){Je.next=26;break}return Je.abrupt("return",this.step());case 26:case"end":return Je.stop()}},Ae,this)})),function(){return se.apply(this,arguments)})},{key:"createSound",value:function(Te){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(Te){return this.activeSound=Te,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return ue.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],Z=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(Te,He){var qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,We=Te.filter(function(Tt){return Tt.lang.startsWith(He)}),Je=(qe=qe||(navigator.language?[navigator.language]:[])).filter(function(Tt){return Tt.startsWith(He)});return ue.getMatchingStoredVoice(We,He)||ue.getMatchingVoice(Je,We)||We.find(function(Tt){return Tt.default})||We[0]||ue.getMatchingVoice(qe,Te)||Te.find(function(Tt){return Tt.default})||Te[0]}},{key:"getMatchingStoredVoice",value:function(Te,He){var qe=k()&&localStorage.getItem("BRtts-voice-".concat(He));return qe?Te.find(function(We){return We.voiceURI===qe}):void 0}},{key:"getMatchingVoice",value:function(Te,He){var qe,We=function(It,Nt){var Lt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&It[Symbol.iterator]||It["@@iterator"];if(!Lt){if(Array.isArray(It)||(Lt=function(Qt,Rn){if(Qt){if(typeof Qt=="string")return x(Qt,Rn);var Vt={}.toString.call(Qt).slice(8,-1);return Vt==="Object"&&Qt.constructor&&(Vt=Qt.constructor.name),Vt==="Map"||Vt==="Set"?Array.from(Qt):Vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Vt)?x(Qt,Rn):void 0}}(It))||Nt&&It&&typeof It.length=="number"){Lt&&(It=Lt);var Rt=0,sn=function(){};return{s:sn,n:function(){return Rt>=It.length?{done:!0}:{done:!1,value:It[Rt++]}},e:function(Rn){throw Rn},f:sn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ln,jt=!0,rn=!1;return{s:function(){Lt=Lt.call(It)},n:function(){var Rn=Lt.next();return jt=Rn.done,Rn},e:function(Rn){rn=!0,ln=Rn},f:function(){try{jt||Lt.return==null||Lt.return()}finally{if(rn)throw ln}}}}(Te);try{var Je,Tt=function(){var Nt=qe.value,Lt=He.filter(function(Rt){return Rt.lang.replace("_","-").startsWith(Nt)});if(Lt.length)return{v:Lt.find(function(Rt){return Rt.default})||Lt[0]}};for(We.s();!(qe=We.n()).done;)if(Je=Tt())return Je.v}catch(It){We.e(It)}finally{We.f()}}}],K&&E(J.prototype,K),Z&&E(J,Z),Object.defineProperty(J,"prototype",{writable:!1}),J;var J,K,Z,se,he}(),Qe=t(6257),Me=(t(2443),t(1792),t(1669));function Ve(ue){return Ve=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(K){return typeof K=="undefined"?"undefined":_typeof(K)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J=="undefined"?"undefined":_typeof(J)},Ve(ue)}function st(){st=function(){return J};var ue,J={},K=Object.prototype,Z=K.hasOwnProperty,se=Object.defineProperty||function(Pe,re,Ce){Pe[re]=Ce.value},he=typeof Symbol=="function"?Symbol:{},Ae=he.iterator||"@@iterator",Te=he.asyncIterator||"@@asyncIterator",He=he.toStringTag||"@@toStringTag";function qe(Pe,re,Ce){return Object.defineProperty(Pe,re,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Pe[re]}try{qe({},"")}catch(Pe){qe=function(Ce,ht,At){return Ce[ht]=At}}function We(Pe,re,Ce,ht){var At=re&&_instanceof(re.prototype,sn)?re:sn,yt=Object.create(At.prototype),gn=new _n(ht||[]);return se(yt,"_invoke",{value:tr(Pe,Ce,gn)}),yt}function Je(Pe,re,Ce){try{return{type:"normal",arg:Pe.call(re,Ce)}}catch(ht){return{type:"throw",arg:ht}}}J.wrap=We;var Tt="suspendedStart",It="suspendedYield",Nt="executing",Lt="completed",Rt={};function sn(){}function ln(){}function jt(){}var rn={};qe(rn,Ae,function(){return this});var Qt=Object.getPrototypeOf,Rn=Qt&&Qt(Qt(cr([])));Rn&&Rn!==K&&Z.call(Rn,Ae)&&(rn=Rn);var Vt=jt.prototype=sn.prototype=Object.create(rn);function ur(Pe){["next","throw","return"].forEach(function(re){qe(Pe,re,function(Ce){return this._invoke(re,Ce)})})}function Dn(Pe,re){function Ce(At,yt,gn,An){var $n=Je(Pe[At],Pe,yt);if($n.type!=="throw"){var sr=$n.arg,ar=sr.value;return ar&&Ve(ar)=="object"&&Z.call(ar,"__await")?re.resolve(ar.__await).then(function(Ar){Ce("next",Ar,gn,An)},function(Ar){Ce("throw",Ar,gn,An)}):re.resolve(ar).then(function(Ar){sr.value=Ar,gn(sr)},function(Ar){return Ce("throw",Ar,gn,An)})}An($n.arg)}var ht;se(this,"_invoke",{value:function(yt,gn){function An(){return new re(function($n,sr){Ce(yt,gn,$n,sr)})}return ht=ht?ht.then(An,An):An()}})}function tr(Pe,re,Ce){var ht=Tt;return function(At,yt){if(ht===Nt)throw Error("Generator is already running");if(ht===Lt){if(At==="throw")throw yt;return{value:ue,done:!0}}for(Ce.method=At,Ce.arg=yt;;){var gn=Ce.delegate;if(gn){var An=en(gn,Ce);if(An){if(An===Rt)continue;return An}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(ht===Tt)throw ht=Lt,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);ht=Nt;var $n=Je(Pe,re,Ce);if($n.type==="normal"){if(ht=Ce.done?Lt:It,$n.arg===Rt)continue;return{value:$n.arg,done:Ce.done}}$n.type==="throw"&&(ht=Lt,Ce.method="throw",Ce.arg=$n.arg)}}}function en(Pe,re){var Ce=re.method,ht=Pe.iterator[Ce];if(ht===ue)return re.delegate=null,Ce==="throw"&&Pe.iterator.return&&(re.method="return",re.arg=ue,en(Pe,re),re.method==="throw")||Ce!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),Rt;var At=Je(ht,Pe.iterator,re.arg);if(At.type==="throw")return re.method="throw",re.arg=At.arg,re.delegate=null,Rt;var yt=At.arg;return yt?yt.done?(re[Pe.resultName]=yt.value,re.next=Pe.nextLoc,re.method!=="return"&&(re.method="next",re.arg=ue),re.delegate=null,Rt):yt:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,Rt)}function Tn(Pe){var re={tryLoc:Pe[0]};1 in Pe&&(re.catchLoc=Pe[1]),2 in Pe&&(re.finallyLoc=Pe[2],re.afterLoc=Pe[3]),this.tryEntries.push(re)}function fr(Pe){var re=Pe.completion||{};re.type="normal",delete re.arg,Pe.completion=re}function _n(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(Tn,this),this.reset(!0)}function cr(Pe){if(Pe||Pe===""){var re=Pe[Ae];if(re)return re.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var Ce=-1,ht=function At(){for(;++Ce<Pe.length;)if(Z.call(Pe,Ce))return At.value=Pe[Ce],At.done=!1,At;return At.value=ue,At.done=!0,At};return ht.next=ht}}throw new TypeError(Ve(Pe)+" is not iterable")}return ln.prototype=jt,se(Vt,"constructor",{value:jt,configurable:!0}),se(jt,"constructor",{value:ln,configurable:!0}),ln.displayName=qe(jt,He,"GeneratorFunction"),J.isGeneratorFunction=function(Pe){var re=typeof Pe=="function"&&Pe.constructor;return!!re&&(re===ln||(re.displayName||re.name)==="GeneratorFunction")},J.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,jt):(Pe.__proto__=jt,qe(Pe,He,"GeneratorFunction")),Pe.prototype=Object.create(Vt),Pe},J.awrap=function(Pe){return{__await:Pe}},ur(Dn.prototype),qe(Dn.prototype,Te,function(){return this}),J.AsyncIterator=Dn,J.async=function(Pe,re,Ce,ht,At){At===void 0&&(At=Promise);var yt=new Dn(We(Pe,re,Ce,ht),At);return J.isGeneratorFunction(re)?yt:yt.next().then(function(gn){return gn.done?gn.value:yt.next()})},ur(Vt),qe(Vt,He,"Generator"),qe(Vt,Ae,function(){return this}),qe(Vt,"toString",function(){return"[object Generator]"}),J.keys=function(Pe){var re=Object(Pe),Ce=[];for(var ht in re)Ce.push(ht);return Ce.reverse(),function At(){for(;Ce.length;){var yt=Ce.pop();if(yt in re)return At.value=yt,At.done=!1,At}return At.done=!0,At}},J.values=cr,_n.prototype={constructor:_n,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(fr),!re)for(var Ce in this)Ce.charAt(0)==="t"&&Z.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=ue)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var Ce=this;function ht(sr,ar){return gn.type="throw",gn.arg=re,Ce.next=sr,ar&&(Ce.method="next",Ce.arg=ue),!!ar}for(var At=this.tryEntries.length-1;At>=0;--At){var yt=this.tryEntries[At],gn=yt.completion;if(yt.tryLoc==="root")return ht("end");if(yt.tryLoc<=this.prev){var An=Z.call(yt,"catchLoc"),$n=Z.call(yt,"finallyLoc");if(An&&$n){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}else if(An){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0)}else{if(!$n)throw Error("try statement without catch or finally");if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}}}},abrupt:function(re,Ce){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var At=this.tryEntries[ht];if(At.tryLoc<=this.prev&&Z.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var yt=At;break}}yt&&(re==="break"||re==="continue")&&yt.tryLoc<=Ce&&Ce<=yt.finallyLoc&&(yt=null);var gn=yt?yt.completion:{};return gn.type=re,gn.arg=Ce,yt?(this.method="next",this.next=yt.finallyLoc,Rt):this.complete(gn)},complete:function(re,Ce){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&Ce&&(this.next=Ce),Rt},finish:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.finallyLoc===re)return this.complete(ht.completion,ht.afterLoc),fr(ht),Rt}},catch:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.tryLoc===re){var At=ht.completion;if(At.type==="throw"){var yt=At.arg;fr(ht)}return yt}}throw Error("illegal catch attempt")},delegateYield:function(re,Ce,ht){return this.delegate={iterator:cr(re),resultName:Ce,nextLoc:ht},this.method==="next"&&(this.arg=ue),Rt}},J}function gt(){try{var ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(J){}return(gt=function(){return!!ue})()}function Mt(){return Mt=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(J,K,Z){var se=function(Ae,Te){for(;!{}.hasOwnProperty.call(Ae,Te)&&(Ae=Ue(Ae))!==null;);return Ae}(J,K);if(se){var he=Object.getOwnPropertyDescriptor(se,K);return he.get?he.get.call(arguments.length<3?J:Z):he.value}},Mt.apply(null,arguments)}function Ue(ue){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ue(ue)}function Be(ue,J){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,se){return Z.__proto__=se,Z},Be(ue,J)}var et=function(ue){function J(Z){var se,he;return u(this,J),(he=w(this,J,[Z])).audioFormat=(se=Me.browser)!==null&&se!==void 0&&se.mozilla?"ogg":"mp3",he}return function(Z,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(se&&se.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),se&&Be(Z,se)}(J,ue),m(J,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(se,he){var Ae=this,Te=null;navigator.userAgent.match(/mobile/i)&&(Te=this.iOSCaptureUserIntentHack()),(Te=Te||Promise.resolve()).then(function(){return(He=J,qe=Ae,typeof(We=Mt(Ue(He.prototype),"start",qe))=="function"?function(Je){return We.apply(qe,Je)}:We)([se,he]);var He,qe,We})}},{key:"createSound",value:function(se){return new Ge(this.getSoundUrl(se.text))}},{key:"getSoundUrl",value:function(se){return"https://"+this.opts.server+"/BookReader/BookReaderGetTTS.php?string="+encodeURIComponent(se)+"&format=."+this.audioFormat}},{key:"iOSCaptureUserIntentHack",value:(K=b(st().mark(function Z(){var se;return st().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return se=soundManager.createSound({url:$e[this.audioFormat]}),he.next=3,new Promise(function(Ae){return se.play({onfinish:Ae})});case 3:se.destruct();case 4:case"end":return he.stop()}},Z,this)})),function(){return K.apply(this,arguments)})}],[{key:"isSupported",value:function(){return(typeof soundManager=="undefined"?"undefined":_typeof(soundManager))<"u"&&soundManager.supported()}}]);var K}(Ne),Ge=function(){return m(function J(K){u(this,J),this.soundUrl=K,this.sound=null,this.rate=1,this._finishResolver=null},[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(K){var Z,se=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){se.rate!=1&&se.sound.setPlaybackRate(se.rate),K()},onresume:(Z=b(st().mark(function he(){return st().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,(0,Qe.sleep)(25);case 2:se.rate!=1&&se.sound.setPlaybackRate(se.rate);case 3:case"end":return Ae.stop()}},he)})),function(){return Z.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(ue=b(st().mark(function J(){var K=this;return st().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,new Promise(function(se){K._finishResolver=se,K.sound.play({onfinish:se})});case 2:this.sound.destruct();case 3:case"end":return Z.stop()}},J,this)})),function(){return ue.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(K){this.rate=K,this.sound.setPlaybackRate(K)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]);var ue}(),$e={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},ze=t(542);function xt(ue){return xt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(K){return typeof K=="undefined"?"undefined":_typeof(K)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J=="undefined"?"undefined":_typeof(J)},xt(ue)}function bt(){bt=function(){return J};var ue,J={},K=Object.prototype,Z=K.hasOwnProperty,se=Object.defineProperty||function(Pe,re,Ce){Pe[re]=Ce.value},he=typeof Symbol=="function"?Symbol:{},Ae=he.iterator||"@@iterator",Te=he.asyncIterator||"@@asyncIterator",He=he.toStringTag||"@@toStringTag";function qe(Pe,re,Ce){return Object.defineProperty(Pe,re,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Pe[re]}try{qe({},"")}catch(Pe){qe=function(Ce,ht,At){return Ce[ht]=At}}function We(Pe,re,Ce,ht){var At=re&&_instanceof(re.prototype,sn)?re:sn,yt=Object.create(At.prototype),gn=new _n(ht||[]);return se(yt,"_invoke",{value:tr(Pe,Ce,gn)}),yt}function Je(Pe,re,Ce){try{return{type:"normal",arg:Pe.call(re,Ce)}}catch(ht){return{type:"throw",arg:ht}}}J.wrap=We;var Tt="suspendedStart",It="suspendedYield",Nt="executing",Lt="completed",Rt={};function sn(){}function ln(){}function jt(){}var rn={};qe(rn,Ae,function(){return this});var Qt=Object.getPrototypeOf,Rn=Qt&&Qt(Qt(cr([])));Rn&&Rn!==K&&Z.call(Rn,Ae)&&(rn=Rn);var Vt=jt.prototype=sn.prototype=Object.create(rn);function ur(Pe){["next","throw","return"].forEach(function(re){qe(Pe,re,function(Ce){return this._invoke(re,Ce)})})}function Dn(Pe,re){function Ce(At,yt,gn,An){var $n=Je(Pe[At],Pe,yt);if($n.type!=="throw"){var sr=$n.arg,ar=sr.value;return ar&&xt(ar)=="object"&&Z.call(ar,"__await")?re.resolve(ar.__await).then(function(Ar){Ce("next",Ar,gn,An)},function(Ar){Ce("throw",Ar,gn,An)}):re.resolve(ar).then(function(Ar){sr.value=Ar,gn(sr)},function(Ar){return Ce("throw",Ar,gn,An)})}An($n.arg)}var ht;se(this,"_invoke",{value:function(yt,gn){function An(){return new re(function($n,sr){Ce(yt,gn,$n,sr)})}return ht=ht?ht.then(An,An):An()}})}function tr(Pe,re,Ce){var ht=Tt;return function(At,yt){if(ht===Nt)throw Error("Generator is already running");if(ht===Lt){if(At==="throw")throw yt;return{value:ue,done:!0}}for(Ce.method=At,Ce.arg=yt;;){var gn=Ce.delegate;if(gn){var An=en(gn,Ce);if(An){if(An===Rt)continue;return An}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(ht===Tt)throw ht=Lt,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);ht=Nt;var $n=Je(Pe,re,Ce);if($n.type==="normal"){if(ht=Ce.done?Lt:It,$n.arg===Rt)continue;return{value:$n.arg,done:Ce.done}}$n.type==="throw"&&(ht=Lt,Ce.method="throw",Ce.arg=$n.arg)}}}function en(Pe,re){var Ce=re.method,ht=Pe.iterator[Ce];if(ht===ue)return re.delegate=null,Ce==="throw"&&Pe.iterator.return&&(re.method="return",re.arg=ue,en(Pe,re),re.method==="throw")||Ce!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),Rt;var At=Je(ht,Pe.iterator,re.arg);if(At.type==="throw")return re.method="throw",re.arg=At.arg,re.delegate=null,Rt;var yt=At.arg;return yt?yt.done?(re[Pe.resultName]=yt.value,re.next=Pe.nextLoc,re.method!=="return"&&(re.method="next",re.arg=ue),re.delegate=null,Rt):yt:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,Rt)}function Tn(Pe){var re={tryLoc:Pe[0]};1 in Pe&&(re.catchLoc=Pe[1]),2 in Pe&&(re.finallyLoc=Pe[2],re.afterLoc=Pe[3]),this.tryEntries.push(re)}function fr(Pe){var re=Pe.completion||{};re.type="normal",delete re.arg,Pe.completion=re}function _n(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(Tn,this),this.reset(!0)}function cr(Pe){if(Pe||Pe===""){var re=Pe[Ae];if(re)return re.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var Ce=-1,ht=function At(){for(;++Ce<Pe.length;)if(Z.call(Pe,Ce))return At.value=Pe[Ce],At.done=!1,At;return At.value=ue,At.done=!0,At};return ht.next=ht}}throw new TypeError(xt(Pe)+" is not iterable")}return ln.prototype=jt,se(Vt,"constructor",{value:jt,configurable:!0}),se(jt,"constructor",{value:ln,configurable:!0}),ln.displayName=qe(jt,He,"GeneratorFunction"),J.isGeneratorFunction=function(Pe){var re=typeof Pe=="function"&&Pe.constructor;return!!re&&(re===ln||(re.displayName||re.name)==="GeneratorFunction")},J.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,jt):(Pe.__proto__=jt,qe(Pe,He,"GeneratorFunction")),Pe.prototype=Object.create(Vt),Pe},J.awrap=function(Pe){return{__await:Pe}},ur(Dn.prototype),qe(Dn.prototype,Te,function(){return this}),J.AsyncIterator=Dn,J.async=function(Pe,re,Ce,ht,At){At===void 0&&(At=Promise);var yt=new Dn(We(Pe,re,Ce,ht),At);return J.isGeneratorFunction(re)?yt:yt.next().then(function(gn){return gn.done?gn.value:yt.next()})},ur(Vt),qe(Vt,He,"Generator"),qe(Vt,Ae,function(){return this}),qe(Vt,"toString",function(){return"[object Generator]"}),J.keys=function(Pe){var re=Object(Pe),Ce=[];for(var ht in re)Ce.push(ht);return Ce.reverse(),function At(){for(;Ce.length;){var yt=Ce.pop();if(yt in re)return At.value=yt,At.done=!1,At}return At.done=!0,At}},J.values=cr,_n.prototype={constructor:_n,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(fr),!re)for(var Ce in this)Ce.charAt(0)==="t"&&Z.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=ue)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var Ce=this;function ht(sr,ar){return gn.type="throw",gn.arg=re,Ce.next=sr,ar&&(Ce.method="next",Ce.arg=ue),!!ar}for(var At=this.tryEntries.length-1;At>=0;--At){var yt=this.tryEntries[At],gn=yt.completion;if(yt.tryLoc==="root")return ht("end");if(yt.tryLoc<=this.prev){var An=Z.call(yt,"catchLoc"),$n=Z.call(yt,"finallyLoc");if(An&&$n){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}else if(An){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0)}else{if(!$n)throw Error("try statement without catch or finally");if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}}}},abrupt:function(re,Ce){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var At=this.tryEntries[ht];if(At.tryLoc<=this.prev&&Z.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var yt=At;break}}yt&&(re==="break"||re==="continue")&&yt.tryLoc<=Ce&&Ce<=yt.finallyLoc&&(yt=null);var gn=yt?yt.completion:{};return gn.type=re,gn.arg=Ce,yt?(this.method="next",this.next=yt.finallyLoc,Rt):this.complete(gn)},complete:function(re,Ce){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&Ce&&(this.next=Ce),Rt},finish:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.finallyLoc===re)return this.complete(ht.completion,ht.afterLoc),fr(ht),Rt}},catch:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.tryLoc===re){var At=ht.completion;if(At.type==="throw"){var yt=At.arg;fr(ht)}return yt}}throw Error("illegal catch attempt")},delegateYield:function(re,Ce,ht){return this.delegate={iterator:cr(re),resultName:Ce,nextLoc:ht},this.method==="next"&&(this.arg=ue),Rt}},J}function lt(){try{var ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(J){}return(lt=function(){return!!ue})()}function Ze(){return Ze=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(J,K,Z){var se=function(Ae,Te){for(;!{}.hasOwnProperty.call(Ae,Te)&&(Ae=dt(Ae))!==null;);return Ae}(J,K);if(se){var he=Object.getOwnPropertyDescriptor(se,K);return he.get?he.get.call(arguments.length<3?J:Z):he.value}},Ze.apply(null,arguments)}function dt(ue){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},dt(ue)}function $t(ue,J){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,se){return Z.__proto__=se,Z},$t(ue,J)}var qt,Bt=function(ue){function J(K){var Z;return I(this,J),Z=W(this,J,[K]),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return Z.events.trigger("voiceschanged")}),Z}return function(K,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),Z&&$t(K,Z)}(J,ue),z(J,[{key:"start",value:function(Z,se){var he,Ae,Te,He=this;if("mediaSession"in navigator){var qe=new Audio(Y);qe.loop=!0,this.events.on("pause",function(){return qe.pause()}),this.events.on("resume",function(){return qe.play()}),this.events.on("stop",function(){return qe.src=""}),qe.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(We){return We.label=="Author"}).map(function(We){return We.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",function(){qe.play(),He.resume()}),navigator.mediaSession.setActionHandler("pause",function(){qe.pause(),He.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return He.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return He.jumpForward()})})}return(he=J,Ae=this,typeof(Te=Ze(dt(he.prototype),"start",Ae))=="function"?function(We){return Te.apply(Ae,We)}:Te)([Z,se])}},{key:"getVoices",value:function(){var Z=speechSynthesis.getVoices();return Z.filter(function(se){return se.default}).length!=1&&Z.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),Z}},{key:"createSound",value:function(Z){return new ut(Z.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0&&!/samsungbrowser/i.test(navigator.userAgent)}}])}(Ne),ut=function(){return z(function he(Ae){I(this,he),this.text=Ae,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null},[{key:"load",value:function(Ae){var Te,He=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((Te=this.voice)===null||Te===void 0?void 0:Te.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,location.toString().indexOf("_debugReadAloud=true")!=-1&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(){return console.log("error")}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(qe){return He._lastEvents.start=qe}),this.utterance.addEventListener("boundary",function(qe){return He._lastEvents.boundary=qe}),this.utterance.addEventListener("pause",function(qe){return He._lastEvents.pause=qe}),this.utterance.addEventListener("start",function(){He.started=!0,He.stopped=!1,He.paused=!1}),this.utterance.addEventListener("pause",function(){return He.paused=!0}),this.utterance.addEventListener("resume",function(){return He.paused=!1}),this.utterance.addEventListener("end",function(qe){He.paused||He.stopped||He.utterance.dispatchEvent(new CustomEvent("finish",qe))}),this.loaded=!0,Ae&&Ae()}},{key:"reload",value:(se=M(bt().mark(function he(){var Ae,Te;return bt().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return Ae=this.paused,(Te=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(Te.target.text)+Te.charIndex),He.next=5,this.stop();case 5:this.load(),Ae||this.play();case 7:case"end":return He.stop()}},he,this)})),function(){return se.apply(this,arguments)})},{key:"play",value:function(){var Ae=this;this._finishPromise=this._finishPromise||new Promise(function(He){return Ae._finishResolver=He}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var Te=this.utterance.voice&&this.utterance.voice.localService;return(0,ze.H8)()&&!Te&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var Ae=Promise.resolve();return this.stopped||(Ae=Promise.race([(0,Qe.promisifyEvent)(this.utterance,"end"),(0,Qe.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),Ae}},{key:"finish",value:(Z=M(bt().mark(function he(){return bt().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return Ae.stop()}},he,this)})),function(){return Z.apply(this,arguments)})},{key:"pause",value:(K=M(bt().mark(function he(){var Ae,Te,He;return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!this.paused){qe.next=2;break}return qe.abrupt("return");case 2:if(Ae=(0,Qe.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),Te=(0,ze.gm)()&&p(),!(0,ze.H8)()&&!Te){qe.next=15;break}return He=(0,Qe.sleep)(100).then(function(){return"timeout"}),qe.next=10,Promise.race([Ae,He]);case 10:if(qe.sent=="timeout"){qe.next=13;break}return qe.abrupt("return");case 13:this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),Te&&this.stop();case 15:case"end":return qe.stop()}},he,this)})),function(){return K.apply(this,arguments)})},{key:"resume",value:(J=M(bt().mark(function he(){var Ae,Te,He;return bt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(this.started){qe.next=3;break}return this.play(),qe.abrupt("return");case 3:if(this.paused){qe.next=5;break}return qe.abrupt("return");case 5:if(Ae=(0,ze.H8)()&&p()||(0,ze.gm)()&&p(),Te=(0,ze.H8)()||Ae,He=(0,Qe.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),!Te){qe.next=20;break}return qe.next=12,Promise.race([He,(0,Qe.sleep)(100).then(function(){return"timeout"})]);case 12:if(qe.sent=="timeout"){qe.next=15;break}return qe.abrupt("return");case 15:if(this.utterance.dispatchEvent(new CustomEvent("resume",{})),!Ae){qe.next=20;break}return qe.next=19,this.reload();case 19:this.play();case 20:case"end":return qe.stop()}},he,this)})),function(){return J.apply(this,arguments)})},{key:"setPlaybackRate",value:function(Ae){this.rate=Ae,this.reload()}},{key:"setVoice",value:function(Ae){this.voice=Ae,this.reload()}},{key:"_chromePausingBugFix",value:(ue=M(bt().mark(function he(){var Ae,Te,He,qe;return bt().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return Ae=(0,Qe.sleep)(14e3).then(function(){return"timeout"}),Te=(0,Qe.promisifyEvent)(this.utterance,"pause").then(function(){return"paused"}),He=(0,Qe.promisifyEvent)(this.utterance,"end").then(function(){return"ended"}),We.next=5,Promise.race([Ae,Te,He]);case 5:qe=We.sent,location.toString().indexOf("_debugReadAloud=true")!=-1&&console.log("CHROME-PAUSE-HACK: ".concat(qe)),We.t0=qe,We.next=We.t0==="ended"?10:We.t0==="paused"?11:We.t0==="timeout"?15:21;break;case 10:return We.abrupt("break",21);case 11:return We.next=13,Promise.race([(0,Qe.promisifyEvent)(this.utterance,"resume"),(0,Qe.sleep)(14e3).then(function(){return"timeout"})]);case 13:return qe=="timeout"?this.reload():this._chromePausingBugFix(),We.abrupt("break",21);case 15:return speechSynthesis.pause(),We.next=18,(0,Qe.sleep)(25);case 18:return speechSynthesis.resume(),this._chromePausingBugFix(),We.abrupt("break",21);case 21:case"end":return We.stop()}},he,this)})),function(){return ue.apply(this,arguments)})}]);var ue,J,K,Z,se}(),Y="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Kt="Read this book aloud",Ft=t(1774),Xt=t(1669),R=t(1669);function nt(ue){return nt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(K){return typeof K=="undefined"?"undefined":_typeof(K)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J=="undefined"?"undefined":_typeof(J)},nt(ue)}function je(){je=function(){return J};var ue,J={},K=Object.prototype,Z=K.hasOwnProperty,se=Object.defineProperty||function(Pe,re,Ce){Pe[re]=Ce.value},he=typeof Symbol=="function"?Symbol:{},Ae=he.iterator||"@@iterator",Te=he.asyncIterator||"@@asyncIterator",He=he.toStringTag||"@@toStringTag";function qe(Pe,re,Ce){return Object.defineProperty(Pe,re,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),Pe[re]}try{qe({},"")}catch(Pe){qe=function(Ce,ht,At){return Ce[ht]=At}}function We(Pe,re,Ce,ht){var At=re&&_instanceof(re.prototype,sn)?re:sn,yt=Object.create(At.prototype),gn=new _n(ht||[]);return se(yt,"_invoke",{value:tr(Pe,Ce,gn)}),yt}function Je(Pe,re,Ce){try{return{type:"normal",arg:Pe.call(re,Ce)}}catch(ht){return{type:"throw",arg:ht}}}J.wrap=We;var Tt="suspendedStart",It="suspendedYield",Nt="executing",Lt="completed",Rt={};function sn(){}function ln(){}function jt(){}var rn={};qe(rn,Ae,function(){return this});var Qt=Object.getPrototypeOf,Rn=Qt&&Qt(Qt(cr([])));Rn&&Rn!==K&&Z.call(Rn,Ae)&&(rn=Rn);var Vt=jt.prototype=sn.prototype=Object.create(rn);function ur(Pe){["next","throw","return"].forEach(function(re){qe(Pe,re,function(Ce){return this._invoke(re,Ce)})})}function Dn(Pe,re){function Ce(At,yt,gn,An){var $n=Je(Pe[At],Pe,yt);if($n.type!=="throw"){var sr=$n.arg,ar=sr.value;return ar&&nt(ar)=="object"&&Z.call(ar,"__await")?re.resolve(ar.__await).then(function(Ar){Ce("next",Ar,gn,An)},function(Ar){Ce("throw",Ar,gn,An)}):re.resolve(ar).then(function(Ar){sr.value=Ar,gn(sr)},function(Ar){return Ce("throw",Ar,gn,An)})}An($n.arg)}var ht;se(this,"_invoke",{value:function(yt,gn){function An(){return new re(function($n,sr){Ce(yt,gn,$n,sr)})}return ht=ht?ht.then(An,An):An()}})}function tr(Pe,re,Ce){var ht=Tt;return function(At,yt){if(ht===Nt)throw Error("Generator is already running");if(ht===Lt){if(At==="throw")throw yt;return{value:ue,done:!0}}for(Ce.method=At,Ce.arg=yt;;){var gn=Ce.delegate;if(gn){var An=en(gn,Ce);if(An){if(An===Rt)continue;return An}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(ht===Tt)throw ht=Lt,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);ht=Nt;var $n=Je(Pe,re,Ce);if($n.type==="normal"){if(ht=Ce.done?Lt:It,$n.arg===Rt)continue;return{value:$n.arg,done:Ce.done}}$n.type==="throw"&&(ht=Lt,Ce.method="throw",Ce.arg=$n.arg)}}}function en(Pe,re){var Ce=re.method,ht=Pe.iterator[Ce];if(ht===ue)return re.delegate=null,Ce==="throw"&&Pe.iterator.return&&(re.method="return",re.arg=ue,en(Pe,re),re.method==="throw")||Ce!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),Rt;var At=Je(ht,Pe.iterator,re.arg);if(At.type==="throw")return re.method="throw",re.arg=At.arg,re.delegate=null,Rt;var yt=At.arg;return yt?yt.done?(re[Pe.resultName]=yt.value,re.next=Pe.nextLoc,re.method!=="return"&&(re.method="next",re.arg=ue),re.delegate=null,Rt):yt:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,Rt)}function Tn(Pe){var re={tryLoc:Pe[0]};1 in Pe&&(re.catchLoc=Pe[1]),2 in Pe&&(re.finallyLoc=Pe[2],re.afterLoc=Pe[3]),this.tryEntries.push(re)}function fr(Pe){var re=Pe.completion||{};re.type="normal",delete re.arg,Pe.completion=re}function _n(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(Tn,this),this.reset(!0)}function cr(Pe){if(Pe||Pe===""){var re=Pe[Ae];if(re)return re.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var Ce=-1,ht=function At(){for(;++Ce<Pe.length;)if(Z.call(Pe,Ce))return At.value=Pe[Ce],At.done=!1,At;return At.value=ue,At.done=!0,At};return ht.next=ht}}throw new TypeError(nt(Pe)+" is not iterable")}return ln.prototype=jt,se(Vt,"constructor",{value:jt,configurable:!0}),se(jt,"constructor",{value:ln,configurable:!0}),ln.displayName=qe(jt,He,"GeneratorFunction"),J.isGeneratorFunction=function(Pe){var re=typeof Pe=="function"&&Pe.constructor;return!!re&&(re===ln||(re.displayName||re.name)==="GeneratorFunction")},J.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,jt):(Pe.__proto__=jt,qe(Pe,He,"GeneratorFunction")),Pe.prototype=Object.create(Vt),Pe},J.awrap=function(Pe){return{__await:Pe}},ur(Dn.prototype),qe(Dn.prototype,Te,function(){return this}),J.AsyncIterator=Dn,J.async=function(Pe,re,Ce,ht,At){At===void 0&&(At=Promise);var yt=new Dn(We(Pe,re,Ce,ht),At);return J.isGeneratorFunction(re)?yt:yt.next().then(function(gn){return gn.done?gn.value:yt.next()})},ur(Vt),qe(Vt,He,"Generator"),qe(Vt,Ae,function(){return this}),qe(Vt,"toString",function(){return"[object Generator]"}),J.keys=function(Pe){var re=Object(Pe),Ce=[];for(var ht in re)Ce.push(ht);return Ce.reverse(),function At(){for(;Ce.length;){var yt=Ce.pop();if(yt in re)return At.value=yt,At.done=!1,At}return At.done=!0,At}},J.values=cr,_n.prototype={constructor:_n,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(fr),!re)for(var Ce in this)Ce.charAt(0)==="t"&&Z.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=ue)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var Ce=this;function ht(sr,ar){return gn.type="throw",gn.arg=re,Ce.next=sr,ar&&(Ce.method="next",Ce.arg=ue),!!ar}for(var At=this.tryEntries.length-1;At>=0;--At){var yt=this.tryEntries[At],gn=yt.completion;if(yt.tryLoc==="root")return ht("end");if(yt.tryLoc<=this.prev){var An=Z.call(yt,"catchLoc"),$n=Z.call(yt,"finallyLoc");if(An&&$n){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}else if(An){if(this.prev<yt.catchLoc)return ht(yt.catchLoc,!0)}else{if(!$n)throw Error("try statement without catch or finally");if(this.prev<yt.finallyLoc)return ht(yt.finallyLoc)}}}},abrupt:function(re,Ce){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var At=this.tryEntries[ht];if(At.tryLoc<=this.prev&&Z.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var yt=At;break}}yt&&(re==="break"||re==="continue")&&yt.tryLoc<=Ce&&Ce<=yt.finallyLoc&&(yt=null);var gn=yt?yt.completion:{};return gn.type=re,gn.arg=Ce,yt?(this.method="next",this.next=yt.finallyLoc,Rt):this.complete(gn)},complete:function(re,Ce){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&Ce&&(this.next=Ce),Rt},finish:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.finallyLoc===re)return this.complete(ht.completion,ht.afterLoc),fr(ht),Rt}},catch:function(re){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ht=this.tryEntries[Ce];if(ht.tryLoc===re){var At=ht.completion;if(At.type==="throw"){var yt=At.arg;fr(ht)}return yt}}throw Error("illegal catch attempt")},delegateYield:function(re,Ce,ht){return this.delegate={iterator:cr(re),resultName:Ce,nextLoc:ht},this.method==="next"&&(this.arg=ue),Rt}},J}Xt.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookPath:"",enableTtsPlugin:!0}),BookReader.prototype.setup=(qt=BookReader.prototype.setup,function(ue){if(qt.call(this,ue),this.options.enableTtsPlugin){this._ttsBoxesByIndex={};var J=Bt.isSupported()?Bt:et.isSupported()?et:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var K=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];J={festival:et,web:Bt}[K]}J&&(this.ttsEngine=new J({server:ue.server,bookPath:ue.bookPath,bookLanguage:(Z=ue.bookLanguage,Z?v(Z=Z.toLowerCase(),["ISO 639-1"])||v(Z,["ISO 639-2/B"])||v(Z,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.showProgressPopup.bind(this,"Loading audio..."),onLoadingComplete:this.removeProgressPopup.bind(this),onDone:this.ttsStop.bind(this),beforeChunkPlay:this.ttsBeforeChunkPlay.bind(this),afterChunkPlay:this.ttsSendChunkFinishedAnalyticsEvent.bind(this)}))}var Z}),BookReader.prototype.init=function(ue){return function(){var J=this;this.options.enableTtsPlugin&&this.bind(BookReader.eventNames.PostInit,function(){J.$(".BRicon.read").click(function(){return J.ttsToggle(),!1}),J.ttsEngine&&(J.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&J.ttsStart(!1))}),ue.call(this)}}(BookReader.prototype.init),BookReader.prototype._createPageContainer=function(ue){return function(J){var K=ue.call(this,J);if(this.options.enableTtsPlugin&&K.page&&J in this._ttsBoxesByIndex){var Z=K.page.index;(0,Ft.KL)("ttsHiliteLayer",this._ttsBoxesByIndex[Z],K.page,K.$container[0])}return K}}(BookReader.prototype._createPageContainer),BookReader.prototype.buildMobileDrawerElement=function(ue){return function(){var J=ue.call(this);return this.options.enableTtsPlugin&&this.ttsEngine&&J.find(".BRmobileMenu__moreInfoRow").after(R('\n        <li>\n            <span>\n                <span class="DrawerIconWrapper"><img class="DrawerIcon" src="'.concat(this.imagesBaseURL,'icon_speaker_open.svg" alt="info-speaker"/></span>\n                Read Aloud\n            </span>\n            <div>\n                <span class="larger">Press to toggle read aloud</span>\n                <br/>\n                <button class="BRicon read"></button>\n            </div>\n        </li>'))),J}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.initNavbar=function(ue){return function(){var J=this,K=ue.call(this);if(this.options.enableTtsPlugin&&this.ttsEngine){this.refs.$BRReadAloudToolbar=R('\n        <ul class="read-aloud">\n          <li>\n            <select class="playback-speed" name="playback-speed" title="'.concat("Playback speed",'">\n              <option value="0.25">0.25x</option>\n              <option value="0.5">0.5x</option>\n              <option value="0.75">0.75x</option>\n              <option value="1.0" selected>1.0x</option>\n              <option value="1.25">1.25x</option>\n              <option value="1.5">1.5x</option>\n              <option value="1.75">1.75x</option>\n              <option value="2">2x</option>\n            </select>\n          </li>\n          <li>\n            <button type="button" name="review" title="').concat("Review 10 seconds",'">\n              <div class="icon icon-review"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="play" title="').concat("Play",'">\n              <div class="icon icon-play"></div>\n              <div class="icon icon-pause"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="advance" title="').concat("Advance 10 seconds",'">\n              <div class="icon icon-advance"></div>\n            </button>\n          </li>\n          <li>\n            <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">\n            </select>\n          </li>\n        </ul>\n      ')),K.find(".BRcontrols").prepend(this.refs.$BRReadAloudToolbar);var Z=function(qe){return qe.map(function(We){return'<option value="'.concat(We.voiceURI,'">').concat(We.lang," - ").concat(We.name,"</option>")}).join("")},se=function(qe,We){return"".concat(qe.lang," - ").concat(qe.name).localeCompare("".concat(We.lang," - ").concat(We.name))},he=function(qe){qe.empty();var We=J.ttsEngine.opts.bookLanguage,Je=J.ttsEngine.getVoices().filter(function(It){return It.lang.startsWith(We)}).sort(se),Tt=J.ttsEngine.getVoices().filter(function(It){return!It.lang.startsWith(We)}).sort(se);J.ttsEngine.getVoices().length>1?(qe.append(R('<optgroup label="Book Language ('.concat(We,')"> ').concat(Z(Je)," </optgroup>"))),qe.append(R('<optgroup label="Other Languages"> '.concat(Z(Tt)," </optgroup>"))),qe.val(J.ttsEngine.voice.voiceURI),qe.show()):qe.hide()},Ae=this.refs.$BRReadAloudToolbar.find("[name=playback-voice]");he(Ae),Ae.on("change",function(He){return J.ttsEngine.setVoice(Ae.val())}),this.ttsEngine.events.on("pause resume start",function(){return J.ttsUpdateState()}),this.ttsEngine.events.on("voiceschanged",function(){return he(Ae)}),this.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.ttsPlayPause.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.ttsJumpForward.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.ttsJumpBackward.bind(this));var Te=this.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');Te.on("change",function(He){return J.ttsEngine.setPlaybackRate(parseFloat(Te.val()))}),R('<li>\n          <button class="BRicon read js-tooltip" title="'.concat(Kt,'">\n            <div class="icon icon-read-aloud"></div>\n            <span class="BRtooltip">').concat(Kt,"</span>\n          </button>\n        </li>")).insertBefore(K.find(".BRcontrols .BRicon.zoom_out").closest("li"))}return K}}(BookReader.prototype.initNavbar),BookReader.prototype.ttsToggle=function(){this.autoStop&&this.autoStop(),this.ttsEngine.playing?this.ttsStop():this.ttsStart()},BookReader.prototype.ttsStart=function(){var ue=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.constModeThumb==this.mode&&this.switchMode(this.constMode1up),this.refs.$BRReadAloudToolbar.addClass("visible"),this.$(".BRicon.read").addClass("unread active"),this.ttsSendAnalyticsEvent("Start"),ue&&this.ttsEngine.start(this.currentIndex(),this.book.getNumLeafs())},BookReader.prototype.ttsJumpForward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()},BookReader.prototype.ttsJumpBackward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()},BookReader.prototype.ttsUpdateState=function(){var ue=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.$(".read-aloud [name=play]").toggleClass("playing",ue)},BookReader.prototype.ttsPlayPause=function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.ttsUpdateState()):this.ttsToggle()},BookReader.prototype.ttsStop=function(){this.refs.$BRReadAloudToolbar.removeClass("visible"),this.$(".BRicon.read").removeClass("unread active"),this.ttsSendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.ttsRemoveHilites(),this.removeProgressPopup()},BookReader.prototype.ttsBeforeChunkPlay=function(){var ue=ee(je().mark(function J(K){return je().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,this.ttsMaybeFlipToIndex(K.leafIndex);case 2:this.ttsHighlightChunk(K),this.ttsScrollToChunk(K);case 4:case"end":return Z.stop()}},J,this)}));return function(J){return ue.apply(this,arguments)}}(),BookReader.prototype.ttsSendChunkFinishedAnalyticsEvent=function(ue){var J;this.ttsSendAnalyticsEvent("ChunkFinished-Words",(J=ue.text.match(/\S+/g))?J.length:0)},BookReader.prototype.ttsMaybeFlipToIndex=function(){var ue=ee(je().mark(function J(K){return je().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(this.constMode2up==this.mode){Z.next=4;break}this.jumpToIndex(K),Z.next=6;break;case 4:return Z.next=6,this._modes.mode2Up.mode2UpLit.jumpToIndex(K);case 6:case"end":return Z.stop()}},J,this)}));return function(J){return ue.apply(this,arguments)}}(),BookReader.prototype.ttsHighlightChunk=function(ue){var J,K,Z,se=this,he=ue.leafIndex;this.ttsRemoveHilites(),this._ttsBoxesByIndex=(J={},K=he,Z=ue.lineRects.map(function(qe){var We=me(qe,4),Je=We[0],Tt=We[1];return{l:Je,r:We[2],b:Tt,t:We[3]}}),(K=function(qe){var We=function(Je,Tt){if(nt(Je)!="object"||!Je)return Je;var It=Je[Symbol.toPrimitive];if(It!==void 0){var Nt=It.call(Je,"string");if(nt(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Je)}(qe);return nt(We)=="symbol"?We:We+""}(K))in J?Object.defineProperty(J,K,{value:Z,enumerable:!0,configurable:!0,writable:!0}):J[K]=Z,J);for(var Ae=function(){var We=me(He[Te],2),Je=We[0],Tt=We[1],It=parseFloat(Je),Nt=se.book.getPage(It);se.getActivePageContainerElementsForIndex(It).forEach(function(Lt){return(0,Ft.KL)("ttsHiliteLayer",Tt,Nt,Lt)})},Te=0,He=Object.entries(this._ttsBoxesByIndex);Te<He.length;Te++)Ae()},BookReader.prototype.ttsScrollToChunk=function(ue){var J;this.constModeThumb!=this.mode&&((J=R(".pagediv".concat(ue.leafIndex," .ttsHiliteLayer rect")).last())===null||J===void 0||(J=J[0])===null||J===void 0||J.scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))},BookReader.prototype.ttsRemoveHilites=function(){R(this.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}},BookReader.prototype.ttsSendAnalyticsEvent=function(ue,J){if(this.archiveAnalyticsSendEvent){var K={},Z=this.ttsEngine.opts.bookLanguage;Z&&(K.mediaLanguage=Z),this.archiveAnalyticsSendEvent("BRReadAloud",ue,J,K)}}},4031:function(n,e){"use strict";e.A=void 0,e.A=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},1792:function(n,e,t){var o,l;o=[t(1669)],(l=function(s){return function(a){"use strict";var r=function(d){d===void 0&&(d=window.navigator.userAgent),d=d.toLowerCase();var h=/(edge)\/([\w.]+)/.exec(d)||/(opr)[\/]([\w.]+)/.exec(d)||/(chrome)[ \/]([\w.]+)/.exec(d)||/(iemobile)[\/]([\w.]+)/.exec(d)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||d.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(d)||d.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[],p=/(ipad)/.exec(d)||/(ipod)/.exec(d)||/(windows phone)/.exec(d)||/(iphone)/.exec(d)||/(kindle)/.exec(d)||/(silk)/.exec(d)||/(android)/.exec(d)||/(win)/.exec(d)||/(mac)/.exec(d)||/(linux)/.exec(d)||/(cros)/.exec(d)||/(playbook)/.exec(d)||/(bb)/.exec(d)||/(blackberry)/.exec(d)||[],v={},k={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",versionNumber:h[4]||h[2]||"0",platform:p[0]||""};if(k.browser&&(v[k.browser]=!0,v.version=k.version,v.versionNumber=parseInt(k.versionNumber,10)),k.platform&&(v[k.platform]=!0),(v.android||v.bb||v.blackberry||v.ipad||v.iphone||v.ipod||v.kindle||v.playbook||v.silk||v["windows phone"])&&(v.mobile=!0),(v.cros||v.mac||v.linux||v.win)&&(v.desktop=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){var x="msie";k.browser=x,v[x]=!0}if(v.edge){delete v.edge;var S="msedge";k.browser=S,v[S]=!0}if(v.safari&&v.blackberry){var A="blackberry";k.browser=A,v[A]=!0}if(v.safari&&v.playbook){var E="playbook";k.browser=E,v[E]=!0}if(v.bb){var O="blackberry";k.browser=O,v[O]=!0}if(v.opr){var T="opera";k.browser=T,v[T]=!0}if(v.safari&&v.android){var b="android";k.browser=b,v[b]=!0}if(v.safari&&v.kindle){var u="kindle";k.browser=u,v[u]=!0}if(v.safari&&v.silk){var f="silk";k.browser=f,v[f]=!0}return v.name=k.browser,v.platform=k.platform,v};return window.jQBrowser=r(window.navigator.userAgent),window.jQBrowser.uaMatch=r,a&&(a.browser=window.jQBrowser),window.jQBrowser}(s)}.apply(e,o))===void 0||(n.exports=l)},2443:function(n,e,t){var o;n=t.nmd(n),function(l,s){"use strict";var a=function(d,h){this.setupOptions={url:d||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=h||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var p,v,k,x,S,A,E,O,T,b,u,f,m,y,w,C,M,I,D,z,Q,W,me,oe,q,ee,we,ie,le,ye,Ee,fe,rt,ct,Ot,_t,De,be,Xe,Ne,Qe,Me,Ve,st,gt,Mt,Ue,Be,et,Ge,$e,ze,xt,bt,lt,Ze,dt,$t,qt,Bt,ut,Y,Kt,Ft,Xt,R=this,nt=null,je=null,ue="soundManager",J=ue+": ",K=navigator.userAgent,Z=l.location.href.toString(),se=document,he=[],Ae=!0,Te=!1,He=!1,qe=!1,We=!1,Je=!1,Tt=0,It=["log","info","warn","error"],Nt=null,Lt=null,Rt=!1,sn=!1,ln=0,jt=null,rn=[],Qt=null,Rn=Array.prototype.slice,Vt=!1,ur=0,Dn=1e3,tr=K.match(/(ipad|iphone|ipod)/i),en=K.match(/android/i),Tn=K.match(/msie|trident/i),fr=K.match(/webkit/i),_n=K.match(/safari/i)&&!K.match(/chrome/i),cr=K.match(/opera/i),Pe=K.match(/(mobile|pre\/|xoom)/i)||tr||en,re=!Z.match(/usehtml5audio/i)&&!Z.match(/sm2-ignorebadua/i)&&_n&&!K.match(/silk/i)&&K.match(/OS\sX\s10_6_([3-7])/i),Ce=l.console!==s&&console.log!==s,ht=se.hasFocus!==s?se.hasFocus():null,At=_n&&(se.hasFocus===s||!se.hasFocus()),yt=!At,gn=/(mp3|mp4|mpa|m4a|m4b)/i,An="about:blank",$n=se.location?se.location.protocol.match(/http/i):null,sr=$n?"":"//",ar=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Ar=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],yi=new RegExp("\\.("+Ar.join("|")+")(\\?.*)?$","i");function ki(pt){return R.preferFlash&&$t&&!R.ignoreFlash&&R.flash[pt]!==s&&R.flash[pt]}function wi(pt){return function(tt){var mt,un=this._s;return un&&un._a?mt=pt.call(this,tt):(un&&un.id?R._wD(un.id+": Ignoring "+tt.type):R._wD("HTML5::Ignoring "+tt.type),mt=null),mt}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!$n,De={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},$e=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==s&&(cr&&opera!==s&&opera.version()<10?new Audio(null):new Audio).canPlayType!==s}catch(pt){return!1}}(),this.setup=function(pt){var tt=!R.url;return pt!==s&&qe&&Qt&&R.ok()&&(pt.flashVersion!==s||pt.url!==s||pt.html5Test!==s)&&Qe(ct("setupLate")),u(pt),Vt||(Pe?R.setupOptions.ignoreMobileRestrictions&&!R.setupOptions.forceUseGlobalHTML5Audio||(rn.push(Q.globalHTML5),Vt=!0):R.setupOptions.forceUseGlobalHTML5Audio&&(rn.push(Q.globalHTML5),Vt=!0)),!Xt&&Pe&&(R.setupOptions.ignoreMobileRestrictions?rn.push(Q.ignoreMobile):(R.setupOptions.useHTML5Audio&&!R.setupOptions.preferFlash||R._wD(Q.mobileUA),R.setupOptions.useHTML5Audio=!0,R.setupOptions.preferFlash=!1,tr?R.ignoreFlash=!0:(en&&!K.match(/android\s2\.3/i)||!en)&&(R._wD(Q.globalHTML5),Vt=!0))),pt&&(tt&&q&&pt.url!==s&&R.beginDelayedInit(),q||pt.url===s||se.readyState!=="complete"||setTimeout(me,1)),Xt=!0,R},this.ok=function(){return Qt?qe&&!We:R.useHTML5Audio&&R.hasHTML5},this.supported=this.ok,this.getMovie=function(pt){return v(pt)||se[pt]||l[pt]},this.createSound=function(pt,tt){var mt,un,hn,Un=null;if(un=(mt=ue+".createSound(): ")+ct(qe?"notOK":"notReady"),!qe||!R.ok())return Qe(un),!1;if(tt!==s&&(pt={id:pt,url:tt}),(hn=b(pt)).url=Mt(hn.url),hn.id===s&&(hn.id=R.setupOptions.idPrefix+ur++),hn.id.toString().charAt(0).match(/^[0-9]$/)&&R._wD(mt+ct("badID",hn.id),2),R._wD(mt+hn.id+(hn.url?" ("+hn.url+")":""),1),Me(hn.id,!0))return R._wD(mt+hn.id+" exists",1),R.sounds[hn.id];function dr(){return hn=Xe(hn),R.sounds[hn.id]=new p(hn),R.soundIDs.push(hn.id),R.sounds[hn.id]}if(et(hn))Un=dr(),R.html5Only||R._wD(hn.id+": Using HTML5"),Un._setup_html5(hn);else{if(R.html5Only)return R._wD(hn.id+": No HTML5 support for this sound, and no Flash. Exiting."),dr();if(R.html5.usingFlash&&hn.url&&hn.url.match(/data:/i))return R._wD(hn.id+": data: URIs not supported via Flash. Exiting."),dr();A>8&&(hn.isMovieStar===null&&(hn.isMovieStar=!!(hn.serverURL||hn.type&&hn.type.match(ar)||hn.url&&hn.url.match(yi))),hn.isMovieStar&&(R._wD(mt+"using MovieStar handling"),hn.loops>1&&O("noNSLoop"))),hn=Ne(hn,mt),Un=dr(),A===8?je._createSound(hn.id,hn.loops||1,hn.usePolicyFile):(je._createSound(hn.id,hn.url,hn.usePeakData,hn.useWaveformData,hn.useEQData,hn.isMovieStar,!!hn.isMovieStar&&hn.bufferTime,hn.loops||1,hn.serverURL,hn.duration||null,hn.autoPlay,!0,hn.autoLoad,hn.usePolicyFile),hn.serverURL||(Un.connected=!0,hn.onconnect&&hn.onconnect.apply(Un))),hn.serverURL||!hn.autoLoad&&!hn.autoPlay||Un.load(hn)}return!hn.serverURL&&hn.autoPlay&&Un.play(),Un},this.destroySound=function(pt,tt){if(!Me(pt))return!1;var mt,un=R.sounds[pt];for(un.stop(),un._iO={},un.unload(),mt=0;mt<R.soundIDs.length;mt++)if(R.soundIDs[mt]===pt){R.soundIDs.splice(mt,1);break}return tt||un.destruct(!0),un=null,delete R.sounds[pt],!0},this.load=function(pt,tt){return!!Me(pt)&&R.sounds[pt].load(tt)},this.unload=function(pt){return!!Me(pt)&&R.sounds[pt].unload()},this.onPosition=function(pt,tt,mt,un){return!!Me(pt)&&R.sounds[pt].onposition(tt,mt,un)},this.onposition=this.onPosition,this.clearOnPosition=function(pt,tt,mt){return!!Me(pt)&&R.sounds[pt].clearOnPosition(tt,mt)},this.play=function(pt,tt){var mt=null,un=tt&&!_instanceof(tt,Object);if(!qe||!R.ok())return Qe(ue+".play(): "+ct(qe?"notOK":"notReady")),!1;if(Me(pt,un))un&&(tt={url:tt});else{if(!un)return!1;un&&(tt={url:tt}),tt&&tt.url&&(R._wD(ue+'.play(): Attempting to create "'+pt+'"',1),tt.id=pt,mt=R.createSound(tt).play())}return mt===null&&(mt=R.sounds[pt].play(tt)),mt},this.start=this.play,this.setPlaybackRate=function(pt,tt,mt){return!!Me(pt)&&R.sounds[pt].setPlaybackRate(tt,mt)},this.setPosition=function(pt,tt){return!!Me(pt)&&R.sounds[pt].setPosition(tt)},this.stop=function(pt){return!!Me(pt)&&(R._wD(ue+".stop("+pt+")",1),R.sounds[pt].stop())},this.stopAll=function(){var pt;for(pt in R._wD(ue+".stopAll()",1),R.sounds)R.sounds.hasOwnProperty(pt)&&R.sounds[pt].stop()},this.pause=function(pt){return!!Me(pt)&&R.sounds[pt].pause()},this.pauseAll=function(){var pt;for(pt=R.soundIDs.length-1;pt>=0;pt--)R.sounds[R.soundIDs[pt]].pause()},this.resume=function(pt){return!!Me(pt)&&R.sounds[pt].resume()},this.resumeAll=function(){var pt;for(pt=R.soundIDs.length-1;pt>=0;pt--)R.sounds[R.soundIDs[pt]].resume()},this.togglePause=function(pt){return!!Me(pt)&&R.sounds[pt].togglePause()},this.setPan=function(pt,tt){return!!Me(pt)&&R.sounds[pt].setPan(tt)},this.setVolume=function(pt,tt){var mt,un;if(pt!==s&&!isNaN(pt)&&tt===s){for(mt=0,un=R.soundIDs.length;mt<un;mt++)R.sounds[R.soundIDs[mt]].setVolume(pt);return!1}return!!Me(pt)&&R.sounds[pt].setVolume(tt)},this.mute=function(pt){var tt=0;if(_instanceof(pt,String)&&(pt=null),pt)return!!Me(pt)&&(R._wD(ue+'.mute(): Muting "'+pt+'"'),R.sounds[pt].mute());for(R._wD(ue+".mute(): Muting all sounds"),tt=R.soundIDs.length-1;tt>=0;tt--)R.sounds[R.soundIDs[tt]].mute();return R.muted=!0,!0},this.muteAll=function(){R.mute()},this.unmute=function(pt){var tt;if(_instanceof(pt,String)&&(pt=null),pt)return!!Me(pt)&&(R._wD(ue+'.unmute(): Unmuting "'+pt+'"'),R.sounds[pt].unmute());for(R._wD(ue+".unmute(): Unmuting all sounds"),tt=R.soundIDs.length-1;tt>=0;tt--)R.sounds[R.soundIDs[tt]].unmute();return R.muted=!1,!0},this.unmuteAll=function(){R.unmute()},this.toggleMute=function(pt){return!!Me(pt)&&R.sounds[pt].toggleMute()},this.getMemoryUse=function(){var pt=0;return je&&A!==8&&(pt=parseInt(je._getMemoryUse(),10)),pt},this.disable=function(pt){var tt;if(pt===s&&(pt=!1),We)return!1;for(We=!0,O("shutdown",1),tt=R.soundIDs.length-1;tt>=0;tt--)Ee(R.sounds[R.soundIDs[tt]]);return Ee(R),T(pt),Ze.remove(l,"load",w),!0},this.canPlayMIME=function(pt){var tt;return R.hasHTML5&&(tt=Ge({type:pt})),!tt&&Qt&&(tt=pt&&R.ok()?!!(A>8&&pt.match(ar)||pt.match(R.mimePattern)):null),tt},this.canPlayURL=function(pt){var tt;return R.hasHTML5&&(tt=Ge({url:pt})),!tt&&Qt&&(tt=pt&&R.ok()?!!pt.match(R.filePattern):null),tt},this.canPlayLink=function(pt){return!(pt.type===s||!pt.type||!R.canPlayMIME(pt.type))||R.canPlayURL(pt.href)},this.getSoundById=function(pt,tt){if(!pt)return null;var mt=R.sounds[pt];return mt||tt||R._wD(ue+'.getSoundById(): Sound "'+pt+'" not found.',2),mt},this.onready=function(pt,tt){var mt="onready";if(typeof pt!="function")throw ct("needFunction",mt);return qe&&R._wD(ct("queue",mt)),tt||(tt=l),m(mt,pt,tt),y(),!0},this.ontimeout=function(pt,tt){var mt="ontimeout";if(typeof pt!="function")throw ct("needFunction",mt);return qe&&R._wD(ct("queue",mt)),tt||(tt=l),m(mt,pt,tt),y({type:mt}),!0},this._writeDebug=function(pt,tt){var mt,un;return!(!R.setupOptions.debugMode||!(Ce&&R.useConsole&&(tt&&typeof tt=="object"?console.log(pt,tt):It[tt]!==s?console[It[tt]](pt):console.log(pt),R.consoleOnly))&&(!(mt=v("soundmanager-debug"))||(un=se.createElement("div"),++Tt%2==0&&(un.className="sm2-alt"),tt=tt===s?0:parseInt(tt,10),un.appendChild(se.createTextNode(pt)),tt&&(tt>=2&&(un.style.fontWeight="bold"),tt===3&&(un.style.color="#ff3333")),mt.insertBefore(un,mt.firstChild),mt=null,0)))},Z.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(pt){l.alert(pt)}),this._wD=this._writeDebug,this._debug=function(){var pt,tt;for(O("currentObj",1),pt=0,tt=R.soundIDs.length;pt<tt;pt++)R.sounds[R.soundIDs[pt]]._debug()},this.reboot=function(pt,tt){var mt,un,hn;for(R.soundIDs.length&&R._wD("Destroying "+R.soundIDs.length+" SMSound object"+(R.soundIDs.length!==1?"s":"")+"..."),mt=R.soundIDs.length-1;mt>=0;mt--)R.sounds[R.soundIDs[mt]].destruct();if(je)try{Tn&&(Lt=je.innerHTML),Nt=je.parentNode.removeChild(je)}catch(Un){O("badRemove",2)}if(Lt=Nt=Qt=je=null,R.enabled=q=qe=Rt=sn=Te=He=We=Vt=R.swfLoaded=!1,R.soundIDs=[],R.sounds={},ur=0,Xt=!1,pt)he=[];else for(mt in he)if(he.hasOwnProperty(mt))for(un=0,hn=he[mt].length;un<hn;un++)he[mt][un].fired=!1;return tt||R._wD(ue+": Rebooting..."),R.html5={usingFlash:null},R.flash={},R.html5Only=!1,R.ignoreFlash=!1,l.setTimeout(function(){tt||R.beginDelayedInit()},20),R},this.reset=function(){return O("reset"),R.reboot(!0,!0)},this.getMoviePercent=function(){return je&&"PercentLoaded"in je?je.PercentLoaded():null},this.beginDelayedInit=function(){Je=!0,me(),setTimeout(function(){return!sn&&(we(),W(),sn=!0,!0)},20),C()},this.destruct=function(){R._wD(ue+".destruct()"),R.disable(!0)},p=function(tt){var mt,un,hn,Un,dr,Or,Ln,ai,oi,Hr,pe=this,Yi=!1,si=[],Ui=0,_i=null;oi={duration:null,time:null},this.id=tt.id,this.sID=this.id,this.url=tt.url,this.options=b(tt),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,Hr=!this.url,this.id3={},this._debug=function(){R._wD(pe.id+": Merged options:",pe.options)},this.load=function(pn){var yn;if(pn!==s?pe._iO=b(pn,pe.options):(pn=pe.options,pe._iO=pn,_i&&_i!==pe.url&&(O("manURL"),pe._iO.url=pe.url,pe.url=null)),pe._iO.url||(pe._iO.url=pe.url),pe._iO.url=Mt(pe._iO.url),pe.instanceOptions=pe._iO,yn=pe._iO,R._wD(pe.id+": load ("+yn.url+")"),!yn.url&&!pe.url)return R._wD(pe.id+": load(): url is unassigned. Exiting.",2),pe;if(pe.isHTML5||A!==8||pe.url||yn.autoPlay||R._wD(pe.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),yn.url===pe.url&&pe.readyState!==0&&pe.readyState!==2)return O("onURL",1),pe.readyState===3&&yn.onload&&Ft(pe,function(){yn.onload.apply(pe,[!!pe.duration])}),pe;if(pe.loaded=!1,pe.readyState=1,pe.playState=0,pe.id3={},et(yn))pe._setup_html5(yn)._called_load?R._wD(pe.id+": Ignoring request to load again"):(pe._html5_canplay=!1,pe.url!==yn.url&&(R._wD(O("manURL")+": "+yn.url),pe._a.src=yn.url,pe.setPosition(0)),pe._a.autobuffer="auto",pe._a.preload="auto",pe._a._called_load=!0);else{if(R.html5Only)return R._wD(pe.id+": No flash support. Exiting."),pe;if(pe._iO.url&&pe._iO.url.match(/data:/i))return R._wD(pe.id+": data: URIs not supported via Flash. Exiting."),pe;try{pe.isHTML5=!1,pe._iO=Ne(Xe(yn)),pe._iO.autoPlay&&(pe._iO.position||pe._iO.from)&&(R._wD(pe.id+": Disabling autoPlay because of non-zero offset case"),pe._iO.autoPlay=!1),yn=pe._iO,A===8?je._load(pe.id,yn.url,yn.stream,yn.autoPlay,yn.usePolicyFile):je._load(pe.id,yn.url,!!yn.stream,!!yn.autoPlay,yn.loops||1,!!yn.autoLoad,yn.usePolicyFile)}catch(wn){O("smError",2),E("onload",!1),ie({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return pe.url=yn.url,pe},this.unload=function(){return pe.readyState!==0&&(R._wD(pe.id+": unload()"),pe.isHTML5?(Un(),pe._a&&(pe._a.pause(),_i=xt(pe._a))):A===8?je._unload(pe.id,An):je._unload(pe.id),mt()),pe},this.destruct=function(pn){R._wD(pe.id+": Destruct"),pe.isHTML5?(Un(),pe._a&&(pe._a.pause(),xt(pe._a),Vt||hn(),pe._a._s=null,pe._a=null)):(pe._iO.onfailure=null,je._destroySound(pe.id)),pn||R.destroySound(pe.id,!0)},this.play=function(pn,yn){var wn,lr,Ir,ri,Ei,ia,jo=!0;if(wn=pe.id+": play(): ",yn=yn===s||yn,pn||(pn={}),pe.url&&(pe._iO.url=pe.url),pe._iO=b(pe._iO,pe.options),pe._iO=b(pn,pe._iO),pe._iO.url=Mt(pe._iO.url),pe.instanceOptions=pe._iO,!pe.isHTML5&&pe._iO.serverURL&&!pe.connected)return pe.getAutoPlay()||(R._wD(wn+" Netstream not connected yet - setting autoPlay"),pe.setAutoPlay(!0)),pe;if(et(pe._iO)&&(pe._setup_html5(pe._iO),dr()),pe.playState===1&&!pe.paused){if(!pe._iO.multiShot)return R._wD(wn+"Already playing (one-shot)",1),pe.isHTML5&&pe.setPosition(pe._iO.position),pe;R._wD(wn+"Already playing (multi-shot)",1)}if(pn.url&&pn.url!==pe.url&&(pe.readyState||pe.isHTML5||A!==8||!Hr?pe.load(pe._iO):Hr=!1),pe.loaded)R._wD(wn.substr(0,wn.lastIndexOf(":")));else if(pe.readyState===0){if(R._wD(wn+"Attempting to load"),pe.isHTML5||R.html5Only){if(!pe.isHTML5)return R._wD(wn+"Unsupported type. Exiting."),pe;pe.load(pe._iO)}else pe._iO.autoPlay=!0,pe.load(pe._iO);pe.instanceOptions=pe._iO}else{if(pe.readyState===2)return R._wD(wn+"Could not load - exiting",2),pe;R._wD(wn+"Loading - attempting to play...")}return!pe.isHTML5&&A===9&&pe.position>0&&pe.position===pe.duration&&(R._wD(wn+"Sound at end, resetting to position: 0"),pn.position=0),pe.paused&&pe.position>=0&&(!pe._iO.serverURL||pe.position>0)?(R._wD(wn+"Resuming from paused state",1),pe.resume()):(pe._iO=b(pn,pe._iO),(!pe.isHTML5&&pe._iO.position!==null&&pe._iO.position>0||pe._iO.from!==null&&pe._iO.from>0||pe._iO.to!==null)&&pe.instanceCount===0&&pe.playState===0&&!pe._iO.serverURL&&(Ir=function(){pe._iO=b(pn,pe._iO),pe.play(pe._iO)},pe.isHTML5&&!pe._html5_canplay?(R._wD(wn+"Beginning load for non-zero offset case"),pe.load({_oncanplay:Ir})):pe.isHTML5||pe.loaded||pe.readyState&&pe.readyState===2||(R._wD(wn+"Preloading for non-zero offset case"),pe.load({onload:Ir})),pe._iO=ai()),(!pe.instanceCount||pe._iO.multiShotEvents||pe.isHTML5&&pe._iO.multiShot&&!Vt||!pe.isHTML5&&A>8&&!pe.getAutoPlay())&&pe.instanceCount++,pe._iO.onposition&&pe.playState===0&&Or(pe),pe.playState=1,pe.paused=!1,pe.position=pe._iO.position===s||isNaN(pe._iO.position)?0:pe._iO.position,pe.isHTML5||(pe._iO=Ne(Xe(pe._iO))),pe._iO.onplay&&yn&&(pe._iO.onplay.apply(pe),Yi=!0),pe.setVolume(pe._iO.volume,!0),pe.setPan(pe._iO.pan,!0),pe._iO.playbackRate!==1&&pe.setPlaybackRate(pe._iO.playbackRate),pe.isHTML5?pe.instanceCount<2?(dr(),lr=pe._setup_html5(),pe.setPosition(pe._iO.position),lr.play()):(R._wD(pe.id+": Cloning Audio() for instance #"+pe.instanceCount+"..."),ri=new Audio(pe._iO.url),Ei=function(){Ze.remove(ri,"ended",Ei),pe._onfinish(pe),xt(ri),ri=null},ia=function(){Ze.remove(ri,"canplay",ia);try{ri.currentTime=pe._iO.position/Dn}catch(no){Qe(pe.id+": multiShot play() failed to apply position of "+pe._iO.position/Dn)}ri.play()},Ze.add(ri,"ended",Ei),pe._iO.volume!==s&&(ri.volume=Math.max(0,Math.min(1,pe._iO.volume/100))),pe.muted&&(ri.muted=!0),pe._iO.position?Ze.add(ri,"canplay",ia):ri.play()):(jo=je._start(pe.id,pe._iO.loops||1,A===9?pe.position:pe.position/Dn,pe._iO.multiShot||!1),A!==9||jo||(R._wD(wn+"No sound hardware, or 32-sound ceiling hit",2),pe._iO.onplayerror&&pe._iO.onplayerror.apply(pe)))),pe},this.start=this.play,this.stop=function(pn){var yn,wn=pe._iO;return pe.playState===1&&(R._wD(pe.id+": stop()"),pe._onbufferchange(0),pe._resetOnPosition(0),pe.paused=!1,pe.isHTML5||(pe.playState=0),Ln(),wn.to&&pe.clearOnPosition(wn.to),pe.isHTML5?pe._a&&(yn=pe.position,pe.setPosition(0),pe.position=yn,pe._a.pause(),pe.playState=0,pe._onTimer(),Un()):(je._stop(pe.id,pn),wn.serverURL&&pe.unload()),pe.instanceCount=0,pe._iO={},wn.onstop&&wn.onstop.apply(pe)),pe},this.setAutoPlay=function(pn){R._wD(pe.id+": Autoplay turned "+(pn?"on":"off")),pe._iO.autoPlay=pn,pe.isHTML5||(je._setAutoPlay(pe.id,pn),pn&&(pe.instanceCount||pe.readyState!==1||(pe.instanceCount++,R._wD(pe.id+": Incremented instance count to "+pe.instanceCount))))},this.getAutoPlay=function(){return pe._iO.autoPlay},this.setPlaybackRate=function(pn){var yn=Math.max(.5,Math.min(4,pn));if(yn!==pn&&R._wD(pe.id+": setPlaybackRate("+pn+"): limiting rate to "+yn,2),pe.isHTML5)try{pe._iO.playbackRate=yn,pe._a.playbackRate=yn}catch(wn){R._wD(pe.id+": setPlaybackRate("+yn+") failed: "+wn.message,2)}return pe},this.setPosition=function(pn){pn===s&&(pn=0);var yn,wn,lr=pe.isHTML5?Math.max(pn,0):Math.min(pe.duration||pe._iO.duration,Math.max(pn,0));if(pe.position=lr,wn=pe.position/Dn,pe._resetOnPosition(pe.position),pe._iO.position=lr,pe.isHTML5){if(pe._a){if(pe._html5_canplay){if(pe._a.currentTime.toFixed(3)!==wn.toFixed(3)){R._wD(pe.id+": setPosition("+wn+")");try{pe._a.currentTime=wn,(pe.playState===0||pe.paused)&&pe._a.pause()}catch(Ir){R._wD(pe.id+": setPosition("+wn+") failed: "+Ir.message,2)}}}else if(wn)return R._wD(pe.id+": setPosition("+wn+"): Cannot seek yet, sound not ready",2),pe;pe.paused&&pe._onTimer(!0)}}else yn=A===9?pe.position:wn,pe.readyState&&pe.readyState!==2&&je._setPosition(pe.id,yn,pe.paused||!pe.playState,pe._iO.multiShot);return pe},this.pause=function(pn){return pe.paused||pe.playState===0&&pe.readyState!==1||(R._wD(pe.id+": pause()"),pe.paused=!0,pe.isHTML5?(pe._setup_html5().pause(),Un()):(pn||pn===s)&&je._pause(pe.id,pe._iO.multiShot),pe._iO.onpause&&pe._iO.onpause.apply(pe)),pe},this.resume=function(){var pn=pe._iO;return pe.paused&&(R._wD(pe.id+": resume()"),pe.paused=!1,pe.playState=1,pe.isHTML5?(pe._setup_html5().play(),dr()):(pn.isMovieStar&&!pn.serverURL&&pe.setPosition(pe.position),je._pause(pe.id,pn.multiShot)),!Yi&&pn.onplay?(pn.onplay.apply(pe),Yi=!0):pn.onresume&&pn.onresume.apply(pe)),pe},this.togglePause=function(){return R._wD(pe.id+": togglePause()"),pe.playState===0?(pe.play({position:A!==9||pe.isHTML5?pe.position/Dn:pe.position}),pe):(pe.paused?pe.resume():pe.pause(),pe)},this.setPan=function(pn,yn){return pn===s&&(pn=0),yn===s&&(yn=!1),pe.isHTML5||je._setPan(pe.id,pn),pe._iO.pan=pn,yn||(pe.pan=pn,pe.options.pan=pn),pe},this.setVolume=function(pn,yn){return pn===s&&(pn=100),yn===s&&(yn=!1),pe.isHTML5?pe._a&&(R.muted&&!pe.muted&&(pe.muted=!0,pe._a.muted=!0),pe._a.volume=Math.max(0,Math.min(1,pn/100))):je._setVolume(pe.id,R.muted&&!pe.muted||pe.muted?0:pn),pe._iO.volume=pn,yn||(pe.volume=pn,pe.options.volume=pn),pe},this.mute=function(){return pe.muted=!0,pe.isHTML5?pe._a&&(pe._a.muted=!0):je._setVolume(pe.id,0),pe},this.unmute=function(){pe.muted=!1;var pn=pe._iO.volume!==s;return pe.isHTML5?pe._a&&(pe._a.muted=!1):je._setVolume(pe.id,pn?pe._iO.volume:pe.options.volume),pe},this.toggleMute=function(){return pe.muted?pe.unmute():pe.mute()},this.onPosition=function(pn,yn,wn){return si.push({position:parseInt(pn,10),method:yn,scope:wn!==s?wn:pe,fired:!1}),pe},this.onposition=this.onPosition,this.clearOnPosition=function(pn,yn){var wn;if(pn=parseInt(pn,10),!isNaN(pn))for(wn=0;wn<si.length;wn++)pn===si[wn].position&&(yn&&yn!==si[wn].method||(si[wn].fired&&Ui--,si.splice(wn,1)))},this._processOnPosition=function(){var pn,yn,wn=si.length;if(!wn||!pe.playState||Ui>=wn)return!1;for(pn=wn-1;pn>=0;pn--)!(yn=si[pn]).fired&&pe.position>=yn.position&&(yn.fired=!0,Ui++,yn.method.apply(yn.scope,[yn.position]),wn=si.length);return!0},this._resetOnPosition=function(pn){var yn,wn,lr=si.length;if(!lr)return!1;for(yn=lr-1;yn>=0;yn--)(wn=si[yn]).fired&&pn<=wn.position&&(wn.fired=!1,Ui--);return!0},ai=function(){var yn,wn,lr=pe._iO,Ir=lr.from,ri=lr.to;return wn=function(){R._wD(pe.id+': "To" time of '+ri+" reached."),pe.clearOnPosition(ri,wn),pe.stop()},yn=function(){R._wD(pe.id+': Playing "from" '+Ir),ri===null||isNaN(ri)||pe.onPosition(ri,wn)},Ir===null||isNaN(Ir)||(lr.position=Ir,lr.multiShot=!1,yn()),lr},Or=function(){var yn,wn=pe._iO.onposition;if(wn)for(yn in wn)wn.hasOwnProperty(yn)&&pe.onPosition(parseInt(yn,10),wn[yn])},Ln=function(){var yn,wn=pe._iO.onposition;if(wn)for(yn in wn)wn.hasOwnProperty(yn)&&pe.clearOnPosition(parseInt(yn,10))},dr=function(){pe.isHTML5&&Ve(pe)},Un=function(){pe.isHTML5&&st(pe)},(mt=function(yn){yn||(si=[],Ui=0),Yi=!1,pe._hasTimer=null,pe._a=null,pe._html5_canplay=!1,pe.bytesLoaded=null,pe.bytesTotal=null,pe.duration=pe._iO&&pe._iO.duration?pe._iO.duration:null,pe.durationEstimate=null,pe.buffered=[],pe.eqData=[],pe.eqData.left=[],pe.eqData.right=[],pe.failures=0,pe.isBuffering=!1,pe.instanceOptions={},pe.instanceCount=0,pe.loaded=!1,pe.metadata={},pe.readyState=0,pe.muted=!1,pe.paused=!1,pe.peakData={left:0,right:0},pe.waveformData={left:[],right:[]},pe.playState=0,pe.position=null,pe.id3={}})(),this._onTimer=function(pn){var yn,wn,lr=!1,Ir={};return(pe._hasTimer||pn)&&pe._a&&(pn||(pe.playState>0||pe.readyState===1)&&!pe.paused)&&((yn=pe._get_html5_duration())!==oi.duration&&(oi.duration=yn,pe.duration=yn,lr=!0),pe.durationEstimate=pe.duration,(wn=pe._a.currentTime*Dn||0)!==oi.time&&(oi.time=wn,lr=!0),(lr||pn)&&pe._whileplaying(wn,Ir,Ir,Ir,Ir)),lr},this._get_html5_duration=function(){var pn=pe._iO,yn=pe._a&&pe._a.duration?pe._a.duration*Dn:pn&&pn.duration?pn.duration:null;return yn&&!isNaN(yn)&&yn!==1/0?yn:null},this._apply_loop=function(pn,yn){!pn.loop&&yn>1&&R._wD("Note: Native HTML5 looping is infinite.",1),pn.loop=yn>1?"loop":""},this._setup_html5=function(pn){var yn,wn=b(pe._iO,pn),lr=Vt?nt:pe._a,Ir=decodeURI(wn.url);if(Vt?Ir===decodeURI(dt)&&(yn=!0):Ir===decodeURI(_i)&&(yn=!0),lr){if(lr._s){if(Vt)lr._s&&lr._s.playState&&!yn&&lr._s.stop();else if(!Vt&&Ir===decodeURI(_i))return pe._apply_loop(lr,wn.loops),lr}yn||(_i&&mt(!1),lr.src=wn.url,pe.url=wn.url,_i=wn.url,dt=wn.url,lr._called_load=!1)}else wn.autoLoad||wn.autoPlay?(pe._a=new Audio(wn.url),pe._a.load()):pe._a=cr&&opera.version()<10?new Audio(null):new Audio,(lr=pe._a)._called_load=!1,Vt&&(nt=lr);return pe.isHTML5=!0,pe._a=lr,lr._s=pe,un(),pe._apply_loop(lr,wn.loops),wn.autoLoad||wn.autoPlay?pe.load():(lr.autobuffer=!1,lr.preload="auto"),lr},un=function(){if(pe._a._added_events)return!1;var yn,wn,lr;for(yn in pe._a._added_events=!0,ut)ut.hasOwnProperty(yn)&&(wn=yn,lr=ut[yn],pe._a&&pe._a.addEventListener(wn,lr,!1));return!0},hn=function(){var yn,wn,lr;for(yn in R._wD(pe.id+": Removing event listeners"),pe._a._added_events=!1,ut)ut.hasOwnProperty(yn)&&(wn=yn,lr=ut[yn],pe._a&&pe._a.removeEventListener(wn,lr,!1))},this._onload=function(pn){var yn,wn=!!pn||!pe.isHTML5&&A===8&&pe.duration;return yn=pe.id+": ",R._wD(yn+(wn?"onload()":"Failed to load / invalid sound?"+(pe.duration?" -":" Zero-length duration reported.")+" ("+pe.url+")"),wn?1:2),wn||pe.isHTML5||(R.sandbox.noRemote===!0&&R._wD(yn+ct("noNet"),1),R.sandbox.noLocal===!0&&R._wD(yn+ct("noLocal"),1)),pe.loaded=wn,pe.readyState=wn?3:2,pe._onbufferchange(0),wn||pe.isHTML5||pe._onerror(),pe._iO.onload&&Ft(pe,function(){pe._iO.onload.apply(pe,[wn])}),!0},this._onerror=function(pn,yn){pe._iO.onerror&&Ft(pe,function(){pe._iO.onerror.apply(pe,[pn,yn])})},this._onbufferchange=function(pn){return!(pe.playState===0||pn&&pe.isBuffering||!pn&&!pe.isBuffering||(pe.isBuffering=pn===1,pe._iO.onbufferchange&&(R._wD(pe.id+": Buffer state change: "+pn),pe._iO.onbufferchange.apply(pe,[pn])),0))},this._onsuspend=function(){return pe._iO.onsuspend&&(R._wD(pe.id+": Playback suspended"),pe._iO.onsuspend.apply(pe)),!0},this._onfailure=function(pn,yn,wn){pe.failures++,R._wD(pe.id+": Failure ("+pe.failures+"): "+pn),pe._iO.onfailure&&pe.failures===1?pe._iO.onfailure(pn,yn,wn):R._wD(pe.id+": Ignoring failure")},this._onwarning=function(pn,yn,wn){pe._iO.onwarning&&pe._iO.onwarning(pn,yn,wn)},this._onfinish=function(){var pn=pe._iO.onfinish;pe._onbufferchange(0),pe._resetOnPosition(0),pe.instanceCount&&(pe.instanceCount--,pe.instanceCount||(Ln(),pe.playState=0,pe.paused=!1,pe.instanceCount=0,pe.instanceOptions={},pe._iO={},Un(),pe.isHTML5&&(pe.position=0)),pe.instanceCount&&!pe._iO.multiShotEvents||pn&&(R._wD(pe.id+": onfinish()"),Ft(pe,function(){pn.apply(pe)})))},this._whileloading=function(pn,yn,wn,lr){var Ir=pe._iO;pe.bytesLoaded=pn,pe.bytesTotal=yn,pe.duration=Math.floor(wn),pe.bufferLength=lr,pe.isHTML5||Ir.isMovieStar?pe.durationEstimate=pe.duration:Ir.duration?pe.durationEstimate=pe.duration>Ir.duration?pe.duration:Ir.duration:pe.durationEstimate=parseInt(pe.bytesTotal/pe.bytesLoaded*pe.duration,10),pe.isHTML5||(pe.buffered=[{start:0,end:pe.duration}]),(pe.readyState!==3||pe.isHTML5)&&Ir.whileloading&&Ir.whileloading.apply(pe)},this._whileplaying=function(pn,yn,wn,lr,Ir){var ri,Ei=pe._iO;return!isNaN(pn)&&pn!==null&&(pe.position=Math.max(0,pn),pe._processOnPosition(),!pe.isHTML5&&A>8&&(Ei.usePeakData&&yn!==s&&yn&&(pe.peakData={left:yn.leftPeak,right:yn.rightPeak}),Ei.useWaveformData&&wn!==s&&wn&&(pe.waveformData={left:wn.split(","),right:lr.split(",")}),Ei.useEQData&&Ir!==s&&Ir&&Ir.leftEQ&&(ri=Ir.leftEQ.split(","),pe.eqData=ri,pe.eqData.left=ri,Ir.rightEQ!==s&&Ir.rightEQ&&(pe.eqData.right=Ir.rightEQ.split(",")))),pe.playState===1&&(pe.isHTML5||A!==8||pe.position||!pe.isBuffering||pe._onbufferchange(0),Ei.whileplaying&&Ei.whileplaying.apply(pe)),!0)},this._oncaptiondata=function(pn){R._wD(pe.id+": Caption data received."),pe.captiondata=pn,pe._iO.oncaptiondata&&pe._iO.oncaptiondata.apply(pe,[pn])},this._onmetadata=function(pn,yn){R._wD(pe.id+": Metadata received.");var wn,lr,Ir={};for(wn=0,lr=pn.length;wn<lr;wn++)Ir[pn[wn]]=yn[wn];pe.metadata=Ir,pe._iO.onmetadata&&pe._iO.onmetadata.call(pe,pe.metadata)},this._onid3=function(pn,yn){R._wD(pe.id+": ID3 data received.");var wn,lr,Ir=[];for(wn=0,lr=pn.length;wn<lr;wn++)Ir[pn[wn]]=yn[wn];pe.id3=b(pe.id3,Ir),pe._iO.onid3&&pe._iO.onid3.apply(pe)},this._onconnect=function(pn){pn=pn===1,R._wD(pe.id+": "+(pn?"Connected.":"Failed to connect? - "+pe.url),pn?1:2),pe.connected=pn,pn&&(pe.failures=0,Me(pe.id)&&(pe.getAutoPlay()?pe.play(s,pe.getAutoPlay()):pe._iO.autoLoad&&pe.load()),pe._iO.onconnect&&pe._iO.onconnect.apply(pe,[pn]))},this._ondataerror=function(pn){pe.playState>0&&(R._wD(pe.id+": Data error: "+pn),pe._iO.ondataerror&&pe._iO.ondataerror.apply(pe))},this._debug()},ee=function(){return se.body||se.getElementsByTagName("div")[0]},v=function(tt){return se.getElementById(tt)},b=function(pt,tt){var mt,un,hn=pt||{};for(un in mt=tt===s?R.defaultOptions:tt)mt.hasOwnProperty(un)&&hn[un]===s&&(typeof mt[un]!="object"||mt[un]===null?hn[un]=mt[un]:hn[un]=b(hn[un],mt[un]));return hn},Ft=function(tt,mt){tt.isHTML5||A!==8?mt():l.setTimeout(mt,0)},f={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},u=function(pt,tt){var mt,un=!0,hn=tt!==s,Un=R.setupOptions,dr=f;if(pt===s){for(mt in un=[],Un)Un.hasOwnProperty(mt)&&un.push(mt);for(mt in dr)dr.hasOwnProperty(mt)&&(typeof R[mt]=="object"?un.push(mt+": {...}"):_instanceof(R[mt],Function)?un.push(mt+": function() {...}"):un.push(mt));return R._wD(ct("setup",un.join(", "))),!1}for(mt in pt)if(pt.hasOwnProperty(mt))if(typeof pt[mt]!="object"||pt[mt]===null||_instanceof(pt[mt],Array)||_instanceof(pt[mt],RegExp))hn&&dr[tt]!==s?R[tt][mt]=pt[mt]:Un[mt]!==s?(R.setupOptions[mt]=pt[mt],R[mt]=pt[mt]):dr[mt]===s?(Qe(ct(R[mt]===s?"setupUndef":"setupError",mt),2),un=!1):_instanceof(R[mt],Function)?R[mt].apply(R,_instanceof(pt[mt],Array)?pt[mt]:[pt[mt]]):R[mt]=pt[mt];else{if(dr[mt]!==s)return u(pt[mt],mt);Qe(ct(R[mt]===s?"setupUndef":"setupError",mt),2),un=!1}return un},Ze=function(){var pt=l.attachEvent,tt={add:pt?"attachEvent":"addEventListener",remove:pt?"detachEvent":"removeEventListener"};function mt(hn){var Un=Rn.call(hn),dr=Un.length;return pt?(Un[1]="on"+Un[1],dr>3&&Un.pop()):dr===3&&Un.push(!1),Un}function un(hn,Un){var dr=hn.shift(),Or=[tt[Un]];pt?dr[Or](hn[0],hn[1]):dr[Or].apply(dr,hn)}return{add:function(){un(mt(arguments),"add")},remove:function(){un(mt(arguments),"remove")}}}(),ut={abort:wi(function(){R._wD(this._s.id+": abort")}),canplay:wi(function(){var pt,tt=this._s;if(!tt._html5_canplay){if(tt._html5_canplay=!0,R._wD(tt.id+": canplay"),tt._onbufferchange(0),pt=tt._iO.position===s||isNaN(tt._iO.position)?null:tt._iO.position/Dn,this.currentTime!==pt){R._wD(tt.id+": canplay: Setting position to "+pt);try{this.currentTime=pt}catch(mt){R._wD(tt.id+": canplay: Setting position of "+pt+" failed: "+mt.message,2)}}tt._iO._oncanplay&&tt._iO._oncanplay()}}),canplaythrough:wi(function(){var pt=this._s;pt.loaded||(pt._onbufferchange(0),pt._whileloading(pt.bytesLoaded,pt.bytesTotal,pt._get_html5_duration()),pt._onload(!0))}),durationchange:wi(function(){var pt,tt=this._s;pt=tt._get_html5_duration(),isNaN(pt)||pt===tt.duration||(R._wD(this._s.id+": durationchange ("+pt+")"+(tt.duration?", previously "+tt.duration:"")),tt.durationEstimate=tt.duration=pt)}),ended:wi(function(){var pt=this._s;R._wD(pt.id+": ended"),pt._onfinish()}),error:wi(function(){var pt=$e[this.error.code]||null;R._wD(this._s.id+": HTML5 error, code "+this.error.code+(pt?" ("+pt+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,pt)}),loadeddata:wi(function(){var pt=this._s;R._wD(pt.id+": loadeddata"),pt._loaded||_n||(pt.duration=pt._get_html5_duration())}),loadedmetadata:wi(function(){R._wD(this._s.id+": loadedmetadata")}),loadstart:wi(function(){R._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:wi(function(){this._s._onbufferchange(0)}),playing:wi(function(){R._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:wi(function(pt){var tt,mt,un,hn=this._s,Un=0,dr=pt.type==="progress",Or=pt.target.buffered,Ln=pt.loaded||0,ai=pt.total||1;if(hn.buffered=[],Or&&Or.length){for(tt=0,mt=Or.length;tt<mt;tt++)hn.buffered.push({start:Or.start(tt)*Dn,end:Or.end(tt)*Dn});if(Un=(Or.end(0)-Or.start(0))*Dn,Ln=Math.min(1,Un/(pt.target.duration*Dn)),dr&&Or.length>1){for(un=[],mt=Or.length,tt=0;tt<mt;tt++)un.push(pt.target.buffered.start(tt)*Dn+"-"+pt.target.buffered.end(tt)*Dn);R._wD(this._s.id+": progress, timeRanges: "+un.join(", "))}dr&&!isNaN(Ln)&&R._wD(this._s.id+": progress, "+Math.floor(100*Ln)+"% loaded")}isNaN(Ln)||(hn._whileloading(Ln,ai,hn._get_html5_duration()),Ln&&ai&&Ln===ai&&ut.canplaythrough.call(this,pt))}),ratechange:wi(function(){R._wD(this._s.id+": ratechange")}),suspend:wi(function(pt){var tt=this._s;R._wD(this._s.id+": suspend"),ut.progress.call(this,pt),tt._onsuspend()}),stalled:wi(function(){R._wD(this._s.id+": stalled")}),timeupdate:wi(function(){this._s._onTimer()}),waiting:wi(function(){var pt=this._s;R._wD(this._s.id+": waiting"),pt._onbufferchange(1)})},et=function(tt){return!(!tt||!(tt.type||tt.url||tt.serverURL))&&!(tt.serverURL||tt.type&&ki(tt.type))&&(tt.type?Ge({type:tt.type}):Ge({url:tt.url})||R.html5Only||tt.url.match(/data:/i))},xt=function(tt){var mt;return tt&&(mt=_n?An:R.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":An,tt.src=mt,tt._called_unload!==s&&(tt._called_load=!1)),Vt&&(dt=null),mt},Ge=function(tt){if(!R.useHTML5Audio||!R.hasHTML5)return!1;var mt,un,hn,Un,dr=tt.url||null,Or=tt.type||null,Ln=R.audioFormats;if(Or&&R.html5[Or]!==s)return R.html5[Or]&&!ki(Or);if(!ze){for(Un in ze=[],Ln)Ln.hasOwnProperty(Un)&&(ze.push(Un),Ln[Un].related&&(ze=ze.concat(Ln[Un].related)));ze=new RegExp("\\.("+ze.join("|")+")(\\?.*)?$","i")}return(hn=dr?dr.toLowerCase().match(ze):null)&&hn.length?hn=hn[1]:Or?hn=((un=Or.indexOf(";"))!==-1?Or.substr(0,un):Or).substr(6):mt=!1,hn&&R.html5[hn]!==s?mt=R.html5[hn]&&!ki(hn):(Or="audio/"+hn,mt=R.html5.canPlayType({type:Or}),R.html5[hn]=mt,mt=mt&&R.html5[Or]&&!ki(Or)),mt},lt=function(){if(!R.useHTML5Audio||!R.hasHTML5)return R.html5.usingFlash=!0,Qt=!0,!1;var tt,mt,un,hn,Un=Audio!==s?cr&&opera.version()<10?new Audio(null):new Audio:null,dr={};function Or(Ln){var ai,oi,Hr=!1,pe=!1;if(!Un||typeof Un.canPlayType!="function")return Hr;if(_instanceof(Ln,Array)){for(hn=0,oi=Ln.length;hn<oi;hn++)(R.html5[Ln[hn]]||Un.canPlayType(Ln[hn]).match(R.html5Test))&&(pe=!0,R.html5[Ln[hn]]=!0,R.flash[Ln[hn]]=!!Ln[hn].match(gn));Hr=pe}else Hr=!(!(ai=!(!Un||typeof Un.canPlayType!="function")&&Un.canPlayType(Ln))||!ai.match(R.html5Test));return Hr}for(tt in un=R.audioFormats)if(un.hasOwnProperty(tt)&&(mt="audio/"+tt,dr[tt]=Or(un[tt].type),dr[mt]=dr[tt],tt.match(gn)?(R.flash[tt]=!0,R.flash[mt]=!0):(R.flash[tt]=!1,R.flash[mt]=!1),un[tt]&&un[tt].related))for(hn=un[tt].related.length-1;hn>=0;hn--)dr["audio/"+un[tt].related[hn]]=dr[tt],R.html5[un[tt].related[hn]]=dr[tt],R.flash[un[tt].related[hn]]=dr[tt];return dr.canPlayType=Un?Or:null,R.html5=b(R.html5,dr),R.html5.usingFlash=Be(),Qt=R.html5.usingFlash,!0},Q={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ue+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:J+"Verify that %s is a valid path.",tryDebug:"Try "+ue+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:J+"Non-HTTP page ("+se.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:J+"Special case: Waiting for SWF to load with window focus...",waitForever:J+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:J+"Waiting for 100% SWF load...",needFunction:J+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:J+"_debug(): Current sound objects",waitOnload:J+"Waiting for window.onload()",docLoaded:J+"Document already loaded",onload:J+"initComplete(): calling soundManager.onload()",onloadOK:ue+".onload() complete",didInit:J+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:J+"Failed to remove Flash node.",shutdown:ue+".disable(): Shutting down",queue:J+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+De.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:J+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ue+".load(): current URL already assigned.",badFV:ue+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:J+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:J+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ue+".setup(): allowed parameters: %s",setupError:ue+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ue+'.setup(): Could not find option "%s"',setupLate:ue+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:J+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:ue+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},ct=function(){var tt,mt,un,hn,Un;if(hn=(tt=Rn.call(arguments)).shift(),(Un=Q&&Q[hn]?Q[hn]:"")&&tt&&tt.length)for(mt=0,un=tt.length;mt<un;mt++)Un=Un.replace("%s",tt[mt]);return Un},Xe=function(tt){return A===8&&tt.loops>1&&tt.stream&&(O("as2loop"),tt.stream=!1),tt},Ne=function(tt,mt){return tt&&!tt.usePolicyFile&&(tt.onid3||tt.usePeakData||tt.useWaveformData||tt.useEQData)&&(R._wD((mt||"")+ct("policy")),tt.usePolicyFile=!0),tt},Qe=function(tt){Ce&&console.warn!==s?console.warn(tt):R._wD(tt)},k=function(){return!1},Ee=function(tt){var mt;for(mt in tt)tt.hasOwnProperty(mt)&&typeof tt[mt]=="function"&&(tt[mt]=k);mt=null},fe=function(tt){tt===s&&(tt=!1),(We||tt)&&R.disable(tt)},rt=function(tt){var mt;if(tt)if(tt.match(/\.swf(\?.*)?$/i)){if(tt.substr(tt.toLowerCase().lastIndexOf(".swf?")+4))return tt}else tt.lastIndexOf("/")!==tt.length-1&&(tt+="/");return mt=(tt&&tt.lastIndexOf("/")!==-1?tt.substr(0,tt.lastIndexOf("/")+1):"./")+R.movieURL,R.noSWFCache&&(mt+="?ts="+new Date().getTime()),mt},D=function(){(A=parseInt(R.flashVersion,10))!==8&&A!==9&&(R._wD(ct("badFV",A,8)),R.flashVersion=A=8);var tt=R.debugMode||R.debugFlash?"_debug.swf":".swf";R.useHTML5Audio&&!R.html5Only&&R.audioFormats.mp4.required&&A<9&&(R._wD(ct("needfl9")),R.flashVersion=A=9),R.version=R.versionNumber+(R.html5Only?" (HTML5-only mode)":A===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),A>8?(R.defaultOptions=b(R.defaultOptions,R.flash9Options),R.features.buffering=!0,R.defaultOptions=b(R.defaultOptions,R.movieStarOptions),R.filePatterns.flash9=new RegExp("\\.(mp3|"+Ar.join("|")+")(\\?.*)?$","i"),R.features.movieStar=!0):R.features.movieStar=!1,R.filePattern=R.filePatterns[A!==8?"flash9":"flash8"],R.movieURL=(A===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",tt),R.features.peakData=R.features.waveformData=R.features.eqData=A>8},le=function(tt,mt){je&&je._setPolling(tt,mt)},ye=function(){if(R.debugURLParam.test(Z)&&(R.setupOptions.debugMode=R.debugMode=!0),!v(R.debugID)){var tt,mt,un,hn,Un;if(R.debugMode&&!v(R.debugID)&&(!Ce||!R.useConsole||!R.consoleOnly)){for(Un in(tt=se.createElement("div")).id=R.debugID+"-toggle",hn={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},tt.appendChild(se.createTextNode("-")),tt.onclick=be,tt.title="Toggle SM2 debug console",K.match(/msie 6/i)&&(tt.style.position="absolute",tt.style.cursor="hand"),hn)hn.hasOwnProperty(Un)&&(tt.style[Un]=hn[Un]);if((mt=se.createElement("div")).id=R.debugID,mt.style.display=R.debugMode?"block":"none",R.debugMode&&!v(tt.id)){try{(un=ee()).appendChild(tt)}catch(dr){throw new Error(ct("domError")+" \n"+dr.toString())}un.appendChild(mt)}}un=null}},Me=this.getSoundById,O=function(tt,mt){return tt?R._wD(ct(tt),mt):""},be=function(){var tt=v(R.debugID),mt=v(R.debugID+"-toggle");tt&&(Ae?(mt.innerHTML="+",tt.style.display="none"):(mt.innerHTML="-",tt.style.display="block"),Ae=!Ae)},E=function(tt,mt,un){if(l.sm2Debugger!==s)try{sm2Debugger.handleEvent(tt,mt,un)}catch(hn){return!1}return!0},_t=function(){var tt=[];return R.debugMode&&tt.push(De.sm2Debug),R.debugFlash&&tt.push(De.flashDebug),R.useHighPerformance&&tt.push(De.highPerf),tt.join(" ")},Ot=function(){var tt=ct("fbHandler"),mt=R.getMoviePercent(),un=De,hn={type:"FLASHBLOCK"};R.html5Only||(R.ok()?(R.didFlashBlock&&R._wD(tt+": Unblocked"),R.oMC&&(R.oMC.className=[_t(),un.swfDefault,un.swfLoaded+(R.didFlashBlock?" "+un.swfUnblocked:"")].join(" "))):(Qt&&(R.oMC.className=_t()+" "+un.swfDefault+" "+(mt===null?un.swfTimedout:un.swfError),R._wD(tt+": "+ct("fbTimeout")+(mt?" ("+ct("fbLoaded")+")":""))),R.didFlashBlock=!0,y({type:"ontimeout",ignoreInit:!0,error:hn}),ie(hn)))},m=function(tt,mt,un){he[tt]===s&&(he[tt]=[]),he[tt].push({method:mt,scope:un||null,fired:!1})},y=function(tt){if(tt||(tt={type:R.ok()?"onready":"ontimeout"}),!qe&&tt&&!tt.ignoreInit||tt.type==="ontimeout"&&(R.ok()||We&&!tt.ignoreInit))return!1;var mt,un,hn={success:tt&&tt.ignoreInit?R.ok():!We},Un=tt&&tt.type&&he[tt.type]||[],dr=[],Or=[hn],Ln=Qt&&!R.ok();for(tt.error&&(Or[0].error=tt.error),mt=0,un=Un.length;mt<un;mt++)Un[mt].fired!==!0&&dr.push(Un[mt]);if(dr.length)for(mt=0,un=dr.length;mt<un;mt++)dr[mt].scope?dr[mt].method.apply(dr[mt].scope,Or):dr[mt].method.apply(this,Or),Ln||(dr[mt].fired=!0);return!0},w=function(){l.setTimeout(function(){R.useFlashBlock&&Ot(),y(),typeof R.onload=="function"&&(O("onload",1),R.onload.apply(l),O("onloadOK",1)),R.waitForWindowLoad&&Ze.add(l,"load",w)},1)},qt=function(){if($t!==s)return $t;var tt,mt,un,hn,Un=!1,dr=navigator,Or=l.ActiveXObject;try{hn=dr.plugins}catch(Ln){hn=void 0}if(hn&&hn.length)mt="application/x-shockwave-flash",(un=dr.mimeTypes)&&un[mt]&&un[mt].enabledPlugin&&un[mt].enabledPlugin.description&&(Un=!0);else if(Or!==s&&!K.match(/MSAppHost/i)){try{tt=new Or("ShockwaveFlash.ShockwaveFlash")}catch(Ln){tt=null}Un=!!tt,tt=null}return $t=Un,Un},Be=function(){var tt,mt,un=R.audioFormats;if(tr&&K.match(/os (1|2|3_0|3_1)\s/i)?(R.hasHTML5=!1,R.html5Only=!0,R.oMC&&(R.oMC.style.display="none")):R.useHTML5Audio&&(R.html5&&R.html5.canPlayType||(R._wD("SoundManager: No HTML5 Audio() support detected."),R.hasHTML5=!1),re&&R._wD(J+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+($t?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),R.useHTML5Audio&&R.hasHTML5)for(mt in Ue=!0,un)un.hasOwnProperty(mt)&&un[mt].required&&(R.html5.canPlayType(un[mt].type)?R.preferFlash&&(R.flash[mt]||R.flash[un[mt].type])&&(tt=!0):(Ue=!1,tt=!0));return R.ignoreFlash&&(tt=!1,Ue=!0),R.html5Only=R.hasHTML5&&R.useHTML5Audio&&!tt,!R.html5Only},Mt=function(tt){var mt,un,hn,Un=0;if(_instanceof(tt,Array)){for(mt=0,un=tt.length;mt<un;mt++)if(_instanceof(tt[mt],Object)){if(R.canPlayMIME(tt[mt].type)){Un=mt;break}}else if(R.canPlayURL(tt[mt])){Un=mt;break}tt[Un].url&&(tt[Un]=tt[Un].url),hn=tt[Un]}else hn=tt;return hn},Ve=function(tt){tt._hasTimer||(tt._hasTimer=!0,!Pe&&R.html5PollingInterval&&(jt===null&&ln===0&&(jt=setInterval(gt,R.html5PollingInterval)),ln++))},st=function(tt){tt._hasTimer&&(tt._hasTimer=!1,!Pe&&R.html5PollingInterval&&ln--)},gt=function(){var tt;if(jt!==null&&!ln)return clearInterval(jt),void(jt=null);for(tt=R.soundIDs.length-1;tt>=0;tt--)R.sounds[R.soundIDs[tt]].isHTML5&&R.sounds[R.soundIDs[tt]]._hasTimer&&R.sounds[R.soundIDs[tt]]._onTimer()},ie=function(tt){tt=tt!==s?tt:{},typeof R.onerror=="function"&&R.onerror.apply(l,[{type:tt.type!==s?tt.type:null}]),tt.fatal!==s&&tt.fatal&&R.disable()},Bt=function(){if(re&&qt()){var tt,mt,un=R.audioFormats;for(mt in un)if(un.hasOwnProperty(mt)&&(mt==="mp3"||mt==="mp4")&&(R._wD(ue+": Using flash fallback for "+mt+" format"),R.html5[mt]=!1,un[mt]&&un[mt].related))for(tt=un[mt].related.length-1;tt>=0;tt--)R.html5[un[mt].related[tt]]=!1}},this._setSandboxType=function(pt){var tt=R.sandbox;tt.type=pt,tt.description=tt.types[tt.types[pt]!==s?pt:"unknown"],tt.type==="localWithFile"?(tt.noRemote=!0,tt.noLocal=!1,O("secNote",2)):tt.type==="localWithNetwork"?(tt.noRemote=!1,tt.noLocal=!0):tt.type==="localTrusted"&&(tt.noRemote=!1,tt.noLocal=!1)},this._externalInterfaceOK=function(pt){if(!R.swfLoaded){var tt;if(E("swf",!0),E("flashtojs",!0),R.swfLoaded=!0,At=!1,re&&Bt(),!pt||pt.replace(/\+dev/i,"")!==R.versionNumber.replace(/\+dev/i,""))return tt=ue+': Fatal: JavaScript file build "'+R.versionNumber+'" does not match Flash SWF build "'+pt+'" at '+R.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(tt)},0);setTimeout(S,Tn?100:1)}},we=function(tt,mt){if(Te&&He)return!1;function un(){var wn,lr=[],Ir=[];wn="SoundManager "+R.version+(!R.html5Only&&R.useHTML5Audio?R.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),R.html5Only?R.html5PollingInterval&&lr.push("html5PollingInterval ("+R.html5PollingInterval+"ms)"):(R.preferFlash&&lr.push("preferFlash"),R.useHighPerformance&&lr.push("useHighPerformance"),R.flashPollingInterval&&lr.push("flashPollingInterval ("+R.flashPollingInterval+"ms)"),R.html5PollingInterval&&lr.push("html5PollingInterval ("+R.html5PollingInterval+"ms)"),R.wmode&&lr.push("wmode ("+R.wmode+")"),R.debugFlash&&lr.push("debugFlash"),R.useFlashBlock&&lr.push("flashBlock")),lr.length&&(Ir=Ir.concat([lr.join(" + ")])),R._wD(wn+(Ir.length?" + "+Ir.join(", "):""),1),Y()}if(R.html5Only)return D(),un(),R.oMC=v(R.movieID),S(),Te=!0,He=!0,!1;var hn,Un,dr,Or,Ln,ai,oi,Hr,pe,Yi=mt||R.url,si=R.altURL||Yi,Ui=ee(),_i=_t(),pn=se.getElementsByTagName("html")[0];function yn(wn,lr){return'<param name="'+wn+'" value="'+lr+'" />'}if(hn=pn&&pn.dir&&pn.dir.match(/rtl/i),tt=tt===s?R.id:tt,D(),R.url=rt($n?Yi:si),mt=R.url,R.wmode=!R.wmode&&R.useHighPerformance?"transparent":R.wmode,R.wmode!==null&&(K.match(/msie 8/i)||!Tn&&!R.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(rn.push(Q.spcWmode),R.wmode=null),Un={name:tt,id:tt,src:mt,quality:"high",allowScriptAccess:R.allowScriptAccess,bgcolor:R.bgColor,pluginspage:sr+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:R.wmode,hasPriority:"true"},R.debugFlash&&(Un.FlashVars="debug=1"),R.wmode||delete Un.wmode,Tn)dr=se.createElement("div"),Ln=['<object id="'+tt+'" data="'+mt+'" type="'+Un.type+'" title="'+Un.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',yn("movie",mt),yn("AllowScriptAccess",R.allowScriptAccess),yn("quality",Un.quality),R.wmode?yn("wmode",R.wmode):"",yn("bgcolor",R.bgColor),yn("hasPriority","true"),R.debugFlash?yn("FlashVars",Un.FlashVars):"","</object>"].join("");else for(Or in dr=se.createElement("embed"),Un)Un.hasOwnProperty(Or)&&dr.setAttribute(Or,Un[Or]);if(ye(),_i=_t(),Ui=ee())if(R.oMC=v(R.movieID)||se.createElement("div"),R.oMC.id)pe=R.oMC.className,R.oMC.className=(pe?pe+" ":De.swfDefault)+(_i?" "+_i:""),R.oMC.appendChild(dr),Tn&&((ai=R.oMC.appendChild(se.createElement("div"))).className=De.swfBox,ai.innerHTML=Ln),He=!0;else{if(R.oMC.id=R.movieID,R.oMC.className=De.swfDefault+" "+_i,oi=null,ai=null,R.useFlashBlock||(R.useHighPerformance?oi={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(oi={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},hn&&(oi.left=Math.abs(parseInt(oi.left,10))+"px"))),fr&&(R.oMC.style.zIndex=1e4),!R.debugFlash)for(Hr in oi)oi.hasOwnProperty(Hr)&&(R.oMC.style[Hr]=oi[Hr]);try{Tn||R.oMC.appendChild(dr),Ui.appendChild(R.oMC),Tn&&((ai=R.oMC.appendChild(se.createElement("div"))).className=De.swfBox,ai.innerHTML=Ln),He=!0}catch(wn){throw new Error(ct("domError")+" \n"+wn.toString())}}return Te=!0,un(),!0},W=function(){return R.html5Only?(we(),!1):!je&&(R.url?((je=R.getMovie(R.id))||(Nt?(Tn?R.oMC.innerHTML=Lt:R.oMC.appendChild(Nt),Nt=null,Te=!0):we(R.id,R.url),je=R.getMovie(R.id)),typeof R.oninitmovie=="function"&&setTimeout(R.oninitmovie,1),Kt(),!0):(O("noURL"),!1))},C=function(){setTimeout(M,1e3)},I=function(){l.setTimeout(function(){Qe(J+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),R.setup({preferFlash:!1}).reboot(),R.didFlashBlock=!0,R.beginDelayedInit()},1)},M=function(){var tt,mt=!1;R.url&&(Rt||(Rt=!0,Ze.remove(l,"load",C),$t&&At&&!ht?O("waitFocus"):(qe||(tt=R.getMoviePercent())>0&&tt<100&&(mt=!0),setTimeout(function(){if(tt=R.getMoviePercent(),mt)return Rt=!1,R._wD(ct("waitSWF")),void l.setTimeout(C,1);qe||(R._wD(ue+": No Flash response within expected time. Likely causes: "+(tt===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(R.debugFlash?" "+ct("checkSWF"):""),2),!$n&&tt&&(O("localFail",2),R.debugFlash||O("tryDebug",2)),tt===0&&R._wD(ct("swf404",R.url),1),E("flashtojs",!1,": Timed out"+($n?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!qe&&yt&&(tt===null?R.useFlashBlock||R.flashLoadTimeout===0?(R.useFlashBlock&&Ot(),O("waitForever")):!R.useFlashBlock&&Ue?I():(O("waitForever"),y({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):R.flashLoadTimeout===0?O("waitForever"):!R.useFlashBlock&&Ue?I():fe(!0))},R.flashLoadTimeout))))},z=function(){function pt(){Ze.remove(l,"focus",z)}return ht||!At?(pt(),!0):(yt=!0,ht=!0,O("gotFocus"),Rt=!1,C(),pt(),!0)},Kt=function(){rn.length&&(R._wD("SoundManager 2: "+rn.join(" "),1),rn=[])},Y=function(){Kt();var tt,mt=[];if(R.useHTML5Audio&&R.hasHTML5){for(tt in R.audioFormats)R.audioFormats.hasOwnProperty(tt)&&mt.push(tt+" = "+R.html5[tt]+(!R.html5[tt]&&Qt&&R.flash[tt]?" (using flash)":R.preferFlash&&R.flash[tt]&&Qt?" (preferring flash)":R.html5[tt]?"":" ("+(R.audioFormats[tt].required?"required, ":"")+"and no flash support)"));R._wD("SoundManager 2 HTML5 support: "+mt.join(", "),1)}},T=function(tt){if(qe)return!1;if(R.html5Only)return O("sm2Loaded",1),qe=!0,w(),E("onload",!0),!0;var mt,un=!0;return R.useFlashBlock&&R.flashLoadTimeout&&!R.getMoviePercent()||(qe=!0),mt={type:!$t&&Qt?"NO_FLASH":"INIT_TIMEOUT"},R._wD("SoundManager 2 "+(We?"failed to load":"loaded")+" ("+(We?"Flash security/load error":"OK")+") "+String.fromCharCode(We?10006:10003),We?2:1),We||tt?(R.useFlashBlock&&R.oMC&&(R.oMC.className=_t()+" "+(R.getMoviePercent()===null?De.swfTimedout:De.swfError)),y({type:"ontimeout",error:mt,ignoreInit:!0}),E("onload",!1),ie(mt),un=!1):E("onload",!0),We||(R.waitForWindowLoad&&!Je?(O("waitOnload"),Ze.add(l,"load",w)):(R.waitForWindowLoad&&Je&&O("docLoaded"),w())),un},x=function(){var tt,mt=R.setupOptions;for(tt in mt)mt.hasOwnProperty(tt)&&(R[tt]===s?R[tt]=mt[tt]:R[tt]!==mt[tt]&&(R.setupOptions[tt]=R[tt]))},S=function(){if(qe)return O("didInit"),!1;function tt(){Ze.remove(l,"load",R.beginDelayedInit)}if(R.html5Only)return qe||(tt(),R.enabled=!0,T()),!0;W();try{je._externalInterfaceTest(!1),le(!0,R.flashPollingInterval||(R.useHighPerformance?10:50)),R.debugMode||je._disableDebug(),R.enabled=!0,E("jstoflash",!0),R.html5Only||Ze.add(l,"unload",k)}catch(mt){return R._wD("js/flash exception: "+mt.toString()),E("jstoflash",!1),ie({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),fe(!0),T(),!1}return T(),tt(),!0},me=function(){return!q&&(q=!0,x(),ye(),!$t&&R.hasHTML5&&(R._wD("SoundManager 2: No Flash detected"+(R.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),R.setup({useHTML5Audio:!0,preferFlash:!1})),lt(),!$t&&Qt&&(rn.push(Q.needFlash),R.setup({flashLoadTimeout:1})),se.removeEventListener&&se.removeEventListener("DOMContentLoaded",me,!1),W(),!0)},bt=function(){return se.readyState==="complete"&&(me(),se.detachEvent("onreadystatechange",bt)),!0},oe=function(){Je=!0,me(),Ze.remove(l,"load",oe)},qt(),Ze.add(l,"focus",z),Ze.add(l,"load",C),Ze.add(l,"load",oe),se.addEventListener?se.addEventListener("DOMContentLoaded",me,!1):se.attachEvent?se.attachEvent("onreadystatechange",bt):(E("onload",!1),ie({type:"NO_DOM2_EVENTS",fatal:!0}))};if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var r=null;l.SM2_DEFER!==s&&SM2_DEFER||(r=new a),n&&typeof n.exports=="object"?(n.exports.SoundManager=a,n.exports.soundManager=r):(o=function(){return{constructor:a,getInstance:function(d){if(!l.soundManager&&_instanceof(d,Function)){var h=d(a);_instanceof(h,a)&&(l.soundManager=h)}return l.soundManager}}}.call(e,t,e,n))===void 0||(n.exports=o),l.SoundManager=a,l.soundManager=r}(window)},5506:function(n,e,t){"use strict";var o=t(6518),l=t(2357).entries;o({target:"Object",stat:!0},{entries:function(a){return l(a)}})}},function(n){n(n.s=7653)}])}),fm={},m9(fm,{default:function(){return vm}}),y9=dm(hm()),g9(fm,dm(hm()));var g;ir=y9,g=ir,pm=g.default,b9=Ri(ir,["default"]),vm=pm!==void 0?pm:b9}}),_9={};bi(_9,{default:function(){return vm}});var Xj=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.tts.js":function(){w9(),w9()}}),k9,lh,x9,S9,C9,A9,O9,E9,uh,T9,mm,gm,ym,j9,ir,bm,P9,wm,I9=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.url.js":function(){k9=Object.create,lh=Object.defineProperty,x9=Object.getOwnPropertyDescriptor,S9=Object.getOwnPropertyNames,C9=Object.getPrototypeOf,A9=Object.prototype.hasOwnProperty,O9=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},E9=function(n,e){for(var t in e)lh(n,t,{get:e[t],enumerable:!0})},uh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!A9.call(n,v)&&v!==t&&lh(n,v,{get:function(){return e[v]},enumerable:!(o=x9(e,v))||o.enumerable})},c=S9(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},T9=function(n,e,t){return uh(n,e,"default"),t&&uh(t,e,"default")},mm=function(n,e,t){return t=n!=null?k9(C9(n)):{},uh(e||!n||!n.__esModule?lh(t,"default",{value:n,enumerable:!0}):t,n)},gm=O9(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[479],{4611:function(n,e,t){var o=function(T,b){(b==null||b>T.length)&&(b=T.length);for(var u=0,f=Array(b);u<b;u++)f[u]=T[u];return f},l=function(T,b){for(var u=0;u<b.length;u++){var f=b[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(T,s(f.key),f)}},s=function(T){var b=function(u,f){if(d(u)!="object"||!u)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var y=m.call(u,"string");if(d(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(T);return d(b)=="symbol"?b:b+""},a=function(T,b){for(var u=0;u<b.length;u++){var f=b[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(T,r(f.key),f)}},r=function(T){var b=function(u,f){if(v(u)!="object"||!u)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var y=m.call(u,"string");if(v(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(T);return v(b)=="symbol"?b:b+""},c=function(T,b,u){return b=S(b),function(f,m){if(m&&(v(m)=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(f)}(T,k()?Reflect.construct(b,u||[],S(T).constructor):b.apply(T,u))};function d(O){return d=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(b){return typeof b=="undefined"?"undefined":_typeof(b)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T=="undefined"?"undefined":_typeof(T)},d(O)}t(2675),t(9463),t(2259),t(5700),t(8706),t(3792),t(2712),t(9572),t(8130),t(3851),t(875),t(6099),t(825),t(888),t(7495),t(7764),t(5440),t(2953),t(8408),t(2008),t(113),t(3418),t(8598),t(2062),t(4782),t(2010),t(5506),t(3921),t(9432),t(8781),t(1761),t(5746),t(2762),t(3500),t(3296),t(7208);var h,p=function(){return O=function b(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(f,m){if(!_instanceof(f,m))throw new TypeError("Cannot call a class as a function")})(this,b),this.bookReaderOptions=u,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null},T=[{key:"urlStateToUrlString",value:function(u){var f=this,m=new URLSearchParams,y={};Object.keys(u).forEach(function(I){var D,z,Q,W,me=f.urlSchema.find(function(oe){return oe.name===I});(D=me)!==null&&D!==void 0&&D.deprecated_for&&(me=f.urlSchema.find(function(oe){return oe.name===me.deprecated_for})),((z=me)===null||z===void 0?void 0:z.position)=="path"?y[(Q=me)===null||Q===void 0?void 0:Q.name]=u[I]:m.append(((W=me)===null||W===void 0?void 0:W.name)||I,u[I])});var w=this.urlSchema.filter(function(I){return I.position=="path"}).map(function(I){return y[I.name]?"".concat(I.name,"/").concat(encodeURIComponent(y[I.name])):""}).join("/"),C="".concat(w.replace(/\/+/g,"/").replace(/\/+$/,"")),M="".concat(C,"?").concat(m.toString());return m.toString()?M:"".concat(C)}},{key:"urlStringToUrlState",value:function(u){var f={},m=new URL(u,"http://example.com"),y=Object.fromEntries(m.searchParams.entries()),w=m.pathname.match(/[^\\/]+\/[^\\/]+/g),C=w?Object.fromEntries(w.map(function(I){return I.split("/")})):{},M=function(D,z){return Object.keys(D).some(function(Q){return Q==z})};return this.urlSchema.filter(function(I){return I.position=="path"}).forEach(function(I){var D=M(C,I.name),z=M(I,"deprecated_for")&&D;if(D||z){var Q=z?I.deprecated_for:I.name;f[Q]=decodeURIComponent(C[I.name])}}),Object.entries(y).forEach(function(I){var D=function(W,me){return function(oe){if(Array.isArray(oe))return oe}(W)||function(oe,q){var ee=oe==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(ee!=null){var we,ie,le,ye,Ee=[],fe=!0,rt=!1;try{if(le=(ee=ee.call(oe)).next,q===0){if(Object(ee)!==ee)return;fe=!1}else for(;!(fe=(we=le.call(ee)).done)&&(Ee.push(we.value),Ee.length!==q);fe=!0);}catch(ct){rt=!0,ie=ct}finally{try{if(!fe&&ee.return!=null&&(ye=ee.return(),Object(ye)!==ye))return}finally{if(rt)throw ie}}return Ee}}(W,me)||function(oe,q){if(oe){if(typeof oe=="string")return o(oe,q);var ee={}.toString.call(oe).slice(8,-1);return ee==="Object"&&oe.constructor&&(ee=oe.constructor.name),ee==="Map"||ee==="Set"?Array.from(oe):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?o(oe,q):void 0}}(W,me)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(I,2),z=D[0],Q=D[1];f[z]=Q}),f}},{key:"setUrlParam",value:function(u,f){this.urlState[u]=f,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(u){delete this.urlState[u],this.pushToAddressBar()}},{key:"getUrlParam",value:function(u){return this.urlState[u]}},{key:"pushToAddressBar",value:function(){var u=this.urlStateToUrlString(this.urlState),f=u!=="/"?u:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var m="".concat(this.urlHistoryBasePath).concat(f).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,m)}catch(y){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+f),this.oldLocationHash=u}},{key:"listenForHashChanges",value:function(){var u=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var f=window.location.hash.substr(1);f!=u.oldLocationHash&&(u.urlState=u.urlStringToUrlState(f))},500)}},{key:"pullFromAddressBar",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,f=this.urlMode==="history"?u.pathname.substr(this.urlHistoryBasePath.length)+u.search:u.hash.substr(1);this.urlState=this.urlStringToUrlState(f)}}],T&&l(O.prototype,T),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,T}();function v(O){return v=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(b){return typeof b=="undefined"?"undefined":_typeof(b)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T=="undefined"?"undefined":_typeof(T)},v(O)}function k(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(T){}return(k=function(){return!!O})()}function x(){return x=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(T,b,u){var f=function(y,w){for(;!{}.hasOwnProperty.call(y,w)&&(y=S(y))!==null;);return y}(T,b);if(f){var m=Object.getOwnPropertyDescriptor(f,b);return m.get?m.get.call(arguments.length<3?T:u):m.value}},x.apply(null,arguments)}function S(O){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},S(O)}function A(O,T){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,f){return u.__proto__=f,u},A(O,T)}t(1669).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(h=BookReader.prototype.setup,function(O){h.call(this,O),this.bookId=O.bookId,this.defaults=O.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(O){return function(){var T=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var b=T.options,u=b.updateWindowTitle,f=b.urlMode;u&&(document.title=T.shortTitle(T.bookTitle,50)),f==="hash"&&T.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),O.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(O){return this.bookTitle.length<O?this.bookTitle:"".concat(this.bookTitle.substr(0,O-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var O=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var T=O.urlReadFragment();if(T!=O.oldLocationHash&&T!=O.oldUserHash){var b=O.paramsFromFragment(T),u=function(){return O.updateFromParams(b)};O.trigger(BookReader.eventNames.stop),O.animating?(O.autoStop&&O.autoStop(),O.animationFinishedCallback=u):u(),O.oldUserHash=T}},500)},BookReader.prototype.urlUpdateFragment=function(){var O=this.paramsFromCurrent(),T=this.options,b=T.urlTrackIndex0,u=T.urlTrackedParams;b||O.index===void 0||O.index!==0||(delete O.index,delete O.page);var f=u.reduce(function(Q,W){return W in O&&(Q[W]=O[W]),Q},{}),m=this.fragmentFromParams(f,this.options.urlMode),y=this.urlReadFragment(),w=this.getLocationSearch(),C=this.queryStringFromParams(f,w,this.options.urlMode);if(y!==m||w!==C){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var M=this.options.urlHistoryBasePath.replace(/\/+$/,""),I=m===""?"":"/".concat(m),D="".concat(M).concat(I).concat(C);try{window.history.replaceState({},null,D),this.oldLocationHash=m+C}catch(Q){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var z=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+m+z),this.oldLocationHash=m+z}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(O){var T=new URLSearchParams(O);return T.has("q")?"?".concat(new URLSearchParams({q:T.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var O=this.options,T=O.urlMode,b=O.urlHistoryBasePath;return T==="history"?window.location.pathname.substr(b.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var E=function(O){function T(){return function(f,m){if(!_instanceof(f,m))throw new TypeError("Cannot call a class as a function")}(this,T),c(this,T,arguments)}return function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),m&&A(f,m)}(T,BookReader),b=T,u=[{key:"init",value:function(){var m,y,w,C=this;this.options.enableUrlPlugin&&(this.urlPlugin=new p(this.options),this.bind(BookReader.eventNames.PostInit,function(){C.options.urlMode==="hash"&&C.urlPlugin.listenForHashChanges()})),(m=T,y=this,typeof(w=x(S(m.prototype),"init",y))=="function"?function(M){return w.apply(y,M)}:w)([])}}],u&&a(b.prototype,u),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,u}();window.BookReader=E},6098:function(n,e,t){var o=t(9504),l=2147483647,s=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",c=RangeError,d=o(a.exec),h=Math.floor,p=String.fromCharCode,v=o("".charCodeAt),k=o([].join),x=o([].push),S=o("".replace),A=o("".split),E=o("".toLowerCase),O=function(f){return f+22+75*(f<26)},T=function(f,m,y){var w=0;for(f=y?h(f/700):f>>1,f+=h(f/m);f>455;)f=h(f/35),w+=36;return h(w+36*f/(f+38))},b=function(f){var m=[];f=function(le){for(var ye=[],Ee=0,fe=le.length;Ee<fe;){var rt=v(le,Ee++);if(rt>=55296&&rt<=56319&&Ee<fe){var ct=v(le,Ee++);(64512&ct)==56320?x(ye,((1023&rt)<<10)+(1023&ct)+65536):(x(ye,rt),Ee--)}else x(ye,rt)}return ye}(f);var y,w,C=f.length,M=128,I=0,D=72;for(y=0;y<f.length;y++)(w=f[y])<128&&x(m,p(w));var z=m.length,Q=z;for(z&&x(m,"-");Q<C;){var W=l;for(y=0;y<f.length;y++)(w=f[y])>=M&&w<W&&(W=w);var me=Q+1;if(W-M>h((l-I)/me))throw new c(r);for(I+=(W-M)*me,M=W,y=0;y<f.length;y++){if((w=f[y])<M&&++I>l)throw new c(r);if(w===M){for(var oe=I,q=36;;){var ee=q<=D?1:q>=D+26?26:q-D;if(oe<ee)break;var we=oe-ee,ie=36-ee;x(m,p(O(ee+we%ie))),oe=h(we/ie),q+=36}x(m,p(O(oe))),D=T(I,me,Q===z),I=0,Q++}}I++,M++}return k(m,"")};n.exports=function(u){var f,m,y=[],w=A(S(E(u),a,"."),".");for(f=0;f<w.length;f++)m=w[f],x(y,d(s,m)?"xn--"+b(m):m);return k(y,".")}},706:function(n,e,t){var o=t(350).PROPER,l=t(9039),s=t(7452);n.exports=function(a){return l(function(){return!!s[a]()||"\u200B\x85\u180E"[a]()!=="\u200B\x85\u180E"||o&&s[a].name!==a})}},5506:function(n,e,t){var o=t(6518),l=t(2357).entries;o({target:"Object",stat:!0},{entries:function(a){return l(a)}})},3921:function(n,e,t){var o=t(6518),l=t(2652),s=t(4659);o({target:"Object",stat:!0},{fromEntries:function(r){var c={};return l(r,function(d,h){s(c,d,h)},{AS_ENTRIES:!0}),c}})},2762:function(n,e,t){var o=t(6518),l=t(3802).trim;o({target:"String",proto:!0,forced:t(706)("trim")},{trim:function(){return l(this)}})},5806:function(n,e,t){t(7764);var o,l=t(6518),s=t(3724),a=t(7416),r=t(4576),c=t(6080),d=t(9504),h=t(6840),p=t(2106),v=t(679),k=t(9297),x=t(4213),S=t(7916),A=t(7680),E=t(8183).codeAt,O=t(6098),T=t(655),b=t(687),u=t(2812),f=t(8406),m=t(1181),y=m.set,w=m.getterFor("URL"),C=f.URLSearchParams,M=f.getState,I=r.URL,D=r.TypeError,z=r.parseInt,Q=Math.floor,W=Math.pow,me=d("".charAt),oe=d(/./.exec),q=d([].join),ee=d(1 .toString),we=d([].pop),ie=d([].push),le=d("".replace),ye=d([].shift),Ee=d("".split),fe=d("".slice),rt=d("".toLowerCase),ct=d([].unshift),Ot="Invalid scheme",_t="Invalid host",De="Invalid port",be=/[a-z]/i,Xe=/[\d+-.a-z]/i,Ne=/\d/,Qe=/^0x/i,Me=/^[0-7]+$/,Ve=/^\d+$/,st=/^[\da-f]+$/i,gt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Mt=/[\0\t\n\r #/:<>?@[\\\]^|]/,Ue=/^[\u0000-\u0020]+/,Be=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,et=/[\t\n\r]/g,Ge=function(jt){var rn,Qt,Rn,Vt;if(typeof jt=="number"){for(rn=[],Qt=0;Qt<4;Qt++)ct(rn,jt%256),jt=Q(jt/256);return q(rn,".")}if(typeof jt=="object"){for(rn="",Rn=function(ur){for(var Dn=null,tr=1,en=null,Tn=0,fr=0;fr<8;fr++)ur[fr]!==0?(Tn>tr&&(Dn=en,tr=Tn),en=null,Tn=0):(en===null&&(en=fr),++Tn);return Tn>tr?en:Dn}(jt),Qt=0;Qt<8;Qt++)Vt&&jt[Qt]===0||(Vt&&(Vt=!1),Rn===Qt?(rn+=Qt?":":"::",Vt=!0):(rn+=ee(jt[Qt],16),Qt<7&&(rn+=":")));return"["+rn+"]"}return jt},$e={},ze=x({},$e,{" ":1,'"':1,"<":1,">":1,"`":1}),xt=x({},ze,{"#":1,"?":1,"{":1,"}":1}),bt=x({},xt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lt=function(jt,rn){var Qt=E(jt,0);return Qt>32&&Qt<127&&!k(rn,jt)?jt:encodeURIComponent(jt)},Ze={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(jt,rn){var Qt;return jt.length===2&&oe(be,me(jt,0))&&((Qt=me(jt,1))===":"||!rn&&Qt==="|")},$t=function(jt){var rn;return jt.length>1&&dt(fe(jt,0,2))&&(jt.length===2||(rn=me(jt,2))==="/"||rn==="\\"||rn==="?"||rn==="#")},qt=function(jt){return jt==="."||rt(jt)==="%2e"},Bt={},ut={},Y={},Kt={},Ft={},Xt={},R={},nt={},je={},ue={},J={},K={},Z={},se={},he={},Ae={},Te={},He={},qe={},We={},Je={},Tt=function(ln,jt,rn){var Qt,Rn,Vt,ur=T(ln);if(jt){if(Rn=this.parse(ur))throw new D(Rn);this.searchParams=null}else{if(rn!==void 0&&(Qt=new Tt(rn,!0)),Rn=this.parse(ur,null,Qt))throw new D(Rn);(Vt=M(new C)).bindURL(this),this.searchParams=Vt}};Tt.prototype={type:"URL",parse:function(jt,rn,Qt){var Rn,Vt,ur,Dn,tr,en=this,Tn=rn||Bt,fr=0,_n="",cr=!1,Pe=!1,re=!1;for(jt=T(jt),rn||(en.scheme="",en.username="",en.password="",en.host=null,en.port=null,en.path=[],en.query=null,en.fragment=null,en.cannotBeABaseURL=!1,jt=le(jt,Ue,""),jt=le(jt,Be,"$1")),jt=le(jt,et,""),Rn=S(jt);fr<=Rn.length;){switch(Vt=Rn[fr],Tn){case Bt:if(!Vt||!oe(be,Vt)){if(rn)return Ot;Tn=Y;continue}_n+=rt(Vt),Tn=ut;break;case ut:if(Vt&&(oe(Xe,Vt)||Vt==="+"||Vt==="-"||Vt==="."))_n+=rt(Vt);else{if(Vt!==":"){if(rn)return Ot;_n="",Tn=Y,fr=0;continue}if(rn&&(en.isSpecial()!==k(Ze,_n)||_n==="file"&&(en.includesCredentials()||en.port!==null)||en.scheme==="file"&&!en.host))return;if(en.scheme=_n,rn)return void(en.isSpecial()&&Ze[en.scheme]===en.port&&(en.port=null));_n="",en.scheme==="file"?Tn=se:en.isSpecial()&&Qt&&Qt.scheme===en.scheme?Tn=Kt:en.isSpecial()?Tn=nt:Rn[fr+1]==="/"?(Tn=Ft,fr++):(en.cannotBeABaseURL=!0,ie(en.path,""),Tn=qe)}break;case Y:if(!Qt||Qt.cannotBeABaseURL&&Vt!=="#")return Ot;if(Qt.cannotBeABaseURL&&Vt==="#"){en.scheme=Qt.scheme,en.path=A(Qt.path),en.query=Qt.query,en.fragment="",en.cannotBeABaseURL=!0,Tn=Je;break}Tn=Qt.scheme==="file"?se:Xt;continue;case Kt:if(Vt!=="/"||Rn[fr+1]!=="/"){Tn=Xt;continue}Tn=je,fr++;break;case Ft:if(Vt==="/"){Tn=ue;break}Tn=He;continue;case Xt:if(en.scheme=Qt.scheme,Vt===o)en.username=Qt.username,en.password=Qt.password,en.host=Qt.host,en.port=Qt.port,en.path=A(Qt.path),en.query=Qt.query;else if(Vt==="/"||Vt==="\\"&&en.isSpecial())Tn=R;else if(Vt==="?")en.username=Qt.username,en.password=Qt.password,en.host=Qt.host,en.port=Qt.port,en.path=A(Qt.path),en.query="",Tn=We;else{if(Vt!=="#"){en.username=Qt.username,en.password=Qt.password,en.host=Qt.host,en.port=Qt.port,en.path=A(Qt.path),en.path.length--,Tn=He;continue}en.username=Qt.username,en.password=Qt.password,en.host=Qt.host,en.port=Qt.port,en.path=A(Qt.path),en.query=Qt.query,en.fragment="",Tn=Je}break;case R:if(!en.isSpecial()||Vt!=="/"&&Vt!=="\\"){if(Vt!=="/"){en.username=Qt.username,en.password=Qt.password,en.host=Qt.host,en.port=Qt.port,Tn=He;continue}Tn=ue}else Tn=je;break;case nt:if(Tn=je,Vt!=="/"||me(_n,fr+1)!=="/")continue;fr++;break;case je:if(Vt!=="/"&&Vt!=="\\"){Tn=ue;continue}break;case ue:if(Vt==="@"){cr&&(_n="%40"+_n),cr=!0,ur=S(_n);for(var Ce=0;Ce<ur.length;Ce++){var ht=ur[Ce];if(ht!==":"||re){var At=lt(ht,bt);re?en.password+=At:en.username+=At}else re=!0}_n=""}else if(Vt===o||Vt==="/"||Vt==="?"||Vt==="#"||Vt==="\\"&&en.isSpecial()){if(cr&&_n==="")return"Invalid authority";fr-=S(_n).length+1,_n="",Tn=J}else _n+=Vt;break;case J:case K:if(rn&&en.scheme==="file"){Tn=Ae;continue}if(Vt!==":"||Pe){if(Vt===o||Vt==="/"||Vt==="?"||Vt==="#"||Vt==="\\"&&en.isSpecial()){if(en.isSpecial()&&_n==="")return _t;if(rn&&_n===""&&(en.includesCredentials()||en.port!==null))return;if(Dn=en.parseHost(_n))return Dn;if(_n="",Tn=Te,rn)return;continue}Vt==="["?Pe=!0:Vt==="]"&&(Pe=!1),_n+=Vt}else{if(_n==="")return _t;if(Dn=en.parseHost(_n))return Dn;if(_n="",Tn=Z,rn===K)return}break;case Z:if(!oe(Ne,Vt)){if(Vt===o||Vt==="/"||Vt==="?"||Vt==="#"||Vt==="\\"&&en.isSpecial()||rn){if(_n!==""){var yt=z(_n,10);if(yt>65535)return De;en.port=en.isSpecial()&&yt===Ze[en.scheme]?null:yt,_n=""}if(rn)return;Tn=Te;continue}return De}_n+=Vt;break;case se:if(en.scheme="file",Vt==="/"||Vt==="\\")Tn=he;else{if(!Qt||Qt.scheme!=="file"){Tn=He;continue}switch(Vt){case o:en.host=Qt.host,en.path=A(Qt.path),en.query=Qt.query;break;case"?":en.host=Qt.host,en.path=A(Qt.path),en.query="",Tn=We;break;case"#":en.host=Qt.host,en.path=A(Qt.path),en.query=Qt.query,en.fragment="",Tn=Je;break;default:$t(q(A(Rn,fr),""))||(en.host=Qt.host,en.path=A(Qt.path),en.shortenPath()),Tn=He;continue}}break;case he:if(Vt==="/"||Vt==="\\"){Tn=Ae;break}Qt&&Qt.scheme==="file"&&!$t(q(A(Rn,fr),""))&&(dt(Qt.path[0],!0)?ie(en.path,Qt.path[0]):en.host=Qt.host),Tn=He;continue;case Ae:if(Vt===o||Vt==="/"||Vt==="\\"||Vt==="?"||Vt==="#"){if(!rn&&dt(_n))Tn=He;else if(_n===""){if(en.host="",rn)return;Tn=Te}else{if(Dn=en.parseHost(_n))return Dn;if(en.host==="localhost"&&(en.host=""),rn)return;_n="",Tn=Te}continue}_n+=Vt;break;case Te:if(en.isSpecial()){if(Tn=He,Vt!=="/"&&Vt!=="\\")continue}else if(rn||Vt!=="?")if(rn||Vt!=="#"){if(Vt!==o&&(Tn=He,Vt!=="/"))continue}else en.fragment="",Tn=Je;else en.query="",Tn=We;break;case He:if(Vt===o||Vt==="/"||Vt==="\\"&&en.isSpecial()||!rn&&(Vt==="?"||Vt==="#")){if((tr=rt(tr=_n))===".."||tr==="%2e."||tr===".%2e"||tr==="%2e%2e"?(en.shortenPath(),Vt==="/"||Vt==="\\"&&en.isSpecial()||ie(en.path,"")):qt(_n)?Vt==="/"||Vt==="\\"&&en.isSpecial()||ie(en.path,""):(en.scheme==="file"&&!en.path.length&&dt(_n)&&(en.host&&(en.host=""),_n=me(_n,0)+":"),ie(en.path,_n)),_n="",en.scheme==="file"&&(Vt===o||Vt==="?"||Vt==="#"))for(;en.path.length>1&&en.path[0]==="";)ye(en.path);Vt==="?"?(en.query="",Tn=We):Vt==="#"&&(en.fragment="",Tn=Je)}else _n+=lt(Vt,xt);break;case qe:Vt==="?"?(en.query="",Tn=We):Vt==="#"?(en.fragment="",Tn=Je):Vt!==o&&(en.path[0]+=lt(Vt,$e));break;case We:rn||Vt!=="#"?Vt!==o&&(Vt==="'"&&en.isSpecial()?en.query+="%27":en.query+=Vt==="#"?"%23":lt(Vt,$e)):(en.fragment="",Tn=Je);break;case Je:Vt!==o&&(en.fragment+=lt(Vt,ze))}fr++}},parseHost:function(jt){var rn,Qt,Rn;if(me(jt,0)==="["){if(me(jt,jt.length-1)!=="]"||(rn=function(Vt){var ur,Dn,tr,en,Tn,fr,_n,cr=[0,0,0,0,0,0,0,0],Pe=0,re=null,Ce=0,ht=function(){return me(Vt,Ce)};if(ht()===":"){if(me(Vt,1)!==":")return;Ce+=2,re=++Pe}for(;ht();){if(Pe===8)return;if(ht()!==":"){for(ur=Dn=0;Dn<4&&oe(st,ht());)ur=16*ur+z(ht(),16),Ce++,Dn++;if(ht()==="."){if(Dn===0||(Ce-=Dn,Pe>6))return;for(tr=0;ht();){if(en=null,tr>0){if(!(ht()==="."&&tr<4))return;Ce++}if(!oe(Ne,ht()))return;for(;oe(Ne,ht());){if(Tn=z(ht(),10),en===null)en=Tn;else{if(en===0)return;en=10*en+Tn}if(en>255)return;Ce++}cr[Pe]=256*cr[Pe]+en,++tr!=2&&tr!==4||Pe++}if(tr!==4)return;break}if(ht()===":"){if(Ce++,!ht())return}else if(ht())return;cr[Pe++]=ur}else{if(re!==null)return;Ce++,re=++Pe}}if(re!==null)for(fr=Pe-re,Pe=7;Pe!==0&&fr>0;)_n=cr[Pe],cr[Pe--]=cr[re+fr-1],cr[re+--fr]=_n;else if(Pe!==8)return;return cr}(fe(jt,1,-1)),!rn))return _t;this.host=rn}else if(this.isSpecial()){if(jt=O(jt),oe(gt,jt)||(rn=function(Vt){var ur,Dn,tr,en,Tn,fr,_n,cr=Ee(Vt,".");if(cr.length&&cr[cr.length-1]===""&&cr.length--,(ur=cr.length)>4)return Vt;for(Dn=[],tr=0;tr<ur;tr++){if((en=cr[tr])==="")return Vt;if(Tn=10,en.length>1&&me(en,0)==="0"&&(Tn=oe(Qe,en)?16:8,en=fe(en,Tn===8?1:2)),en==="")fr=0;else{if(!oe(Tn===10?Ve:Tn===8?Me:st,en))return Vt;fr=z(en,Tn)}ie(Dn,fr)}for(tr=0;tr<ur;tr++)if(fr=Dn[tr],tr===ur-1){if(fr>=W(256,5-ur))return null}else if(fr>255)return null;for(_n=we(Dn),tr=0;tr<Dn.length;tr++)_n+=Dn[tr]*W(256,3-tr);return _n}(jt),rn===null))return _t;this.host=rn}else{if(oe(Mt,jt))return _t;for(rn="",Qt=S(jt),Rn=0;Rn<Qt.length;Rn++)rn+=lt(Qt[Rn],$e);this.host=rn}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return k(Ze,this.scheme)},shortenPath:function(){var jt=this.path,rn=jt.length;!rn||this.scheme==="file"&&rn===1&&dt(jt[0],!0)||jt.length--},serialize:function(){var jt=this,rn=jt.scheme,Qt=jt.username,Rn=jt.password,Vt=jt.host,ur=jt.port,Dn=jt.path,tr=jt.query,en=jt.fragment,Tn=rn+":";return Vt!==null?(Tn+="//",jt.includesCredentials()&&(Tn+=Qt+(Rn?":"+Rn:"")+"@"),Tn+=Ge(Vt),ur!==null&&(Tn+=":"+ur)):rn==="file"&&(Tn+="//"),Tn+=jt.cannotBeABaseURL?Dn[0]:Dn.length?"/"+q(Dn,"/"):"",tr!==null&&(Tn+="?"+tr),en!==null&&(Tn+="#"+en),Tn},setHref:function(jt){var rn=this.parse(jt);if(rn)throw new D(rn);this.searchParams.update()},getOrigin:function(){var jt=this.scheme,rn=this.port;if(jt==="blob")try{return new It(jt.path[0]).origin}catch(Qt){return"null"}return jt!=="file"&&this.isSpecial()?jt+"://"+Ge(this.host)+(rn!==null?":"+rn:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(jt){this.parse(T(jt)+":",Bt)},getUsername:function(){return this.username},setUsername:function(jt){var rn=S(T(jt));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Qt=0;Qt<rn.length;Qt++)this.username+=lt(rn[Qt],bt)}},getPassword:function(){return this.password},setPassword:function(jt){var rn=S(T(jt));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Qt=0;Qt<rn.length;Qt++)this.password+=lt(rn[Qt],bt)}},getHost:function(){var jt=this.host,rn=this.port;return jt===null?"":rn===null?Ge(jt):Ge(jt)+":"+rn},setHost:function(jt){this.cannotBeABaseURL||this.parse(jt,J)},getHostname:function(){var jt=this.host;return jt===null?"":Ge(jt)},setHostname:function(jt){this.cannotBeABaseURL||this.parse(jt,K)},getPort:function(){var jt=this.port;return jt===null?"":T(jt)},setPort:function(jt){this.cannotHaveUsernamePasswordPort()||((jt=T(jt))===""?this.port=null:this.parse(jt,Z))},getPathname:function(){var jt=this.path;return this.cannotBeABaseURL?jt[0]:jt.length?"/"+q(jt,"/"):""},setPathname:function(jt){this.cannotBeABaseURL||(this.path=[],this.parse(jt,Te))},getSearch:function(){var jt=this.query;return jt?"?"+jt:""},setSearch:function(jt){(jt=T(jt))===""?this.query=null:(me(jt,0)==="?"&&(jt=fe(jt,1)),this.query="",this.parse(jt,We)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var jt=this.fragment;return jt?"#"+jt:""},setHash:function(jt){(jt=T(jt))!==""?(me(jt,0)==="#"&&(jt=fe(jt,1)),this.fragment="",this.parse(jt,Je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var It=function(jt){var rn=v(this,Nt),Qt=u(arguments.length,1)>1?arguments[1]:void 0,Rn=y(rn,new Tt(jt,!1,Qt));s||(rn.href=Rn.serialize(),rn.origin=Rn.getOrigin(),rn.protocol=Rn.getProtocol(),rn.username=Rn.getUsername(),rn.password=Rn.getPassword(),rn.host=Rn.getHost(),rn.hostname=Rn.getHostname(),rn.port=Rn.getPort(),rn.pathname=Rn.getPathname(),rn.search=Rn.getSearch(),rn.searchParams=Rn.getSearchParams(),rn.hash=Rn.getHash())},Nt=It.prototype,Lt=function(jt,rn){return{get:function(){return w(this)[jt]()},set:rn&&function(Qt){return w(this)[rn](Qt)},configurable:!0,enumerable:!0}};if(s&&(p(Nt,"href",Lt("serialize","setHref")),p(Nt,"origin",Lt("getOrigin")),p(Nt,"protocol",Lt("getProtocol","setProtocol")),p(Nt,"username",Lt("getUsername","setUsername")),p(Nt,"password",Lt("getPassword","setPassword")),p(Nt,"host",Lt("getHost","setHost")),p(Nt,"hostname",Lt("getHostname","setHostname")),p(Nt,"port",Lt("getPort","setPort")),p(Nt,"pathname",Lt("getPathname","setPathname")),p(Nt,"search",Lt("getSearch","setSearch")),p(Nt,"searchParams",Lt("getSearchParams")),p(Nt,"hash",Lt("getHash","setHash"))),h(Nt,"toJSON",function(){return w(this).serialize()},{enumerable:!0}),h(Nt,"toString",function(){return w(this).serialize()},{enumerable:!0}),I){var Rt=I.createObjectURL,sn=I.revokeObjectURL;Rt&&h(It,"createObjectURL",c(Rt,I)),sn&&h(It,"revokeObjectURL",c(sn,I))}b(It,"URL"),l({global:!0,constructor:!0,forced:!a,sham:!s},{URL:It})},3296:function(n,e,t){t(5806)},7208:function(n,e,t){var o=t(6518),l=t(9565);o({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return l(URL.prototype.toString,this)}})}},function(n){n(n.s=4611)}])}),ym={},E9(ym,{default:function(){return wm}}),j9=mm(gm()),T9(ym,mm(gm()));var g;ir=j9,g=ir,bm=g.default,P9=Ri(ir,["default"]),wm=bm!==void 0?bm:P9}}),M9={};bi(M9,{default:function(){return wm}});var Jj=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.url.js":function(){I9(),I9()}}),L9,ch,R9,D9,$9,N9,B9,F9,dh,z9,_m,km,xm,H9,ir,Sm,U9,Cm,V9=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.autoplay.js":function(){L9=Object.create,ch=Object.defineProperty,R9=Object.getOwnPropertyDescriptor,D9=Object.getOwnPropertyNames,$9=Object.getPrototypeOf,N9=Object.prototype.hasOwnProperty,B9=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},F9=function(n,e){for(var t in e)ch(n,t,{get:e[t],enumerable:!0})},dh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!N9.call(n,v)&&v!==t&&ch(n,v,{get:function(){return e[v]},enumerable:!(o=R9(e,v))||o.enumerable})},c=D9(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},z9=function(n,e,t){return dh(n,e,"default"),t&&dh(t,e,"default")},_m=function(n,e,t){return t=n!=null?L9($9(n)):{},dh(e||!n||!n.__esModule?ch(t,"default",{value:n,enumerable:!0}):t,n)},km=B9(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[393],{5964:function(n,e,t){t(2008),t(3792),t(6099),t(7495),t(7764),t(5746),t(2953),t(8408);var o,l=t(1669),s=t(1669);l.extend(BookReader.defaultOptions,{enableAutoPlayPlugin:!0}),BookReader.prototype.setup=(o=BookReader.prototype.setup,function(a){o.call(this,a),this.autoTimer=null,this.flipDelay=5e3}),BookReader.prototype.init=function(a){return function(r){var c=this;a.call(this,r),this.options.enableAutoPlayPlugin&&(this.bind(BookReader.eventNames.stop,function(){return c.autoStop()}),new URLSearchParams(window.location.search).get("autoflip")==="1"&&this.autoToggle())}}(BookReader.prototype.init),BookReader.prototype.bindNavigationHandlers=function(a){return function(){var r=this;if(a.call(this),this.options.enableAutoPlayPlugin){var c=this.$(".BRicon");c.filter(".play").click(function(){return r.autoToggle(),!1}),c.filter(".pause").click(function(){return r.autoToggle(),!1})}}}(BookReader.prototype.bindNavigationHandlers),BookReader.prototype.autoToggle=function(a){var r=this;if(this.options.enableAutoPlayPlugin){var c=s.extend({flipSpeed:this.flipSpeed,flipDelay:this.flipDelay},a);this.flipSpeed=typeof c.flipSpeed=="number"?c.flipSpeed:this.flipSpeed,this.flipDelay=typeof c.flipDelay=="number"?c.flipDelay:this.flipDelay,this.trigger(BookReader.eventNames.stop);var d=!1;this.constMode2up!=this.mode&&(d=!0,this.switchMode(this.constMode2up)),this.autoTimer==null?(this.pageProgression=="rl"&&d||this.next({triggerStop:!1}),this.$(".play").hide(),this.$(".pause").show(),this.autoTimer=setInterval(function(){r.animating||(Math.max(r.twoPage.currentIndexL,r.twoPage.currentIndexR)>=r.book.getNumLeafs()-1?r.prev({triggerStop:!1}):r.next({triggerStop:!1}))},this.flipDelay)):this.autoStop()}},BookReader.prototype.autoStop=function(){this.options.enableAutoPlayPlugin&&this.autoTimer!=null&&(clearInterval(this.autoTimer),this.flipSpeed="fast",this.$(".pause").hide(),this.$(".play").show(),this.autoTimer=null)}}},function(n){n(n.s=5964)}])}),xm={},F9(xm,{default:function(){return Cm}}),H9=_m(km()),z9(xm,_m(km()));var g;ir=H9,g=ir,Sm=g.default,U9=Ri(ir,["default"]),Cm=Sm!==void 0?Sm:U9}}),q9={};bi(q9,{default:function(){return Cm}});var Zj=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.autoplay.js":function(){V9(),V9()}}),W9,hh,Y9,G9,K9,X9,J9,Z9,fh,Q9,Am,Om,Em,e4,ir,Tm,t4,jm,n4=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.resume.js":function(){W9=Object.create,hh=Object.defineProperty,Y9=Object.getOwnPropertyDescriptor,G9=Object.getOwnPropertyNames,K9=Object.getPrototypeOf,X9=Object.prototype.hasOwnProperty,J9=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},Z9=function(n,e){for(var t in e)hh(n,t,{get:e[t],enumerable:!0})},fh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!X9.call(n,v)&&v!==t&&hh(n,v,{get:function(){return e[v]},enumerable:!(o=Y9(e,v))||o.enumerable})},c=G9(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},Q9=function(n,e,t){return fh(n,e,"default"),t&&fh(t,e,"default")},Am=function(n,e,t){return t=n!=null?W9(K9(n)):{},fh(e||!n||!n.__esModule?hh(t,"default",{value:n,enumerable:!0}):t,n)},Om=J9(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[555],{5182:function(n,e,t){var o=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return v.cookie,!1}catch(k){return!0}},l=function(v){return c||!v?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(v).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},s=function(v,k,x,S,A,E){return!c&&(document.cookie=encodeURIComponent(v)+"="+encodeURIComponent(k)+(x?"; expires=".concat(x.toUTCString()):"")+(A?"; domain=".concat(A):"")+(S?"; path=".concat(S):"")+(E?"; secure":""),!0)},a=function(v,k,x){return!c&&!!hasItem(v)&&(document.cookie=encodeURIComponent(v)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(x?"; domain=".concat(x):"")+(k?"; path=".concat(k):""),!0)},r={};t.r(r),t.d(r,{areCookiesBlocked:function(){return o},getItem:function(){return l},removeItem:function(){return a},setItem:function(){return s}}),t(8940),t(7495),t(1761),t(4864),t(8781),t(5440);var c=o(),d,h=t(1669);BookReader.docCookies=r,h.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(d=BookReader.prototype.init,function(){var p=this;d.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,function(){var v=p.paramsFromCurrent();p.updateResumeValue(v.index)})}),BookReader.prototype.getResumeValue=function(){var p=BookReader.docCookies.getItem("br-resume");return p!==null?parseInt(p):null},BookReader.prototype.getCookiePath=function(p){return p.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(p,v){var k=new Date(+new Date+12096e5),x=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(v||"br-resume",p,k,x,null,!1)}}},function(n){n(n.s=5182)}])}),Em={},Z9(Em,{default:function(){return jm}}),e4=Am(Om()),Q9(Em,Am(Om()));var g;ir=e4,g=ir,Tm=g.default,t4=Ri(ir,["default"]),jm=Tm!==void 0?Tm:t4}}),r4={};bi(r4,{default:function(){return jm}});var Qj=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.resume.js":function(){n4(),n4()}}),i4,ph,o4,a4,s4,l4,u4,c4,vh,d4,Pm,Im,Mm,h4,ir,Lm,f4,Rm,p4=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.archive_analytics.js":function(){i4=Object.create,ph=Object.defineProperty,o4=Object.getOwnPropertyDescriptor,a4=Object.getOwnPropertyNames,s4=Object.getPrototypeOf,l4=Object.prototype.hasOwnProperty,u4=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},c4=function(n,e){for(var t in e)ph(n,t,{get:e[t],enumerable:!0})},vh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!l4.call(n,v)&&v!==t&&ph(n,v,{get:function(){return e[v]},enumerable:!(o=o4(e,v))||o.enumerable})},c=a4(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},d4=function(n,e,t){return vh(n,e,"default"),t&&vh(t,e,"default")},Pm=function(n,e,t){return t=n!=null?i4(s4(n)):{},vh(e||!n||!n.__esModule?ph(t,"default",{value:n,enumerable:!0}):t,n)},Im=u4(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[623],{9372:function(n,e,t){var o;t(7495),t(1761),t(1669).extend(BookReader.defaultOptions,{enableArchiveAnalytics:!0,debugArchiveAnaltyics:!1}),BookReader.prototype.init=(o=BookReader.prototype.init,function(){var l=this;o.call(this),this.options.enableArchiveAnalytics&&this.bind(BookReader.eventNames.fragmentChange,function(){return l.archiveAnalyticsSendFragmentChange()})}),BookReader.prototype.archiveAnalyticsSendFragmentChange=function(){if(window.archive_analytics){var l=this.archiveAnalyticsSendFragmentChange.prevFragment,s=this.paramsFromCurrent(),a=this.fragmentFromParams(s);if(l!=a){var r={bookreader:"user_changed_view",itemid:this.bookId,cache_bust:Math.random(),offsite:1,details:0};try{r.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,r.details=!r.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(d){}window.archive_analytics.send_ping(r,null,"augment_for_ao_site");var c=this.options.lendingInfo&&this.options.lendingInfo.loanId?{loanId:this.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,c),this.archiveAnalyticsSendFragmentChange.prevFragment=a}}},BookReader.prototype.archiveAnalyticsSendEvent=function(l,s,a,r){this.options.enableArchiveAnalytics&&(this.options.debugArchiveAnaltyics&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(r=r||{},typeof a=="number"&&(r.ev=a),window.archive_analytics.send_event(l,s,null,r)))}}},function(n){n(n.s=9372)}])}),Mm={},c4(Mm,{default:function(){return Rm}}),h4=Pm(Im()),d4(Mm,Pm(Im()));var g;ir=h4,g=ir,Lm=g.default,f4=Ri(ir,["default"]),Rm=Lm!==void 0?Lm:f4}}),v4={};bi(v4,{default:function(){return Rm}});var eP=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.archive_analytics.js":function(){p4(),p4()}}),m4,mh,g4,y4,b4,w4,_4,k4,gh,x4,Dm,$m,Nm,S4,ir,Bm,C4,Fm,A4=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.chapters.js":function(){m4=Object.create,mh=Object.defineProperty,g4=Object.getOwnPropertyDescriptor,y4=Object.getOwnPropertyNames,b4=Object.getPrototypeOf,w4=Object.prototype.hasOwnProperty,_4=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},k4=function(n,e){for(var t in e)mh(n,t,{get:e[t],enumerable:!0})},gh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!w4.call(n,v)&&v!==t&&mh(n,v,{get:function(){return e[v]},enumerable:!(o=g4(e,v))||o.enumerable})},c=y4(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},x4=function(n,e,t){return gh(n,e,"default"),t&&gh(t,e,"default")},Dm=function(n,e,t){return t=n!=null?m4(b4(n)):{},gh(e||!n||!n.__esModule?mh(t,"default",{value:n,enumerable:!0}):t,n)},$m=_4(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[858],{7045:function(n,e,t){var o=function(De,be){for(var Xe=0;Xe<be.length;Xe++){var Ne=be[Xe];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(De,h(Ne.key),Ne)}},l=function(De,be,Xe){return be=ct(be),function(Ne,Qe){if(Qe&&(le(Qe)=="object"||typeof Qe=="function"))return Qe;if(Qe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me}(Ne)}(De,ye()?Reflect.construct(be,Xe||[],ct(De).constructor):be.apply(De,Xe))},s=function(De){var be,Xe=h(De.key);De.kind==="method"?be={value:De.value,writable:!0,configurable:!0,enumerable:!1}:De.kind==="get"?be={get:De.value,configurable:!0,enumerable:!1}:De.kind==="set"?be={set:De.value,configurable:!0,enumerable:!1}:De.kind==="field"&&(be={configurable:!0,writable:!0,enumerable:!0});var Ne={kind:De.kind==="field"?"field":"method",key:Xe,placement:De.static?"static":De.kind==="field"?"own":"prototype",descriptor:be};return De.decorators&&(Ne.decorators=De.decorators),De.kind==="field"&&(Ne.initializer=De.value),Ne},a=function(De,be){De.descriptor.get!==void 0?be.descriptor.get=De.descriptor.get:be.descriptor.set=De.descriptor.set},r=function(De){return De.decorators&&De.decorators.length},c=function(De){return De!==void 0&&!(De.value===void 0&&De.writable===void 0)},d=function(De,be){var Xe=De[be];if(Xe!==void 0&&typeof Xe!="function")throw new TypeError("Expected '"+be+"' to be a function");return Xe},h=function(De){var be=function(Xe,Ne){if(le(Xe)!="object"||!Xe)return Xe;var Qe=Xe[Symbol.toPrimitive];if(Qe!==void 0){var Me=Qe.call(Xe,"string");if(le(Me)!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Xe)}(De);return le(be)=="symbol"?be:be+""},p=function(De,be){if(De){if(typeof De=="string")return k(De,be);var Xe={}.toString.call(De).slice(8,-1);return Xe==="Object"&&De.constructor&&(Xe=De.constructor.name),Xe==="Map"||Xe==="Set"?Array.from(De):Xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe)?k(De,be):void 0}},v=function(De){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&De[Symbol.iterator]!=null||De["@@iterator"]!=null)return Array.from(De)},k=function(De,be){(be==null||be>De.length)&&(be=De.length);for(var Xe=0,Ne=Array(be);Xe<be;Xe++)Ne[Xe]=De[Xe];return Ne},x=function(De,be){return be||(be=De.slice(0)),Object.freeze(Object.defineProperties(De,{raw:{value:Object.freeze(be)}}))},S=function(De,be,Xe,Ne,Qe,Me,Ve){try{var st=De[Me](Ve),gt=st.value}catch(Mt){return void Xe(Mt)}st.done?be(gt):Promise.resolve(gt).then(Ne,Qe)},A=function(De){return function(){var be=this,Xe=arguments;return new Promise(function(Ne,Qe){var Me=De.apply(be,Xe);function Ve(gt){S(Me,Ne,Qe,Ve,st,"next",gt)}function st(gt){S(Me,Ne,Qe,Ve,st,"throw",gt)}Ve(void 0)})}};t(5700),t(8706),t(2008),t(113),t(8980),t(3418),t(8598),t(2675),t(9463),t(6412),t(2259),t(8125),t(3792),t(2062),t(4490),t(4782),t(4554),t(9572),t(2010),t(4731),t(479),t(8130),t(9085),t(2811),t(875),t(7764),t(2953),t(3851),t(6099),t(8940),t(3362),t(825),t(888),t(7495),t(8781),t(3500);var E=t(420),O=t(9696),T=t(6681),b=t(8900),u=E.qy(_templateObject105()),f=function(_t){_inherits(be,_t);var De=_createSuper(be);function be(){return _classCallCheck(this,be),De.apply(this,arguments)}return _createClass(be,[{key:"render",value:function(){return u}}],[{key:"styles",get:function(){return E.AH(_templateObject106())}}]),be}(E.WF);customElements.define("ia-icon-toc",f);var m,y,w,C,M,I,D,z,Q,W,me,oe,q,ee,we=t(1669),ie=t(1669);function le(_t){return le=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(be){return typeof be=="undefined"?"undefined":_typeof(be)}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De=="undefined"?"undefined":_typeof(De)},le(_t)}function ye(){try{var _t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(De){}return(ye=function(){return!!_t})()}function Ee(_t,De){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Xe,Ne){return Xe.__proto__=Ne,Xe},Ee(_t,De)}function fe(){fe=function(){return _t};var _t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(be,Xe){["method","field"].forEach(function(Ne){Xe.forEach(function(Qe){Qe.kind===Ne&&Qe.placement==="own"&&this.defineClassElement(be,Qe)},this)},this)},initializeClassElements:function(be,Xe){var Ne=be.prototype;["method","field"].forEach(function(Qe){Xe.forEach(function(Me){var Ve=Me.placement;if(Me.kind===Qe&&(Ve==="static"||Ve==="prototype")){var st=Ve==="static"?be:Ne;this.defineClassElement(st,Me)}},this)},this)},defineClassElement:function(be,Xe){var Ne=Xe.descriptor;if(Xe.kind==="field"){var Qe=Xe.initializer;Ne={enumerable:Ne.enumerable,writable:Ne.writable,configurable:Ne.configurable,value:Qe===void 0?void 0:Qe.call(be)}}Object.defineProperty(be,Xe.key,Ne)},decorateClass:function(be,Xe){var Ne=[],Qe=[],Me={static:[],prototype:[],own:[]};if(be.forEach(function(st){this.addElementPlacement(st,Me)},this),be.forEach(function(st){if(!r(st))return Ne.push(st);var gt=this.decorateElement(st,Me);Ne.push(gt.element),Ne.push.apply(Ne,gt.extras),Qe.push.apply(Qe,gt.finishers)},this),!Xe)return{elements:Ne,finishers:Qe};var Ve=this.decorateConstructor(Ne,Xe);return Qe.push.apply(Qe,Ve.finishers),Ve.finishers=Qe,Ve},addElementPlacement:function(be,Xe,Ne){var Qe=Xe[be.placement];if(!Ne&&Qe.indexOf(be.key)!==-1)throw new TypeError("Duplicated element ("+be.key+")");Qe.push(be.key)},decorateElement:function(be,Xe){for(var Ne=[],Qe=[],Me=be.decorators,Ve=Me.length-1;Ve>=0;Ve--){var st=Xe[be.placement];st.splice(st.indexOf(be.key),1);var gt=this.fromElementDescriptor(be),Mt=this.toElementFinisherExtras((0,Me[Ve])(gt)||gt);be=Mt.element,this.addElementPlacement(be,Xe),Mt.finisher&&Qe.push(Mt.finisher);var Ue=Mt.extras;if(Ue){for(var Be=0;Be<Ue.length;Be++)this.addElementPlacement(Ue[Be],Xe);Ne.push.apply(Ne,Ue)}}return{element:be,finishers:Qe,extras:Ne}},decorateConstructor:function(be,Xe){for(var Ne=[],Qe=Xe.length-1;Qe>=0;Qe--){var Me=this.fromClassDescriptor(be),Ve=this.toClassDescriptor((0,Xe[Qe])(Me)||Me);if(Ve.finisher!==void 0&&Ne.push(Ve.finisher),Ve.elements!==void 0){be=Ve.elements;for(var st=0;st<be.length-1;st++)for(var gt=st+1;gt<be.length;gt++)if(be[st].key===be[gt].key&&be[st].placement===be[gt].placement)throw new TypeError("Duplicated element ("+be[st].key+")")}}return{elements:be,finishers:Ne}},fromElementDescriptor:function(be){var Xe={kind:be.kind,key:be.key,placement:be.placement,descriptor:be.descriptor};return Object.defineProperty(Xe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),be.kind==="field"&&(Xe.initializer=be.initializer),Xe},toElementDescriptors:function(be){if(be!==void 0)return(Xe=be,function(Ne){if(Array.isArray(Ne))return Ne}(Xe)||v(Xe)||p(Xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(Ne){var Qe=this.toElementDescriptor(Ne);return this.disallowProperty(Ne,"finisher","An element descriptor"),this.disallowProperty(Ne,"extras","An element descriptor"),Qe},this);var Xe},toElementDescriptor:function(be){var Xe=be.kind+"";if(Xe!=="method"&&Xe!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+Xe+'"');var Ne=h(be.key),Qe=be.placement+"";if(Qe!=="static"&&Qe!=="prototype"&&Qe!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+Qe+'"');var Me=be.descriptor;this.disallowProperty(be,"elements","An element descriptor");var Ve={kind:Xe,key:Ne,placement:Qe,descriptor:Object.assign({},Me)};return Xe!=="field"?this.disallowProperty(be,"initializer","A method descriptor"):(this.disallowProperty(Me,"get","The property descriptor of a field descriptor"),this.disallowProperty(Me,"set","The property descriptor of a field descriptor"),this.disallowProperty(Me,"value","The property descriptor of a field descriptor"),Ve.initializer=be.initializer),Ve},toElementFinisherExtras:function(be){return{element:this.toElementDescriptor(be),finisher:d(be,"finisher"),extras:this.toElementDescriptors(be.extras)}},fromClassDescriptor:function(be){var Xe={kind:"class",elements:be.map(this.fromElementDescriptor,this)};return Object.defineProperty(Xe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Xe},toClassDescriptor:function(be){var Xe=be.kind+"";if(Xe!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+Xe+'"');this.disallowProperty(be,"key","A class descriptor"),this.disallowProperty(be,"placement","A class descriptor"),this.disallowProperty(be,"descriptor","A class descriptor"),this.disallowProperty(be,"initializer","A class descriptor"),this.disallowProperty(be,"extras","A class descriptor");var Ne=d(be,"finisher");return{elements:this.toElementDescriptors(be.elements),finisher:Ne}},runClassFinishers:function(be,Xe){for(var Ne=0;Ne<Xe.length;Ne++){var Qe=(0,Xe[Ne])(be);if(Qe!==void 0){if(typeof Qe!="function")throw new TypeError("Finishers must return a constructor.");be=Qe}}return be},disallowProperty:function(be,Xe,Ne){if(be[Xe]!==void 0)throw new TypeError(Ne+" can't have a ."+Xe+" property.")}};return _t}function rt(){return rt=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(De,be,Xe){var Ne=function(Me,Ve){for(;!{}.hasOwnProperty.call(Me,Ve)&&(Me=ct(Me))!==null;);return Me}(De,be);if(Ne){var Qe=Object.getOwnPropertyDescriptor(Ne,be);return Qe.get?Qe.get.call(arguments.length<3?De:Xe):Qe.value}},rt.apply(null,arguments)}function ct(_t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(be){return be.__proto__||Object.getPrototypeOf(be)},ct(_t)}function Ot(){Ot=function(){return De};var _t,De={},be=Object.prototype,Xe=be.hasOwnProperty,Ne=Object.defineProperty||function(je,ue,J){je[ue]=J.value},Qe=typeof Symbol=="function"?Symbol:{},Me=Qe.iterator||"@@iterator",Ve=Qe.asyncIterator||"@@asyncIterator",st=Qe.toStringTag||"@@toStringTag";function gt(je,ue,J){return Object.defineProperty(je,ue,{value:J,enumerable:!0,configurable:!0,writable:!0}),je[ue]}try{gt({},"")}catch(je){gt=function(J,K,Z){return J[K]=Z}}function Mt(je,ue,J,K){var Z=ue&&_instanceof(ue.prototype,xt)?ue:xt,se=Object.create(Z.prototype),he=new R(K||[]);return Ne(se,"_invoke",{value:Y(je,J,he)}),se}function Ue(je,ue,J){try{return{type:"normal",arg:je.call(ue,J)}}catch(K){return{type:"throw",arg:K}}}De.wrap=Mt;var Be="suspendedStart",et="suspendedYield",Ge="executing",$e="completed",ze={};function xt(){}function bt(){}function lt(){}var Ze={};gt(Ze,Me,function(){return this});var dt=Object.getPrototypeOf,$t=dt&&dt(dt(nt([])));$t&&$t!==be&&Xe.call($t,Me)&&(Ze=$t);var qt=lt.prototype=xt.prototype=Object.create(Ze);function Bt(je){["next","throw","return"].forEach(function(ue){gt(je,ue,function(J){return this._invoke(ue,J)})})}function ut(je,ue){function J(Z,se,he,Ae){var Te=Ue(je[Z],je,se);if(Te.type!=="throw"){var He=Te.arg,qe=He.value;return qe&&le(qe)=="object"&&Xe.call(qe,"__await")?ue.resolve(qe.__await).then(function(We){J("next",We,he,Ae)},function(We){J("throw",We,he,Ae)}):ue.resolve(qe).then(function(We){He.value=We,he(He)},function(We){return J("throw",We,he,Ae)})}Ae(Te.arg)}var K;Ne(this,"_invoke",{value:function(se,he){function Ae(){return new ue(function(Te,He){J(se,he,Te,He)})}return K=K?K.then(Ae,Ae):Ae()}})}function Y(je,ue,J){var K=Be;return function(Z,se){if(K===Ge)throw Error("Generator is already running");if(K===$e){if(Z==="throw")throw se;return{value:_t,done:!0}}for(J.method=Z,J.arg=se;;){var he=J.delegate;if(he){var Ae=Kt(he,J);if(Ae){if(Ae===ze)continue;return Ae}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(K===Be)throw K=$e,J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);K=Ge;var Te=Ue(je,ue,J);if(Te.type==="normal"){if(K=J.done?$e:et,Te.arg===ze)continue;return{value:Te.arg,done:J.done}}Te.type==="throw"&&(K=$e,J.method="throw",J.arg=Te.arg)}}}function Kt(je,ue){var J=ue.method,K=je.iterator[J];if(K===_t)return ue.delegate=null,J==="throw"&&je.iterator.return&&(ue.method="return",ue.arg=_t,Kt(je,ue),ue.method==="throw")||J!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+J+"' method")),ze;var Z=Ue(K,je.iterator,ue.arg);if(Z.type==="throw")return ue.method="throw",ue.arg=Z.arg,ue.delegate=null,ze;var se=Z.arg;return se?se.done?(ue[je.resultName]=se.value,ue.next=je.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=_t),ue.delegate=null,ze):se:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,ze)}function Ft(je){var ue={tryLoc:je[0]};1 in je&&(ue.catchLoc=je[1]),2 in je&&(ue.finallyLoc=je[2],ue.afterLoc=je[3]),this.tryEntries.push(ue)}function Xt(je){var ue=je.completion||{};ue.type="normal",delete ue.arg,je.completion=ue}function R(je){this.tryEntries=[{tryLoc:"root"}],je.forEach(Ft,this),this.reset(!0)}function nt(je){if(je||je===""){var ue=je[Me];if(ue)return ue.call(je);if(typeof je.next=="function")return je;if(!isNaN(je.length)){var J=-1,K=function Z(){for(;++J<je.length;)if(Xe.call(je,J))return Z.value=je[J],Z.done=!1,Z;return Z.value=_t,Z.done=!0,Z};return K.next=K}}throw new TypeError(le(je)+" is not iterable")}return bt.prototype=lt,Ne(qt,"constructor",{value:lt,configurable:!0}),Ne(lt,"constructor",{value:bt,configurable:!0}),bt.displayName=gt(lt,st,"GeneratorFunction"),De.isGeneratorFunction=function(je){var ue=typeof je=="function"&&je.constructor;return!!ue&&(ue===bt||(ue.displayName||ue.name)==="GeneratorFunction")},De.mark=function(je){return Object.setPrototypeOf?Object.setPrototypeOf(je,lt):(je.__proto__=lt,gt(je,st,"GeneratorFunction")),je.prototype=Object.create(qt),je},De.awrap=function(je){return{__await:je}},Bt(ut.prototype),gt(ut.prototype,Ve,function(){return this}),De.AsyncIterator=ut,De.async=function(je,ue,J,K,Z){Z===void 0&&(Z=Promise);var se=new ut(Mt(je,ue,J,K),Z);return De.isGeneratorFunction(ue)?se:se.next().then(function(he){return he.done?he.value:se.next()})},Bt(qt),gt(qt,st,"Generator"),gt(qt,Me,function(){return this}),gt(qt,"toString",function(){return"[object Generator]"}),De.keys=function(je){var ue=Object(je),J=[];for(var K in ue)J.push(K);return J.reverse(),function Z(){for(;J.length;){var se=J.pop();if(se in ue)return Z.value=se,Z.done=!1,Z}return Z.done=!0,Z}},De.values=nt,R.prototype={constructor:R,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=_t,this.done=!1,this.delegate=null,this.method="next",this.arg=_t,this.tryEntries.forEach(Xt),!ue)for(var J in this)J.charAt(0)==="t"&&Xe.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=_t)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var J=this;function K(He,qe){return he.type="throw",he.arg=ue,J.next=He,qe&&(J.method="next",J.arg=_t),!!qe}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var se=this.tryEntries[Z],he=se.completion;if(se.tryLoc==="root")return K("end");if(se.tryLoc<=this.prev){var Ae=Xe.call(se,"catchLoc"),Te=Xe.call(se,"finallyLoc");if(Ae&&Te){if(this.prev<se.catchLoc)return K(se.catchLoc,!0);if(this.prev<se.finallyLoc)return K(se.finallyLoc)}else if(Ae){if(this.prev<se.catchLoc)return K(se.catchLoc,!0)}else{if(!Te)throw Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return K(se.finallyLoc)}}}},abrupt:function(ue,J){for(var K=this.tryEntries.length-1;K>=0;--K){var Z=this.tryEntries[K];if(Z.tryLoc<=this.prev&&Xe.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var se=Z;break}}se&&(ue==="break"||ue==="continue")&&se.tryLoc<=J&&J<=se.finallyLoc&&(se=null);var he=se?se.completion:{};return he.type=ue,he.arg=J,se?(this.method="next",this.next=se.finallyLoc,ze):this.complete(he)},complete:function(ue,J){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&J&&(this.next=J),ze},finish:function(ue){for(var J=this.tryEntries.length-1;J>=0;--J){var K=this.tryEntries[J];if(K.finallyLoc===ue)return this.complete(K.completion,K.afterLoc),Xt(K),ze}},catch:function(ue){for(var J=this.tryEntries.length-1;J>=0;--J){var K=this.tryEntries[J];if(K.tryLoc===ue){var Z=K.completion;if(Z.type==="throw"){var se=Z.arg;Xt(K)}return se}}throw Error("illegal catch attempt")},delegateYield:function(ue,J,K){return this.delegate={iterator:nt(ue),resultName:J,nextLoc:K},this.method==="next"&&(this.arg=_t),ze}},De}we.extend(BookReader.defaultOptions,{olHost:"https://openlibrary.org",enableChaptersPlugin:!0,bookId:""}),BookReader.prototype.init=(D=BookReader.prototype.init,function(){D.call(this),this.options.enableChaptersPlugin&&this.ui!=="embed"&&this._chapterInit()}),BookReader.prototype._chapterInit=A(Ot().mark(function _t(){var De,be,Xe,Ne,Qe=this;return Ot().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(be=null,(De=this.options.table_of_contents)===null||De===void 0||!De.length){Me.next=5;break}be=this.options.table_of_contents,Me.next=9;break;case 5:return Me.next=7,this.getOpenLibraryRecord(this.options.olHost,this.options.bookId);case 7:(Ne=Me.sent)!=null&&(Xe=Ne.table_of_contents)!==null&&Xe!==void 0&&Xe.length&&(be=Ne.table_of_contents);case 9:be&&(this._tocEntries=be.map(function(Ve){return Object.assign({},Ve,{pageIndex:typeof Ve.leaf=="number"?Qe.book.leafNumToIndex(Ve.leaf):Ve.pagenum?Qe.book.getPageIndex(Ve.pagenum):void 0})}),this._chaptersRender(this._tocEntries),this.bind(BookReader.eventNames.pageChanged,function(){return Qe._chaptersUpdateCurrent()}));case 10:case"end":return Me.stop()}},_t,this)})),BookReader.prototype._chaptersRender=function(){var _t=this,De=this.shell;De.menuProviders.chapters={id:"chapters",icon:(0,E.qy)(m||(m=x(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,E.qy)(y||(y=x(['<br-chapters-panel\n      .contents="','"\n      .jumpToPage="','"\n      @connected="','"\n    />'])),this._tocEntries,function(be){_t._chaptersUpdateCurrent(be),_t.jumpToIndex(be)},function(be){_t._chaptersPanel=be.target,_t._chaptersUpdateCurrent()})},De.addMenuShortcut("chapters"),De.updateMenuContents(),this._tocEntries.forEach(function(be,Xe){return _t._chaptersRenderMarker(be,Xe)})},BookReader.prototype._chaptersRenderMarker=function(_t,De){var be=this;if(_t.pageIndex!=null){var Xe=[_t.label,_t.title].filter(function(Qe){return Qe}).join(" ")||"Chapter ".concat(De+1),Ne=BookReader.util.cssPercentage(_t.pageIndex,this.book.getNumLeafs()-1);ie("<div></div>").append(ie("<div />").text(Xe).append(ie('<div class="BRchapterPage" />').text(this.book.getPageName(_t.pageIndex)))).addClass("BRchapter").css({left:Ne}).appendTo(this.$(".BRnavline")).on("mouseenter",function(Qe){var Me=Qe.currentTarget,Ve=Me.querySelector("div"),st=Ve.getBoundingClientRect(),gt=Me.getBoundingClientRect(),Mt=2*parseInt(getComputedStyle(Ve).paddingLeft);st.x-Mt<0&&Ve.style.setProperty("transform","translateX(-".concat(gt.left-Mt,"px)")),be.$(".BRsearch,.BRchapter").removeClass("front"),ie(Qe.target).addClass("front")}).on("mouseleave",function(Qe){return ie(Qe.target).removeClass("front")}).on("click",function(){be._chaptersUpdateCurrent(_t.pageIndex),be.jumpToIndex(_t.pageIndex)}),this.$(".BRchapter, .BRsearch").each(function(Qe,Me){var Ve=ie(Me);Ve.on("mouseenter",function(){return Ve.addClass("front")}).on("mouseleave",function(){return Ve.removeClass("front")})})}},BookReader.prototype.getOpenLibraryRecord=function(){var _t=A(Ot().mark(function De(be,Xe){var Ne,Qe,Me,Ve;return Ot().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return Qe="".concat(be,"/query.json?type=/type/edition&*="),Me="".concat(Qe,"&ocaid=").concat(Xe),st.next=4,ie.ajax({url:Me});case 4:if((Ve=st.sent)&&Ve.length){st.next=9;break}return st.next=8,ie.ajax({url:"".concat(Qe,"&source_records=ia:").concat(Xe)});case 8:Ve=st.sent;case 9:return st.abrupt("return",(Ne=Ve)===null||Ne===void 0?void 0:Ne[0]);case 10:case"end":return st.stop()}},De)}));return function(De,be){return _t.apply(this,arguments)}}(),BookReader.prototype._chaptersUpdateCurrent=function(){var _t,De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.mode==2?Math.max.apply(Math,function(Ne){if(Array.isArray(Ne))return k(Ne)}(_t=this.displayedIndices)||v(_t)||p(_t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):this.firstIndex,be=this._tocEntries.filter(function(Ne){return Ne.pageIndex!=null}).reverse(),Xe=be[be.findIndex(function(Ne){return Ne.pageIndex<=De})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=Xe)},z=[(0,O.EM)("br-chapters-panel")],Q=E.WF,oe=fe(),W=function(De){oe.initializeInstanceElements(De,ee.elements)},me=function(_t){function De(Qe){var Me;return function(Ve,st){if(!_instanceof(Ve,st))throw new TypeError("Cannot call a class as a function")}(this,De),Me=l(this,De),W(Me),Me.contents=Qe,Me}return function(Qe,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(Me&&Me.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Object.defineProperty(Qe,"prototype",{writable:!1}),Me&&Ee(Qe,Me)}(De,_t),be=De,Xe&&o(be.prototype,Xe),Ne&&o(be,Ne),Object.defineProperty(be,"prototype",{writable:!1}),be;var be,Xe,Ne}(Q),q={F:me,d:[{kind:"field",decorators:[(0,O.MZ)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,O.MZ)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var De=this;return(0,E.qy)(w||(w=x(["\n    <ol>\n      ","\n    </ol>\n    "])),this.contents.map(function(be){return De.renderTOCEntry(be)}))}},{kind:"method",key:"renderTOCEntry",value:function(De){var be,Xe=this,Ne=[De.label,De.title].filter(function(Me){return Me}).join(" "),Qe=De.pageIndex!=null;return(0,E.qy)(C||(C=x(['\n    <li\n      class="\n        BRtable-contents-el\n        ',"\n        ",'\n      "\n      style="','"\n      data-event-click-tracking="','"\n      @click="','"\n    >\n      ',"\n      ","\n    </li>"])),Qe?"clickable":"",De==this.currentChapter?"current":"",(0,b.W)({marginLeft:10*(De.level-1)+"px"}),(be=Qe?"BRTOCPanel|GoToChapter":void 0)!=null?be:T.s6,function(){return Xe.jumpToPage(De.pageIndex)},Ne,De.pagenum?(0,E.qy)(M||(M=x(['\n        <br />\n        <span class="BRTOCElementPage">Page ',"</span>\n      "])),De.pagenum):E.s6)}},{kind:"method",key:"connectedCallback",value:function(){var De,be,Xe,Ne,Qe;(De=me,be="connectedCallback",Xe=this,Qe=rt(ct(1&(Ne=3)?De.prototype:De),be,Xe),2&Ne&&typeof Qe=="function"?function(Me){return Qe.apply(Xe,Me)}:Qe)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(De){var be;De.has("currentChapter")&&((be=this.shadowRoot.querySelector("li.current"))===null||be===void 0||be.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,E.AH)(I||(I=x(["\n      ol {\n        padding: 0;\n        margin: 0;\n        margin-right: 5px;\n      }\n      li {\n        padding: 10px;\n        overflow: hidden;\n        border-radius: 4px;\n      }\n      li.clickable {\n        font-weight: normal;\n        cursor: pointer;\n        transition: background-color 0.2s;\n      }\n\n      li.clickable:not(.current):hover {\n        background-color: rgba(255,255,255, 0.05);\n      }\n\n      li.current {\n        background-color: rgba(255,255,255,0.9);\n        color: #333;\n      }\n\n      .BRTOCElementPage {\n        font-size: 0.85em;\n        opacity: .8;\n      }"])))}}]},ee=oe.decorateClass(function(_t){for(var De=[],be=function(Ve){return Ve.kind==="method"&&Ve.key===Qe.key&&Ve.placement===Qe.placement},Xe=0;Xe<_t.length;Xe++){var Ne,Qe=_t[Xe];if(Qe.kind==="method"&&(Ne=De.find(be)))if(c(Qe.descriptor)||c(Ne.descriptor)){if(r(Qe)||r(Ne))throw new ReferenceError("Duplicated methods ("+Qe.key+") can't be decorated.");Ne.descriptor=Qe.descriptor}else{if(r(Qe)){if(r(Ne))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Qe.key+").");Ne.decorators=Qe.decorators}a(Qe,Ne)}else De.push(Qe)}return De}(q.d.map(s)),z),oe.initializeClassElements(q.F,ee.elements),oe.runClassFinishers(q.F,ee.finishers)}},function(n){n(n.s=7045)}])}),Nm={},k4(Nm,{default:function(){return Fm}}),S4=Dm($m()),x4(Nm,Dm($m()));var g;ir=S4,g=ir,Bm=g.default,C4=Ri(ir,["default"]),Fm=Bm!==void 0?Bm:C4}}),O4={};bi(O4,{default:function(){return Fm}});var tP=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.chapters.js":function(){A4(),A4()}}),E4,yh,T4,j4,P4,I4,M4,L4,bh,R4,zm,Hm,Um,D4,ir,Vm,$4,qm,N4=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/BookReader/plugins/plugin.text_selection.js":function(){E4=Object.create,yh=Object.defineProperty,T4=Object.getOwnPropertyDescriptor,j4=Object.getOwnPropertyNames,P4=Object.getPrototypeOf,I4=Object.prototype.hasOwnProperty,M4=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},L4=function(n,e){for(var t in e)yh(n,t,{get:e[t],enumerable:!0})},bh=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!I4.call(n,v)&&v!==t&&yh(n,v,{get:function(){return e[v]},enumerable:!(o=T4(e,v))||o.enumerable})},c=j4(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},R4=function(n,e,t){return bh(n,e,"default"),t&&bh(t,e,"default")},zm=function(n,e,t){return t=n!=null?E4(P4(n)):{},bh(e||!n||!n.__esModule?yh(t,"default",{value:n,enumerable:!0}):t,n)},Hm=M4(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[326],{3036:function(n,e,t){var o=function(be,Xe){for(var Ne=0;Ne<Xe.length;Ne++){var Qe=Xe[Ne];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(be,s(Qe.key),Qe)}},l=function(be,Xe,Ne){return(Xe=s(Xe))in be?Object.defineProperty(be,Xe,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):be[Xe]=Ne,be},s=function(be){var Xe=function(Ne,Qe){if(M(Ne)!="object"||!Ne)return Ne;var Me=Ne[Symbol.toPrimitive];if(Me!==void 0){var Ve=Me.call(Ne,"string");if(M(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(be);return M(Xe)=="symbol"?Xe:Xe+""},a=function(be,Xe){(Xe==null||Xe>be.length)&&(Xe=be.length);for(var Ne=0,Qe=Array(Xe);Ne<Xe;Ne++)Qe[Ne]=be[Ne];return Qe},r=function(be,Xe){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D;return be==null?void 0:be.replace(/\{\{([^}]*?)\}\}/g,function(Me,Ve){if(!Ve)return Me;var st,gt=function(et){if(Array.isArray(et))return et}(st=Ve.split("|").map(function(et){return et.trim()}))||function(et){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}(st)||function(et,Ge){if(et){if(typeof et=="string")return a(et,Ge);var $e={}.toString.call(et).slice(8,-1);return $e==="Object"&&et.constructor&&($e=et.constructor.name),$e==="Map"||$e==="Set"?Array.from(et):$e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e)?a(et,Ge):void 0}}(st)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Mt=gt[0],Ue=gt.slice(1);if(!(Mt in Ne)&&!(Mt in Xe))return Me;var Be=Mt in Ne?Ne[Mt]:Mt in Xe?Xe[Mt]:null;return Ue.map(function(et){return Qe[et]}).reduce(function(et,Ge){return Ge(et)},Be&&Be.toString())})},c=function(be,Xe,Ne){return Xe=we(Xe),function(Qe,Me){if(Me&&(Q(Me)=="object"||typeof Me=="function"))return Me;if(Me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ve){if(Ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve}(Qe)}(be,q()?Reflect.construct(Xe,Ne||[],we(be).constructor):Xe.apply(be,Ne))},d=function(be,Xe,Ne,Qe){var Me=ee(we(1&Qe?be.prototype:be),Xe,Ne);return 2&Qe&&typeof Me=="function"?function(Ve){return Me.apply(Ne,Ve)}:Me},h=function(be,Xe){return function(Ne){if(Array.isArray(Ne))return Ne}(be)||function(Ne,Qe){var Me=Ne==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(Me!=null){var Ve,st,gt,Mt,Ue=[],Be=!0,et=!1;try{if(gt=(Me=Me.call(Ne)).next,Qe===0){if(Object(Me)!==Me)return;Be=!1}else for(;!(Be=(Ve=gt.call(Me)).done)&&(Ue.push(Ve.value),Ue.length!==Qe);Be=!0);}catch(Ge){et=!0,st=Ge}finally{try{if(!Be&&Me.return!=null&&(Mt=Me.return(),Object(Mt)!==Mt))return}finally{if(et)throw st}}return Ue}}(be,Xe)||v(be,Xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},p=function(be,Xe){var Ne=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&be[Symbol.iterator]||be["@@iterator"];if(!Ne){if(Array.isArray(be)||(Ne=v(be))||Xe&&be&&typeof be.length=="number"){Ne&&(be=Ne);var Qe=0,Me=function(){};return{s:Me,n:function(){return Qe>=be.length?{done:!0}:{done:!1,value:be[Qe++]}},e:function(Ue){throw Ue},f:Me}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ve,st=!0,gt=!1;return{s:function(){Ne=Ne.call(be)},n:function(){var Ue=Ne.next();return st=Ue.done,Ue},e:function(Ue){gt=!0,Ve=Ue},f:function(){try{st||Ne.return==null||Ne.return()}finally{if(gt)throw Ve}}}},v=function(be,Xe){if(be){if(typeof be=="string")return k(be,Xe);var Ne={}.toString.call(be).slice(8,-1);return Ne==="Object"&&be.constructor&&(Ne=be.constructor.name),Ne==="Map"||Ne==="Set"?Array.from(be):Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne)?k(be,Xe):void 0}},k=function(be,Xe){(Xe==null||Xe>be.length)&&(Xe=be.length);for(var Ne=0,Qe=Array(Xe);Ne<Xe;Ne++)Qe[Ne]=be[Ne];return Qe},x=function(be,Xe,Ne,Qe,Me,Ve,st){try{var gt=be[Ve](st),Mt=gt.value}catch(Ue){return void Ne(Ue)}gt.done?Xe(Mt):Promise.resolve(Mt).then(Qe,Me)},S=function(be){return function(){var Xe=this,Ne=arguments;return new Promise(function(Qe,Me){var Ve=be.apply(Xe,Ne);function st(Mt){x(Ve,Qe,Me,st,gt,"next",Mt)}function gt(Mt){x(Ve,Qe,Me,st,gt,"throw",Mt)}st(void 0)})}},A=function(be,Xe){if(!_instanceof(be,Xe))throw new TypeError("Cannot call a class as a function")},E=function(be,Xe){for(var Ne=0;Ne<Xe.length;Ne++){var Qe=Xe[Ne];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(be,T(Qe.key),Qe)}},O=function(be,Xe,Ne){return Xe&&E(be.prototype,Xe),Ne&&E(be,Ne),Object.defineProperty(be,"prototype",{writable:!1}),be},T=function(be){var Xe=function(Ne,Qe){if(Q(Ne)!="object"||!Ne)return Ne;var Me=Ne[Symbol.toPrimitive];if(Me!==void 0){var Ve=Me.call(Ne,"string");if(Q(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(be);return Q(Xe)=="symbol"?Xe:Xe+""},b=function(be,Xe){var Ne={position:be.style.position,visibility:be.style.visibility,top:be.style.top,left:be.style.left,transform:be.style.transform};be.style.position="absolute",be.style.visibility="hidden",be.style.top="0",be.style.left="0",be.style.transform="none",document.body.appendChild(be);var Qe=new Map(Array.from(be.querySelectorAll(Xe)).map(function(Me){var Ve=Me.getBoundingClientRect();return[Me,new _t(Ve.left+window.scrollX,Ve.top+window.scrollY,Ve.width,Ve.height)]}));return document.body.removeChild(be),Object.assign(be.style,Ne),Qe},u=function(be){var Xe=z(be).find("WORD").toArray();return{ocrElement:be,words:Xe,firstWord:Xe[0],lastWord:Xe[Xe.length-1]}},f=function(be,Xe){var Ne,Qe,Me;return le().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:Ne=p(be),Ve.prev=1,Ne.s();case 3:if((Qe=Ne.n()).done){Ve.next=9;break}return Me=Qe.value,Ve.next=7,Xe(Me);case 7:Ve.next=3;break;case 9:Ve.next=14;break;case 11:Ve.prev=11,Ve.t0=Ve.catch(1),Ne.e(Ve.t0);case 14:return Ve.prev=14,Ne.f(),Ve.finish(14);case 17:case"end":return Ve.stop()}},W,null,[[1,11,14,17]])},m=function(be){var Xe,Ne,Qe,Me,Ve,st;return le().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:Xe=void 0,Ne=void 0,Qe=void 0,Me=p(be),gt.prev=4,Me.s();case 6:if((Ve=Me.n()).done){gt.next=17;break}if(st=Ve.value,Ne===void 0){gt.next=12;break}return Qe=st,gt.next=12,[Xe,Ne,Qe];case 12:Xe=Ne,Ne=st,Qe=void 0;case 15:gt.next=6;break;case 17:gt.next=22;break;case 19:gt.prev=19,gt.t0=gt.catch(4),Me.e(gt.t0);case 22:return gt.prev=22,Me.f(),gt.finish(22);case 25:if(Ne===void 0){gt.next=28;break}return gt.next=28,[Xe,Ne,Qe];case 28:case"end":return gt.stop()}},me,null,[[4,19,22,25]])},y=function(be,Xe){var Ne,Qe,Me,Ve;return le().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:Ne=be[Symbol.iterator](),Qe=Xe[Symbol.iterator]();case 2:if(Me=Ne.next(),Ve=Qe.next(),!Me.done||!Ve.done){st.next=7;break}return st.abrupt("return");case 7:if(!Me.done&&!Ve.done){st.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return st.next=11,[Me.value,Ve.value];case 11:st.next=2;break;case 13:case"end":return st.stop()}},oe)};t(2675),t(9463),t(6412),t(2259),t(5700),t(8125),t(8706),t(113),t(3418),t(3792),t(8598),t(2062),t(4490),t(4782),t(6910),t(9572),t(2010),t(4731),t(6033),t(479),t(8130),t(9085),t(3851),t(875),t(6099),t(8459),t(3362),t(825),t(888),t(7495),t(8781),t(9449),t(7764),t(2762),t(3500),t(2953);var w=t(1774),C=t(1669);function M(De){return M=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Xe){return typeof Xe=="undefined"?"undefined":_typeof(Xe)}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be=="undefined"?"undefined":_typeof(be)},M(De)}var I=function(){return De=function Xe(Ne,Qe){var Me=this;(function(Ve,st){if(!_instanceof(Ve,st))throw new TypeError("Cannot call a class as a function")})(this,Xe),l(this,"selecting",!1),l(this,"startedInSelector",!1),l(this,"target",null),l(this,"_onSelectionChange",function(){var Ve=window.getSelection();if(!Me.selecting&&Ve.toString()){var st=C(Ve.anchorNode).closest(Me.selector)[0];if(!st)return;Me.target=st,Me.selecting=!0,Me.handler("started",Me.target)}!Me.selecting||!Ve.isCollapsed&&Ve.toString()&&C(Ve.anchorNode).closest(Me.selector)[0]||(Me.selecting=!1,Me.handler("cleared",Me.target))}),this.selector=Ne,this.handler=Qe},(be=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&o(De.prototype,be),Object.defineProperty(De,"prototype",{writable:!1}),De;var De,be}();t(2712),t(5440);var D={urlencode:encodeURIComponent},z=t(1669);function Q(De){return Q=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Xe){return typeof Xe=="undefined"?"undefined":_typeof(Xe)}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be=="undefined"?"undefined":_typeof(be)},Q(De)}var W=le().mark(f),me=le().mark(m),oe=le().mark(y);function q(){try{var De=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(be){}return(q=function(){return!!De})()}function ee(){return ee=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(be,Xe,Ne){var Qe=function(Ve,st){for(;!{}.hasOwnProperty.call(Ve,st)&&(Ve=we(Ve))!==null;);return Ve}(be,Xe);if(Qe){var Me=Object.getOwnPropertyDescriptor(Qe,Xe);return Me.get?Me.get.call(arguments.length<3?be:Ne):Me.value}},ee.apply(null,arguments)}function we(De){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Xe){return Xe.__proto__||Object.getPrototypeOf(Xe)},we(De)}function ie(De,be){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,Qe){return Ne.__proto__=Qe,Ne},ie(De,be)}function le(){le=function(){return be};var De,be={},Xe=Object.prototype,Ne=Xe.hasOwnProperty,Qe=Object.defineProperty||function(ue,J,K){ue[J]=K.value},Me=typeof Symbol=="function"?Symbol:{},Ve=Me.iterator||"@@iterator",st=Me.asyncIterator||"@@asyncIterator",gt=Me.toStringTag||"@@toStringTag";function Mt(ue,J,K){return Object.defineProperty(ue,J,{value:K,enumerable:!0,configurable:!0,writable:!0}),ue[J]}try{Mt({},"")}catch(ue){Mt=function(K,Z,se){return K[Z]=se}}function Ue(ue,J,K,Z){var se=J&&_instanceof(J.prototype,bt)?J:bt,he=Object.create(se.prototype),Ae=new nt(Z||[]);return Qe(he,"_invoke",{value:Kt(ue,K,Ae)}),he}function Be(ue,J,K){try{return{type:"normal",arg:ue.call(J,K)}}catch(Z){return{type:"throw",arg:Z}}}be.wrap=Ue;var et="suspendedStart",Ge="suspendedYield",$e="executing",ze="completed",xt={};function bt(){}function lt(){}function Ze(){}var dt={};Mt(dt,Ve,function(){return this});var $t=Object.getPrototypeOf,qt=$t&&$t($t(je([])));qt&&qt!==Xe&&Ne.call(qt,Ve)&&(dt=qt);var Bt=Ze.prototype=bt.prototype=Object.create(dt);function ut(ue){["next","throw","return"].forEach(function(J){Mt(ue,J,function(K){return this._invoke(J,K)})})}function Y(ue,J){function K(se,he,Ae,Te){var He=Be(ue[se],ue,he);if(He.type!=="throw"){var qe=He.arg,We=qe.value;return We&&Q(We)=="object"&&Ne.call(We,"__await")?J.resolve(We.__await).then(function(Je){K("next",Je,Ae,Te)},function(Je){K("throw",Je,Ae,Te)}):J.resolve(We).then(function(Je){qe.value=Je,Ae(qe)},function(Je){return K("throw",Je,Ae,Te)})}Te(He.arg)}var Z;Qe(this,"_invoke",{value:function(he,Ae){function Te(){return new J(function(He,qe){K(he,Ae,He,qe)})}return Z=Z?Z.then(Te,Te):Te()}})}function Kt(ue,J,K){var Z=et;return function(se,he){if(Z===$e)throw Error("Generator is already running");if(Z===ze){if(se==="throw")throw he;return{value:De,done:!0}}for(K.method=se,K.arg=he;;){var Ae=K.delegate;if(Ae){var Te=Ft(Ae,K);if(Te){if(Te===xt)continue;return Te}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(Z===et)throw Z=ze,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);Z=$e;var He=Be(ue,J,K);if(He.type==="normal"){if(Z=K.done?ze:Ge,He.arg===xt)continue;return{value:He.arg,done:K.done}}He.type==="throw"&&(Z=ze,K.method="throw",K.arg=He.arg)}}}function Ft(ue,J){var K=J.method,Z=ue.iterator[K];if(Z===De)return J.delegate=null,K==="throw"&&ue.iterator.return&&(J.method="return",J.arg=De,Ft(ue,J),J.method==="throw")||K!=="return"&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+K+"' method")),xt;var se=Be(Z,ue.iterator,J.arg);if(se.type==="throw")return J.method="throw",J.arg=se.arg,J.delegate=null,xt;var he=se.arg;return he?he.done?(J[ue.resultName]=he.value,J.next=ue.nextLoc,J.method!=="return"&&(J.method="next",J.arg=De),J.delegate=null,xt):he:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,xt)}function Xt(ue){var J={tryLoc:ue[0]};1 in ue&&(J.catchLoc=ue[1]),2 in ue&&(J.finallyLoc=ue[2],J.afterLoc=ue[3]),this.tryEntries.push(J)}function R(ue){var J=ue.completion||{};J.type="normal",delete J.arg,ue.completion=J}function nt(ue){this.tryEntries=[{tryLoc:"root"}],ue.forEach(Xt,this),this.reset(!0)}function je(ue){if(ue||ue===""){var J=ue[Ve];if(J)return J.call(ue);if(typeof ue.next=="function")return ue;if(!isNaN(ue.length)){var K=-1,Z=function se(){for(;++K<ue.length;)if(Ne.call(ue,K))return se.value=ue[K],se.done=!1,se;return se.value=De,se.done=!0,se};return Z.next=Z}}throw new TypeError(Q(ue)+" is not iterable")}return lt.prototype=Ze,Qe(Bt,"constructor",{value:Ze,configurable:!0}),Qe(Ze,"constructor",{value:lt,configurable:!0}),lt.displayName=Mt(Ze,gt,"GeneratorFunction"),be.isGeneratorFunction=function(ue){var J=typeof ue=="function"&&ue.constructor;return!!J&&(J===lt||(J.displayName||J.name)==="GeneratorFunction")},be.mark=function(ue){return Object.setPrototypeOf?Object.setPrototypeOf(ue,Ze):(ue.__proto__=Ze,Mt(ue,gt,"GeneratorFunction")),ue.prototype=Object.create(Bt),ue},be.awrap=function(ue){return{__await:ue}},ut(Y.prototype),Mt(Y.prototype,st,function(){return this}),be.AsyncIterator=Y,be.async=function(ue,J,K,Z,se){se===void 0&&(se=Promise);var he=new Y(Ue(ue,J,K,Z),se);return be.isGeneratorFunction(J)?he:he.next().then(function(Ae){return Ae.done?Ae.value:he.next()})},ut(Bt),Mt(Bt,gt,"Generator"),Mt(Bt,Ve,function(){return this}),Mt(Bt,"toString",function(){return"[object Generator]"}),be.keys=function(ue){var J=Object(ue),K=[];for(var Z in J)K.push(Z);return K.reverse(),function se(){for(;K.length;){var he=K.pop();if(he in J)return se.value=he,se.done=!1,se}return se.done=!0,se}},be.values=je,nt.prototype={constructor:nt,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=De,this.done=!1,this.delegate=null,this.method="next",this.arg=De,this.tryEntries.forEach(R),!J)for(var K in this)K.charAt(0)==="t"&&Ne.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=De)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var K=this;function Z(qe,We){return Ae.type="throw",Ae.arg=J,K.next=qe,We&&(K.method="next",K.arg=De),!!We}for(var se=this.tryEntries.length-1;se>=0;--se){var he=this.tryEntries[se],Ae=he.completion;if(he.tryLoc==="root")return Z("end");if(he.tryLoc<=this.prev){var Te=Ne.call(he,"catchLoc"),He=Ne.call(he,"finallyLoc");if(Te&&He){if(this.prev<he.catchLoc)return Z(he.catchLoc,!0);if(this.prev<he.finallyLoc)return Z(he.finallyLoc)}else if(Te){if(this.prev<he.catchLoc)return Z(he.catchLoc,!0)}else{if(!He)throw Error("try statement without catch or finally");if(this.prev<he.finallyLoc)return Z(he.finallyLoc)}}}},abrupt:function(J,K){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var se=this.tryEntries[Z];if(se.tryLoc<=this.prev&&Ne.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var he=se;break}}he&&(J==="break"||J==="continue")&&he.tryLoc<=K&&K<=he.finallyLoc&&(he=null);var Ae=he?he.completion:{};return Ae.type=J,Ae.arg=K,he?(this.method="next",this.next=he.finallyLoc,xt):this.complete(Ae)},complete:function(J,K){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&K&&(this.next=K),xt},finish:function(J){for(var K=this.tryEntries.length-1;K>=0;--K){var Z=this.tryEntries[K];if(Z.finallyLoc===J)return this.complete(Z.completion,Z.afterLoc),R(Z),xt}},catch:function(J){for(var K=this.tryEntries.length-1;K>=0;--K){var Z=this.tryEntries[K];if(Z.tryLoc===J){var se=Z.completion;if(se.type==="throw"){var he=se.arg;R(Z)}return he}}throw Error("illegal catch attempt")},delegateYield:function(J,K,Z){return this.delegate={iterator:je(J),resultName:K,nextLoc:Z},this.method==="next"&&(this.arg=De),xt}},be}var ye=window.BookReader,Ee={enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1},fe=function(){return O(function De(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;A(this,De),this.maxSize=be,this.entries=[]},[{key:"add",value:function(be){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(be)}}])}(),rt=function(){return O(function Xe(){var Ne,Qe,Me,Ve=this,st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ee,gt=arguments.length>1?arguments[1]:void 0,Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"lr";A(this,Xe),Ne=this,Me=function(Be,et){if(Be==="started")Ve.textSelectingMode(et);else{if(Be!=="cleared")throw new Error("Unknown type ".concat(Be));Ve.defaultMode(et)}},(Qe=T(Qe="_onSelectionChange"))in Ne?Object.defineProperty(Ne,Qe,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Ne[Qe]=Me,this.options=st,this.optionVariables=gt,this.djvuPagesPromise=null,this.rtl=Mt==="rl",this.pageTextCache=new fe,this.maxWordRendered=2500,this.selectionObserver=new I(".BRtextLayer",this._onSelectionChange)},[{key:"init",value:function(){this.selectionObserver.attach(),this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=z.ajax({type:"GET",url:r(this.options.fullDjvuXmlUrl,this.optionVariables),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:window.br.protected},error:function(Qe){}}).then(function(Ne){try{var Qe=z.parseXML(Ne);return Qe&&z(Qe).find("OBJECT")}catch(Me){return}}))}},{key:"getPageText",value:(be=S(le().mark(function Xe(Ne){var Qe,Me,Ve,st,gt;return le().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(!this.options.singlePageDjvuXmlUrl){Mt.next=19;break}if(!(Qe=this.pageTextCache.entries.find(function(Ue){return Ue.index==Ne}))){Mt.next=4;break}return Mt.abrupt("return",Qe.response);case 4:return Mt.next=6,z.ajax({type:"GET",url:r(this.options.singlePageDjvuXmlUrl,this.optionVariables,{pageIndex:Ne}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:window.br.protected},error:function(Be){}});case 6:return Me=Mt.sent,Mt.prev=7,Ve=z.parseXML(Me),st=Ve&&z(Ve).find("OBJECT")[0],this.pageTextCache.add({index:Ne,response:st}),Mt.abrupt("return",st);case 14:return Mt.prev=14,Mt.t0=Mt.catch(7),Mt.abrupt("return",void 0);case 17:Mt.next=24;break;case 19:return Mt.next=21,this.djvuPagesPromise;case 21:if(!(gt=Mt.sent)){Mt.next=24;break}return Mt.abrupt("return",gt[Ne]);case 24:case"end":return Mt.stop()}},Xe,this,[[7,14]])})),function(Xe){return be.apply(this,arguments)})},{key:"interceptCopy",value:function(Ne){Ne[0].addEventListener("copy",function(Qe){var Me=document.getSelection();Qe.clipboardData.setData("text/plain",Me.toString()),Qe.preventDefault()})}},{key:"defaultMode",value:function(Ne){var Qe=this,Me=z(Ne).closest(".BRpagecontainer");Ne.style.pointerEvents="none",Me.find("img").css("pointer-events","auto"),z(Ne).off(".textSelectPluginHandler");var Ve=this.mouseIsDown,st=this.mouseIsDown;Ve&&(Ne.style.pointerEvents="auto"),z(Ne).on("mousedown.textSelectPluginHandler",function(gt){Qe.mouseIsDown=!0,z(gt.target).is(".BRwordElement, .BRspace")&&gt.stopPropagation()}),z(Ne).on("mouseup.textSelectPluginHandler",function(gt){Qe.mouseIsDown=!1,Ne.style.pointerEvents="none",st&&(st=!1,gt.stopPropagation())})}},{key:"textSelectingMode",value:function(Ne){var Qe=this,Me=z(Ne).closest(".BRpagecontainer");Ne.style.pointerEvents="all",Me.find("img").css("pointer-events","none"),z(Ne).off(".textSelectPluginHandler"),z(Ne).on("mousedown.textSelectPluginHandler",function(Ve){Qe.mouseIsDown=!0,Ve.stopPropagation()}),z(Ne).on("mouseup.textSelectPluginHandler",function(Ve){Qe.mouseIsDown=!1,Ve.stopPropagation()})}},{key:"stopPageFlip",value:function(Ne){var Qe=this,Me=Ne.find(".BRtextLayer");Me.length&&(Me.each(function(Ve,st){return Qe.defaultMode(st)}),this.interceptCopy(Ne))}},{key:"createTextLayer",value:(De=S(le().mark(function Xe(Ne){var Qe,Me,Ve,st,gt,Mt,Ue,Be,et,Ge,$e,ze,xt,bt,lt,Ze,dt,$t,qt,Bt,ut,Y,Kt,Ft,Xt=this;return le().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(Qe=Ne.page.index,!(Me=Ne.$container).find(".BRtextLayer").length){R.next=5;break}return R.abrupt("return");case 5:return R.next=7,this.getPageText(Qe);case 7:if(Ve=R.sent){R.next=10;break}return R.abrupt("return");case 10:if(Ot(Ve),!((st=z(Ve).find("WORD").length)>this.maxWordRendered)){R.next=15;break}return console.log("Page ".concat(Qe," has too many words (").concat(st," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),R.abrupt("return");case 15:gt=(0,w.Ql)(Ne.page,"BRtextLayer"),Mt=parseFloat(Ne.$container[0].style.width)/Ne.page.width,Ue=parseFloat(Ne.$container[0].style.height)/Ne.page.height,gt.style.transform="scale(".concat(Mt,", ").concat(Ue,")"),gt.setAttribute("dir",this.rtl?"rtl":"ltr"),Be=z(Ve).find("PARAGRAPH[coords]").toArray(),et=Be.map(function(nt){var je=Xt.renderParagraph(nt);return gt.appendChild(je),je}),Ge=b(gt,".BRparagraphElement"),$e=0,ze=p(y(Be,et));try{for(ze.s();!(xt=ze.n()).done;)bt=h(xt.value,2),lt=bt[0],Ze=bt[1],dt=z(lt).attr("coords").split(",").map(parseFloat),$t=Ge.get(Ze),qt=h(dt,4),Bt=qt[0],ut=qt[2],Y=qt[3],Kt=this.rtl?$t.right-ut:Bt-$t.left,Ft=Y-($t.top+$e),Ze.style[this.rtl?"marginRight":"marginLeft"]="".concat(Kt,"px"),Ze.style.marginTop="".concat(Ft,"px"),$e+=Ft,gt.appendChild(Ze)}catch(nt){ze.e(nt)}finally{ze.f()}Me.append(gt),this.stopPageFlip(Me);case 28:case"end":return R.stop()}},Xe,this)})),function(Xe){return De.apply(this,arguments)})},{key:"renderParagraph",value:function(Ne){var Qe=document.createElement("p");Qe.classList.add("BRparagraphElement");var Me=h(z(Ne).attr("coords").split(",").map(parseFloat),4),Ve=Me[0],st=Me[1],gt=Me[2],Mt=Me[3],Ue=[],Be=z(Ne).find("LINE[coords]").toArray();if(!Be.length)return Qe;var et,Ge=p(m(f(Be,u)));try{for(Ge.s();!(et=Ge.n()).done;){var $e=h(et.value,3),ze=$e[0],xt=$e[1],bt=$e[2],lt=xt.ocrElement==Be[Be.length-1],Ze=document.createElement("span");Ze.classList.add("BRlineElement");var dt,$t=p(xt.words.entries());try{for($t.s();!(dt=$t.n()).done;){var qt=h(dt.value,2),Bt=qt[0],ut=qt[1],Y=h(z(ut).attr("coords").split(",").map(parseFloat),4),Kt=Y[1],Ft=Y[2],Xt=Y[3],R=Kt-Xt;if(Ue.push(R),Bt==0&&ze!=null&&ze.lastWord.textContent.trim().endsWith("-")){var nt=h(z((bt||ze).firstWord).attr("coords").split(",").map(parseFloat),3)[0];z(ut).attr("coords","".concat(nt,",").concat(Kt,",").concat(Ft,",").concat(Xt))}var je=document.createElement("span");if(je.setAttribute("class","BRwordElement"),je.textContent=ut.textContent.trim(),Bt>0){var ue=document.createElement("span");ue.classList.add("BRspace"),ue.textContent=" ",Ze.append(ue),Ze.appendChild(document.createTextNode(" "))}Ze.appendChild(je)}}catch(An){$t.e(An)}finally{$t.f()}var J=xt.lastWord.textContent.trim().endsWith("-"),K=Ze.children[Ze.children.length-1];J&&!lt&&(K.textContent=K.textContent.trim().slice(0,-1),K.classList.add("BRwordElement--hyphen")),Qe.appendChild(Ze),lt||J||Qe.appendChild(document.createTextNode(" "))}}catch(An){Ge.e(An)}finally{Ge.f()}Ue.sort(function(An,$n){return An-$n});var Z=Ue[Math.floor(.85*Ue.length)]+4;Qe.style.left="".concat(Ve,"px"),Qe.style.top="".concat(Mt,"px"),Qe.style.width="".concat(gt-Ve,"px"),Qe.style.height="".concat(st-Mt,"px"),Qe.style.fontSize="".concat(Z,"px");var se,he=b(Qe,".BRwordElement"),Ae=p(y(z(Ne).find("WORD").toArray(),Qe.querySelectorAll(".BRwordElement")));try{for(Ae.s();!(se=Ae.n()).done;){var Te=h(se.value,2),He=Te[0],qe=Te[1],We=he.get(qe),Je=h(z(He).attr("coords").split(",").map(parseFloat),3),Tt=Je[0],It=Je[2]-Tt;He.textContent.endsWith(" ")&&(It=It*(He.textContent.length-1)/He.textContent.length);var Nt=It-We.width;qe.style.letterSpacing="".concat(Nt/(He.textContent.length-1),"px")}}catch(An){Ae.e(An)}finally{Ae.f()}he=b(Qe,".BRwordElement");var Lt,Rt,sn=b(Qe,".BRspace"),ln=z(Ne).find("LINE[coords]").toArray(),jt=Array.from(Qe.querySelectorAll(".BRlineElement")),rn=Mt,Qt=p(y(ln,jt));try{for(Qt.s();!(Lt=Qt.n()).done;){var Rn,Vt=h(Lt.value,2),ur=Vt[0],Dn=Vt[1],tr=z(ur).find("WORD").toArray(),en=this.rtl?gt:Ve,Tn=p(y(tr,Dn.querySelectorAll(".BRwordElement")));try{for(Tn.s();!(Rn=Tn.n()).done;){var fr=h(Rn.value,2),_n=fr[0],cr=fr[1],Pe=he.get(cr),re=h(z(_n).attr("coords").split(",").map(parseFloat),3),Ce=re[0],ht=re[2],At=this.rtl?-(ht-en):Ce-en;if(cr.previousElementSibling){var yt=cr.previousElementSibling;yt.style.letterSpacing="".concat(At-sn.get(yt).width,"px")}else cr.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(At,"px");this.rtl?en-=At+Pe.width:en+=At+Pe.width}}catch(An){Tn.e(An)}finally{Tn.f()}var gn=Math.min.apply(Math,function(An){if(Array.isArray(An))return k(An)}(Rt=tr.map(function(An){return parseFloat(z(An).attr("coords").split(",")[3])}))||function(An){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&An[Symbol.iterator]!=null||An["@@iterator"]!=null)return Array.from(An)}(Rt)||v(Rt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())-rn;Dn.previousElementSibling&&(Dn.previousElementSibling.style.lineHeight="".concat(gn,"px"),rn+=gn)}}catch(An){Qt.e(An)}finally{Qt.f()}return jt[jt.length-1].style.lineHeight="".concat(st-rn,"px"),Qe.appendChild(document.createElement("br")),Qe}}]);var De,be}(),ct=function(De){function be(){return A(this,be),c(this,be,arguments)}return function(Xe,Ne){if(typeof Ne!="function"&&Ne!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Ne&&ie(Xe,Ne)}(be,De),O(be,[{key:"init",value:function(){var Ne=this,Qe=Object.assign({},Ee,this.options.plugins.textSelection);Qe.enabled&&(this.textSelectionPlugin=new rt(Qe,this.options.vars,this.pageProgression),this.options.plugins.textSelection=Qe,this.textSelectionPlugin.init(),new I(".BRtextLayer",function(Me){var Ve;Me=="started"&&((Ve=Ne.archiveAnalyticsSendEvent)===null||Ve===void 0||Ve.call(Ne,"BookReader","SelectStart"),Ne.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),z(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach()),d(be,"init",this,3)([])}},{key:"_createPageContainer",value:function(Ne){var Qe,Me=d(be,"_createPageContainer",this,3)([Ne]);return this.mode!==this.constModeThumb&&Me.page&&((Qe=this.textSelectionPlugin)===null||Qe===void 0||Qe.createTextLayer(Me)),Me}}])}(ye);function Ot(De){if(!z(De).attr("coords")&&De.children){var be=z(De).children().toArray();if(be.length!==0){var Xe,Ne=p(be);try{for(Ne.s();!(Xe=Ne.n()).done;)Ot(Xe.value)}catch(Mt){Ne.e(Mt)}finally{Ne.f()}var Qe,Me=[],Ve=p(be);try{for(Ve.s();!(Qe=Ve.n()).done;){var st=Qe.value;z(st).attr("coords")&&Me.push(z(st).attr("coords").split(",").map(parseFloat))}}catch(Mt){Ve.e(Mt)}finally{Ve.f()}var gt=function(Mt){var Ue,Be=1/0,et=-1/0,Ge=-1/0,$e=1/0,ze=p(Mt);try{for(ze.s();!(Ue=ze.n()).done;){var xt=h(Ue.value,4),bt=xt[0],lt=xt[1],Ze=xt[2],dt=xt[3];Be=Math.min(Be,bt),et=Math.max(et,lt),Ge=Math.max(Ge,Ze),$e=Math.min($e,dt)}}catch($t){ze.e($t)}finally{ze.f()}return[Be,et,Ge,$e]}(Me);Math.abs(gt[0])!=1/0&&z(De).attr("coords",gt.join(","))}}}window.BookReader=ct;var _t=function(){return O(function De(be,Xe,Ne,Qe){A(this,De),this.x=be,this.y=Xe,this.width=Ne,this.height=Qe},[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}])}()},706:function(n,e,t){var o=t(350).PROPER,l=t(9039),s=t(7452);n.exports=function(a){return l(function(){return!!s[a]()||"\u200B\x85\u180E"[a]()!=="\u200B\x85\u180E"||o&&s[a].name!==a})}},2762:function(n,e,t){var o=t(6518),l=t(3802).trim;o({target:"String",proto:!0,forced:t(706)("trim")},{trim:function(){return l(this)}})}},function(n){n(n.s=3036)}])}),Um={},L4(Um,{default:function(){return qm}}),D4=zm(Hm()),R4(Um,zm(Hm()));var g;ir=D4,g=ir,Vm=g.default,$4=Ri(ir,["default"]),qm=Vm!==void 0?Vm:$4}}),B4={};bi(B4,{default:function(){return qm}});var nP=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87/BookReader/plugins/plugin.text_selection.js":function(){N4(),N4()}}),rP={},iP=Gt({"www/sf/bookreader/BookReaderHelpers.js":function(){typeof Object.assign!="function"&&function(){Object.assign=function(g){"use strict";if(g==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(g),e=1;e<arguments.length;e++){var t=arguments[e];if(t!=null)for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o])}return n}}(),window.logError=AT}}),Va,F4,ya,wh,Ro,Pi,Wm,z4,Ym,H4,U4,Gm,V4,q4,Fl,Km,W4,Xm,Y4,oP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/search-service@0.1.2/esnext/search-service.mjs":function(){Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Va=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.values=[],this.parser=n,this.rawValue=e,this.processRawValue()}return _createClass(g,[{key:"value",get:function(){return this.values.length>0?this.values[0]:void 0}},{key:"processRawValue",value:function(){var e=this;this.rawValue!==void 0&&(Array.isArray(this.rawValue)?this.rawValue.forEach(function(t){e.parseAndPersistValue(t)}):this.parseAndPersistValue(this.rawValue))}},{key:"parseAndPersistValue",value:function(e){var t=this.parser.parseValue(e);t!==void 0&&this.values.push(t)}}]),g}(),F4=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,nc.shared,t)}return e}(Va),ya=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,ga.shared,t)}return e}(Va),wh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Hs.shared,t)}return e}(Va),Ro=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,co.shared,t)}return e}(Va),Pi=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Bl.shared,t)}return e}(Va),Wm=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Ua.shared,t)}return e}(Va),z4=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,rc.shared,t)}return e}(Va),Ym=function g(n){"use strict";_classCallCheck(this,g),this.rawMetadata=n,this.identifier=n.identifier,this.addeddate=n.addeddate?new ya(n.addeddate):void 0,this.publicdate=n.publicdate?new ya(n.publicdate):void 0,this.indexdate=n.indexdate?new ya(n.indexdate):void 0,this.audio_codec=n.audio_codec?new Pi(n.audio_codec):void 0,this.audio_sample_rate=n.audio_sample_rate?new Ro(n.audio_sample_rate):void 0,this.collection=n.collection?new Pi(n.collection):void 0,this.collections_raw=n.collections_raw?new Pi(n.collections_raw):void 0,this.collection_size=n.collection_size?new Wm(n.collection_size):void 0,this.contributor=n.contributor?new Pi(n.contributor):void 0,this.coverage=n.coverage?new Pi(n.coverage):void 0,this.creator=n.creator?new Pi(n.creator):void 0,this.date=n.date?new ya(n.date):void 0,this.description=n.description?new Pi(n.description):void 0,this.downloads=n.downloads?new Ro(n.downloads):void 0,this.duration=n.duration?new wh(n.duration):void 0,this.files_count=n.files_count?new Ro(n.files_count):void 0,this.item_count=n.item_count?new Ro(n.item_count):void 0,this.item_size=n.item_size?new Wm(n.item_size):void 0,this.language=n.language?new Pi(n.language):void 0,this.length=n.length?new wh(n.length):void 0,this.lineage=n.lineage?new Pi(n.lineage):void 0,this.mediatype=n.mediatype?new z4(n.mediatype):void 0,this.month=n.month?new Ro(n.month):void 0,this.noindex=n.noindex?new F4(n.noindex):void 0,this.notes=n.notes?new Pi(n.notes):void 0,this.num_favorites=n.num_favorites?new Ro(n.num_favorites):void 0,this.num_reviews=n.num_reviews?new Ro(n.num_reviews):void 0,this.runtime=n.runtime?new wh(n.runtime):void 0,this.scanner=n.scanner?new Pi(n.scanner):void 0,this.source=n.source?new Pi(n.source):void 0,this.start_localtime=n.start_localtime?new ya(n.start_localtime):void 0,this.start_time=n.start_time?new ya(n.start_time):void 0,this.stop_time=n.stop_time?new ya(n.stop_time):void 0,this.subject=n.subject?new Pi(n.subject):void 0,this.taper=n.taper?new Pi(n.taper):void 0,this.title=n.title?new Pi(n.title):void 0,this.track=n.track?new Ro(n.track):void 0,this.transferer=n.transferer?new Pi(n.transferer):void 0,this.type=n.type?new Pi(n.type):void 0,this.uploader=n.uploader?new Pi(n.uploader):void 0,this.utc_offset=n.utc_offset?new Ro(n.utc_offset):void 0,this.venue=n.venue?new Pi(n.venue):void 0,this.week=n.week?new Ro(n.week):void 0,this.year=n.year?new ya(n.year):void 0},H4=function g(n){"use strict";_classCallCheck(this,g),this.name=n.name,this.source=n.source,this.btih=n.btih,this.md5=n.md5,this.format=n.format,this.mtime=n.mtime,this.crc32=n.crc32,this.sha1=n.sha1,this.original=n.original,this.title=n.title,this.length=n.length?Hs.shared.parseValue(n.length):void 0,this.size=n.size?Ua.shared.parseValue(n.size):void 0,this.height=n.height?co.shared.parseValue(n.height):void 0,this.width=n.width?co.shared.parseValue(n.width):void 0,this.track=n.track?co.shared.parseValue(n.track):void 0,this.external_identifier=n["external-identifier"],this.creator=n.creator,this.album=n.album},U4=function g(n){"use strict";_classCallCheck(this,g),this.reviewbody=n.reviewbody,this.reviewtitle=n.reviewtitle,this.reviewer=n.reviewer,this.reviewdate=ga.shared.parseValue(n.reviewdate),this.createdate=ga.shared.parseValue(n.createdate),this.stars=n.stars?parseFloat(n.stars):void 0},Gm=function g(n){"use strict";_classCallCheck(this,g);var e,t;this.rawResponse=n,this.created=n.created,this.d1=n.d1,this.d2=n.d2,this.dir=n.dir,this.files=(e=n.files)===null||e===void 0?void 0:e.map(function(o){return new H4(o)}),this.files_count=n.files_count,this.item_last_updated=n.item_last_updated,this.item_size=n.item_size,this.metadata=new Ym(n.metadata),this.server=n.server,this.uniq=n.uniq,this.workable_servers=n.workable_servers,this.speech_vs_music_asr=n.speech_vs_music_asr,this.reviews=(t=n.reviews)===null||t===void 0?void 0:t.map(function(o){return new U4(o)})},V4=function g(n){"use strict";_classCallCheck(this,g),this.numFound=n.numFound,this.start=n.start,this.docs=n.docs.map(function(e){return new Ym(e)}),this.aggregations=n.aggregations},q4=function g(n){"use strict";_classCallCheck(this,g),this.rawResponse=n,this.responseHeader=n.responseHeader,this.response=new V4(n.response)},function(g){g.networkError="SearchService.NetworkError",g.itemNotFound="SearchService.ItemNotFound",g.decodingError="SearchService.DecodingError",g.searchEngineError="SearchService.SearchEngineError"}(Fl||(Fl={})),Km=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l){_classCallCheck(this,e);var s;return s=n.call(this,o),s.name=t,s.type=t,s.details=l,_possibleConstructorReturn(s)}return e}(_wrapNativeSuper(Error)),W4=function(){"use strict";function g(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"archive.org";_classCallCheck(this,g),this.baseUrl=n}return _createClass(g,[{key:"performSearch",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.asUrlSearchParams.toString(),l="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),a.abrupt("return",this.fetchUrl(l));case 2:case"end":return a.stop()}},t,this)}))}},{key:"fetchMetadata",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o="https://".concat(this.baseUrl,"/metadata/").concat(e),s.abrupt("return",this.fetchUrl(o));case 2:case"end":return s.stop()}},t,this)}))}},{key:"fetchUrl",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s,a,r,c;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=1,h.next=4,fetch(e);case 4:o=h.sent,h.next=11;break;case 7:return h.prev=7,h.t0=h.catch(1),l=_instanceof(h.t0,Error)?h.t0.message:h.t0,h.abrupt("return",this.getErrorResult(Fl.networkError,l));case 11:return h.prev=11,h.next=14,o.json();case 14:if(s=h.sent,a=s.error,!a){h.next=21;break}return r=s.forensics,h.abrupt("return",this.getErrorResult(Fl.searchEngineError,a,r));case 21:return h.abrupt("return",{success:s});case 22:h.next=28;break;case 24:return h.prev=24,h.t1=h.catch(11),c=_instanceof(h.t1,Error)?h.t1.message:h.t1,h.abrupt("return",this.getErrorResult(Fl.decodingError,c));case 28:case"end":return h.stop()}},t,this,[[1,7],[11,24]])}))}},{key:"getErrorResult",value:function(e,t,o){return{error:new Km(e,t,o)}}}]),g}(),Xm=function(){"use strict";function g(n){_classCallCheck(this,g),this.searchBackend=n}return _createClass(g,[{key:"search",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.searchBackend.performSearch(e);case 2:return o=s.sent,s.abrupt("return",o.error?o:{success:new q4(o.success)});case 4:case"end":return s.stop()}},t,this)}))}},{key:"fetchMetadata",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,this.searchBackend.fetchMetadata(e);case 3:return l=a.sent,a.abrupt("return",l.error?l:((o=l.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new Km(Fl.itemNotFound)}:{success:new Gm(l.success)});case 5:case"end":return a.stop()}},t,this)}))}}]),g}(),Xm.default=new Xm(new W4),function(g){g.Asc="asc",g.Desc="desc"}(Y4||(Y4={}))}}),G4,K4,aP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-ellipses@1.3.4/esnext/icon-ellipses.js":function(){Sn(),Sn(),G4=kt(_templateObject107()),K4=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return G4}}],[{key:"styles",get:function(){return zt(_templateObject108())}}]),e}(rr),customElements.define("ia-icon-ellipses",K4)}}),X4,J4,sP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-collapse-sidebar@1.3.4/esnext/icon-collapse-sidebar.mjs":function(){Sn(),Sn(),X4=kt(_templateObject109()),J4=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return X4}}],[{key:"styles",get:function(){return zt(_templateObject110())}}]),e}(rr),customElements.define("ia-icon-collapse-sidebar",J4)}}),Z4,Q4,eS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-share@1.3.4/esnext/icon-share.js":function(){Sn(),Sn(),Z4=kt(_templateObject111()),Q4=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return Z4}}],[{key:"styles",get:function(){return zt(_templateObject112())}}]),e}(rr),customElements.define("ia-icon-share",Q4)}}),tS,nS,rS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-twitter@1.3.4/esnext/icon-twitter.js":function(){Sn(),Sn(),tS=kt(_templateObject113()),nS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return tS}}],[{key:"styles",get:function(){return zt(_templateObject114())}}]),e}(rr),customElements.define("ia-icon-twitter",nS)}}),iS,oS,aS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-facebook@1.3.4/esnext/icon-facebook.js":function(){Sn(),Sn(),iS=kt(_templateObject115()),oS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return iS}}],[{key:"styles",get:function(){return zt(_templateObject116())}}]),e}(rr),customElements.define("ia-icon-facebook",oS)}}),sS,lS,uS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-tumblr@1.3.4/esnext/icon-tumblr.js":function(){Sn(),Sn(),sS=kt(_templateObject117()),lS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return sS}}],[{key:"styles",get:function(){return zt(_templateObject118())}}]),e}(rr),customElements.define("ia-icon-tumblr",lS)}}),cS,dS,hS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-pinterest@1.3.4/esnext/icon-pinterest.js":function(){Sn(),Sn(),cS=kt(_templateObject119()),dS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return cS}}],[{key:"styles",get:function(){return zt(_templateObject120())}}]),e}(rr),customElements.define("ia-icon-pinterest",dS)}}),fS,pS,vS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-email@1.3.4/esnext/icon-email.js":function(){Sn(),Sn(),fS=kt(_templateObject121()),pS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return fS}}],[{key:"styles",get:function(){return zt(_templateObject122())}}]),e}(rr),customElements.define("ia-icon-email",pS)}}),mS,gS,yS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-link@1.3.4/esnext/icon-link.js":function(){Sn(),Sn(),mS=kt(_templateObject123()),gS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return mS}}],[{key:"styles",get:function(){return zt(_templateObject124())}}]),e}(rr),customElements.define("ia-icon-link",gS)}}),ic,zl,Hl,oc=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directive.js":function(){ic={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},zl=function(g){return function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return{_$litDirective$:g,values:e}}},Hl=function(){"use strict";function g(n){_classCallCheck(this,g)}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,t,o){this._$Ct=e,this._$AM=t,this._$Ci=o}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,_toConsumableArray(t))}}]),g}()}});function Us(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===ql)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=Ul(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=Us(g,r._$AS(g,n.values),r,t)),n}var Jm,ac,Vs,Zm,sc,Yo,_h,bS,qa,lc,Ul,Qm,eg,kh,Vl,tg,ng,Wa,rg,ig,og,ag,lP,uP,ql,Di,sg,Ya,lg,xh,ug,Sh,Wl,cg,wS,dg,hg,fg,_S,pg,kS,vg,xS,mg,Ga,Ka,SS,Ch,Ah,Oh,CS,AS=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directive-helpers.js":function(){ac=window,Vs=ac.trustedTypes,Zm=Vs?Vs.createPolicy("lit-html",{createHTML:function(n){return n}}):void 0,sc="$lit$",Yo="lit$".concat((Math.random()+"").slice(9),"$"),_h="?"+Yo,bS="<".concat(_h,">"),qa=document,lc=function(){return qa.createComment("")},Ul=function(n){return n===null||typeof n!="object"&&typeof n!="function"},Qm=Array.isArray,eg=function(n){return Qm(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function"},kh="[ 	\n\f\r]",Vl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,tg=/-->/g,ng=/>/g,Wa=RegExp(">|".concat(kh,"(?:([^\\s\"'>=/]+)(").concat(kh,"*=").concat(kh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),rg=/'/g,ig=/"/g,og=/^(?:script|style|textarea|title)$/i,ag=function(n){return function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];return{_$litType$:n,strings:e,values:o}}},lP=ag(1),uP=ag(2),ql=Symbol.for("lit-noChange"),Di=Symbol.for("lit-nothing"),sg=new WeakMap,Ya=qa.createTreeWalker(qa,129,null,!1),lg=function(n,e){for(var t=n.length-1,o=[],l,s=e===2?"<svg>":"",a=Vl,r=0;r<t;r++){for(var c=n[r],d=void 0,h=void 0,p=-1,v=0;v<c.length&&(a.lastIndex=v,h=a.exec(c),h!==null);)v=a.lastIndex,a===Vl?h[1]==="!--"?a=tg:h[1]!==void 0?a=ng:h[2]!==void 0?(og.test(h[2])&&(l=RegExp("</"+h[2],"g")),a=Wa):h[3]!==void 0&&(a=Wa):a===Wa?h[0]===">"?(a=l!=null?l:Vl,p=-1):h[1]===void 0?p=-2:(p=a.lastIndex-h[2].length,d=h[1],a=h[3]===void 0?Wa:h[3]==='"'?ig:rg):a===ig||a===rg?a=Wa:a===tg||a===ng?a=Vl:(a=Wa,l=void 0);var k=a===Wa&&n[r+1].startsWith("/>")?" ":"";s+=a===Vl?c+bS:p>=0?(o.push(d),c.slice(0,p)+sc+c.slice(p)+Yo+k):c+Yo+(p===-2?(o.push(void 0),r):k)}return[Rk(n,s+(n[t]||"<?>")+(e===2?"</svg>":"")),o]},xh=function(){"use strict";function n(e,t){var o=e.strings,l=e._$litType$;_classCallCheck(this,n);var s;this.parts=[];var a=0,r=0,c=o.length-1,d=this.parts,h=_slicedToArray(lg(o,l),2),p=h[0],v=h[1];if(this.el=n.createElement(p,t),Ya.currentNode=this.el.content,l===2){var k,x=this.el.content,S=x.firstChild;S.remove(),(k=x).append.apply(k,_toConsumableArray(S.childNodes))}for(;(s=Ya.nextNode())!==null&&d.length<c;){if(s.nodeType===1){if(s.hasAttributes()){var A=[],E=!0,O=!1,T=void 0;try{for(var b=s.getAttributeNames()[Symbol.iterator](),u;!(E=(u=b.next()).done);E=!0){var f=u.value;if(f.endsWith(sc)||f.startsWith(Yo)){var m=v[r++];if(A.push(f),m!==void 0){var y=s.getAttribute(m.toLowerCase()+sc).split(Yo),w=/([.?@])?(.*)/.exec(m);d.push({type:1,index:a,name:w[2],strings:y,ctor:w[1]==="."?cg:w[1]==="?"?dg:w[1]==="@"?hg:Wl})}else d.push({type:6,index:a})}}}catch(ee){O=!0,T=ee}finally{try{!E&&b.return!=null&&b.return()}finally{if(O)throw T}}var C=!0,M=!1,I=void 0;try{for(var D=A[Symbol.iterator](),z;!(C=(z=D.next()).done);C=!0){var Q=z.value;s.removeAttribute(Q)}}catch(ee){M=!0,I=ee}finally{try{!C&&D.return!=null&&D.return()}finally{if(M)throw I}}}if(og.test(s.tagName)){var W=s.textContent.split(Yo),me=W.length-1;if(me>0){s.textContent=Vs?Vs.emptyScript:"";for(var oe=0;oe<me;oe++)s.append(W[oe],lc()),Ya.nextNode(),d.push({type:2,index:++a});s.append(W[me],lc())}}}else if(s.nodeType===8)if(s.data===_h)d.push({type:2,index:a});else for(var q=-1;(q=s.data.indexOf(Yo,q+1))!==-1;)d.push({type:7,index:a}),q+=Yo.length-1;a++}}return _createClass(n,null,[{key:"createElement",value:function(t,o){var l=qa.createElement("template");return l.innerHTML=t,l}}]),n}(),ug=function(){"use strict";function n(e,t){_classCallCheck(this,n),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}return _createClass(n,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(t){var o,l=this._$AD,s=l.el,a=s.content,r=l.parts,c=((o=t==null?void 0:t.creationScope)!==null&&o!==void 0?o:qa).importNode(a,!0);Ya.currentNode=c;for(var d=Ya.nextNode(),h=0,p=0,v=r[0];v!==void 0;){if(h===v.index){var k=void 0;v.type===2?k=new Sh(d,d.nextSibling,this,t):v.type===1?k=new v.ctor(d,v.name,v.strings,this,t):v.type===6&&(k=new fg(d,this,t)),this._$AV.push(k),v=r[++p]}h!==(v==null?void 0:v.index)&&(d=Ya.nextNode(),h++)}return Ya.currentNode=qa,c}},{key:"v",value:function(t){var o=0,l=!0,s=!1,a=void 0;try{for(var r=this._$AV[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;d!==void 0&&(d.strings!==void 0?(d._$AI(t,d,o),o+=d.strings.length-2):d._$AI(t[o])),o++}}catch(h){s=!0,a=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(s)throw a}}}}]),n}(),Sh=function(){"use strict";function n(e,t,o,l){_classCallCheck(this,n);var s;this.type=2,this._$AH=Di,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=o,this.options=l,this._$Cp=(s=l==null?void 0:l.isConnected)===null||s===void 0||s}return _createClass(n,[{key:"_$AU",get:function(){var t,o;return(o=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&o!==void 0?o:this._$Cp}},{key:"parentNode",get:function(){var t=this._$AA.parentNode,o=this._$AM;return o!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=o.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;t=Us(this,t,o),Ul(t)?t===Di||t==null||t===""?(this._$AH!==Di&&this._$AR(),this._$AH=Di):t!==this._$AH&&t!==ql&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):eg(t)?this.T(t):this._(t)}},{key:"k",value:function(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}},{key:"$",value:function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}},{key:"_",value:function(t){this._$AH!==Di&&Ul(this._$AH)?this._$AA.nextSibling.data=t:this.$(qa.createTextNode(t)),this._$AH=t}},{key:"g",value:function(t){var o,l=t.values,s=t._$litType$,a=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=xh.createElement(Rk(s.h,s.h[0]),this.options)),s);if(((o=this._$AH)===null||o===void 0?void 0:o._$AD)===a)this._$AH.v(l);else{var r=new ug(a,this),c=r.u(this.options);r.v(l),this.$(c),this._$AH=r}}},{key:"_$AC",value:function(t){var o=sg.get(t.strings);return o===void 0&&sg.set(t.strings,o=new xh(t)),o}},{key:"T",value:function(t){Qm(this._$AH)||(this._$AH=[],this._$AR());var o=this._$AH,l,s=0,a=!0,r=!1,c=void 0;try{for(var d=t[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;s===o.length?o.push(l=new n(this.k(lc()),this.k(lc()),this,this.options)):l=o[s],l._$AI(p),s++}}catch(v){r=!0,c=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}s<o.length&&(this._$AR(l&&l._$AB.nextSibling,s),o.length=s)}},{key:"_$AR",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0,l;for((l=this._$AP)===null||l===void 0||l.call(this,!1,!0,o);t&&t!==this._$AB;){var s=t.nextSibling;t.remove(),t=s}}},{key:"setConnected",value:function(t){var o;this._$AM===void 0&&(this._$Cp=t,(o=this._$AP)===null||o===void 0||o.call(this,t))}}]),n}(),Wl=function(){"use strict";function n(e,t,o,l,s){_classCallCheck(this,n),this.type=1,this._$AH=Di,this._$AN=void 0,this.element=e,this.name=t,this._$AM=l,this.options=s,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=Di}return _createClass(n,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=this.strings,r=!1;if(a===void 0)t=Us(this,t,o,0),r=!Ul(t)||t!==this._$AH&&t!==ql,r&&(this._$AH=t);else{var c=t,d,h;for(t=a[0],d=0;d<a.length-1;d++)h=Us(this,c[l+d],o,d),h===ql&&(h=this._$AH[d]),r||(r=!Ul(h)||h!==this._$AH[d]),h===Di?t=Di:t!==Di&&(t+=(h!=null?h:"")+a[d+1]),this._$AH[d]=h}r&&!s&&this.j(t)}},{key:"j",value:function(t){t===Di?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}]),n}(),cg=function(n){"use strict";_inherits(t,n);var e=_createSuper(t);function t(){_classCallCheck(this,t);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=3,_possibleConstructorReturn(o)}return _createClass(t,[{key:"j",value:function(l){this.element[this.name]=l===Di?void 0:l}}]),t}(Wl),wS=Vs?Vs.emptyScript:"",dg=function(n){"use strict";_inherits(t,n);var e=_createSuper(t);function t(){_classCallCheck(this,t);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=4,_possibleConstructorReturn(o)}return _createClass(t,[{key:"j",value:function(l){l&&l!==Di?this.element.setAttribute(this.name,wS):this.element.removeAttribute(this.name)}}]),t}(Wl),hg=function(n){"use strict";_inherits(t,n);var e=_createSuper(t);function t(o,l,s,a,r){_classCallCheck(this,t);var c;return c=e.call(this,o,l,s,a,r),c.type=5,_possibleConstructorReturn(c)}return _createClass(t,[{key:"_$AI",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((l=(a=Us(this,l,s,0))!==null&&a!==void 0?a:Di)!==ql){var r=this._$AH,c=l===Di&&r!==Di||l.capture!==r.capture||l.once!==r.once||l.passive!==r.passive,d=l!==Di&&(r===Di||c);c&&this.element.removeEventListener(this.name,this,r),d&&this.element.addEventListener(this.name,this,l),this._$AH=l}}},{key:"handleEvent",value:function(l){var s,a;typeof this._$AH=="function"?this._$AH.call((a=(s=this.options)===null||s===void 0?void 0:s.host)!==null&&a!==void 0?a:this.element,l):this._$AH.handleEvent(l)}}]),t}(Wl),fg=function(){"use strict";function n(e,t,o){_classCallCheck(this,n),this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}return _createClass(n,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){Us(this,t)}}]),n}(),_S={O:sc,P:Yo,A:_h,C:1,M:lg,L:ug,R:eg,D:Us,I:Sh,V:Wl,H:dg,N:hg,U:cg,F:fg},pg=ac.litHtmlPolyfillSupport,pg==null||pg(xh,Sh),((Jm=ac.litHtmlVersions)!==null&&Jm!==void 0?Jm:ac.litHtmlVersions=[]).push("2.8.0");var g;g=_S,kS=g.I,vg=function(n,e){return e===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===e},xS=function(n){var e;return((e=n==null?void 0:n._$litType$)===null||e===void 0?void 0:e.h)!=null},mg=function(){return document.createComment("")},Ga=function(n,e,t){var o,l=n._$AA.parentNode,s=e===void 0?n._$AB:e._$AA;if(t===void 0){var a=l.insertBefore(mg(),s),r=l.insertBefore(mg(),s);t=new kS(a,r,n,n.options)}else{var c=t._$AB.nextSibling,d=t._$AM,h=d!==n;if(h){var p;(o=t._$AQ)===null||o===void 0||o.call(t,n),t._$AM=n,t._$AP!==void 0&&(p=n._$AU)!==d._$AU&&t._$AP(p)}if(c!==s||h)for(var v=t._$AA;v!==c;){var k=v.nextSibling;l.insertBefore(v,s),v=k}}return t},Ka=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;return n._$AI(e,t),n},SS={},Ch=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SS;return n._$AH=e},Ah=function(n){return n._$AH},Oh=function(n){var e;(e=n._$AP)===null||e===void 0||e.call(n,!1,!0);for(var t=n._$AA,o=n._$AB.nextSibling;t!==o;){var l=t.nextSibling;t.remove(),t=l}},CS=function(n){n._$AR()}}});function Yl(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===Ws)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=Gl(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=Yl(g,r._$AS(g,n.values),r,t)),n}var gg,uc,qs,yg,Eh,ba,bg,OS,Xa,cc,Gl,wg,ES,Th,Kl,_g,kg,Ja,xg,Sg,Cg,Ag,cP,dP,Ws,$i,Og,Za,TS,jh,jS,Eg,dc,PS,IS,MS,LS,RS,Tg,jg,Xl,hP=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/repeat.js":function(){oc(),AS(),uc=window,qs=uc.trustedTypes,yg=qs?qs.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,Eh="$lit$",ba="lit$".concat((Math.random()+"").slice(9),"$"),bg="?"+ba,OS="<".concat(bg,">"),Xa=document,cc=function(){return Xa.createComment("")},Gl=function(g){return g===null||typeof g!="object"&&typeof g!="function"},wg=Array.isArray,ES=function(g){return wg(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},Th="[ 	\n\f\r]",Kl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_g=/-->/g,kg=/>/g,Ja=RegExp(">|".concat(Th,"(?:([^\\s\"'>=/]+)(").concat(Th,"*=").concat(Th,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),xg=/'/g,Sg=/"/g,Cg=/^(?:script|style|textarea|title)$/i,Ag=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},cP=Ag(1),dP=Ag(2),Ws=Symbol.for("lit-noChange"),$i=Symbol.for("lit-nothing"),Og=new WeakMap,Za=Xa.createTreeWalker(Xa,129,null,!1),TS=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=Kl,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===Kl?d[1]==="!--"?s=_g:d[1]!==void 0?s=kg:d[2]!==void 0?(Cg.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=Ja):d[3]!==void 0&&(s=Ja):s===Ja?d[0]===">"?(s=o!=null?o:Kl,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?Ja:d[3]==='"'?Sg:xg):s===Sg||s===xg?s=Ja:s===_g||s===kg?s=Kl:(s=Ja,o=void 0);var v=s===Ja&&g[a+1].startsWith("/>")?" ":"";l+=s===Kl?r+OS:h>=0?(t.push(c),r.slice(0,h)+Eh+r.slice(h)+ba+v):r+ba+(h===-2?(t.push(void 0),a):v)}return[Dk(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},jh=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(TS(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),Za.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=Za.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(Eh)||u.startsWith(ba)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+Eh).split(ba),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?PS:y[1]==="?"?MS:y[1]==="@"?LS:dc})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(Cg.test(l.tagName)){var Q=l.textContent.split(ba),W=Q.length-1;if(W>0){l.textContent=qs?qs.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],cc()),Za.nextNode(),c.push({type:2,index:++s});l.append(Q[W],cc())}}}else if(l.nodeType===8)if(l.data===bg)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(ba,oe+1))!==-1;)c.push({type:7,index:s}),oe+=ba.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=Xa.createElement("template");return o.innerHTML=e,o}}]),g}(),jS=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Xa).importNode(s,!0);Za.currentNode=r;for(var c=Za.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new Eg(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new RS(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=Za.nextNode(),d++)}return Za.currentNode=Xa,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),Eg=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=$i,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Yl(this,e,t),Gl(e)?e===$i||e==null||e===""?(this._$AH!==$i&&this._$AR(),this._$AH=$i):e!==this._$AH&&e!==Ws&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):ES(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==$i&&Gl(this._$AH)?this._$AA.nextSibling.data=e:this.$(Xa.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=jh.createElement(Dk(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new jS(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=Og.get(e.strings);return t===void 0&&Og.set(e.strings,t=new jh(e)),t}},{key:"T",value:function(e){wg(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(cc()),this.k(cc()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),dc=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=$i,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=$i}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=Yl(this,e,t,0),a=!Gl(e)||e!==this._$AH&&e!==Ws,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=Yl(this,r[o+c],t,c),d===Ws&&(d=this._$AH[c]),a||(a=!Gl(d)||d!==this._$AH[c]),d===$i?e=$i:e!==$i&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===$i?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),PS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===$i?void 0:o}}]),e}(dc),IS=qs?qs.emptyScript:"",MS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==$i?this.element.setAttribute(this.name,IS):this.element.removeAttribute(this.name)}}]),e}(dc),LS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=Yl(this,o,l,0))!==null&&s!==void 0?s:$i)!==Ws){var a=this._$AH,r=o===$i&&a!==$i||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==$i&&(a===$i||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(dc),RS=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Yl(this,e)}}]),g}(),Tg=uc.litHtmlPolyfillSupport,Tg==null||Tg(jh,Eg),((gg=uc.litHtmlVersions)!==null&&gg!==void 0?gg:uc.litHtmlVersions=[]).push("2.8.0"),jg=function(g,n,e){for(var t=new Map,o=n;o<=e;o++)t.set(g[o],o);return t},Xl=zl(function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o;if(o=n.call(this,t),t.type!==ic.CHILD)throw Error("repeat() can only be used in text expressions");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"ct",value:function(o,l,s){var a;s===void 0?s=l:l!==void 0&&(a=l);var r=[],c=[],d=0,h=!0,p=!1,v=void 0;try{for(var k=o[Symbol.iterator](),x;!(h=(x=k.next()).done);h=!0){var S=x.value;r[d]=a?a(S,d):d,c[d]=s(S,d),d++}}catch(A){p=!0,v=A}finally{try{!h&&k.return!=null&&k.return()}finally{if(p)throw v}}return{values:c,keys:r}}},{key:"render",value:function(o,l,s){return this.ct(o,l,s).values}},{key:"update",value:function(o,l){var s=_slicedToArray(l,3),a=s[0],r=s[1],c=s[2],d,h=Ah(o),p=this.ct(a,r,c),v=p.values,k=p.keys;if(!Array.isArray(h))return this.ut=k,v;for(var x=(d=this.ut)!==null&&d!==void 0?d:this.ut=[],S=[],A,E,O=0,T=h.length-1,b=0,u=v.length-1;O<=T&&b<=u;)if(h[O]===null)O++;else if(h[T]===null)T--;else if(x[O]===k[b])S[b]=Ka(h[O],v[b]),O++,b++;else if(x[T]===k[u])S[u]=Ka(h[T],v[u]),T--,u--;else if(x[O]===k[u])S[u]=Ka(h[O],v[u]),Ga(o,S[u+1],h[O]),O++,u--;else if(x[T]===k[b])S[b]=Ka(h[T],v[b]),Ga(o,h[O],h[T]),T--,b++;else if(A===void 0&&(A=jg(k,b,u),E=jg(x,O,T)),A.has(x[O]))if(A.has(x[T])){var f=E.get(k[b]),m=f!==void 0?h[f]:null;if(m===null){var y=Ga(o,h[O]);Ka(y,v[b]),S[b]=y}else S[b]=Ka(m,v[b]),Ga(o,h[O],m),h[f]=null;b++}else Oh(h[T]),T--;else Oh(h[O]),O++;for(;b<=u;){var w=Ga(o,S[u+1]);Ka(w,v[b]),S[b++]=w}for(;O<=T;){var C=h[O++];C!==null&&Oh(C)}return this.ut=k,Ch(o,S),Ws}}]),e}(Hl))}}),Jl=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/repeat.js":function(){hP()}}),DS,Ph,Pg,$S,NS,Go,BS,wa,Ih,Mh,Ni,Ig,fP,Ao,FS,zS,HS,pP,Zl,Qa,US=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/ia-item-navigator.mjs":function(){Br(),Sn(),Wr(),oP(),aP(),Br(),Sn(),Wr(),Sn(),sP(),Br(),Sn(),Wr(),Sn(),Br(),Sn(),Wr(),Br(),Sn(),Wr(),Br(),Sn(),Wr(),eS(),rS(),aS(),uS(),hS(),vS(),yS(),Br(),Sn(),Wr(),Jl(),DS=zt(_templateObject125()),Ph=zt(_templateObject126()),Pg=zt(_templateObject127()),$S=zt(_templateObject128(),Pg,Ph,Ph,DS,Ph,Pg),NS=zt(_templateObject129()),Go=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.icon="",t.href="",t.label="",t.menuDetails="",t.buttonId="",t.selected=!1,t.followable=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"onClick",value:function(o){o.preventDefault(),this.dispatchMenuTypeSelectedEvent()}},{key:"dispatchMenuTypeSelectedEvent",value:function(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}},{key:"buttonClass",get:function(){return this.selected?"selected":""}},{key:"iconClass",get:function(){return this.selected?"active":""}},{key:"menuItem",get:function(){return kt(_templateObject130(),this.iconClass,this.icon,this.label,this.menuDetails)}},{key:"linkButton",get:function(){return kt(_templateObject131(),this.href,this.buttonClass,this.followable?void 0:this.onClick,this.menuItem)}},{key:"clickButton",get:function(){return kt(_templateObject132(),this.buttonClass,this.onClick,this.menuItem)}},{key:"render",value:function(){return this.href?this.linkButton:this.clickButton}}],[{key:"styles",get:function(){return NS}}]),e}(rr),Ie([an({type:String})],Go.prototype,"icon",void 0),Ie([an({type:String})],Go.prototype,"href",void 0),Ie([an({type:String})],Go.prototype,"label",void 0),Ie([an({type:String})],Go.prototype,"menuDetails",void 0),Ie([an({type:String})],Go.prototype,"buttonId",void 0),Ie([an({type:Boolean})],Go.prototype,"selected",void 0),Ie([an({type:Boolean})],Go.prototype,"followable",void 0),Go=Ie([Jr("menu-button")],Go),BS={closeDrawer:"menuSliderClosed"},wa=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.menus=[],t.open=!1,t.manuallyHandleClose=!1,t.selectedMenu="",t.selectedMenuAction=Yn,t.animateMenuOpen=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(){var o=this.selectedMenuDetails||{},l=o.actionButton;l!==this.selectedMenuAction&&(this.selectedMenuAction=l||Yn)}},{key:"setSelectedMenu",value:function(o){var l=o.detail,s=l.id;this.selectedMenu=this.selectedMenu===s?"":s;var a=this.selectedMenuDetails||{},r=a.actionButton;this.selectedMenuAction=r||Yn}},{key:"closeMenu",value:function(){this.manuallyHandleClose||(this.open=!1);var o=BS.closeDrawer,l=new CustomEvent(o,{detail:this.selectedMenuDetails});this.dispatchEvent(l)}},{key:"selectedMenuDetails",get:function(){var o=this;return this.menus.find(function(l){return l.id===o.selectedMenu})}},{key:"selectedMenuComponent",get:function(){var o=this.selectedMenuDetails;return o&&(o!=null&&o.component)?o.component:kt(_templateObject133())}},{key:"sliderDetailsClass",get:function(){var o=this.animateMenuOpen?"animate":"",l=this.open?"open":"";return"".concat(o," ").concat(l)}},{key:"selectedMenuClass",get:function(){return this.selectedMenu?"open":""}},{key:"menuItems",get:function(){var o=this;return this.menus.map(function(l){return kt(_templateObject134(),o.setSelectedMenu,l.icon,l.label,l.menuDetails,l.id,l.id===o.selectedMenu,l.followable,l.href)})}},{key:"renderMenuHeader",get:function(){var o=this.selectedMenuDetails||{},l=o.label,s=l===void 0?"":l,a=o.menuDetails,r=a===void 0?"":a,c=this.selectedMenuAction?"with-secondary-action":"",d=this.selectedMenuAction?kt(_templateObject135(),this.selectedMenuAction):Yn;return kt(_templateObject136(),c,s,r,d,this.closeButton)}},{key:"closeButton",get:function(){return kt(_templateObject137(),this.closeMenu)}},{key:"render",value:function(){return kt(_templateObject138(),this.sliderDetailsClass,this.closeButton,this.menuItems,this.selectedMenuClass,this.setSelectedMenu,this.renderMenuHeader,this.selectedMenuComponent)}}],[{key:"styles",get:function(){return $S}}]),e}(rr),Ie([an({type:Array})],wa.prototype,"menus",void 0),Ie([an({type:Boolean})],wa.prototype,"open",void 0),Ie([an({type:Boolean})],wa.prototype,"manuallyHandleClose",void 0),Ie([an({type:String})],wa.prototype,"selectedMenu",void 0),Ie([an({type:Object})],wa.prototype,"selectedMenuAction",void 0),Ie([an({type:Boolean})],wa.prototype,"animateMenuOpen",void 0),wa=Ie([Jr("ia-menu-slider")],wa),Ih=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.loaderMessage="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"bookIconSvg",get:function(){return Mo(_templateObject139())}},{key:"icon",get:function(){return this.bookIconSvg}},{key:"loader",get:function(){return Mo(_templateObject140(),this.icon)}},{key:"render",value:function(){var o=this.loaderMessage?kt(_templateObject141(),this.loaderMessage):Yn;return kt(_templateObject142(),o,this.loader)}}],[{key:"styles",get:function(){return zt(_templateObject143())}}]),e}(rr),Ie([an({type:String})],Ih.prototype,"loaderMessage",void 0),Ih=Ie([Jr("ia-itemnav-loader")],Ih),Mh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.identifier="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"emitLoaded",value:function(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}},{key:"updated",value:function(o){o.has("identifier")&&this.emitLoaded()}},{key:"downloadUrl",get:function(){return"/download/".concat(this.identifier)}},{key:"render",value:function(){return kt(_templateObject144(),this.downloadUrl)}}],[{key:"styles",get:function(){return zt(_templateObject145())}}]),e}(rr),Ie([an({type:String})],Mh.prototype,"identifier",void 0),Mh=Ie([Jr("ia-no-theater-available")],Mh),Ni=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.viewAvailable=!0,t.baseHost="archive.org",t.signedIn=!1,t.menuContents=[],t.menuShortcuts=[],t.viewportInFullscreen=null,t.menuOpened=!1,t.loaded=!1,t.openMenuState="shift",_possibleConstructorReturn(t)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.removeResizeObserver()}},{key:"updated",value:function(o){if(o.has("sharedObserver")){var l=o.get("sharedObserver");l==null||l.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}},{key:"handleResize",value:function(o){var l=o.contentRect,s=l.width;if(s<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}},{key:"setResizeObserver",value:function(){var o=this,l,s;(l=this.sharedObserver)===null||l===void 0||l.addObserver(this.resizeObserverConfig),(s=this.sharedObserver)===null||s===void 0||s.addObserver({target:this.headerSlot,handler:{handleResize:function(a){var r=a.contentRect;r.height&&o.requestUpdate()}}})}},{key:"removeResizeObserver",value:function(){var o;(o=this.sharedObserver)===null||o===void 0||o.removeObserver(this.resizeObserverConfig)}},{key:"resizeObserverConfig",get:function(){return{handler:this,target:this.frame}}},{key:"loaderTitle",get:function(){return this.viewportInFullscreen?"Internet Archive":""}},{key:"loadingArea",get:function(){return kt(_templateObject146(),this.loaderTitle)}},{key:"slotChange",value:function(o,l){var s,a=(s=o.target.assignedNodes())===null||s===void 0?void 0:s[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:a,type:l}})),this.requestUpdate()}},{key:"render",value:function(){var o=this,l,s,a=this.loaded?"":"hidden",r=((s=(l=this.headerSlot)===null||l===void 0?void 0:l.assignedNodes()[0])===null||s===void 0?void 0:s.offsetHeight)||0;return kt(_templateObject147(),this.menuClass,"height: ".concat(r,"px"),function(c){return o.slotChange(c,"header")},this.shouldRenderMenu?this.renderSideMenu:Yn,a,this.renderViewport,this.loaded?Yn:this.loadingArea)}},{key:"noTheaterView",get:function(){var o,l;return kt(_templateObject148(),(l=(o=this.item)===null||o===void 0?void 0:o.metadata)===null||l===void 0?void 0:l.identifier,this.loadingStateUpdated)}},{key:"renderViewport",get:function(){var o=this;if(!this.viewAvailable)return this.noTheaterView;var l=this.loaded?"opacity: 1;":"opacity: 0;";return kt(_templateObject149(),l,function(s){return o.slotChange(s,"main")})}},{key:"loadingStateUpdated",value:function(o){var l=o.detail,s=l.loaded;this.loaded=s!=null?s:!1}},{key:"manageViewportFullscreen",value:function(o){var l=!!o.detail.isFullScreen;this.viewportInFullscreen=l||null;var s=new CustomEvent("fullscreenToggled",{detail:o.detail});this.dispatchEvent(s)}},{key:"shouldRenderMenu",get:function(){var o;return!!(!((o=this.menuContents)===null||o===void 0)&&o.length)}},{key:"toggleMenu",value:function(){this.menuOpened=!this.menuOpened}},{key:"closeMenu",value:function(){this.menuOpened=!1}},{key:"setOpenMenu",value:function(o){var l=o.detail,s=l.id;this.openMenu=s!==this.openMenu?s:void 0}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"manageSideMenuEvents",value:function(o){var l=o.detail,s=l.menuId,a=l.action;s&&(a==="open"?this.openShortcut(s):a==="toggle"&&(this.openMenu=s,this.toggleMenu()))}},{key:"menuToggleButton",get:function(){return kt(_templateObject150(),this.toggleMenu)}},{key:"selectedMenuId",get:function(){return this.openMenu||""}},{key:"renderSideMenu",get:function(){var o=this.menuOpened?"":"hidden";return kt(_templateObject151(),this.shortcuts,this.menuToggleButton,o,this.menuContents,this.selectedMenuId,this.setOpenMenu,this.closeMenu)}},{key:"openShortcut",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.openMenu=o,this.menuOpened=!0}},{key:"shortcuts",get:function(){var o=this,l=this.menuShortcuts.map(function(s){var a=s.icon,r=s.id;return r==="fullscreen"?kt(_templateObject152(),a):kt(_templateObject153(),r,function(){return o.openShortcut(r)},a)});return kt(_templateObject154(),l)}},{key:"menuClass",get:function(){var o,l,s=((o=this.menuContents)===null||o===void 0?void 0:o.length)||((l=this.menuShortcuts)===null||l===void 0?void 0:l.length),a=this.menuOpened&&s?"open":"",r=this.viewportInFullscreen?"fullscreen":"";return"".concat(a," ").concat(r," ").concat(this.openMenuState)}}],[{key:"styles",get:function(){var o=zt(_templateObject155()),l=zt(_templateObject156()),s=zt(_templateObject157(),l),a=zt(_templateObject158()),r=zt(_templateObject159());return zt(_templateObject160(),r,a,a,a,o,o,o,s,o,s,o,o,s)}}]),e}(rr),Ie([an({type:Object,converter:function(g){return g&&typeof g=="string"?new Gm(JSON.parse(atob(g))):g}})],Ni.prototype,"item",void 0),Ie([an({type:Boolean,reflect:!0})],Ni.prototype,"viewAvailable",void 0),Ie([an({type:String})],Ni.prototype,"baseHost",void 0),Ie([an({type:Boolean})],Ni.prototype,"signedIn",void 0),Ie([an({type:Array})],Ni.prototype,"menuContents",void 0),Ie([an({type:Array})],Ni.prototype,"menuShortcuts",void 0),Ie([an({type:Boolean,reflect:!0,attribute:!0})],Ni.prototype,"viewportInFullscreen",void 0),Ie([an({type:Boolean,reflect:!0})],Ni.prototype,"menuOpened",void 0),Ie([an({type:String,reflect:!0})],Ni.prototype,"openMenu",void 0),Ie([an({attribute:!1})],Ni.prototype,"modal",void 0),Ie([an({attribute:!1})],Ni.prototype,"sharedObserver",void 0),Ie([an({type:Boolean,reflect:!0,attribute:!0})],Ni.prototype,"loaded",void 0),Ie([Wi()],Ni.prototype,"openMenuState",void 0),Ie([li("#frame")],Ni.prototype,"frame",void 0),Ie([li('slot[name="header"]')],Ni.prototype,"headerSlot",void 0),Ie([li('slot[name="main"]')],Ni.prototype,"mainSlot",void 0),Ni=Ie([Jr("iaux-item-navigator")],Ni),Ig=function(g){var n=g.currentTarget,e=n.querySelector("textarea"),t=n.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),t.classList.add("visible"),clearTimeout(t.timeout),t.timeout=setTimeout(function(){return t.classList.remove("visible")},4e3)},fP=kt(_templateObject161()),Ao=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.baseHost="archive.org",t.creator="",t.description="",t.embedOptionsVisible=!1,t.identifier="",t.sharingOptions=[],t.type="",t.renderHeader=!1,t.fileSubPrefix="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o="https://".concat(this.baseHost,"/details/").concat(this.identifier);this.fileSubPrefix&&(o+="/".concat(this.fileSubPrefix));var l=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:kt(_templateObject162()),url:"https://twitter.com/intent/tweet?".concat(new URLSearchParams({url:o,text:l,via:"internetarchive"}))},{name:"Facebook",icon:kt(_templateObject163()),url:"https://www.facebook.com/sharer/sharer.php?".concat(new URLSearchParams({u:o}))},{name:"Tumblr",icon:kt(_templateObject164()),url:"https://www.tumblr.com/widgets/share/tool/preview?".concat(new URLSearchParams({posttype:"link",canonicalUrl:o,title:l}))},{name:"Pinterest",icon:kt(_templateObject165()),url:"http://www.pinterest.com/pin/create/button/?".concat(new URLSearchParams({url:o,description:l}))},{name:"Email",icon:kt(_templateObject166()),url:"mailto:?".concat(new URLSearchParams({subject:l,body:o}))}]}},{key:"iframeEmbed",get:function(){return'<iframe\n      src="https://'.concat(this.baseHost,"/embed/").concat(this.identifier,'"\n      width="560" height="384" frameborder="0"\n      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen\n    ></iframe>')}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"header",get:function(){var o=kt(_templateObject167(),this.type);return this.renderHeader?o:Yn}},{key:"render",value:function(){return kt(_templateObject169(),this.header,this.sharingOptions.map(function(o){return kt(_templateObject168(),o.url,o.icon,o.name)}),Ig,this.iframeEmbed,Ig,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return kt(_templateObject170())}}],[{key:"styles",get:function(){return zt(_templateObject171())}}]),e}(rr),Ie([an({type:String})],Ao.prototype,"baseHost",void 0),Ie([an({type:String})],Ao.prototype,"creator",void 0),Ie([an({type:String})],Ao.prototype,"description",void 0),Ie([an({type:Boolean})],Ao.prototype,"embedOptionsVisible",void 0),Ie([an({type:String})],Ao.prototype,"identifier",void 0),Ie([an({type:Array})],Ao.prototype,"sharingOptions",void 0),Ie([an({type:String})],Ao.prototype,"type",void 0),Ie([an({type:Boolean})],Ao.prototype,"renderHeader",void 0),Ie([an({type:String})],Ao.prototype,"fileSubPrefix",void 0),Ao=Ie([Jr("iaux-in-share-panel")],Ao),FS=kt(_templateObject172()),zS=kt(_templateObject173()),HS=kt(_templateObject174()),pP=kt(_templateObject175()),Zl=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.fileListRaw=[],t.fileListSorted=[],t.sortOrderBy="default",_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject176(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:kt(_templateObject177(),function(){return o.sortVolumes("title_asc")},HS),title_asc:kt(_templateObject178(),function(){return o.sortVolumes("title_desc")},FS),title_desc:kt(_templateObject179(),function(){return o.sortVolumes("default")},zS)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var l=[];l=this.fileListRaw.sort(function(s,a){return o==="title_asc"?s.title.localeCompare(a.title):o==="title_desc"?a.title.localeCompare(s.title):s.orig_sort-a.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:l},bubbles:!0,composed:!0})),this.fileListSorted=l}}],[{key:"styles",get:function(){return zt(_templateObject180())}}]),e}(rr),Ie([an({type:Array})],Zl.prototype,"fileListRaw",void 0),Ie([an({type:Array})],Zl.prototype,"fileListSorted",void 0),Ie([an({type:String,reflect:!0})],Zl.prototype,"sortOrderBy",void 0),Zl=Ie([Jr("iaux-in-sort-files-button")],Zl),Qa=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.baseHost="archive.org",t.sortOrderBy="default",t.subPrefix="",t.fileList=[],t.addSortToUrl=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var l=this.fileUrl(o);return kt(_templateObject181(),l,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var l="//".concat(this.baseHost).concat(o.url_path),s=l;return this.addSortToUrl&&(s=this.sortOrderBy==="default"?"".concat(l):"".concat(l,"?sort=").concat(this.sortOrderBy)),s}},{key:"pdfLabel",get:function(){return kt(_templateObject182())}},{key:"fileLi",value:function(o){var l,s=this.subPrefix===o.file_subprefix?" active":"",a=this.fileUrl(o),r=((l=o.file_source)!==null&&l!==void 0?l:"").match(/^[^+]+\.pdf$/i);return kt(_templateObject183(),s,a,o.title,r?this.pdfLabel:Yn)}},{key:"fileListTemplate",get:function(){var o=Xl(this.fileList,function(l){return l==null?void 0:l.file_prefix},this.fileLi.bind(this));return kt(_templateObject184(),o)}},{key:"render",value:function(){return kt(_templateObject185(),this.fileList.length?this.fileListTemplate:Yn)}}],[{key:"styles",get:function(){return zt(_templateObject186())}}]),e}(rr),Ie([an({type:String})],Qa.prototype,"baseHost",void 0),Ie([an({type:String})],Qa.prototype,"sortOrderBy",void 0),Ie([an({type:String})],Qa.prototype,"subPrefix",void 0),Ie([an({type:Array})],Qa.prototype,"fileList",void 0),Ie([an({type:Boolean,reflect:!0})],Qa.prototype,"addSortToUrl",void 0),Qa=Ie([Jr("iaux-in-viewable-files-panel")],Qa)}}),VS,Mg,qS,vP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close@1.3.4/esnext/index.js":function(){Sn(),Sn(),VS=kt(_templateObject187()),Mg=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return VS}}],[{key:"styles",get:function(){return zt(_templateObject188())}}]),e}(rr),customElements.define("ia-icon-close",Mg),qS=Mg}}),WS,Lg,YS,mP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-ia-logo@1.3.4/esnext/index.js":function(){Sn(),Sn(),WS=kt(_templateObject189()),Lg=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return WS}}],[{key:"styles",get:function(){return zt(_templateObject190())}}]),e}(rr),customElements.define("ia-icon-ia-logo",Lg),YS=Lg}}),Rg,Lh,Ys,GS,Gs,hc=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/modal-manager@0.2.12/esnext/modal-manager.mjs":function(){Br(),Sn(),Wr(),Br(),Sn(),Wr(),Uu(),vP(),mP(),rp(),Rg=function g(n){"use strict";_classCallCheck(this,g);var e,t,o,l,s,a,r;this.title=n==null?void 0:n.title,this.subtitle=n==null?void 0:n.subtitle,this.headline=n==null?void 0:n.headline,this.message=n==null?void 0:n.message,this.headerColor=(e=n==null?void 0:n.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(t=n==null?void 0:n.bodyColor)!==null&&t!==void 0?t:"#f5f5f7",this.showProcessingIndicator=(o=n==null?void 0:n.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(l=n==null?void 0:n.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(s=n==null?void 0:n.showCloseButton)!==null&&s!==void 0?s:!0,this.showHeaderLogo=(a=n==null?void 0:n.showHeaderLogo)!==null&&a!==void 0?a:!0,this.closeOnBackdropClick=(r=n==null?void 0:n.closeOnBackdropClick)!==null&&r!==void 0?r:!0},Lh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.config=new Rg,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject196(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?kt(_templateObject191(),YS):Yn,this.config.title?kt(_templateObject192(),this.config.title):"",this.config.subtitle?kt(_templateObject193(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?kt(_templateObject194(),this.config.headline):"",this.config.message?kt(_templateObject195(),this.config.message):"")}},{key:"handleCloseButton",value:function(){var o=new Event("closeButtonPressed");this.dispatchEvent(o)}},{key:"closeButtonTemplate",get:function(){return kt(_templateObject197(),this.handleCloseButton,qS)}}],[{key:"styles",get:function(){var o=zt(_templateObject198()),l=zt(_templateObject199()),s=zt(_templateObject200()),a=zt(_templateObject201()),r=zt(_templateObject202()),c=zt(_templateObject203()),d=zt(_templateObject204()),h=zt(_templateObject205()),p=zt(_templateObject206()),v=zt(_templateObject207()),k=zt(_templateObject208()),x=zt(_templateObject209()),S=zt(_templateObject210()),A=zt(_templateObject211()),E=zt(_templateObject212()),O=zt(_templateObject213()),T=zt(_templateObject214());return zt(_templateObject215(),l,l,s,c,s,s,a,d,v,A,k,E,s,s,a,h,p,r,p,x,O,S,T,o,o,o,o)}}]),e}(rr),Ie([an({type:Object})],Lh.prototype,"config",void 0),Lh=Ie([Jr("modal-template")],Lh),function(g){g.Open="open",g.Closed="closed"}(Ys||(Ys={})),GS=function(){"use strict";function g(n){_classCallCheck(this,g),this.windowResizeThrottler=ce(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=n}return _createClass(g,[{key:"handleModeChange",value:function(e){switch(e){case Ys.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ys.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),g}(),Gs=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.mode=Ys.Closed,t.hostBridge=new GS(_assertThisInitialized(t)),t.closeOnBackdropClick=!0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject216(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Ys.Closed}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return xi(this,void 0,void 0,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Ys.Open,a.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus();case 8:case"end":return a.stop()}},l,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=zt(_templateObject217()),l=zt(_templateObject218()),s=zt(_templateObject219()),a=zt(_templateObject220()),r=zt(_templateObject221());return zt(_templateObject222(),o,l,r,s,a)}}]),e}(rr),Ie([an({type:String,reflect:!0})],Gs.prototype,"mode",void 0),Ie([an({type:Object})],Gs.prototype,"customModalContent",void 0),Ie([an({type:Object})],Gs.prototype,"hostBridge",void 0),Ie([li("modal-template")],Gs.prototype,"modalTemplate",void 0),Gs=Ie([Jr("modal-manager")],Gs)}}),Dg,KS,Oo,$g=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/dist/src/menus/share-panel.js":function(){Br(),Sn(),Wr(),eS(),rS(),aS(),uS(),hS(),vS(),yS(),Dg=function(g){var n=g.currentTarget,e=n.querySelector("textarea"),t=n.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),t.classList.add("visible"),clearTimeout(t.timeout),t.timeout=setTimeout(function(){return t.classList.remove("visible")},4e3)},KS=kt(_templateObject223()),Oo=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.baseHost="archive.org",t.creator="",t.description="",t.embedOptionsVisible=!1,t.identifier="",t.sharingOptions=[],t.type="",t.renderHeader=!1,t.fileSubPrefix="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o="https://".concat(this.baseHost,"/details/").concat(this.identifier);this.fileSubPrefix&&(o+="/".concat(this.fileSubPrefix));var l=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:kt(_templateObject224()),url:"https://twitter.com/intent/tweet?".concat(new URLSearchParams({url:o,text:l,via:"internetarchive"}))},{name:"Facebook",icon:kt(_templateObject225()),url:"https://www.facebook.com/sharer/sharer.php?".concat(new URLSearchParams({u:o}))},{name:"Tumblr",icon:kt(_templateObject226()),url:"https://www.tumblr.com/widgets/share/tool/preview?".concat(new URLSearchParams({posttype:"link",canonicalUrl:o,title:l}))},{name:"Pinterest",icon:kt(_templateObject227()),url:"http://www.pinterest.com/pin/create/button/?".concat(new URLSearchParams({url:o,description:l}))},{name:"Email",icon:kt(_templateObject228()),url:"mailto:?".concat(new URLSearchParams({subject:l,body:o}))}]}},{key:"iframeEmbed",get:function(){return'<iframe\n      src="https://'.concat(this.baseHost,"/embed/").concat(this.identifier,'"\n      width="560" height="384" frameborder="0"\n      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen\n    ></iframe>')}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"header",get:function(){var o=kt(_templateObject229(),this.type);return this.renderHeader?o:Yn}},{key:"render",value:function(){return kt(_templateObject231(),this.header,this.sharingOptions.map(function(o){return kt(_templateObject230(),o.url,o.icon,o.name)}),Dg,this.iframeEmbed,Dg,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return kt(_templateObject232())}}],[{key:"styles",get:function(){return zt(_templateObject233())}}]),e}(rr),Ie([an({type:String})],Oo.prototype,"baseHost",void 0),Ie([an({type:String})],Oo.prototype,"creator",void 0),Ie([an({type:String})],Oo.prototype,"description",void 0),Ie([an({type:Boolean})],Oo.prototype,"embedOptionsVisible",void 0),Ie([an({type:String})],Oo.prototype,"identifier",void 0),Ie([an({type:Array})],Oo.prototype,"sharingOptions",void 0),Ie([an({type:String})],Oo.prototype,"type",void 0),Ie([an({type:Boolean})],Oo.prototype,"renderHeader",void 0),Ie([an({type:String})],Oo.prototype,"fileSubPrefix",void 0),Oo=Ie([Jr("iaux-in-share-panel")],Oo)}}),XS,JS,ZS=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-dl@1.3.4/esnext/icon-dl.js":function(){Sn(),Sn(),XS=kt(_templateObject234()),JS=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return XS}}],[{key:"styles",get:function(){return zt(_templateObject235())}}]),e}(rr),customElements.define("ia-icon-dl",JS)}}),QS,eC,tC=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-search@1.3.4/esnext/icon-search.js":function(){Sn(),Sn(),QS=kt(_templateObject236()),eC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return QS}}],[{key:"styles",get:function(){return zt(_templateObject237())}}]),e}(rr),customElements.define("ia-icon-search",eC)}}),nC,rC=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-bookmark@1.3.4/esnext/icon-bookmark.mjs":function(){Sn(),nC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject239(),this.state)}}],[{key:"styles",get:function(){return zt(_templateObject238())}},{key:"properties",get:function(){return{state:{type:String}}}}]),e}(rr),window.customElements.define("icon-bookmark",nC)}}),iC,oC,aC,sC,Ql,es,Ng=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/dist/src/menus/viewable-files.js":function(){Br(),Sn(),Wr(),Jl(),iC=kt(_templateObject240()),oC=kt(_templateObject241()),aC=kt(_templateObject242()),sC=kt(_templateObject243()),Ql=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.fileListRaw=[],t.fileListSorted=[],t.sortOrderBy="default",_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject244(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:kt(_templateObject245(),function(){return o.sortVolumes("title_asc")},aC),title_asc:kt(_templateObject246(),function(){return o.sortVolumes("title_desc")},iC),title_desc:kt(_templateObject247(),function(){return o.sortVolumes("default")},oC)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var l=[];l=this.fileListRaw.sort(function(s,a){return o==="title_asc"?s.title.localeCompare(a.title):o==="title_desc"?a.title.localeCompare(s.title):s.orig_sort-a.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:l},bubbles:!0,composed:!0})),this.fileListSorted=l}}],[{key:"styles",get:function(){return zt(_templateObject248())}}]),e}(rr),Ie([an({type:Array})],Ql.prototype,"fileListRaw",void 0),Ie([an({type:Array})],Ql.prototype,"fileListSorted",void 0),Ie([an({type:String,reflect:!0})],Ql.prototype,"sortOrderBy",void 0),Ql=Ie([Jr("iaux-in-sort-files-button")],Ql),es=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.baseHost="archive.org",t.sortOrderBy="default",t.subPrefix="",t.fileList=[],t.addSortToUrl=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var l=this.fileUrl(o);return kt(_templateObject249(),l,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var l="//".concat(this.baseHost).concat(o.url_path),s=l;return this.addSortToUrl&&(s=this.sortOrderBy==="default"?"".concat(l):"".concat(l,"?sort=").concat(this.sortOrderBy)),s}},{key:"pdfLabel",get:function(){return kt(_templateObject250())}},{key:"fileLi",value:function(o){var l,s=this.subPrefix===o.file_subprefix?" active":"",a=this.fileUrl(o),r=((l=o.file_source)!==null&&l!==void 0?l:"").match(/^[^+]+\.pdf$/i);return kt(_templateObject251(),s,a,o.title,r?this.pdfLabel:Yn)}},{key:"fileListTemplate",get:function(){var o=Xl(this.fileList,function(l){return l==null?void 0:l.file_prefix},this.fileLi.bind(this));return kt(_templateObject252(),o)}},{key:"render",value:function(){return kt(_templateObject253(),this.fileList.length?this.fileListTemplate:Yn)}}],[{key:"styles",get:function(){return zt(_templateObject254())}}]),e}(rr),Ie([an({type:String})],es.prototype,"baseHost",void 0),Ie([an({type:String})],es.prototype,"sortOrderBy",void 0),Ie([an({type:String})],es.prototype,"subPrefix",void 0),Ie([an({type:Array})],es.prototype,"fileList",void 0),Ie([an({type:Boolean,reflect:!0})],es.prototype,"addSortToUrl",void 0),es=Ie([Jr("iaux-in-viewable-files-panel")],es)}}),lC,uC,cC=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-visual-adjustment@1.3.4/esnext/icon-visual-adjustment.js":function(){Sn(),Sn(),lC=kt(_templateObject255()),uC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return lC}}],[{key:"styles",get:function(){return zt(_templateObject256())}}]),e}(rr),customElements.define("ia-icon-visual-adjustment",uC)}}),dC,hC,fC=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-edit-pencil@1.3.4/esnext/icon-edit-pencil.js":function(){Sn(),Sn(),dC=kt(_templateObject257()),hC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return dC}}],[{key:"styles",get:function(){return zt(_templateObject258())}}]),e}(rr),customElements.define("ia-icon-edit-pencil",hC)}});function eu(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===Xs)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=tu(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=eu(g,r._$AS(g,n.values),r,t)),n}var Bg,fc,Ks,Fg,Rh,_a,zg,pC,ts,pc,tu,Hg,vC,Dh,nu,Ug,Vg,ns,qg,Wg,Yg,Gg,gP,yP,Xs,Oi,Kg,rs,mC,$h,gC,Xg,vc,yC,bC,wC,_C,kC,Jg,Nh,Zg,bP=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/unsafe-html.js":function(){oc(),fc=window,Ks=fc.trustedTypes,Fg=Ks?Ks.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,Rh="$lit$",_a="lit$".concat((Math.random()+"").slice(9),"$"),zg="?"+_a,pC="<".concat(zg,">"),ts=document,pc=function(){return ts.createComment("")},tu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},Hg=Array.isArray,vC=function(g){return Hg(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},Dh="[ 	\n\f\r]",nu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ug=/-->/g,Vg=/>/g,ns=RegExp(">|".concat(Dh,"(?:([^\\s\"'>=/]+)(").concat(Dh,"*=").concat(Dh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),qg=/'/g,Wg=/"/g,Yg=/^(?:script|style|textarea|title)$/i,Gg=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},gP=Gg(1),yP=Gg(2),Xs=Symbol.for("lit-noChange"),Oi=Symbol.for("lit-nothing"),Kg=new WeakMap,rs=ts.createTreeWalker(ts,129,null,!1),mC=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=nu,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===nu?d[1]==="!--"?s=Ug:d[1]!==void 0?s=Vg:d[2]!==void 0?(Yg.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=ns):d[3]!==void 0&&(s=ns):s===ns?d[0]===">"?(s=o!=null?o:nu,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?ns:d[3]==='"'?Wg:qg):s===Wg||s===qg?s=ns:s===Ug||s===Vg?s=nu:(s=ns,o=void 0);var v=s===ns&&g[a+1].startsWith("/>")?" ":"";l+=s===nu?r+pC:h>=0?(t.push(c),r.slice(0,h)+Rh+r.slice(h)+_a+v):r+_a+(h===-2?(t.push(void 0),a):v)}return[$k(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},$h=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(mC(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),rs.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=rs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(Rh)||u.startsWith(_a)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+Rh).split(_a),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?yC:y[1]==="?"?wC:y[1]==="@"?_C:vc})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(Yg.test(l.tagName)){var Q=l.textContent.split(_a),W=Q.length-1;if(W>0){l.textContent=Ks?Ks.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],pc()),rs.nextNode(),c.push({type:2,index:++s});l.append(Q[W],pc())}}}else if(l.nodeType===8)if(l.data===zg)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(_a,oe+1))!==-1;)c.push({type:7,index:s}),oe+=_a.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=ts.createElement("template");return o.innerHTML=e,o}}]),g}(),gC=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ts).importNode(s,!0);rs.currentNode=r;for(var c=rs.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new Xg(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new kC(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=rs.nextNode(),d++)}return rs.currentNode=ts,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),Xg=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Oi,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=eu(this,e,t),tu(e)?e===Oi||e==null||e===""?(this._$AH!==Oi&&this._$AR(),this._$AH=Oi):e!==this._$AH&&e!==Xs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):vC(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Oi&&tu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ts.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=$h.createElement($k(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new gC(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=Kg.get(e.strings);return t===void 0&&Kg.set(e.strings,t=new $h(e)),t}},{key:"T",value:function(e){Hg(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(pc()),this.k(pc()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),vc=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Oi,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Oi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=eu(this,e,t,0),a=!tu(e)||e!==this._$AH&&e!==Xs,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=eu(this,r[o+c],t,c),d===Xs&&(d=this._$AH[c]),a||(a=!tu(d)||d!==this._$AH[c]),d===Oi?e=Oi:e!==Oi&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Oi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),yC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Oi?void 0:o}}]),e}(vc),bC=Ks?Ks.emptyScript:"",wC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Oi?this.element.setAttribute(this.name,bC):this.element.removeAttribute(this.name)}}]),e}(vc),_C=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=eu(this,o,l,0))!==null&&s!==void 0?s:Oi)!==Xs){var a=this._$AH,r=o===Oi&&a!==Oi||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Oi&&(a===Oi||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(vc),kC=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){eu(this,e)}}]),g}(),Jg=fc.litHtmlPolyfillSupport,Jg==null||Jg($h,Xg),((Bg=fc.litHtmlVersions)!==null&&Bg!==void 0?Bg:fc.litHtmlVersions=[]).push("2.8.0"),Nh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o;if(o=n.call(this,t),o.et=Oi,t.type!==ic.CHILD)throw Error(o.constructor.directiveName+"() can only be used in child bindings");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){if(o===Oi||o==null)return this.ft=void 0,this.et=o;if(o===Xs)return o;if(typeof o!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(o===this.et)return this.ft;this.et=o;var l=[o];return l.raw=l,this.ft={_$litType$:this.constructor.resultType,strings:l,values:[]}}}]),e}(Hl),Nh.directiveName="unsafeHTML",Nh.resultType=1,Zg=zl(Nh)}}),Bh=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/unsafe-html.js":function(){bP()}}),xC,SC,CC=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-magnify-minus@1.3.4/esnext/icon-magnify-minus.js":function(){Sn(),Sn(),xC=kt(_templateObject259()),SC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return xC}}],[{key:"styles",get:function(){return zt(_templateObject260())}}]),e}(rr),customElements.define("ia-icon-magnify-minus",SC)}}),AC,OC,EC=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-magnify-plus@1.3.4/esnext/icon-magnify-plus.js":function(){Sn(),Sn(),AC=kt(_templateObject261()),OC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return AC}}],[{key:"styles",get:function(){return zt(_templateObject262())}}]),e}(rr),customElements.define("ia-icon-magnify-plus",OC)}}),Qg,ey,ru,TC,vi,jC,PC,ty,IC,MC,Fh,zh,LC,RC,DC,$C,NC,BC,FC,zC,ny,HC,UC,VC,qC,mc,WC,YC,gc,GC,ry,wP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-87/esnext/bookreader.mjs":function(){Sn(),US(),$l(),hc(),Sn(),Sn(),tC(),Bh(),Sn(),Uu(),Sn(),Sn(),Sn(),Sn(),ZS(),Sn(),Sn(),cC(),Sn(),Jl(),Sn(),CC(),EC(),Sn(),Sn(),Sn(),Sn(),hc(),Sn(),Jl(),Sn(),Sn(),Jl(),Sn(),fC(),rC(),Sn(),$g(),$g(),Sn(),Ng(),Ng(),Sn(),hc(),hc(),$l(),Qg=zt(_templateObject263()),ey=zt(_templateObject264()),ru=zt(_templateObject265()),TC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.results=[],t.query="",t.queryInProgress=!1,t.renderHeader=!1,t.renderSearchAllFiles=!1,t.displayResultImages=!1,t.errorMessage="",t.bindBookReaderListeners(),_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(){this.focusOnInputIfNecessary()}},{key:"bindBookReaderListeners",value:function(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}},{key:"focusOnInputIfNecessary",value:function(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}},{key:"setResults",value:function(o){var l=o.detail;this.results=l.results}},{key:"setQuery",value:function(o){this.query=o.currentTarget.value,this.query||this.cancelSearch()}},{key:"performSearch",value:function(o){o.preventDefault();var l=o.currentTarget.querySelector('input[type="search"]');!l||!l.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}},{key:"selectResult",value:function(o){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:o}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}},{key:"cancelSearch",value:function(){this.queryInProgress=!1,this.dispatchSearchCanceled()}},{key:"dispatchSearchCanceled",value:function(){this.dispatchEvent(new Event("bookSearchCanceled"))}},{key:"resultsCount",get:function(){var o=this.results.length;return o?kt(_templateObject266(),o,o>1?"s":""):Yn}},{key:"headerSection",get:function(){var o=kt(_templateObject267(),this.resultsCount);return this.renderHeader?o:Yn}},{key:"searchMultipleControls",get:function(){var o=kt(_templateObject268());return this.renderSearchAllFiles?o:Yn}},{key:"loadingIndicator",get:function(){return kt(_templateObject269(),this.cancelSearch)}},{key:"resultsSet",get:function(){var o=this,l=this.displayResultImages?"show-image":"";return kt(_templateObject272(),l,this.results.map(function(s){return kt(_templateObject271(),o.selectResult.bind(o,s),s.cover?kt(_templateObject270(),s.cover):Yn,s.title||Yn,s.displayPageNumber,Zg(s.html))}))}},{key:"searchForm",get:function(){return kt(_templateObject273(),this.performSearch,this.searchMultipleControls,this.setQuery,this.setQuery,this.query)}},{key:"setErrorMessage",get:function(){return kt(_templateObject274(),this.errorMessage)}},{key:"searchCTA",get:function(){return kt(_templateObject275())}},{key:"render",value:function(){var o=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return kt(_templateObject276(),this.headerSection,this.searchForm,this.queryInProgress?this.loadingIndicator:Yn,this.errorMessage?this.setErrorMessage:Yn,this.results.length?this.resultsSet:Yn,o?this.searchCTA:Yn)}}],[{key:"properties",get:function(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}},{key:"styles",get:function(){var o=zt(_templateObject277()),l=zt(_templateObject278()),s=zt(_templateObject279()),a=zt(_templateObject280()),r=zt(_templateObject281(),o,l,s,Qg,a,ey,ey);return[ru,r]}}]),e}(rr),customElements.define("ia-book-search-results",TC),vi={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},jC=function(){"use strict";function g(n){var e=n.onProviderChange,t=n.bookreader;_classCallCheck(this,g),this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=t,this.icon=kt(_templateObject285()),this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}return _createClass(g,[{key:"getMenuDetails",value:function(){var e=vi.resultsCount,t=vi.query,o=vi.queryInProgress;return o||!t?Yn:kt(_templateObject282(),e,e===1?"result":"results")}},{key:"bindEventListeners",value:function(){var e=this;window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",function(t){e.onSearchRequestError(t,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",function(t){e.onSearchRequestError(t,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",function(t){e.onSearchRequestError(t)}),window.addEventListener("BookReader:SearchResultsCleared",function(){e.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",function(t){e.onSearchCanceled(t)})}},{key:"onSearchCanceled",value:function(){vi={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};var e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"onSearchStarted",value:function(e){var t=e.detail.props,o=t.term,l=o===void 0?"":o,s=t.instance;s&&(this.bookreader=s),vi.query=l,vi.results=[],vi.resultsCount=0,vi.queryInProgress=!0,vi.errorMessage="",this.updateMenu()}},{key:"onBookSearchInitiated",value:function(e){var t=e.detail;vi.query=t.query,this.bookreader.search(vi.query)}},{key:"onSearchRequestError",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",o,l,s=e.detail,a=s.props,r=a===void 0?{}:a,c=r.instance,d=c===void 0?null:c;d&&(this.bookreader=d);var h={noResults:"0 results",notIndexed:"This book hasn't been indexed for searching yet.  We've just started indexing it,\n       so search should be available soon.  Please try again later.  Thanks!",default:"Sorry, there was an error with your search.  Please try again."},p=(o=h[t])!=null?o:h.default;vi.query=((l=d==null?void 0:d.searchResults)==null?void 0:l.q)||"",vi.results=[],vi.resultsCount=0,vi.queryInProgress=!1,vi.errorMessage=kt(_templateObject283(),p),this.updateMenu()}},{key:"onSearchResultsChange",value:function(e){var t=e.detail,o=t.props,l=o===void 0?{}:o,s=l.instance,a=s===void 0?null:s,r=l.results,c=r===void 0?[]:r;a&&(this.bookreader=a);var d=c.matches||[],h=d.length,p=c.q;vi={results:d,resultsCount:h,query:p,queryInProgress:!1,errorMessage:""},this.updateMenu()}},{key:"searchCanceledInMenu",value:function(){var e;(e=this.bookreader)==null||e.cancelSearchRequest()}},{key:"onSearchResultsCleared",value:function(){var e,t;vi={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),(t=(e=this.bookreader)==null?void 0:e.searchView)==null||t.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"updateSearchInUrl",value:function(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),vi.query?this.bookreader.urlPlugin.setUrlParam("q",vi.query):this.bookreader.urlPlugin.removeUrlParam("q"))}},{key:"updateMenu",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}},{key:"getComponent",value:function(){var e=vi.query,t=vi.results,o=vi.queryInProgress,l=vi.errorMessage;return kt(_templateObject284(),e,t,l,o,!1,this.onSearchResultsClicked,this.onBookSearchInitiated,this.onSearchResultsCleared,this.searchCanceledInMenu)}},{key:"onSearchResultsClicked",value:function(e){var t=e.detail;this.bookreader._searchPluginGoToResult(t.match.matchIndex)}}]),g}(),PC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.downloads=[],t.expiration=0,t.renderHeader=!1,t.isBookProtected=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"formatsCount",get:function(){var o=this.downloads.length;return o?kt(_templateObject286(),o,o>1?"s":""):kt(_templateObject287())}},{key:"loanExpiryMessage",get:function(){return this.expiration?kt(_templateObject288(),this.expiration):kt(_templateObject289())}},{key:"renderDownloadOptions",value:function(){return this.downloads.map(function(o){return kt(_templateObject292(),o.url,o.type,o.note?kt(_templateObject290(),o.note):kt(_templateObject291()))})}},{key:"hasLCPOption",get:function(){var o=/^(LCP)/g;return this.downloads.some(function(l){var s;return(s=l.type)==null?void 0:s.match(o)})}},{key:"header",get:function(){return this.renderHeader?kt(_templateObject293(),this.formatsCount):Yn}},{key:"installLCPSoftwareMsg",get:function(){return kt(_templateObject294())}},{key:"render",value:function(){return kt(_templateObject295(),this.header,this.loanExpiryMessage,this.renderDownloadOptions(),this.hasLCPOption?this.installLCPSoftwareMsg:Yn)}}],[{key:"properties",get:function(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}},{key:"styles",get:function(){var o=zt(_templateObject296());return[ru,o]}}]),e}(rr),customElements.define("ia-book-downloads",PC),ty={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},IC={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},MC=function(){"use strict";function g(n){var e=n.bookreader;_classCallCheck(this,g);var t;this.icon=kt(_templateObject298()),this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((t=e==null?void 0:e.options)==null?void 0:t.isProtected)||!1}return _createClass(g,[{key:"update",value:function(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;var t=this.downloads.length===1?"":"s";this.menuDetails="(".concat(this.downloads.length," format").concat(t,")")}},{key:"computeAvailableTypes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this,o=e.reduce(function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=_slicedToArray(s,2),r=a[0],c=r===void 0?"":r,d=a[1],h=d===void 0?"":d,p=c.toLowerCase(),v=ty[p]||null;if(v){var k=t.isBookProtected?ty[p].type:IC[p],x=Object.assign({},v,{url:h,type:k});l.push(x)}return l},[]);this.downloads=o}},{key:"menu",get:function(){return kt(_templateObject297(),this.downloads)}}]),g}(),Fh=function(g){return"visualAdjustment".concat(g)},zh={optionChange:Fh("OptionChanged"),zoomIn:Fh("ZoomIn"),zoomOut:Fh("ZoomOut")},LC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.activeCount=0,t.options=[],t.renderHeader=!1,t.showZoomControls=!0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"firstUpdated",value:function(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}},{key:"activeOptions",get:function(){return this.options.reduce(function(o,l){return l.active?_toConsumableArray(o).concat([l.id]):o},[])}},{key:"prepareEventDetails",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{options:this.options,activeCount:this.activeCount,changedOptionId:o}}},{key:"emitOptionChangedEvent",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=this.prepareEventDetails(o);this.dispatchEvent(new CustomEvent(zh.optionChange,{bubbles:!0,composed:!0,detail:l}))}},{key:"emitZoomIn",value:function(){this.dispatchEvent(new CustomEvent(zh.zoomIn))}},{key:"emitZoomOut",value:function(){this.dispatchEvent(new CustomEvent(zh.zoomOut))}},{key:"changeActiveStateFor",value:function(o){var l=_toConsumableArray(this.options),s=l.find(function(a){return a.id===o});s.active=!s.active,this.options=l,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(s.id)}},{key:"setRangeValue",value:function(o,l){var s=_toConsumableArray(this.options);s.find(function(a){return a.id===o}).value=l,this.options=_toConsumableArray(s)}},{key:"rangeSlider",value:function(o){var l=this;return kt(_templateObject299(),"range".concat(o.active?" visible":""),o.id,o.min||0,o.max||100,o.step||1,o.value,function(s){return l.setRangeValue(o.id,s.target.value)},function(){return l.emitOptionChangedEvent()},o.value)}},{key:"adjustmentCheckbox",value:function(o){var l=this,s="adjustment_".concat(o.id);return kt(_templateObject300(),s,o.name,s,s,function(){return l.changeActiveStateFor(o.id)},o.active,o.value!==void 0?this.rangeSlider(o):Yn)}},{key:"headerSection",get:function(){var o=this.activeCount?kt(_templateObject301(),this.activeCount):Yn,l=kt(_templateObject302(),o);return this.renderHeader?l:Yn}},{key:"zoomControls",get:function(){return kt(_templateObject303(),this.emitZoomOut,this.emitZoomIn)}},{key:"render",value:function(){return kt(_templateObject304(),this.headerSection,Xl(this.options,function(o){return o.id},this.adjustmentCheckbox.bind(this)),this.showZoomControls?this.zoomControls:Yn)}}],[{key:"properties",get:function(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}},{key:"styles",get:function(){return zt(_templateObject305(),Qg)}}]),e}(rr),customElements.define("ia-book-visual-adjustments",LC),RC=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Invert colors (dark mode)",active:!1},{id:"grayscale",name:"Convert to grayscale",active:!1}],DC=function(){"use strict";function g(n){_classCallCheck(this,g);var e=n.onProviderChange,t=n.bookreader;this.onProviderChange=e,this.bookContainer=t.refs.$brContainer,this.bookreader=t,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=kt(_templateObject306()),this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="adjustment",this.component=kt(_templateObject307(),RC,this.onAdjustmentChange,this.onZoomIn,this.onZoomOut)}return _createClass(g,[{key:"onZoomIn",value:function(){this.bookreader.zoom(1)}},{key:"onZoomOut",value:function(){this.bookreader.zoom(-1)}},{key:"onAdjustmentChange",value:function(e){var t=e.detail,o={brightness:function(s){return"brightness(".concat(s,"%)")},contrast:function(s){return"contrast(".concat(s,"%)")},grayscale:function(){return"grayscale(100%)"},invert:function(){return"invert(100%)"}},l=t.options.reduce(function(s,a){var r="".concat(a.active?o[a.id](a.value):"");return r?_toConsumableArray(s).concat([r]):s},[]).join(" ");this.bookContainer.css("filter",l),this.optionUpdateComplete(e)}},{key:"optionUpdateComplete",value:function(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}},{key:"updateOptionsCount",value:function(){this.menuDetails="(".concat(this.activeCount," active)")}}]),g}(),$C=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){var o=this;return kt(_templateObject309(),function(){return o.deleteAction({detail:{id:"".concat(o.pageID)}})},function(){return o.cancelAction()})}}],[{key:"styles",get:function(){return zt(_templateObject308())}},{key:"properties",get:function(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}}]),e}(rr),customElements.define("delete-modal-actions",$C),NC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.state="hollow",t.side=void 0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"handleClick",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}},{key:"title",get:function(){return"".concat(this.state==="hollow"?"Add":"Remove"," bookmark")}},{key:"render",value:function(){var o=this.side||"right";return kt(_templateObject311(),this.title,this.handleClick,o,this.state)}}],[{key:"styles",get:function(){return zt(_templateObject310())}},{key:"properties",get:function(){return{side:{type:String},state:{type:String}}}}]),e}(rr),customElements.define("bookmark-button",NC),BC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.url="https://archive.org/account/login",_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject312(),this.url)}}],[{key:"properties",get:function(){return{url:{type:String}}}},{key:"styles",get:function(){return ru}}]),e}(rr),customElements.define("bookmarks-login",BC),FC={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete:function(n){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(n),{credentials:"same-origin",method:"DELETE",headers:this.headers})},get:function(n){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(n),{credentials:"same-origin",method:"GET",headers:this.headers})},getAll:function(){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier),{credentials:"same-origin",method:"GET",headers:this.headers})},post:function(n){return this.sendBookmarkData(n,"POST")},put:function(n){return this.sendBookmarkData(n,"POST")},sendBookmarkData:function(n,e){var t={note:n.note,color:n.color};return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(n.id),{credentials:"same-origin",method:e,headers:this.headers,body:JSON.stringify({notes:t})})}},zC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.bookmarks=[],t.bookreader={},t.editedBookmark={},t.modal=void 0,t.loginOptions={loginClicked:function(){},loginUrl:""},t.displayMode="bookmarks",t.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],t.defaultColor=t.bookmarkColors[0],t.api=FC,t.deleteModalConfig=new Rg({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"}),_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(o){o.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}},{key:"setup",value:function(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}},{key:"getIdentifier",value:function(){return this.bookreader.bookId!==this.bookreader.subPrefix?"".concat(this.bookreader.bookId,"/").concat(this.bookreader.subPrefix):this.bookreader.bookId}},{key:"updateDisplay",value:function(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}},{key:"fetchUserBookmarks",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.t0=this.api.identifier,!s.t0){s.next=5;break}return s.next=4,this.fetchBookmarks();case 4:this.initializeBookmarks();case 5:case"end":return s.stop()}},o,this)}))}},{key:"setBREventListeners",value:function(){var o=this;["3PageViewSelected"].forEach(function(l){var s=o;window.addEventListener("BookReader:".concat(l),function(a){var r=s;setTimeout(function(){r.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(function(l){var s=o;window.addEventListener("BookReader:".concat(l),function(a){var r=s;setTimeout(function(){r.renderBookmarkButtons(),r.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(function(l){var s=o;window.addEventListener("BookReader:".concat(l),function(){s.renderBookmarkButtons()})})}},{key:"initializeBookmarks",value:function(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}},{key:"formatBookmark",value:function(o){var l=o.leafNum,s=l===void 0?"":l,a=o.notes,r=a===void 0?{}:a,c=r.note,d=c===void 0?"":c,h=r.color,p={note:d,color:this.getBookmarkColor(h)?h:this.defaultColor.id},v=e.formatPage(this.bookreader.book.getPageNum(s)),k=this.bookreader.book.getPageURI("".concat(s).replace(/\D/g,""),32);return pi(ei({},p),{id:s,leafNum:s,page:v,thumbnail:k})}},{key:"fetchBookmarks",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d,h,p,v;return _regeneratorRuntime.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return l=this,x.next=3,this.api.getAll().then(function(S){return S.text()});case 3:s=x.sent;try{a=JSON.parse(s)}catch(S){a={error:S.message}}return r=a.success,c=a.error,d=c===void 0?"Something happened while fetching bookmarks.":c,h=a.value,p=h===void 0?[]:h,r||(console==null||console.warn("Error fetching bookmarks",d)),v={},x.abrupt("return",(Object.keys(p).forEach(function(S){var A=p[S],E=parseInt(S,10),O=l.formatBookmark(pi(ei({},A),{leafNum:E}));v[S]=O}),this.bookmarks=v,v));case 9:case"end":return x.stop()}},o,this)}))}},{key:"emitBookmarksChanged",value:function(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}},{key:"emitBookmarkButtonClicked",value:function(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}},{key:"bookmarkButtonClicked",value:function(o){this.getBookmark(o)?this.confirmDeletion(o):this.createBookmark(o)}},{key:"renderBookmarkButtons",value:function(){var o=this;this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(function(l){var s=o,a=l.querySelector(".bookmark-button");a&&a.remove();var r=+l.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),c=o.getBookmark(r),d=c?"filled":"hollow",h=o.bookreader.book.getPage(r),p=h.isViewable;if(p){var v=document.createElement("div");["mousedown","mouseup"].forEach(function(x){v.addEventListener(x,function(S){return S.stopPropagation()})}),v.classList.add("bookmark-button",d),c&&v.classList.add(o.getBookmarkColor(c.color));var k=l.getAttribute("data-side")==="L"&&o.bookreader.mode===o.bookreader.constMode2up?"left":"right";Sp(kt(_templateObject314(),function(){return s.bookmarkButtonClicked(r)},d,k),v),l.appendChild(v)}})}},{key:"markActiveBookmark",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.bookreader,s=l.mode,a=l.constMode2up,r=l.constModeThumb,c=this.bookreader.currentIndex();if(s===r){var d=this.bookmarks[c];o&&d&&(this.activeBookmarkID=c);return}if(!(s===a&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[c]){this.activeBookmarkID=c;return}this.activeBookmarkID=""}}},{key:"bookmarkEdited",value:function(o){var l=o.detail,s=l.bookmark.id===this.editedBookmark.id;this.editedBookmark=s?{}:l.bookmark}},{key:"getBookmark",value:function(o){return this.bookmarks[o]}},{key:"getBookmarkColor",value:function(o){var l;return(l=this.bookmarkColors.find(function(s){return s.id===o}))==null?void 0:l.className}},{key:"addBookmark",value:function(){var o=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){var l=this.bookreader.displayedIndices;o=l[l.length-1]}this.createBookmark(o)}},{key:"createBookmark",value:function(o){var l=this.getBookmark(o);if(l){this.bookmarkEdited({detail:{bookmark:l}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:o}),this.api.post(this.editedBookmark),this.bookmarks[o]=this.editedBookmark,this.activeBookmarkID=o,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}},{key:"bookmarkSelected",value:function(o){var l=o.detail,s=l.bookmark,a=s.leafNum;this.bookreader.jumpToPage("".concat(this.bookreader.book.getPageNum("".concat(a).replace(/\D/g,"")))),this.activeBookmarkID=a}},{key:"saveBookmark",value:function(o){var l=o.detail,s=this.bookmarks[l.bookmark.id];Object.assign(s,l.bookmark),this.api.put(s),this.editedBookmark={},this.renderBookmarkButtons()}},{key:"confirmDeletion",value:function(o){if(this.getBookmark(o).note){this.displayDeletionModal(o);return}this.deleteBookmark({detail:{id:"".concat(o)}})}},{key:"displayDeletionModal",value:function(o){var l=this,s=kt(_templateObject315(),function(){return l.deleteBookmark({detail:{id:"".concat(o)}})},function(){return l.modal.closeModal()},o);this.modal.showModal({config:this.deleteModalConfig,customModalContent:s})}},{key:"deleteBookmark",value:function(o){var l=o.detail,s=l.id,a=this.bookmarks;delete a[s],this.bookmarks=ei({},a),this.api.delete(l.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}},{key:"shouldEnableAddBookmarkButton",get:function(){var o=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(o)}},{key:"allowAddingBookmark",get:function(){return this.bookreader.mode!==this.bookreader.constModeThumb}},{key:"addBookmarkButton",get:function(){return kt(_templateObject316(),this.shouldEnableAddBookmarkButton,this.addBookmark)}},{key:"bookmarksList",get:function(){return kt(_templateObject317(),this.bookmarkEdited,this.bookmarkSelected,this.saveBookmark,this.deleteBookmark,this.editedBookmark,ei({},this.bookmarks),this.activeBookmarkID,this.bookmarkColors,this.defaultColor)}},{key:"bookmarkHelperMessage",get:function(){return kt(_templateObject318())}},{key:"render",value:function(){var o=this,l=kt(_templateObject319(),this.bookmarksList,this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage);return kt(_templateObject321(),this.displayMode==="login"?kt(_templateObject320(),function(){return o.loginOptions.loginClicked()},this.loginOptions.loginUrl):l)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}},{key:"styles",get:function(){var o=zt(_templateObject313());return[ru,o]}},{key:"formatPage",value:function(o){return isNaN(+o)?"(".concat(o.replace(/\D/g,""),")"):o}}]),e}(rr),customElements.define("ia-bookmarks",zC),ny=zt(_templateObject322()),HC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.bookmark={},t.bookmarkColors=[],t.renderHeader=!1,t.showBookmark=!0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"emitSaveEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}},{key:"emitDeleteEvent",value:function(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}},{key:"emitColorChangedEvent",value:function(o){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:o}}))}},{key:"changeColorTo",value:function(o){this.bookmark.color=o,this.emitColorChangedEvent(o)}},{key:"updateNote",value:function(o){this.bookmark.note=o.currentTarget.value}},{key:"bookmarkColor",value:function(o){var l=this;return kt(_templateObject324(),o.id,o.id,function(){return l.changeColorTo(o.id)},this.bookmark.color===o.id,o.id,o.className)}},{key:"bookmarkTemplate",get:function(){return kt(_templateObject325(),this.bookmark.thumbnail,this.bookmark.page)}},{key:"render",value:function(){return kt(_templateObject326(),this.renderHeader?e.headerSection:Yn,this.showBookmark?this.bookmarkTemplate:Yn,this.emitSaveEvent,this.updateNote,this.bookmark.note,Xl(this.bookmarkColors,function(o){return o.id},this.bookmarkColor.bind(this)),this.emitDeleteEvent)}}],[{key:"properties",get:function(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}},{key:"headerSection",get:function(){return kt(_templateObject323())}},{key:"styles",get:function(){var o=zt(_templateObject327());return[ru,ny,o]}}]),e}(rr),customElements.define("ia-bookmark-edit",HC),UC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.activeBookmarkID=void 0,t.bookmarkColors=[],t.defaultBookmarkColor={},t.bookmarks={},t.editedBookmark={},t.renderHeader=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"emitEditEvent",value:function(o,l){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:l}}))}},{key:"emitSelectedEvent",value:function(o){this.activeBookmarkID=o.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:o}}))}},{key:"emitSaveBookmark",value:function(o){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:o}}))}},{key:"emitDeleteBookmark",value:function(o){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:o}}))}},{key:"emitBookmarkColorChanged",value:function(o){var l=o.detail,s=l.bookmarkId,a=l.colorId;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:s,colorId:a}}))}},{key:"emitAddBookmark",value:function(){this.dispatchEvent(new CustomEvent("addBookmark"))}},{key:"editBookmark",value:function(o,l){this.emitEditEvent(o,l),this.editedBookmark=this.editedBookmark===l?{}:l}},{key:"saveBookmark",value:function(o){var l=o.detail,s=l.bookmark;this.editedBookmark={},this.emitSaveBookmark(s)}},{key:"deleteBookmark",value:function(o){var l=o.detail,s=l.id;this.editedBookmark={},this.emitDeleteBookmark(s)}},{key:"bookmarkColorInfo",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.bookmarkColors.find(function(l){return(l==null?void 0:l.id)===o})}},{key:"bookmarkItem",value:function(o){var l=this,s=this.editedBookmark.id===o.id,a=this.bookmarkColorInfo(o.color),r=a.className,c=o.id===this.activeBookmarkID?"active":"";return kt(_templateObject329(),function(){return l.emitSelectedEvent(o)},o.id,c,function(d){return l.editBookmark(d,o)},r,o.page,!s&&o.note?kt(_templateObject328(),o.note):Yn,s?this.editBookmarkComponent:Yn)}},{key:"editBookmarkComponent",get:function(){return kt(_templateObject330(),this.editedBookmark,this.bookmarkColors,this.defaultBookmarkColor,!1,this.saveBookmark,this.deleteBookmark,this.emitBookmarkColorChanged)}},{key:"sortBookmarks",value:function(){var o=this;return Object.keys(this.bookmarks).sort(function(l,s){return+l>+s?1:+l<+s?-1:0}).map(function(l){return o.bookmarks[l]})}},{key:"bookmarksCount",get:function(){var o=this.bookmarks.length;return kt(_templateObject331(),o)}},{key:"headerSection",get:function(){return kt(_templateObject332(),this.bookmarks.length?this.bookmarksCount:Yn)}},{key:"bookmarkslist",get:function(){var o=this.sortBookmarks(),l=Xl(o,function(s){return s==null?void 0:s.id},this.bookmarkItem.bind(this));return kt(_templateObject333(),l)}},{key:"render",value:function(){return kt(_templateObject334(),this.renderHeader?this.headerSection:Yn,Object.keys(this.bookmarks).length?this.bookmarkslist:Yn)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}},{key:"styles",get:function(){return[zt(_templateObject335()),ny]}}]),e}(rr),customElements.define("ia-bookmarks-list",UC),VC=function(){"use strict";function g(n){_classCallCheck(this,g);var e=n.baseHost,t=n.signedIn,o=n.bookreader,l=n.modal,s=n.onProviderChange,a="referer=".concat(encodeURIComponent(location.href)),r="https://".concat(e,"/account/login?").concat(a);this.component=document.createElement("ia-bookmarks"),this.component.bookreader=o,this.component.displayMode=t?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:r},this.bindEvents(),this.icon=kt(_templateObject336()),this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=s,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}return _createClass(g,[{key:"updateMenu",value:function(e){this.menuDetails="(".concat(e,")")}},{key:"bindEvents",value:function(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}},{key:"bookmarksChanged",value:function(e){var t=e.detail,o=Object.keys(t.bookmarks).length;this.updateMenu(o),this.onProviderChange(t.bookmarks,t.showSidePanel)}},{key:"bookmarksLoginClicked",value:function(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}}]),g}(),qC=function g(n){"use strict";var e=n.item,t=n.baseHost,o=n.bookreader;_classCallCheck(this,g);var l=e==null?void 0:e.metadata,s=l.identifier,a=l.creator,r=l.title,c=Array.isArray(a)?a[0]:a,d=o.options.subPrefix||"",h="Share this book";this.icon=kt(_templateObject337(),KS),this.label=h,this.id="share",this.component=kt(_templateObject338(),s,"book",c,r,t,d)},mc={title_asc:"title_asc",title_desc:"title_desc",default:"default"},WC=function(){"use strict";function g(n){var e=n.baseHost,t=n.bookreader,o=n.onProviderChange,l=this;_classCallCheck(this,g),this.bookreader=t,this.onProviderChange=o,this.baseHost=e;var s=t.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(s).map(function(r){return s[r]}),this.volumeCount=Object.keys(s).length,this.id="volumes",this.label="Viewable files (".concat(this.volumeCount,")"),this.icon=kt(_templateObject339(),sC),this.sortOrderBy=mc.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=t.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=_toConsumableArray(this.viewableFiles),this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",function(r){return l.handleFileListSorted(r)}),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();var a=this.bookreader.urlPlugin.getUrlParam("sort");(a===mc.title_asc||a===mc.title_desc)&&(this.sortOrderBy=a)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}return _createClass(g,[{key:"handleFileListSorted",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.detail,l=o.sortType,s=o.sortedFiles,this.viewableFiles=s,this.sortOrderBy=l,this.component.fileList=_toConsumableArray(this.viewableFiles),r.next=6,this.component.updateComplete;case 6:this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==mc.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy);case 9:case"end":return r.stop()}},t,this)}))}},{key:"multipleFilesClicked",value:function(e){var t;(t=window.archive_analytics)==null||t.send_event("BookReader","VolumesSort|".concat(e),window.location.path)}}]),g}(),YC=Mo(_templateObject340()),gc={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},GC=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.itemMD=void 0,t.loaded=!1,t.bookReaderCannotLoad=!1,t.bookReaderLoaded=!1,t.bookreader=null,t.bookIsRestricted=!1,t.downloadableTypes=[],t.isAdmin=!1,t.lendingInitialized=!1,t.lendingStatus={},t.menuProviders={},t.menuShortcuts=[],t.signedIn=!1,t.modal=void 0,t.sharedObserver=void 0,t.fullscreenBranding=YC,t.sharedObserverHandler=void 0,t.brWidth=0,t.brHeight=0,t.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks"],_possibleConstructorReturn(t)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"firstUpdated",value:function(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}},{key:"updated",value:function(o){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((o.has("loaded")&&this.loaded||o.has("itemMD")||o.has("bookreader")||o.has("signedIn")||o.has("isAdmin")||o.has("modal"))&&this.initializeBookSubmenus(),o.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),o.has("downloadableTypes")&&this.initializeBookSubmenus())}},{key:"emitPostInit",value:function(){var o;this.dispatchEvent(new CustomEvent("BrBookNav:".concat(gc.PostInit),{detail:{brSelector:(o=this.bookreader)==null?void 0:o.el},bubbles:!0,composed:!0}))}},{key:"baseProviderConfig",get:function(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:function(){}}}},{key:"isWideEnoughToOpenMenu",get:function(){return this.brWidth>=640}},{key:"initializeBookSubmenus",value:function(){var o=this,l={visualAdjustments:new DC(pi(ei({},this.baseProviderConfig),{onProviderChange:function(){o.updateMenuContents()}}))};this.baseProviderConfig.item&&(l.share=new qC(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(l.downloads=new MC(this.baseProviderConfig)),this.bookreader.options.enableSearch&&(l.search=new jC(pi(ei({},this.baseProviderConfig),{onProviderChange:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;s&&(o.bookreader=s),o.updateMenuContents(),a.openMenu!==!1&&o.isWideEnoughToOpenMenu&&!(a!=null&&a.searchCanceled)&&setTimeout(function(){r.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(l.bookmarks=new VC(pi(ei({},this.baseProviderConfig),{onProviderChange:function(s){var a=Object.keys(s).length?"add":"remove";o["".concat(a,"MenuShortcut")]("bookmarks"),o.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(l.volumes=new WC(pi(ei({},this.baseProviderConfig),{onProviderChange:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;s&&(o.bookreader=s),o.updateMenuContents(),o.isWideEnoughToOpenMenu&&setTimeout(function(){r.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,l),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}},{key:"mainBRContainer",get:function(){var o;return document.querySelector((o=this.bookreader)==null?void 0:o.el)}},{key:"addFullscreenShortcut",value:function(){var o={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(o),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"deleteFullscreenShortcut",value:function(){var o=this.menuShortcuts.filter(function(l){var s=l.id;return s!=="fullscreen"});this.menuShortcuts=o,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"closeFullscreen",value:function(){this.bookreader.exitFullScreen()}},{key:"fullscreenShortcut",get:function(){var o=this;return kt(_templateObject341(),function(){return o.closeFullscreen()},this.fullscreenBranding)}},{key:"updateSideMenu",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"open";if(o){var s=new CustomEvent(gc.updateSideMenu,{detail:{menuId:o,action:l}});this.dispatchEvent(s)}}},{key:"updateMenuContents",value:function(){var o=this.menuProviders,l=o.search,s=o.downloads,a=o.visualAdjustments,r=o.share,c=o.bookmarks,d=o.volumes,h=o.chapters,p=[d,h,l,c,a,r].filter(function(k){return!!k});this.shouldShowDownloadsMenu()&&(s==null||s.update(this.downloadableTypes),p.splice(-2,0,s));var v=new CustomEvent(gc.menuUpdated,{detail:p});this.dispatchEvent(v)}},{key:"shouldShowDownloadsMenu",value:function(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;var o=this.lendingStatus,l=o.user_loan_record,s=l===void 0?{}:l;return Array.isArray(s)?!1:s.type&&s.type!=="SESSION_LOAN"}},{key:"addMenuShortcut",value:function(o){this.menuShortcuts.find(function(l){return l.id===o})||this.menuProviders[o]&&(this.menuShortcuts.push(this.menuProviders[o]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}},{key:"removeMenuShortcut",value:function(o){this.menuShortcuts=this.menuShortcuts.filter(function(l){return l.id!==o}),this.emitMenuShortcutsUpdated()}},{key:"sortMenuShortcuts",value:function(){var o=this;this.menuShortcuts=this.shortcutOrder.reduce(function(l,s){var a=o.menuShortcuts.find(function(r){return r.id===s});return a&&l.push(a),l},[])}},{key:"emitMenuShortcutsUpdated",value:function(){var o=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(o)}},{key:"emitLoadingStatusUpdate",value:function(o){var l=new CustomEvent("loadingStateUpdated",{detail:{loaded:o}});this.dispatchEvent(l)}},{key:"bindEventListeners",value:function(){var o=this;window.addEventListener("BookReader:PostInit",function(l){var s=o;o.bookreader=l.detail.props,o.bookreader.shell=o,o.bookReaderLoaded=!0,o.bookReaderCannotLoad=!1,o.emitLoadingStatusUpdate(!0),o.loadSharedObserver(),setTimeout(function(){s.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",function(l){var s=l.detail,a=s.props,r=a===void 0?null:a;r&&(o.bookreader=r),o.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",function(l){o.dispatchEvent(new CustomEvent(gc.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",function(l){var s=l.detail,a=s.downloadTypesAvailable,r=s.lendingStatus,c=s.isAdmin,d=s.previewType;o.lendingInitialized=!0,o.downloadableTypes=a,o.lendingStatus=r,o.isAdmin=c,o.bookReaderCannotLoad=d==="singlePagePreview",o.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",function(l){var s=l.detail,a=s.isRestricted,r=s.downloadURLs;o.bookReaderLoaded=!0,o.downloadableTypes=r,o.bookIsRestricted=a}),window.addEventListener("contextmenu",function(l){return o.manageContextMenuVisibility(l)},{capture:!0})}},{key:"manageContextMenuVisibility",value:function(o){var l,s,a;if((a=window.archive_analytics)==null||a.send_event("BookReader","contextmenu-".concat(this.bookIsRestricted?"restricted":"unrestricted"),(s=(l=o.target)==null?void 0:l.classList)==null?void 0:s.value),!(!this.bookIsRestricted||!o.target.classList.value.match(/BRscreen|BRpageimage/g)))return o.preventDefault(),!1}},{key:"loadSharedObserver",value:function(){var o;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(o=this.sharedObserver)==null||o.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"handleResize",value:function(o){var l=o.contentRect,s=o.target,a,r=this.brWidth,c=this.brHeight,d=this.bookreader,h=d.animating;s===this.mainBRContainer&&(this.brWidth=l.width,this.brHeight=l.height),!r&&this.brWidth&&this.initializeBookSubmenus();var p=r!==this.brWidth,v=c!==this.brHeight;!h&&(p||v)&&((a=this.bookreader)==null||a.resize())}},{key:"manageFullScreenBehavior",value:function(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}},{key:"emitFullScreenState",value:function(){var o=this.bookreader.isFullscreen(),l=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:o}});this.dispatchEvent(l)}},{key:"itemImage",get:function(){var o,l=(o=this.itemMD)==null?void 0:o.metadata.identifier,s="https://".concat(this.baseHost,"/services/img/").concat(l);return kt(_templateObject342(),s,l)}},{key:"placeholder",get:function(){return kt(_templateObject343(),this.itemImage)}},{key:"render",value:function(){return kt(_templateObject345(),this.bookReaderCannotLoad?this.placeholder:Yn,this.bookReaderCannotLoad?Yn:kt(_templateObject344()))}}],[{key:"properties",get:function(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}},{key:"styles",get:function(){return zt(_templateObject346())}}]),e}(rr),customElements.define("book-navigator",GC),ry=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.item=void 0,t.bookreader=void 0,t.baseHost="archive.org",t.fullscreen=!1,t.signedIn=!1,t.modal=void 0,t.sharedObserver=void 0,t.loaded=!1,t.menuShortcuts=[],t.menuContents=[],t.openMenuName="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new Ha)}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("iaux-item-navigator")}},{key:"setModalManager",value:function(){var o=document.querySelector("modal-manager");o||(o=document.createElement("modal-manager"),document.body.appendChild(o)),this.modal=o}},{key:"manageFullscreen",value:function(o){var l=o.detail,s=!!l.isFullScreen;this.fullscreen=s,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:s}}))}},{key:"loadingStateUpdated",value:function(o){var l=o.detail,s=l.loaded;this.loaded=s||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:s}}))}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"manageSideMenuEvents",value:function(o){var l,s,a=o.detail,r=a.menuId,c=a.action;r&&(this.openMenuName=r,c==="open"?(l=this.itemNav)==null||l.openShortcut(r):c==="toggle"&&((s=this.itemNav)==null||s.toggleMenu()))}},{key:"render",value:function(){return kt(_templateObject347(),this.fullscreen,this.baseHost,this.item,this.modal,this.loaded,this.sharedObserver,this.signedIn,this.menuShortcuts,this.menuContents,this.openMenuName,this.modal,this.baseHost,this.item,this.signedIn,this.menuOpened,this.sharedObserver,this.manageFullscreen,this.loadingStateUpdated,this.manageSideMenuEvents,this.setMenuContents,this.setMenuShortcuts)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}},{key:"styles",get:function(){return zt(_templateObject348())}}]),e}(rr),window.customElements.define("ia-bookreader",ry)}}),KC={};bi(KC,{IaBookReader:function(){return ry}});var _P=Gt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-87":function(){Sn(),US(),hc(),$l(),$g(),ZS(),tC(),rC(),Ng(),Jl(),cC(),fC(),Bh(),Uu(),CC(),EC(),wP()}});function iu(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===el)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=au(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=iu(g,r._$AS(g,n.values),r,t)),n}var XC,yc,Hh,Uh,iy,oy,JC,ay,ZC,sy,ly,bc,uy,QC,cy,Vh,dy,qh,Js,hy,wc,Zs,fy,ka,py,eA,Qs,ou,au,vy,tA,su,my,gy,is,yy,by,wy,_y,lu,kP,el,Ii,ky,tl,nA,_c,rA,kc,xc,iA,oA,aA,sA,lA,xy,uA,Sy,Cy,nl,Ay,cA=Gt({"https-url:https://offshoot.prod.archive.org/lit.js":function(){XC=function(g,n,e){return new Promise(function(t,o){var l=function(r){try{a(e.next(r))}catch(c){o(c)}},s=function(r){try{a(e.throw(r))}catch(c){o(c)}},a=function(r){return r.done?t(r.value):Promise.resolve(r.value).then(l,s)};a((e=e.apply(g,n)).next())})},yc=window,Hh=yc.ShadowRoot&&(yc.ShadyCSS===void 0||yc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Uh=Symbol(),iy=new WeakMap,oy=function(){"use strict";function g(n,e,t){if(_classCallCheck(this,g),this._$cssResult$=!0,t!==Uh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=e}return _createClass(g,[{key:"styleSheet",get:function(){var e=this.o,t=this.t;if(Hh&&e===void 0){var o=t!==void 0&&t.length===1;o&&(e=iy.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&iy.set(t,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),g}(),JC=function(g){return new oy(typeof g=="string"?g:g+"",void 0,Uh)},ay=function(g){for(var n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];var o=g.length===1?g[0]:e.reduce(function(l,s,a){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(s)+g[a+1]},g[0]);return new oy(o,g,Uh)},ZC=function(g,n){Hh?g.adoptedStyleSheets=n.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):n.forEach(function(e){var t=document.createElement("style"),o=yc.litNonce;o!==void 0&&t.setAttribute("nonce",o),t.textContent=e.cssText,g.appendChild(t)})},sy=Hh?function(g){return g}:function(g){return _instanceof(g,CSSStyleSheet)?function(n){var e="",t=!0,o=!1,l=void 0;try{for(var s=n.cssRules[Symbol.iterator](),a;!(t=(a=s.next()).done);t=!0){var r=a.value;e+=r.cssText}}catch(c){o=!0,l=c}finally{try{!t&&s.return!=null&&s.return()}finally{if(o)throw l}}return JC(e)}(g):g},bc=window,uy=bc.trustedTypes,QC=uy?uy.emptyScript:"",cy=bc.reactiveElementPolyfillSupport,Vh={toAttribute:function(n,e){switch(e){case Boolean:n=n?QC:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute:function(n,e){var t=n;switch(e){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch(o){t=null}}return t}},dy=function(g,n){return n!==g&&(n==n||g==g)},qh={attribute:!0,type:String,converter:Vh,reflect:!1,hasChanged:dy},Js=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t._$Ei=new Map,t.isUpdatePending=!1,t.hasUpdated=!1,t._$El=null,t.u(),_possibleConstructorReturn(t)}return _createClass(e,[{key:"u",value:function(){var o=this,l;this._$E_=new Promise(function(s){return o.enableUpdating=s}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(l=this.constructor.h)===null||l===void 0||l.forEach(function(s){return s(o)})}},{key:"addController",value:function(o){var l,s;((l=this._$ES)!==null&&l!==void 0?l:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((s=o.hostConnected)===null||s===void 0||s.call(o))}},{key:"removeController",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(l,s){o.hasOwnProperty(s)&&(o._$Ei.set(s,o[s]),delete o[s])})}},{key:"createRenderRoot",value:function(){var o,l=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return ZC(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(l){var s;return(s=l.hostConnected)===null||s===void 0?void 0:s.call(l)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(l){var s;return(s=l.hostDisconnected)===null||s===void 0?void 0:s.call(l)})}},{key:"attributeChangedCallback",value:function(o,l,s){this._$AK(o,s)}},{key:"_$EO",value:function(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qh,a,r=this.constructor._$Ep(o,s);if(r!==void 0&&s.reflect===!0){var c=(((a=s.converter)===null||a===void 0?void 0:a.toAttribute)!==void 0?s.converter:Vh).toAttribute(l,s.type);this._$El=o,c==null?this.removeAttribute(r):this.setAttribute(r,c),this._$El=null}}},{key:"_$AK",value:function(o,l){var s,a=this.constructor,r=a._$Ev.get(o);if(r!==void 0&&this._$El!==r){var c=a.getPropertyOptions(r),d=typeof c.converter=="function"?{fromAttribute:c.converter}:((s=c.converter)===null||s===void 0?void 0:s.fromAttribute)!==void 0?c.converter:Vh;this._$El=r,this[r]=d.fromAttribute(l,c.type),this._$El=null}}},{key:"requestUpdate",value:function(o,l,s){var a=!0;o!==void 0&&(((s=s||this.constructor.getPropertyOptions(o)).hasChanged||dy)(this[o],l)?(this._$AL.has(o)||this._$AL.set(o,l),s.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,s))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return XC(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.isUpdatePending=!0,a.prev=1,a.next=4,this._$E_;case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),Promise.reject(a.t0);case 9:if(l=this.scheduleUpdate(),a.t1=l!=null,!a.t1){a.next=14;break}return a.next=14,l;case 14:return a.abrupt("return",(a.t1&&a.sent,!this.isUpdatePending));case 15:case"end":return a.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,l;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,c){return o[c]=r}),this._$Ei=void 0);var s=!1,a=this._$AL;try{s=this.shouldUpdate(a),s?(this.willUpdate(a),(l=this._$ES)===null||l===void 0||l.forEach(function(r){var c;return(c=r.hostUpdate)===null||c===void 0?void 0:c.call(r)}),this.update(a)):this._$Ek()}catch(r){throw s=!1,this._$Ek(),r}s&&this._$AE(a)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.forEach(function(s){var a;return(a=s.hostUpdated)===null||a===void 0?void 0:a.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var l=this;this._$EC!==void 0&&(this._$EC.forEach(function(s,a){return l._$EO(a,l[a],s)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var l;this.finalize(),((l=this.h)!==null&&l!==void 0?l:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var l=[];return this.elementProperties.forEach(function(s,a){var r=o._$Ep(a,s);r!==void 0&&(o._$Ev.set(r,a),l.push(r))}),l}},{key:"createProperty",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qh;if(l.state&&(l.attribute=!1),this.finalize(),this.elementProperties.set(o,l),!l.noAccessor&&!this.prototype.hasOwnProperty(o)){var s=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,a=this.getPropertyDescriptor(o,s,l);a!==void 0&&Object.defineProperty(this.prototype,o,a)}}},{key:"getPropertyDescriptor",value:function(o,l,s){return{get:function(){return this[l]},set:function(r){var c=this[o];this[l]=r,this.requestUpdate(o,c,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||qh}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var l=this.properties,s=_toConsumableArray(Object.getOwnPropertyNames(l)).concat(_toConsumableArray(Object.getOwnPropertySymbols(l))),a=!0,r=!1,c=void 0;try{for(var d=s[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;this.createProperty(p,l[p])}}catch(v){r=!0,c=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var l=[];if(Array.isArray(o)){var s=new Set(o.flat(1/0).reverse()),a=!0,r=!1,c=void 0;try{for(var d=s[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value;l.unshift(sy(p))}}catch(v){r=!0,c=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}else o!==void 0&&l.push(sy(o));return l}},{key:"_$Ep",value:function(o,l){var s=l.attribute;return s===!1?void 0:typeof s=="string"?s:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Js.finalized=!0,Js.elementProperties=new Map,Js.elementStyles=[],Js.shadowRootOptions={mode:"open"},cy==null||cy({ReactiveElement:Js}),((ly=bc.reactiveElementVersions)!==null&&ly!==void 0?ly:bc.reactiveElementVersions=[]).push("1.5.0"),wc=window,Zs=wc.trustedTypes,fy=Zs?Zs.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,ka="lit$".concat((Math.random()+"").slice(9),"$"),py="?"+ka,eA="<".concat(py,">"),Qs=document,ou=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Qs.createComment(g)},au=function(g){return g===null||typeof g!="object"&&typeof g!="function"},vy=Array.isArray,tA=function(g){return vy(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},su=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,my=/-->/g,gy=/>/g,is=RegExp(">|[ 	\n\f\r](?:([^\\s\"'>=/]+)([ 	\n\f\r]*=[ 	\n\f\r]*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)","g"),yy=/'/g,by=/"/g,wy=/^(?:script|style|textarea|title)$/i,_y=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},lu=_y(1),kP=_y(2),el=Symbol.for("lit-noChange"),Ii=Symbol.for("lit-nothing"),ky=new WeakMap,tl=Qs.createTreeWalker(Qs,129,null,!1),nA=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=su,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===su?d[1]==="!--"?s=my:d[1]!==void 0?s=gy:d[2]!==void 0?(wy.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=is):d[3]!==void 0&&(s=is):s===is?d[0]===">"?(s=o!=null?o:su,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?is:d[3]==='"'?by:yy):s===by||s===yy?s=is:s===my||s===gy?s=su:(s=is,o=void 0);var v=s===is&&g[a+1].startsWith("/>")?" ":"";l+=s===su?r+eA:h>=0?(t.push(c),r.slice(0,h)+"$lit$"+r.slice(h)+ka+v):r+ka+(h===-2?(t.push(void 0),a):v)}var k=l+(g[e]||"<?>")+(n===2?"</svg>":"");if(!Array.isArray(g)||!g.hasOwnProperty("raw"))throw Error("invalid template strings array");return[fy!==void 0?fy.createHTML(k):k,t]},_c=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(nA(t,o),2),h=d[0],p=d[1];if(this.el=_c.createElement(h,e),tl.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=tl.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith("$lit$")||u.startsWith(ka)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+"$lit$").split(ka),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?iA:y[1]==="?"?aA:y[1]==="@"?sA:xc})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(wy.test(l.tagName)){var Q=l.textContent.split(ka),W=Q.length-1;if(W>0){l.textContent=Zs?Zs.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],ou()),tl.nextNode(),c.push({type:2,index:++s});l.append(Q[W],ou())}}}else if(l.nodeType===8)if(l.data===py)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(ka,oe+1))!==-1;)c.push({type:7,index:s}),oe+=ka.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=Qs.createElement("template");return o.innerHTML=e,o}}]),g}(),rA=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.u=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"v",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Qs).importNode(s,!0);tl.currentNode=r;for(var c=tl.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new kc(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new lA(c,this,e)),this.u.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=tl.nextNode(),d++)}return r}},{key:"p",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this.u[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),kc=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Ii,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cm=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cm}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e.nodeType===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=iu(this,e,t),au(e)?e===Ii||e==null||e===""?(this._$AH!==Ii&&this._$AR(),this._$AH=Ii):e!==this._$AH&&e!==el&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):tA(e)?this.k(e):this.g(e)}},{key:"O",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"g",value:function(e){this._$AH!==Ii&&au(this._$AH)?this._$AA.nextSibling.data=e:this.T(Qs.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=_c.createElement(l.h,this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.p(o);else{var a=new rA(s,this),r=a.v(this.options);a.p(o),this.T(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=ky.get(e.strings);return t===void 0&&ky.set(e.strings,t=new _c(e)),t}},{key:"k",value:function(e){vy(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new kc(this.O(ou()),this.O(ou()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cm=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),xc=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Ii,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Ii}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=iu(this,e,t,0),a=!au(e)||e!==this._$AH&&e!==el,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=iu(this,r[o+c],t,c),d===el&&(d=this._$AH[c]),a||(a=!au(d)||d!==this._$AH[c]),d===Ii?e=Ii:e!==Ii&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Ii?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),iA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ii?void 0:o}}]),e}(xc),oA=Zs?Zs.emptyScript:"",aA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Ii?this.element.setAttribute(this.name,oA):this.element.removeAttribute(this.name)}}]),e}(xc),sA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=iu(this,o,l,0))!==null&&s!==void 0?s:Ii)!==el){var a=this._$AH,r=o===Ii&&a!==Ii||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Ii&&(a===Ii||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(xc),lA=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){iu(this,e)}}]),g}(),xy=wc.litHtmlPolyfillSupport,xy==null||xy(_c,kc),((hy=wc.litHtmlVersions)!==null&&hy!==void 0?hy:wc.litHtmlVersions=[]).push("2.5.0"),uA=function(g,n,e){var t,o,l=(t=e==null?void 0:e.renderBefore)!==null&&t!==void 0?t:n,s=l._$litPart$;if(s===void 0){var a=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=s=new kc(n.insertBefore(ou(),a),a,void 0,e!=null?e:{})}return s._$AI(g),s},nl=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.renderOptions={host:_assertThisInitialized(t)},t._$Do=void 0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,s=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(l=this.renderOptions).renderBefore)!==null&&o!==void 0||(l.renderBefore=s.firstChild),s}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=uA(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return el}}]),e}(Js),nl.finalized=!0,nl._$litElement$=!0,(Sy=globalThis.litElementHydrateSupport)===null||Sy===void 0||Sy.call(globalThis,{LitElement:nl}),Ay=globalThis.litElementPolyfillSupport,Ay==null||Ay({LitElement:nl}),((Cy=globalThis.litElementVersions)!==null&&Cy!==void 0?Cy:globalThis.litElementVersions=[]).push("3.2.2")}}),xP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist/src/photo-viewer/bookreader-utils.js":function(){}}),SP=Gt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/photo-viewer/bookreader-utils.js":function(){xP()}}),Eo,dA,Ko,Wh,_o,di,hA,Oy,fA,pA,vA,kr,xa,Sc,Ey,mA,gA,rl,Yh,yA,bA,Ty,uu=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/search-service@0.3.4/esnext/search-service.mjs":function(){Br(),wo(),Ci(),Br(),wo(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Ci(),Br(),wo(),Ci(),Br(),wo(),Ci(),Eo=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.parser=n,this.rawValue=e}return _createClass(g,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var t=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return t.forEach(function(l){var s,a=e.parser.parseValue(l);Array.isArray(a)?(s=o).push.apply(s,_toConsumableArray(a)):a!==void 0&&o.push(a)}),o}}]),g}(),Ie([Yt()],Eo.prototype,"values",null),Ie([Yt()],Eo.prototype,"value",null),dA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,nc.shared,t)}return e}(Eo),Ko=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,ga.shared,t)}return e}(Eo),Wh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Hs.shared,t)}return e}(Eo),_o=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,co.shared,t)}return e}(Eo),di=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Bl.shared,t)}return e}(Eo),hA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,th.shared,t)}return e}(Eo),Oy=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Ua.shared,t)}return e}(Eo),fA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,rc.shared,t)}return e}(Eo),pA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o){return _classCallCheck(this,e),n.call(this,o,t)}return e}(Eo),vA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o=new B7(Bl.shared);return n.call(this,t,o)}return e}(pA),kr=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new Ko(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new di(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new _o(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new _o(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new di(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new di(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new Oy(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new di(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new di(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new di(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new Ko(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new di(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new _o(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Wh(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new di((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new _o(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new Ko(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new di(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new di(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new _o(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new Oy(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new di(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Wh(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new di(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new _o(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new fA(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new dA(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new di(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new _o(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new _o(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new di(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new di(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new hA(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new di(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new _o(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new Ko(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new di(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new Ko(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Wh(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new di(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new di(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new Ko(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new Ko(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new Ko(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new vA(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new di(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new di(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new di(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new _o(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new di(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new di(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new _o(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new di(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new di(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new _o(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new Ko(this.rawMetadata.year):void 0}}]),g}(),Ie([Yt()],kr.prototype,"addeddate",null),Ie([Yt()],kr.prototype,"audio_codec",null),Ie([Yt()],kr.prototype,"audio_sample_rate",null),Ie([Yt()],kr.prototype,"avg_rating",null),Ie([Yt()],kr.prototype,"collection",null),Ie([Yt()],kr.prototype,"collections_raw",null),Ie([Yt()],kr.prototype,"collection_size",null),Ie([Yt()],kr.prototype,"contributor",null),Ie([Yt()],kr.prototype,"coverage",null),Ie([Yt()],kr.prototype,"creator",null),Ie([Yt()],kr.prototype,"date",null),Ie([Yt()],kr.prototype,"description",null),Ie([Yt()],kr.prototype,"downloads",null),Ie([Yt()],kr.prototype,"duration",null),Ie([Yt()],kr.prototype,"external-identifier",null),Ie([Yt()],kr.prototype,"files_count",null),Ie([Yt()],kr.prototype,"indexdate",null),Ie([Yt()],kr.prototype,"isbn",null),Ie([Yt()],kr.prototype,"issue",null),Ie([Yt()],kr.prototype,"item_count",null),Ie([Yt()],kr.prototype,"item_size",null),Ie([Yt()],kr.prototype,"language",null),Ie([Yt()],kr.prototype,"length",null),Ie([Yt()],kr.prototype,"lineage",null),Ie([Yt()],kr.prototype,"month",null),Ie([Yt()],kr.prototype,"mediatype",null),Ie([Yt()],kr.prototype,"noindex",null),Ie([Yt()],kr.prototype,"notes",null),Ie([Yt()],kr.prototype,"num_favorites",null),Ie([Yt()],kr.prototype,"num_reviews",null),Ie([Yt()],kr.prototype,"openlibrary_edition",null),Ie([Yt()],kr.prototype,"openlibrary_work",null),Ie([Yt()],kr.prototype,"page_progression",null),Ie([Yt()],kr.prototype,"partner",null),Ie([Yt()],kr.prototype,"ppi",null),Ie([Yt()],kr.prototype,"publicdate",null),Ie([Yt()],kr.prototype,"publisher",null),Ie([Yt()],kr.prototype,"reviewdate",null),Ie([Yt()],kr.prototype,"runtime",null),Ie([Yt()],kr.prototype,"scanner",null),Ie([Yt()],kr.prototype,"source",null),Ie([Yt()],kr.prototype,"start_localtime",null),Ie([Yt()],kr.prototype,"start_time",null),Ie([Yt()],kr.prototype,"stop_time",null),Ie([Yt()],kr.prototype,"subject",null),Ie([Yt()],kr.prototype,"taper",null),Ie([Yt()],kr.prototype,"title",null),Ie([Yt()],kr.prototype,"transferer",null),Ie([Yt()],kr.prototype,"track",null),Ie([Yt()],kr.prototype,"type",null),Ie([Yt()],kr.prototype,"uploader",null),Ie([Yt()],kr.prototype,"utc_offset",null),Ie([Yt()],kr.prototype,"venue",null),Ie([Yt()],kr.prototype,"volume",null),Ie([Yt()],kr.prototype,"week",null),Ie([Yt()],kr.prototype,"year",null),xa=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawValue=n}return _createClass(g,[{key:"name",get:function(){return this.rawValue.name}},{key:"source",get:function(){return this.rawValue.source}},{key:"btih",get:function(){return this.rawValue.btih}},{key:"md5",get:function(){return this.rawValue.md5}},{key:"format",get:function(){return this.rawValue.format}},{key:"mtime",get:function(){return this.rawValue.mtime}},{key:"crc32",get:function(){return this.rawValue.crc32}},{key:"sha1",get:function(){return this.rawValue.sha1}},{key:"original",get:function(){return this.rawValue.original}},{key:"size",get:function(){return this.rawValue.size?Ua.shared.parseValue(this.rawValue.size):void 0}},{key:"title",get:function(){return this.rawValue.title}},{key:"length",get:function(){return this.rawValue.length?Hs.shared.parseValue(this.rawValue.length):void 0}},{key:"height",get:function(){return this.rawValue.height?co.shared.parseValue(this.rawValue.height):void 0}},{key:"width",get:function(){return this.rawValue.width?co.shared.parseValue(this.rawValue.width):void 0}},{key:"track",get:function(){return this.rawValue.track?co.shared.parseValue(this.rawValue.track):void 0}},{key:"external_identifier",get:function(){return this.rawValue.external_identifier}},{key:"creator",get:function(){return this.rawValue.creator}},{key:"album",get:function(){return this.rawValue.album}}]),g}(),Ie([Yt()],xa.prototype,"size",null),Ie([Yt()],xa.prototype,"length",null),Ie([Yt()],xa.prototype,"height",null),Ie([Yt()],xa.prototype,"width",null),Ie([Yt()],xa.prototype,"track",null),Sc=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawValue=n}return _createClass(g,[{key:"reviewbody",get:function(){return this.rawValue.reviewbody}},{key:"reviewtitle",get:function(){return this.rawValue.reviewtitle}},{key:"reviewer",get:function(){return this.rawValue.reviewer}},{key:"reviewdate",get:function(){return this.rawValue.reviewdate?ga.shared.parseValue(this.rawValue.reviewdate):void 0}},{key:"createdate",get:function(){return this.rawValue.createdate?ga.shared.parseValue(this.rawValue.createdate):void 0}},{key:"stars",get:function(){return this.rawValue.stars?co.shared.parseValue(this.rawValue.stars):void 0}}]),g}(),Ie([Yt()],Sc.prototype,"reviewdate",null),Ie([Yt()],Sc.prototype,"createdate",null),Ie([Yt()],Sc.prototype,"stars",null),Ey=function g(n){"use strict";_classCallCheck(this,g);var e,t;this.rawResponse=n,this.created=n.created,this.d1=n.d1,this.d2=n.d2,this.dir=n.dir,this.files=(e=n.files)===null||e===void 0?void 0:e.map(function(o){return new xa(o)}),this.files_count=n.files_count,this.item_last_updated=n.item_last_updated,this.item_size=n.item_size,this.metadata=new kr(n.metadata),this.server=n.server,this.uniq=n.uniq,this.workable_servers=n.workable_servers,this.speech_vs_music_asr=n.speech_vs_music_asr,this.reviews=(t=n.reviews)===null||t===void 0?void 0:t.map(function(o){return new Sc(o)})},mA=function g(n){"use strict";_classCallCheck(this,g),this.numFound=n.numFound,this.start=n.start,this.docs=n.docs.map(function(e){return new kr(e)}),this.aggregations=n.aggregations},gA=function g(n){"use strict";_classCallCheck(this,g),this.rawResponse=n,this.responseHeader=n.responseHeader,this.response=new mA(n.response)},function(g){g.networkError="SearchService.NetworkError",g.itemNotFound="SearchService.ItemNotFound",g.decodingError="SearchService.DecodingError",g.searchEngineError="SearchService.SearchEngineError"}(rl||(rl={})),Yh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l){_classCallCheck(this,e);var s;return s=n.call(this,o),s.name=t,s.type=t,s.details=l,_possibleConstructorReturn(s)}return e}(_wrapNativeSuper(Error)),yA=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.advancedParams){var t=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field," ").concat(e.direction)}},{key:"generateURLSearchParams",value:function(e){var t=new URLSearchParams;if(t.append("q",e.query),t.append("output","json"),e.rows&&t.append("rows",String(e.rows)),e.page&&t.append("page",String(e.page)),e.fields&&t.append("fl",e.fields.join(",")),e.sort){var o=this,l=e.sort.map(function(r){return o.sortParamsAsString(r)});t.append("sort",l.join(","))}var s=e.aggregations;if(s){var a=this.aggregateSearchParamsAsString(s);a&&t.append("user_aggs",a)}return t}}]),g}(),bA=function(){"use strict";function g(n){_classCallCheck(this,g);var e;if(this.baseUrl=(e=n==null?void 0:n.baseUrl)!==null&&e!==void 0?e:"archive.org",(n==null?void 0:n.includeCredentials)!==void 0?this.includeCredentials=n.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(n==null?void 0:n.scope)!==void 0)this.requestScope=n.scope;else{var t=new URL(window.location.href).searchParams.get("scope");t&&(this.requestScope=t)}}return _createClass(g,[{key:"performSearch",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=yA.generateURLSearchParams(e).toString(),l="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),a.abrupt("return",this.fetchUrl(l));case 2:case"end":return a.stop()}},t,this)}))}},{key:"fetchMetadata",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=t?"/".concat(t):"",s="https://".concat(this.baseUrl,"/metadata/").concat(e).concat(l),r.abrupt("return",this.fetchUrl(s,{requestOptions:{credentials:"omit"}}));case 2:case"end":return r.stop()}},o,this)}))}},{key:"fetchUrl",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d,h,p,v;return _regeneratorRuntime.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return s=new URL(e),this.requestScope&&s.searchParams.set("scope",this.requestScope),x.prev=4,r=(l=t==null?void 0:t.requestOptions)!==null&&l!==void 0?l:{credentials:this.includeCredentials?"include":"same-origin"},x.next=8,fetch(s.href,r);case 8:a=x.sent,x.next=15;break;case 11:return x.prev=11,x.t0=x.catch(4),c=_instanceof(x.t0,Error)?x.t0.message:typeof x.t0=="string"?x.t0:"Unknown error",x.abrupt("return",this.getErrorResult(rl.networkError,c));case 15:return x.prev=15,x.next=18,a.json();case 18:if(d=x.sent,h=d.error,!h){x.next=25;break}return p=d.forensics,x.abrupt("return",this.getErrorResult(rl.searchEngineError,h,p));case 25:return x.abrupt("return",{success:d});case 26:x.next=32;break;case 28:return x.prev=28,x.t1=x.catch(15),v=_instanceof(x.t1,Error)?x.t1.message:typeof x.t1=="string"?x.t1:"Unknown error",x.abrupt("return",this.getErrorResult(rl.decodingError,v));case 32:case"end":return x.stop()}},o,this,[[4,11],[15,28]])}))}},{key:"getErrorResult",value:function(e,t,o){return{error:new Yh(e,t,o)}}}]),g}(),Ty=function(){"use strict";function g(n){_classCallCheck(this,g),this.searchBackend=n}return _createClass(g,[{key:"search",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.searchBackend.performSearch(e);case 2:return o=s.sent,s.abrupt("return",o.error?o:{success:new gA(o.success)});case 4:case"end":return s.stop()}},t,this)}))}},{key:"fetchMetadata",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,this.searchBackend.fetchMetadata(e);case 3:return l=a.sent,a.abrupt("return",l.error?l:((o=l.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new Yh(rl.itemNotFound)}:{success:new Ey(l.success)});case 5:case"end":return a.stop()}},t,this)}))}},{key:"fetchMetadataValue",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.searchBackend.fetchMetadata(e,t);case 3:return s=r.sent,r.abrupt("return",s.error?s:((l=s.success)===null||l===void 0?void 0:l.result)===void 0?{error:new Yh(rl.itemNotFound)}:{success:s.success.result});case 5:case"end":return r.stop()}},o,this)}))}}]),g}(),Ty.default=new Ty(new bA)}}),wA,_A,CP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist/src/models/album.js":function(){uu(),uu(),wA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"archive.org";_classCallCheck(this,e);var l;return l=n.call(this,t),l.isSegmented=!1,l.private=!1,l.details=null,l.orig="",l.image="",l.duration=0,l.sources=[],l._playlistTrack=null,l.details=t.details,l.baseHost=o,_possibleConstructorReturn(l)}return _createClass(e,[{key:"setPlaylistInfo",value:function(o){this._playlistTrack=o,this.orig=o.orig,this.image=o.image,this.duration=o.duration,this.sources=o.sources}},{key:"url",get:function(){return"https://".concat(this.baseHost,"/").concat(this.name)}},{key:"title",get:function(){var o;return((o=this._playlistTrack)===null||o===void 0?void 0:o.title)||(this===null||this===void 0?void 0:this.title)||this.name}},{key:"youtubeId",get:function(){return this.externalIds.find(function(o){return o.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(o){return o.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}}]),e}(xa),_A=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new Ey(n),this.rawPlaylistTracks=e,this.tracks=e,this.filterFiles(this.item.files)}return _createClass(g,[{key:"title",get:function(){var e,t;return((t=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||t===void 0?void 0:t.values.join("; "))||""}},{key:"creator",get:function(){var e,t,o,l,s,a;return!((t=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||t===void 0)&&t.values?(l=(o=this.item.metadata)===null||o===void 0?void 0:o.creator)===null||l===void 0?void 0:l.values.join("; "):!((s=this.item.metadata.rawMetadata)===null||s===void 0)&&s.artist?(a=this.item.metadata.rawMetadata)===null||a===void 0?void 0:a.artist:""}},{key:"youtubeId",get:function(){return this.externalIds.find(function(e){return e.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(e){return e.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){var e;if(!this.item.metadata.rawMetadata)return[""];var t=this.item.metadata["external-identifier"];return!((e=t==null?void 0:t.values)===null||e===void 0)&&e.length?t.values:[(t==null?void 0:t.value)||""]}},{key:"youtubeTracks",get:function(){var e=this.tracks.filter(function(t){return t.youtubeId});return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}},{key:"spotifyTracks",get:function(){var e=this.tracks.filter(function(t){return t.spotifyId});return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}},{key:"albumImage",get:function(){var e=this.images.find(function(l){return l.format==="Item Image"}),t="https://".concat(this.baseHost,"/download/").concat(this.item.metadata.identifier,"/");if(e)return"".concat(t).concat(e.name);var o=this.images.find(function(l){var s=["Item Image","JPEG Thumb"];return l.source==="original"&&!s.includes(l.format)});return o?"".concat(t).concat(o.name):"".concat(t,"__ia_thumb.jpg")}},{key:"albumTrackOption",value:function(e){var t={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return pi(ei({},t),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return pi(ei({},t),{spotifyId:this.spotifyId})}},{key:"isAlbumRelatedFile",value:function(e){var t,o;return!!(!((t=e.name.match(/.(ffp|md5)$/g))===null||t===void 0)&&t.length)&&!!(!((o=e.original)===null||o===void 0)&&o.length)&&e.source==="derivative"}},{key:"isValidAudioFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||t===void 0)&&t.length)}},{key:"isValidImageFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/.(png|jpg|jpeg)$/gi))===null||t===void 0)&&t.length)}},{key:"isValidImageFileFormat",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/(png|jpg|jpeg)/gi))===null||t===void 0)&&t.length)}},{key:"isValidSegmentFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/_segments.(json|xml)$/gi))===null||t===void 0)&&t.length)}},{key:"isSpectrogram",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/spectrogram/gi))===null||t===void 0)&&t.length)}},{key:"isSampleMP3",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/_sample\.mp3$/gi))===null||t===void 0)&&t.length)}},{key:"hasScannedLinerNotes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t;return!!(!((t=e.match(/_jp2.(zip|tar)/gi))===null||t===void 0)&&t.length)}},{key:"filterFiles",value:function(e){var t=this,o=[],l={};e.forEach(function(a){var r,c,d=a.rawValue,h=t.isValidAudioFile(d.name);if(t.isAlbumRelatedFile(d)){t.relatedFiles.push(d);return}if(t.isValidSegmentFile(d.name)&&(t.tracksAreSegmented=!0,t.relatedFiles.push(d),d.original&&t.isValidAudioFile(d.name)&&!l[d.original]&&(l[d.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),d.source==="original"&&!l[d.name]&&h&&(l[d.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),d.original&&t.isValidAudioFile(d.original)&&!l[d.original]&&(l[d.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),t.hasScannedLinerNotes(d.name)&&t.linerNotes.push(d),t.isValidImageFile(d.name)){d.original&&t.isValidAudioFile(d.original)?l[d.original].spectrogram=d:o.push(d);return}if(d.original&&t.isValidAudioFile(d.original)&&!t.isValidAudioFile(d.name)){l[d.original].related.push(d);return}if(!(!t.isValidAudioFile(d.name)||!t.isValidImageFile(d.name)&&!t.isValidAudioFile(d.name))){var p=t.isValidSegmentFile(d.original)&&t.isValidAudioFile(d.name);if(d.source==="original"&&t.isValidAudioFile(d.name)||p){l[d.name]||(l[d.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),l[d.name].primary=d;return}if(!((r=d.name.match(/_sample\.mp3$/))===null||r===void 0)&&r.length&&d.original){l[d.original].sampleMp3=new xa(d);return}t.isValidAudioFile(d.name)&&!t.isSampleMP3(d.name)&&t.isValidAudioFile(d.original)&&d.original&&(!((c=d.name.match(/.mp3$/))===null||c===void 0)&&c.length?l[d.original].fullMp3=d:l[d.original].related.push(d))}}),this.images=o;var s=[];this.tracks.forEach(function(a,r){var c=l[a.orig].primary,d=new wA(pi(ei(ei({},a),c),{details:l[a.orig]}),"archive.org");d.setPlaylistInfo(a),s[r]=d}),this.tracks=s}}]),g}()}}),AP=Gt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/models/album":function(){uu(),CP()}}),kA,xA,SA=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-audio@1.3.4/esnext/icon-audio.mjs":function(){Sn(),Sn(),kA=kt(_templateObject349()),xA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return kA}}],[{key:"styles",get:function(){return zt(_templateObject350())}}]),e}(rr),customElements.define("ia-icon-audio",xA)}});function cu(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===pu)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=hu(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=cu(g,r._$AS(g,n.values),r,t)),n}var jy,Cc,il,Py,Gh,Sa,Iy,CA,os,du,hu,My,AA,Kh,fu,Ly,Ry,as,Dy,$y,Ny,By,OP,EP,pu,Mi,Fy,ss,OA,Xh,EA,Jh,Ac,TA,jA,PA,IA,MA,zy,LA,Hy,RA,TP=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/cache.js":function(){oc(),AS(),Cc=window,il=Cc.trustedTypes,Py=il?il.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,Gh="$lit$",Sa="lit$".concat((Math.random()+"").slice(9),"$"),Iy="?"+Sa,CA="<".concat(Iy,">"),os=document,du=function(){return os.createComment("")},hu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},My=Array.isArray,AA=function(g){return My(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},Kh="[ 	\n\f\r]",fu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ly=/-->/g,Ry=/>/g,as=RegExp(">|".concat(Kh,"(?:([^\\s\"'>=/]+)(").concat(Kh,"*=").concat(Kh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Dy=/'/g,$y=/"/g,Ny=/^(?:script|style|textarea|title)$/i,By=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},OP=By(1),EP=By(2),pu=Symbol.for("lit-noChange"),Mi=Symbol.for("lit-nothing"),Fy=new WeakMap,ss=os.createTreeWalker(os,129,null,!1),OA=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=fu,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===fu?d[1]==="!--"?s=Ly:d[1]!==void 0?s=Ry:d[2]!==void 0?(Ny.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=as):d[3]!==void 0&&(s=as):s===as?d[0]===">"?(s=o!=null?o:fu,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?as:d[3]==='"'?$y:Dy):s===$y||s===Dy?s=as:s===Ly||s===Ry?s=fu:(s=as,o=void 0);var v=s===as&&g[a+1].startsWith("/>")?" ":"";l+=s===fu?r+CA:h>=0?(t.push(c),r.slice(0,h)+Gh+r.slice(h)+Sa+v):r+Sa+(h===-2?(t.push(void 0),a):v)}return[Nk(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},Xh=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(OA(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),ss.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=ss.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(Gh)||u.startsWith(Sa)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+Gh).split(Sa),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?TA:y[1]==="?"?PA:y[1]==="@"?IA:Ac})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(Ny.test(l.tagName)){var Q=l.textContent.split(Sa),W=Q.length-1;if(W>0){l.textContent=il?il.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],du()),ss.nextNode(),c.push({type:2,index:++s});l.append(Q[W],du())}}}else if(l.nodeType===8)if(l.data===Iy)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(Sa,oe+1))!==-1;)c.push({type:7,index:s}),oe+=Sa.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=os.createElement("template");return o.innerHTML=e,o}}]),g}(),EA=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:os).importNode(s,!0);ss.currentNode=r;for(var c=ss.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new Jh(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new MA(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=ss.nextNode(),d++)}return ss.currentNode=os,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),Jh=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Mi,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=cu(this,e,t),hu(e)?e===Mi||e==null||e===""?(this._$AH!==Mi&&this._$AR(),this._$AH=Mi):e!==this._$AH&&e!==pu&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):AA(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Mi&&hu(this._$AH)?this._$AA.nextSibling.data=e:this.$(os.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=Xh.createElement(Nk(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new EA(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=Fy.get(e.strings);return t===void 0&&Fy.set(e.strings,t=new Xh(e)),t}},{key:"T",value:function(e){My(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(du()),this.k(du()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),Ac=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Mi,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Mi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=cu(this,e,t,0),a=!hu(e)||e!==this._$AH&&e!==pu,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=cu(this,r[o+c],t,c),d===pu&&(d=this._$AH[c]),a||(a=!hu(d)||d!==this._$AH[c]),d===Mi?e=Mi:e!==Mi&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Mi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),TA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Mi?void 0:o}}]),e}(Ac),jA=il?il.emptyScript:"",PA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Mi?this.element.setAttribute(this.name,jA):this.element.removeAttribute(this.name)}}]),e}(Ac),IA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=cu(this,o,l,0))!==null&&s!==void 0?s:Mi)!==pu){var a=this._$AH,r=o===Mi&&a!==Mi||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Mi&&(a===Mi||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(Ac),MA=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){cu(this,e)}}]),g}(),zy=Cc.litHtmlPolyfillSupport,zy==null||zy(Xh,Jh),((jy=Cc.litHtmlVersions)!==null&&jy!==void 0?jy:Cc.litHtmlVersions=[]).push("2.8.0"),LA=function(g,n,e){var t,o,l=(t=e==null?void 0:e.renderBefore)!==null&&t!==void 0?t:n,s=l._$litPart$;if(s===void 0){var a=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=s=new Jh(n.insertBefore(du(),a),a,void 0,e!=null?e:{})}return s._$AI(g),s},Hy=function(g){return xS(g)?g._$litType$.h:g.strings},RA=zl(function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o;return o=n.call(this,t),o.tt=new WeakMap,_possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return[o]}},{key:"update",value:function(o,l){var s=_slicedToArray(l,1),a=s[0],r=vg(this.et)?Hy(this.et):null,c=vg(a)?Hy(a):null;if(r!==null&&(c===null||r!==c)){var d=Ah(o).pop(),h=this.tt.get(r);if(h===void 0){var p=document.createDocumentFragment();h=LA(Mi,p),h.setConnected(!1),this.tt.set(r,h)}Ch(h,[d]),Ga(h,void 0,d)}if(c!==null){if(r===null||r!==c){var v=this.tt.get(c);if(v!==void 0){var k=Ah(v).pop();CS(o),Ga(o,void 0,k),Ch(o,[k])}}this.et=a}else this.et=void 0;return this.render(a)}}]),e}(Hl))}}),DA=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/cache.js":function(){TP()}}),Xo,$A=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-dropdown@1.0.5/esnext/dist/src/ia-dropdown.js":function(){Br(),Sn(),Wr(),Xo=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.open=!1,t.displayCaret=!1,t.selectedOption="",t.options=[],t.optionGroup="options",t.optionSelected=function(){},_possibleConstructorReturn(t)}return _createClass(e,[{key:"renderOption",value:function(o){var l=this,s=o.label,a=o.url,r=a===void 0?void 0:a,c=o.id,d,h=this.selectedOption===c?"selected":"";return r?d=kt(_templateObject351(),r,function(){return l.optionClicked(o)},s):d=kt(_templateObject352(),function(){return l.optionClicked(o)},s),kt(_templateObject353(),h,d)}},{key:"optionClicked",value:function(o){this.selectedOption=o.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:o}})),o.selectedHandler&&(o==null||o.selectedHandler(o))}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"caret",get:function(){return this.open?this.caretUp:this.caretDown}},{key:"dropdownState",get:function(){return this.open?"open":"closed"}},{key:"caretUp",get:function(){return Mo(_templateObject354())}},{key:"caretDown",get:function(){return Mo(_templateObject355())}},{key:"availableOptions",get:function(){var o=this;return this.options.filter(function(l){return o.selectedOption!==l.id})}},{key:"render",value:function(){var o=this;return kt(_templateObject357(),this.toggleOptions,this.optionGroup,this.displayCaret?kt(_templateObject356(),this.caret):Yn,this.dropdownState,this.availableOptions.map(function(l){return o.renderOption(l)}))}}]),e}(rr),Xo.styles=zt(_templateObject358()),Ie([an({type:Boolean,attribute:!0})],Xo.prototype,"open",void 0),Ie([an({type:Boolean,attribute:!0})],Xo.prototype,"displayCaret",void 0),Ie([an({type:String,attribute:!0})],Xo.prototype,"selectedOption",void 0),Ie([an({type:Array})],Xo.prototype,"options",void 0),Ie([an({type:String})],Xo.prototype,"optionGroup",void 0),Ie([an({type:Function})],Xo.prototype,"optionSelected",void 0),Xo=Ie([Jr("ia-dropdown")],Xo)}}),NA,BA,FA=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close-circle@1.3.6/esnext/icon-close-circle.mjs":function(){Sn(),Sn(),NA=kt(_templateObject359()),BA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return NA}}],[{key:"styles",get:function(){return zt(_templateObject360())}}]),e}(rr),customElements.define("ia-icon-close-circle",BA)}}),Zh,zA=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-dropdown@1.0.5/esnext/dist/src/ia-icon-label.js":function(){Br(),Sn(),Wr(),Zh=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject361())}}]),e}(rr),Zh.styles=zt(_templateObject362()),Zh=Ie([Jr("ia-icon-label")],Zh)}});function vu(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===al)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=mu(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=vu(g,r._$AS(g,n.values),r,t)),n}var Uy,Oc,ol,Vy,Qh,Ca,qy,HA,ls,Ec,mu,Wy,UA,ef,gu,Yy,Gy,us,Ky,Xy,Jy,Zy,jP,PP,al,Bi,Qy,cs,VA,tf,qA,e0,Tc,WA,YA,GA,KA,XA,t0,n0,JA,nf,IP=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/style-map.js":function(){oc(),Oc=window,ol=Oc.trustedTypes,Vy=ol?ol.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,Qh="$lit$",Ca="lit$".concat((Math.random()+"").slice(9),"$"),qy="?"+Ca,HA="<".concat(qy,">"),ls=document,Ec=function(){return ls.createComment("")},mu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},Wy=Array.isArray,UA=function(g){return Wy(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},ef="[ 	\n\f\r]",gu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Yy=/-->/g,Gy=/>/g,us=RegExp(">|".concat(ef,"(?:([^\\s\"'>=/]+)(").concat(ef,"*=").concat(ef,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Ky=/'/g,Xy=/"/g,Jy=/^(?:script|style|textarea|title)$/i,Zy=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},jP=Zy(1),PP=Zy(2),al=Symbol.for("lit-noChange"),Bi=Symbol.for("lit-nothing"),Qy=new WeakMap,cs=ls.createTreeWalker(ls,129,null,!1),VA=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=gu,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===gu?d[1]==="!--"?s=Yy:d[1]!==void 0?s=Gy:d[2]!==void 0?(Jy.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=us):d[3]!==void 0&&(s=us):s===us?d[0]===">"?(s=o!=null?o:gu,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?us:d[3]==='"'?Xy:Ky):s===Xy||s===Ky?s=us:s===Yy||s===Gy?s=gu:(s=us,o=void 0);var v=s===us&&g[a+1].startsWith("/>")?" ":"";l+=s===gu?r+HA:h>=0?(t.push(c),r.slice(0,h)+Qh+r.slice(h)+Ca+v):r+Ca+(h===-2?(t.push(void 0),a):v)}return[Bk(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},tf=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(VA(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),cs.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=cs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(Qh)||u.startsWith(Ca)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+Qh).split(Ca),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?WA:y[1]==="?"?GA:y[1]==="@"?KA:Tc})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(Jy.test(l.tagName)){var Q=l.textContent.split(Ca),W=Q.length-1;if(W>0){l.textContent=ol?ol.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],Ec()),cs.nextNode(),c.push({type:2,index:++s});l.append(Q[W],Ec())}}}else if(l.nodeType===8)if(l.data===qy)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(Ca,oe+1))!==-1;)c.push({type:7,index:s}),oe+=Ca.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=ls.createElement("template");return o.innerHTML=e,o}}]),g}(),qA=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ls).importNode(s,!0);cs.currentNode=r;for(var c=cs.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new e0(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new XA(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=cs.nextNode(),d++)}return cs.currentNode=ls,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),e0=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Bi,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=vu(this,e,t),mu(e)?e===Bi||e==null||e===""?(this._$AH!==Bi&&this._$AR(),this._$AH=Bi):e!==this._$AH&&e!==al&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):UA(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Bi&&mu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ls.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=tf.createElement(Bk(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new qA(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=Qy.get(e.strings);return t===void 0&&Qy.set(e.strings,t=new tf(e)),t}},{key:"T",value:function(e){Wy(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(Ec()),this.k(Ec()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),Tc=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Bi,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Bi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=vu(this,e,t,0),a=!mu(e)||e!==this._$AH&&e!==al,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=vu(this,r[o+c],t,c),d===al&&(d=this._$AH[c]),a||(a=!mu(d)||d!==this._$AH[c]),d===Bi?e=Bi:e!==Bi&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Bi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),WA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Bi?void 0:o}}]),e}(Tc),YA=ol?ol.emptyScript:"",GA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Bi?this.element.setAttribute(this.name,YA):this.element.removeAttribute(this.name)}}]),e}(Tc),KA=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=vu(this,o,l,0))!==null&&s!==void 0?s:Bi)!==al){var a=this._$AH,r=o===Bi&&a!==Bi||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Bi&&(a===Bi||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(Tc),XA=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){vu(this,e)}}]),g}(),t0=Oc.litHtmlPolyfillSupport,t0==null||t0(tf,e0),((Uy=Oc.litHtmlVersions)!==null&&Uy!==void 0?Uy:Oc.litHtmlVersions=[]).push("2.8.0"),n0="important",JA=" !"+n0,nf=zl(function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o,l;if(o=n.call(this,t),t.type!==ic.ATTRIBUTE||t.name!=="style"||((l=t.strings)===null||l===void 0?void 0:l.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return Object.keys(o).reduce(function(l,s){var a=o[s];return a==null?l:l+"".concat(s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(a,";")},"")}},{key:"update",value:function(o,l){var s=_slicedToArray(l,1),a=s[0],r=this,c=o.element,d=c.style;if(this.ht===void 0){this.ht=new Set;for(var h in a)this.ht.add(h);return this.render(a)}this.ht.forEach(function(x){a[x]==null&&(r.ht.delete(x),x.includes("-")?d.removeProperty(x):d[x]="")});for(var p in a){var v=a[p];if(v!=null){this.ht.add(p);var k=typeof v=="string"&&v.endsWith(JA);p.includes("-")||k?d.setProperty(p,k?v.slice(0,-11):v,k?n0:""):d[p]=v}}return al}}]),e}(Hl))}}),ZA=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/style-map.js":function(){IP()}});function yu(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===ll)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=bu(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=yu(g,r._$AS(g,n.values),r,t)),n}var r0,jc,sl,i0,rf,Aa,o0,QA,ds,Pc,bu,a0,e6,of,wu,s0,l0,hs,u0,c0,d0,h0,MP,LP,ll,Fi,f0,fs,t6,af,n6,p0,Ic,r6,i6,o6,a6,s6,v0,_u,RP=Gt({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/class-map.js":function(){oc(),jc=window,sl=jc.trustedTypes,i0=sl?sl.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,rf="$lit$",Aa="lit$".concat((Math.random()+"").slice(9),"$"),o0="?"+Aa,QA="<".concat(o0,">"),ds=document,Pc=function(){return ds.createComment("")},bu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},a0=Array.isArray,e6=function(g){return a0(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},of="[ 	\n\f\r]",wu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,s0=/-->/g,l0=/>/g,hs=RegExp(">|".concat(of,"(?:([^\\s\"'>=/]+)(").concat(of,"*=").concat(of,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),u0=/'/g,c0=/"/g,d0=/^(?:script|style|textarea|title)$/i,h0=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},MP=h0(1),LP=h0(2),ll=Symbol.for("lit-noChange"),Fi=Symbol.for("lit-nothing"),f0=new WeakMap,fs=ds.createTreeWalker(ds,129,null,!1),t6=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=wu,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===wu?d[1]==="!--"?s=s0:d[1]!==void 0?s=l0:d[2]!==void 0?(d0.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=hs):d[3]!==void 0&&(s=hs):s===hs?d[0]===">"?(s=o!=null?o:wu,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?hs:d[3]==='"'?c0:u0):s===c0||s===u0?s=hs:s===s0||s===l0?s=wu:(s=hs,o=void 0);var v=s===hs&&g[a+1].startsWith("/>")?" ":"";l+=s===wu?r+QA:h>=0?(t.push(c),r.slice(0,h)+rf+r.slice(h)+Aa+v):r+Aa+(h===-2?(t.push(void 0),a):v)}return[Fk(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},af=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(t6(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),fs.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=fs.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(rf)||u.startsWith(Aa)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+rf).split(Aa),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?r6:y[1]==="?"?o6:y[1]==="@"?a6:Ic})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(d0.test(l.tagName)){var Q=l.textContent.split(Aa),W=Q.length-1;if(W>0){l.textContent=sl?sl.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],Pc()),fs.nextNode(),c.push({type:2,index:++s});l.append(Q[W],Pc())}}}else if(l.nodeType===8)if(l.data===o0)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(Aa,oe+1))!==-1;)c.push({type:7,index:s}),oe+=Aa.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=ds.createElement("template");return o.innerHTML=e,o}}]),g}(),n6=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ds).importNode(s,!0);fs.currentNode=r;for(var c=fs.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new p0(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new s6(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=fs.nextNode(),d++)}return fs.currentNode=ds,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),p0=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Fi,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=yu(this,e,t),bu(e)?e===Fi||e==null||e===""?(this._$AH!==Fi&&this._$AR(),this._$AH=Fi):e!==this._$AH&&e!==ll&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):e6(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Fi&&bu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ds.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=af.createElement(Fk(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new n6(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=f0.get(e.strings);return t===void 0&&f0.set(e.strings,t=new af(e)),t}},{key:"T",value:function(e){a0(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(Pc()),this.k(Pc()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),Ic=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Fi,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Fi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=yu(this,e,t,0),a=!bu(e)||e!==this._$AH&&e!==ll,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=yu(this,r[o+c],t,c),d===ll&&(d=this._$AH[c]),a||(a=!bu(d)||d!==this._$AH[c]),d===Fi?e=Fi:e!==Fi&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Fi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),r6=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Fi?void 0:o}}]),e}(Ic),i6=sl?sl.emptyScript:"",o6=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Fi?this.element.setAttribute(this.name,i6):this.element.removeAttribute(this.name)}}]),e}(Ic),a6=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=yu(this,o,l,0))!==null&&s!==void 0?s:Fi)!==ll){var a=this._$AH,r=o===Fi&&a!==Fi||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Fi&&(a===Fi||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}(Ic),s6=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){yu(this,e)}}]),g}(),v0=jc.litHtmlPolyfillSupport,v0==null||v0(af,p0),((r0=jc.litHtmlVersions)!==null&&r0!==void 0?r0:jc.litHtmlVersions=[]).push("2.8.0"),_u=zl(function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o,l;if(o=n.call(this,t),t.type!==ic.ATTRIBUTE||t.name!=="class"||((l=t.strings)===null||l===void 0?void 0:l.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return" "+Object.keys(o).filter(function(l){return o[l]}).join(" ")+" "}},{key:"update",value:function(o,l){var s=_slicedToArray(l,1),a=s[0],r=this,c,d;if(this.it===void 0){this.it=new Set,o.strings!==void 0&&(this.nt=new Set(o.strings.join(" ").split(/\s/).filter(function(x){return x!==""})));for(var h in a)a[h]&&!(!((c=this.nt)===null||c===void 0)&&c.has(h))&&this.it.add(h);return this.render(a)}var p=o.element.classList;this.it.forEach(function(x){x in a||(p.remove(x),r.it.delete(x))});for(var v in a){var k=!!a[v];k===this.it.has(v)||!((d=this.nt)===null||d===void 0)&&d.has(v)||(k?(p.add(v),this.it.add(v)):(p.remove(v),this.it.delete(v)))}return ll}}]),e}(Hl))}}),sf=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/class-map.js":function(){RP()}}),l6,zr,ho,Do,Mc,m0,g0,y0,b0,u6,c6,d6,h6,f6,p6,v6,m6,g6,y6,b6,w6,_6,lf,fo,ku,k6,Ki,ul,Lc,Jo,DP=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist.js":function(){Br(),Sn(),Wr(),DA(),$A(),Sn(),Sn(),zA(),ZA(),sf(),Br(),Sn(),Wr(),FA(),Br(),Sn(),Wr(),SA(),Sn(),Br(),Sn(),Wr(),Br(),Sn(),Wr(),Br(),Sn(),Wr(),uu(),uu(),l6=zt(_templateObject363()),function(g){g.ia="ia",g.beta="beta",g.youtube="youtube",g.spotify="spotify",g.webamp="webamp"}(zr||(zr={})),function(g){g.iaSamples="Samples",g.iaPlayer="Player",g.beta="Beta",g.spotify="Spotify",g.webamp="Webamp",g.youtube="YouTube"}(ho||(ho={})),Do={ia:kt(_templateObject364()),beta:kt(_templateObject365()),spotify:kt(_templateObject366()),webamp:kt(_templateObject367()),youtube:kt(_templateObject368())},Mc=function(g){var n=g.label,e=n===void 0?ho.iaPlayer:n,t=g.selected,o=nf({filter:t?"invert(1)":"invert(0)",height:"20px",width:"20px"}),l=_u({selected:t,"invert-icon-at-hover-selected":t});return kt(_templateObject369(),l,o,Do.ia,e)},m0=function(g){var n=nf({filter:g?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=_u({selected:g,"invert-icon-at-hover-selected":g});return kt(_templateObject370(),e,n,Do.beta,ho.beta)},g0=function(g){return kt(_templateObject371(),g?"selected":"",Do.spotify,ho.spotify)},y0=function(g){var n=nf({filter:g?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=_u({selected:g,"invert-icon-at-hover-selected":g});return kt(_templateObject372(),e,n,Do.webamp)},b0=function(g){return kt(_templateObject373(),g?"selected":"",Do.youtube,ho.youtube)},u6=function(g){var n=g.samples,e=g.onClick,t=g.href,o=g.selected,l=n?ho.iaSamples:ho.iaPlayer;return kt(_templateObject374(),t,function(){return e()},Mc({label:l,selected:o}))},c6=function(g){var n=g.samples,e=g.onClick,t=g.selected,o=n?ho.iaSamples:ho.iaPlayer;return kt(_templateObject375(),function(l){return e(l)},Mc({label:o,selected:t}))},d6=function(g){var n=g.onClick,e=g.selected;return kt(_templateObject376(),function(t){return n(t)},m0(e))},h6=function(g){var n=g.onClick,e=g.selected;return kt(_templateObject377(),function(t){return n(t)},g0(e))},f6=function(g){var n=g.onClick,e=g.href,t=g.selected,o="".concat(e,"?webamp=default");return kt(_templateObject378(),o,function(l){return n(l)},y0(t))},p6=function(g){var n=g.onClick,e=g.selected;return kt(_templateObject379(),function(t){return n(t)},b0(e))},v6=function(g){var n=g.samples,e=g.onClick,t=g.href,o=g.selectedOption;return{url:t,selectedHandler:function(l){e(l)},label:Mc({label:n?ho.iaSamples:ho.iaPlayer,selected:o===zr.ia}),id:zr.ia}},m6=function(g){var n=g.samples,e=g.onClick,t=g.selectedOption;return{selectedHandler:function(o){e(o)},label:Mc({label:n?ho.iaSamples:ho.iaPlayer,selected:t===zr.ia}),id:zr.ia}},g6=function(g){var n=g.onClick,e=g.selectedOption;return{selectedHandler:function(t){n(t)},label:m0(e===zr.beta),id:zr.beta}},y6=function(g){var n=g.onClick,e=g.selectedOption;return{selectedHandler:function(t){n(t)},label:g0(e===zr.spotify),id:zr.spotify}},b6=function(g){var n=g.href,e=g.onClick,t=g.selectedOption,o=function(l){e(l)};return{url:"".concat(n,"?webamp=default"),selectedHandler:o,label:y0(t===zr.webamp),id:zr.webamp}},w6=function(g){var n=g.onClick,e=g.selectedOption;return{selectedHandler:function(t){n(t)},label:b0(e===zr.youtube),id:zr.youtube}},_6=function(g){var n=g.spotify,e=g.beta,t=g.youtube,o=g.selectedOption;return[o===zr.webamp?v6(g):m6(g),e?g6(g):null,n?y6(g):null,t?w6(g):null,b6(g)].filter(Boolean)},function(g){g.postInit="postInit",g.channelChange="channelChange"}(lf||(lf={})),fo=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.youtube=!1,t.spotify=!1,t.beta=!1,t.webamp=!0,t.samples=!1,t.backgroundTheme="dark",t.selected=zr.ia,t.displayStyle="radio",t.url="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"firstUpdated",value:function(){this.dispatchEvent(new CustomEvent(lf.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"emitChannelChanged",value:function(){this.dispatchEvent(new CustomEvent(lf.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"iaClicked",value:function(){this.selected!==zr.ia&&(this.selected=zr.ia,this.emitChannelChanged())}},{key:"betaClicked",value:function(){this.selected!==zr.beta&&(this.selected=zr.beta,this.emitChannelChanged())}},{key:"spotifyClicked",value:function(){this.selected!==zr.spotify&&(this.selected=zr.spotify,this.emitChannelChanged())}},{key:"webampClicked",value:function(){this.selected!==zr.webamp&&(this.selected=zr.webamp,this.emitChannelChanged())}},{key:"youtubeClicked",value:function(){this.selected!==zr.youtube&&(this.selected=zr.youtube,this.emitChannelChanged())}},{key:"dropdownOptionSelected",value:function(o){this.selected=o.id,this.emitChannelChanged(),this.iaDropdown.open=!1}},{key:"iaLinkSelector",get:function(){var o=this,l=this.selected===zr.ia?"selected":"";return kt(_templateObject380(),l,u6({samples:this.samples,selected:this.selected===zr.ia,onClick:function(){return o.iaClicked()},href:this.url}))}},{key:"iaButtonSelector",get:function(){var o=this,l=this.selected===zr.ia?"selected":"";return kt(_templateObject381(),l,c6({samples:this.samples,selected:this.selected===zr.ia,onClick:function(){return o.iaClicked()}}))}},{key:"iaBetaSelector",get:function(){var o=this,l=this.selected===zr.beta?"selected":"";return kt(_templateObject382(),l,d6({selected:this.selected===zr.beta,onClick:function(){return o.betaClicked()}}))}},{key:"spotifySelector",get:function(){var o=this,l=this.selected===zr.spotify?"selected":"";return kt(_templateObject383(),l,h6({selected:this.selected===zr.spotify,onClick:function(){return o.spotifyClicked()}}))}},{key:"webampSelector",get:function(){var o=this,l=this.selected===zr.webamp?"selected":"";return kt(_templateObject384(),l,f6({href:this.url||window.location.href,selected:this.selected===zr.webamp,onClick:function(){return o.webampClicked()}}))}},{key:"youtubeSelector",get:function(){var o=this,l=this.selected===zr.youtube?"selected":"";return kt(_templateObject385(),l,p6({selected:this.selected===zr.youtube,onClick:function(){return o.youtubeClicked()}}))}},{key:"properIaSelector",get:function(){return this.selected===zr.webamp?this.iaLinkSelector:this.iaButtonSelector}},{key:"toggleDisplayStyle",value:function(){var o=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=o}},{key:"shouldShowChannelType",value:function(o){var l=this.selected===o;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&l)}},{key:"dropdownOptions",get:function(){var o=this,l=o.samples,s=o.beta,a=o.spotify,r=o.webamp,c=o.youtube,d=o.url,h=o.selected;return _6({selectedOption:h,samples:!!l,beta:s,spotify:a,webamp:r,youtube:c,href:d,onClick:this.dropdownOptionSelected.bind(this)})}},{key:"currentlySelectedIcon",get:function(){switch(this.selected){case zr.beta:return Do.beta;case zr.spotify:return Do.spotify;case zr.youtube:return Do.youtube;case zr.webamp:return Do.webamp;default:return Do.ia}}},{key:"dropdown",get:function(){return kt(_templateObject386(),this.dropdownOptions,this.selected,this.backgroundTheme,this.currentlySelectedIcon)}},{key:"radioView",get:function(){return kt(_templateObject387(),this.properIaSelector,this.beta?this.iaBetaSelector:Yn,this.youtube?this.youtubeSelector:Yn,this.spotify?this.spotifySelector:Yn,this.webamp?this.webampSelector:Yn)}},{key:"render",value:function(){return kt(_templateObject388(),this.displayStyle,this.displayStyle,this.backgroundTheme,RA(this.displayStyle==="radio"?this.radioView:this.dropdown))}}]),e}(rr),fo.styles=[zt(_templateObject389()),l6],Ie([an({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"youtube",void 0),Ie([an({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"spotify",void 0),Ie([an({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"beta",void 0),Ie([an({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"webamp",void 0),Ie([an({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"samples",void 0),Ie([an({attribute:!0,type:String,reflect:!0})],fo.prototype,"backgroundTheme",void 0),Ie([an({type:String,reflect:!0})],fo.prototype,"selected",void 0),Ie([an({type:String,reflect:!0})],fo.prototype,"displayStyle",void 0),Ie([an({type:String})],fo.prototype,"url",void 0),Ie([li("ia-dropdown")],fo.prototype,"iaDropdown",void 0),fo=Ie([Jr("channel-selector")],fo),ku=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.iaIdentifier="",t.gradType="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(o){o.has("iaIdentifier")&&this.setGradType()}},{key:"hashStrToInt",value:function(o){return o.split("").reduce(function(l,s){return l+s.charCodeAt(0)},0)}},{key:"setGradType",value:function(){var o=0;this.iaIdentifier?(o=this.hashStrToInt(this.iaIdentifier)%6,this.gradType="grad".concat(o)):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:o,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}},{key:"render",value:function(){return kt(_templateObject390(),this.gradType)}}]),e}(rr),ku.styles=zt(_templateObject391()),Ie([an({type:String,reflect:!0,attribute:!0})],ku.prototype,"iaIdentifier",void 0),Ie([an({type:String,reflect:!0})],ku.prototype,"gradType",void 0),ku=Ie([Jr("iamusic-noimage")],ku),k6=kt(_templateObject392()),Ki=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.showAllPhotos=!1,t.baseHost="archive.org",t.signedIn=!1,t.itemIdentifier="",t.fullscreenActive=!1,t.reInitBrAtFullscreen=!1,t.noImageAvailable=!1,t.backgroundTheme="dark",t.bindBrEvents=function(){window.addEventListener("BookReader:PostInit",t.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",function(){var o;t.fullscreenActive=((o=t.bookreader)===null||o===void 0?void 0:o.isFullscreen())||!1;var l=t.fullscreenActive?"fullscreenOpened":"fullscreenClosed";t.dispatchEvent(new Event(l))})},_possibleConstructorReturn(t)}return _createClass(e,[{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}},{key:"firstUpdated",value:function(){this.bindBrEvents()}},{key:"updated",value:function(o){o.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),o.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}},{key:"render",value:function(){if(this.noImageAvailable)return kt(_templateObject393(),this.itemIdentifier);var o=this.backgroundTheme==="light"?"light":"",l=this.showAllPhotos?"show-back":"",s=this.fullscreenActive?"fullscreenActive":"";return kt(_templateObject394(),"flip-card ".concat(l," ").concat(s," ").concat(o),this.photoAlbumCover,this.linerNotesView)}},{key:"togglePhotoViewer",value:function(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}},{key:"imageBaseUrl",get:function(){return"https://".concat(this.baseHost,"/download/").concat(this.itemIdentifier)}},{key:"primaryImage",get:function(){var o;if(this.linerNotesManifest){var l=(o=this.linerNotesManifest.brOptions.data)===null||o===void 0?void 0:o.flat()[0];return(l==null?void 0:l.uri)||void 0}}},{key:"linerNotesView",get:function(){var o=this;return kt(_templateObject395(),"photo-viewer-container",function(){var l;(l=o.bookreader)===null||l===void 0||l.exitFullScreen(),o.togglePhotoViewer()},this.linerNotesManifest,this.baseHost,this.signedIn)}},{key:"photoAlbumCover",get:function(){var o=this,l,s,a=(s=(l=this.itemMD)===null||l===void 0?void 0:l.title)!==null&&s!==void 0?s:this.itemIdentifier,r=this.primaryImage?this.primaryImage:"//".concat(this.baseHost,"/services/img/").concat(this.itemIdentifier);return kt(_templateObject396(),function(){return Bn(o,null,_regeneratorRuntime.default.mark(function c(){return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this.togglePhotoViewer();case 1:case"end":return h.stop()}},c,this)}))},r,"primary image for ".concat(a),function(c){var d=c.target,h=d.getBoundingClientRect(),p=h.width,v=h.height;o.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:p,height:v,target:d}}))},a,k6)}},{key:"handleBrPostInit",value:function(o){var l=this;this.bookreader=o==null?void 0:o.detail.props,window.br=this.bookreader,setTimeout(function(){var s,a;(s=l.bookreader)===null||s===void 0||s.jumpToIndex(0),(a=l.bookreader)===null||a===void 0||a.resize()},1e3)}},{key:"prepareLightDomHook",value:function(){var o,l,s=(o=this.lightDomHook)===null||o===void 0?void 0:o.querySelector("div.bookreader-slot");s&&((l=this.lightDomHook)===null||l===void 0||l.removeChild(s))}},{key:"loadFreshBookReaderFromManifest",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.mountBookReaderLightDomHook();case 2:return s.next=4,this.initBr();case 4:case"end":return s.stop()}},o,this)}))}},{key:"initBr",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=this,console.log("&&&& INIT BR"),r.next=4,new Promise(function(c){var d=s;setTimeout(function(){var h,p;d.bookreader=d.linerNotesManifest&&IT(d.linerNotesManifest),console.log("&&&& BR OPTIONS",(h=d.bookreader)===null||h===void 0?void 0:h.options),(p=d.bookreader)===null||p===void 0||p.init(),c()},o)});case 4:case"end":return r.stop()}},l,this)}))}},{key:"mountBookReaderLightDomHook",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=this,a.next=3,new Promise(function(r){var c,d,h,p=(c=l.lightDomHook)===null||c===void 0?void 0:c.querySelector("div.bookreader-slot");p&&((d=l.lightDomHook)===null||d===void 0||d.removeChild(p));var v=document.createElement("div");v.setAttribute("slot","main"),v.classList.add("bookreader-slot");var k=document.createElement("div");k.classList.add("liner-notes"),v.append(k),(h=l.lightDomHook)===null||h===void 0||h.append(v),k.setAttribute("id","BookReader"),k.classList.add("BookReader"),r(!0)});case 3:case"end":return a.stop()}},o,this)}))}}]),e}(rr),Ki.styles=zt(_templateObject397()),Ie([an({type:Boolean,reflect:!0})],Ki.prototype,"showAllPhotos",void 0),Ie([an({type:String,attribute:!0,reflect:!0})],Ki.prototype,"baseHost",void 0),Ie([an({type:Boolean,reflect:!0})],Ki.prototype,"signedIn",void 0),Ie([an({type:String,reflect:!0,attribute:!0})],Ki.prototype,"itemIdentifier",void 0),Ie([an({type:Object})],Ki.prototype,"itemMD",void 0),Ie([an({type:Object})],Ki.prototype,"linerNotesManifest",void 0),Ie([an({type:Object})],Ki.prototype,"bookreader",void 0),Ie([an({type:Boolean,reflect:!0})],Ki.prototype,"fullscreenActive",void 0),Ie([an({type:Boolean})],Ki.prototype,"reInitBrAtFullscreen",void 0),Ie([an({type:Boolean,reflect:!0})],Ki.prototype,"noImageAvailable",void 0),Ie([an({attribute:!0,type:String,reflect:!0})],Ki.prototype,"backgroundTheme",void 0),Ie([an({type:Object})],Ki.prototype,"lightDomHook",void 0),Ie([li("button.click-for-photos img")],Ki.prototype,"coverImage",void 0),Ki=Ie([Jr("iaux-photo-viewer")],Ki),ul=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.iaUrn="",t.display=!1,t.baseHost="https://archive.org",_possibleConstructorReturn(t)}return _createClass(e,[{key:"youTubeUrl",get:function(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";var o=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),l="origin=".concat(this.baseHost,"&widgetid=1&autoplay=1&rel=0");return"https://www.youtube.com/embed/".concat(o,"?").concat(l)}},{key:"render",value:function(){var o=this.youTubeUrl;return o?kt(_templateObject398(),o):Yn}}],[{key:"styles",get:function(){return[zt(_templateObject399())]}}]),e}(rr),Ie([an({type:String,reflect:!0})],ul.prototype,"iaUrn",void 0),Ie([an({type:Boolean,reflect:!0})],ul.prototype,"display",void 0),Ie([an({type:String})],ul.prototype,"baseHost",void 0),Ie([li("iframe")],ul.prototype,"iframe",void 0),ul=Ie([Jr("youtube-player")],ul),Lc=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.iaUrn="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"spotifyUrl",get:function(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":"https://open.spotify.com/embed/".concat(this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/"))}},{key:"render",value:function(){var o=this.spotifyUrl;return o?kt(_templateObject400(),o):kt(_templateObject401(),this.iaUrn)}}],[{key:"styles",get:function(){return[zt(_templateObject402())]}}]),e}(rr),Ie([an({type:String,attribute:!0,reflect:!0})],Lc.prototype,"iaUrn",void 0),Ie([li("iframe")],Lc.prototype,"iframe",void 0),Lc=Ie([Jr("spotify-player")],Lc),Jo=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.selectedChannel="",t.playerApi=void 0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(o){o.has("album")&&this.album&&this.dispatchAlbumInfo(),o.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),o.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}},{key:"dispatchSelectedTrack",value:function(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}},{key:"dispatchAlbumInfo",value:function(){var o,l;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((o=this.album)===null||o===void 0?void 0:o.spotifyTracks)||[],youtubeTracks:((l=this.album)===null||l===void 0?void 0:l.youtubeTracks)||[]}}))}},{key:"onTracklistClickCallback",value:function(o){var l=this,s,a,r,c,d;this.currentTrackNum=o+1;var h=(s=this.album)===null||s===void 0?void 0:s.tracks.find(function(S){return S.track===l.currentTrackNum});if(this.selectedChannel===zr.spotify){var p=this,v=(a=this.album)===null||a===void 0?void 0:a.spotifyTracks.find(function(S){return S.track===p.currentTrackNum});h=v!=null?v:(r=this.album)===null||r===void 0?void 0:r.spotifyTracks[0]}else if(this.selectedChannel===zr.youtube){var k=this,x=(c=this.album)===null||c===void 0?void 0:c.youtubeTracks.find(function(S){return S.track===k.currentTrackNum});h=x!=null?x:(d=this.album)===null||d===void 0?void 0:d.youtubeTracks[0]}this.selectedTrack=h,console.log("*** onTracklistClickCallback ** ",{selectedTrack:h,iaTrackNum:o,currentTrackNum:this.currentTrackNum})}},{key:"updateToSelectedChannel",value:function(){var o,l,s,a,r;if(this.selectedChannel==="youtube"){var c=this.album.youtubeTracks||[],d=[];if(console.log("youtubeTracks",c),c.length){var h=this,p=c.reduce(function(A,E){var O=Number.isInteger(E.track)?"".concat(E.track):"n/a";if(A.push(O),O!=="n/a"){var T=Number(O)-1;d.push(T)}return A},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:p,iaYtTracklist:d}),(o=this.playerApi)===null||o===void 0||o.headless(d,function(A){return h.onTracklistClickCallback(A)})}}else if(this.selectedChannel==="spotify"){var v=((l=this.album)===null||l===void 0?void 0:l.spotifyTracks)||[],k=[];if(console.log("spotifyTracks",v),v.length){var x=this,S=((s=this.album)===null||s===void 0?void 0:s.spotifyTracks.reduce(function(A,E){var O=Number.isInteger(E.track)?"".concat(E.track):"n/a";if(A.push(O),O!=="n/a"){var T=Number(O)-1;k.push(T)}return A},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:S,iaSpTracklist:k}),(a=this.playerApi)===null||a===void 0||a.headless(k,function(A){return x.onTracklistClickCallback(A)})}}else(r=this.playerApi)===null||r===void 0||r.headless()}},{key:"render",value:function(){var o,l;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return Yn;if(this.selectedChannel==="spotify"){var s=this,a=(o=this.album)===null||o===void 0?void 0:o.spotifyTracks.find(function(d){var h;return(d==null?void 0:d.track)===((h=s.selectedTrack)===null||h===void 0?void 0:h.track)});if(a)return kt(_templateObject403(),a==null?void 0:a.spotifyId)}else if(this.selectedChannel==="youtube"){var r=this,c=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(function(d){var h;return d.track===((h=r.selectedTrack)===null||h===void 0?void 0:h.track)});if(console.log("~~~~ trackFound YT ID",c==null?void 0:c.youtubeId,c),c)return kt(_templateObject404(),c.youtubeId)}return Yn}}]),e}(rr),Ie([an({type:String,attribute:!0,reflect:!0})],Jo.prototype,"selectedChannel",void 0),Ie([an({type:Object})],Jo.prototype,"playerApi",void 0),Ie([an({type:Object})],Jo.prototype,"album",void 0),Ie([an({type:Object})],Jo.prototype,"selectedTrack",void 0),Ie([Wi()],Jo.prototype,"currentTrackNum",void 0),Ie([li("spotify-player")],Jo.prototype,"spotifyPlayer",void 0),Ie([li("youtube-player")],Jo.prototype,"youtubePlayer",void 0),Jo=Ie([Jr("externalchannels-player")],Jo)}}),$P=Gt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/index.js":function(){uu(),Br(),Sn(),Wr(),SA(),DA(),$A(),FA(),zA(),ZA(),sf(),DP()}}),x6={};bi(x6,{IaMusicTheater:function(){return w0}});var w0,NP=Gt({"components/ia-music-theater/ia-music-theater.js":function(){cA(),SP(),AP(),bv(),$P(),bo(),o5(),window.SharedResizeObserver||(window.SharedResizeObserver=Ha),On("** ia-music-player@1.2.0 **"),w0=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.baseHost="",t.signedIn=!1,t.hasFullAudioAccess=!0,t.identifier="",t.sharedRO=void 0,t.displayStyle="one-col",t.bgTheme="dark",t.linerNotesUrl="",t.linerNotesManifest=void 0,t.itemInfo=void 0,t.looseImageInfo=[],t.linerNotesFullscreen=!1,t.noImageAvailable=!1,t.photoViewerReady=!1,t.iaPlaylist=void 0,t.hasSpotifyTracks=!1,t.hasYoutubeTracks=!1,t.album=void 0,t.analyticsHandler=new _v,t.selectedChannel="ia",t.currComponentWidth=0,t}return _createClass(e,[{key:"firstUpdated",value:function(){var o;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload","".concat(this.selectedChannel));var l=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(l),rawString:l};var s=document.querySelector(".js-iaux-loose-images").value,a=((o=JSON.parse(s))==null?void 0:o.image_filenames)||[];On("~~~~ parsedImageInfo: ",a,"~~~~");var r=(a==null?void 0:a.includes("_"))&&(a==null?void 0:a.length)===1;this.looseImageInfo=!r&&(a!=null&&a.length)?a:[];var c=document.querySelector(".js-play8-playlist").value;this.iaPlaylist=JSON.parse(c),this.album=new _A(this.itemInfo.metadata,this.iaPlaylist)}},{key:"updated",value:function(o){var l;o.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(o.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),o.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),o.has("looseImageInfo")&&((l=this.looseImageInfo)!=null&&l.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}},{key:"createManifestToLoad",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,jT({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});case 2:l=a.sent,On("*** manifest ***",l),this.linerNotesManifest=l;case 5:case"end":return a.stop()}},o,this)}))}},{key:"removeBookReaderMobileViewClasses",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.remove("iaux-music-theater-mobile-view")}},{key:"setBookReaderClassesForMobileView",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.add("iaux-music-theater-mobile-view")}},{key:"fetchLinerNotes",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,$.ajax({url:"/embed/".concat(this.identifier,"?output=json"),type:"GET",dataType:"json",crossDomain:!0}).then(function(c){return c}).catch(function(){return[]});case 4:l=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),l=[];case 10:return this.jwplayerPlaylist=l,On("*** jwplayerPlaylist ***",l),r.prev=13,r.next=16,$.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(c){return c}).catch(function(){return null});case 16:s=r.sent,r.next=22;break;case 19:r.prev=19,r.t1=r.catch(13),s=void 0;case 22:this.linerNotesManifest=s==null?void 0:s.data,this.noImageAvailable=!1,On("*** linerNotesManifest ***",s);case 25:case"end":return r.stop()}},o,this,[[1,7],[13,19]])}))}},{key:"itemUrl",get:function(){return"https://".concat(this.baseHost,"/details/").concat(this.identifier)}},{key:"iauxPhotoViewer",get:function(){return this.shadowRoot.querySelector("iaux-photo-viewer")}},{key:"channelSelector",get:function(){return this.shadowRoot.querySelector("channel-selector")}},{key:"setupResizeObserver",value:function(){this.sharedRO=new Ha,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}},{key:"handleResize",value:function(o){var l,s,a=o.contentRect;if(a.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(a.height),"px"))),document.body.style.removeProperty("--linerNotesInTheaterHeight"),a.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";var r=(s=(l=this.iauxPhotoViewer)==null?void 0:l.coverImage)==null?void 0:s.getBoundingClientRect();if(!r)return;var c=r.height,d=r.width,h=Math.floor(c),p=950;if(a.width<p){this.setBookReaderHeight(h);return}var v=Math.floor(c/d),k=Math.floor(this.offsetHeight-c),x=this.offsetHeight>=c&&k>250,S=v===1&&k>170,A=k<0;(A||S||x)&&(h=this.offsetHeight-20),this.setBookReaderHeight(h)}On("music-player handleResize",{width:a.width,displayStyle:this.displayStyle})}}},{key:"channelChange",value:function(o){var l=o.detail,s=(l==null?void 0:l.channel)||"unknown";On("channel change",s),this.selectedChannel=s,this.analyticsHandler.send_event("ia-music-theater","channel-change","".concat(this.selectedChannel))}},{key:"setBookReaderHeight",value:function(o){var l=Math.floor(o);!o||!l||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight","".concat(l,"px")))}},{key:"render",value:function(){var o=this,l;On("~~~ render: linerNotesManifest ",this.linerNotesManifest);var s=this.linerNotesFullscreen?"linerNotesFullscreen":"";return lu(_templateObject408(),"".concat(this.displayStyle," ").concat(s," ").concat(this.bgTheme," ").concat(this.noImageAvailable?"noimageavailable":"hasimage"),this.bgTheme,this.hasYoutubeTracks,this.hasSpotifyTracks,this.itemUrl,this.selectedChannel,function(a){return o.channelChange(a)},this.displayStyle==="one-col"?"dropdown":"radio",this.noImageAvailable?lu(_templateObject405(),this.identifier):lu(_templateObject406(),this.noImageAvailable,this.linerNotesManifest?"":"hide",this.bgTheme,this.baseHost,this.identifier,(l=this.itemInfo)==null?void 0:l.metadata,this.signedIn,this.linerNotesManifest,this,this.sharedRO,function(){if(o.displayStyle==="one-col"){var a=window.innerHeight;o.style.removeProperty("--linerNotesFullscreenHeight"),o.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(a),"px"))}o.linerNotesFullscreen=!0},function(){o.displayStyle==="one-col"&&o.style.removeProperty("--linerNotesFullScreenHeight"),o.linerNotesFullscreen=!1},function(){o.displayStyle==="one-col"&&o.setBookReaderClassesForMobileView(),o.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed","".concat(o.displayStyle))},function(a){var r,c=!o.noImageAvailable&&!((r=o.looseImageInfo)!=null&&r.length)&&!o.linerNotesManifest;if(!c){var d=a.detail,h=d.height,p=d.width,v=h;if(o.displayStyle==="one-col")v=250;else{var k=Math.round(h/p);(k===1||h>=o.offsetHeight)&&(v=o.offsetHeight-20)}o.setBookReaderHeight(v),o.photoViewerReady=!0}}),this.photoViewerReady?Ii:lu(_templateObject407()),this.album,this.selectedChannel,window==null?void 0:window.Play,function(a){var r=a.detail,c=r.youtubeTracks,d=r.spotifyTracks,h=r.album;o.hasYoutubeTracks=!!c.length,o.hasSpotifyTracks=!!d.length,o.album=h,On("*** external player loaded",a.detail)},function(a){On("*** external player selected track Received",a.detail)})}}],[{key:"properties",get:function(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}},{key:"styles",get:function(){return ay(_templateObject409())}}]),e}(nl),customElements.define("ia-music-theater",w0)}}),_0=Gt({"https-url:https://archive.org/components/util/jquery.js":function(){Lp(),window.jQuery=ne,window.$=ne}}),k0,BP=Gt({"https-url:https://archive.org/components/util/message.js":function(){k0=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"LoadingMessage",value:function(e){var t=e.message,o=t===void 0?"Loading":t;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var t=e.errorMessage;return"<small>".concat(t,"</small>")}}]),g}()}}),FP=Gt({"https-url:https://archive.org/components/tilebars/tilebars.js":function(){_0()}}),S6,zP=Gt({"https-url:https://archive.org/components/util/throttler.js":function(){S6=function(){"use strict";function g(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,g),this.callback=n,this.threshhold=e,this.context=t,this.last=void 0,this.deferTimeout=void 0}return _createClass(g,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),g}()}}),C6,HP=Gt({"https-url:https://archive.org/components/util/scroll-proximity-handler.js":function(){_0(),zP(),C6=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.identifier=n,this.$targetElement=e,this.callback=t,this.$window=ne(window),this.throttler=new S6(this.scrollListener,100,this)}return _createClass(g,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,t=this.$window.height();return e-t/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),g}()}}),A6,UP=Gt({"https-url:https://archive.org/components/util/is-bot.js":function(){A6=/bot|crawl|spider/i.test(navigator.userAgent)}}),uf,VP=Gt({"https-url:https://archive.org/components/related/related.js":function(){_0(),BP(),FP(),HP(),UP(),uf=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"setup",value:function(){var e=ne("#js-related");if(e.length&&(Qf(),ne(window).on("resize  orientationchange",function(o){clearTimeout(g.also_found_throttler),g.also_found_throttler=setTimeout(Qf,250)})),!(!e.length||A6)){var t=ne("#also-found");this.scrollProximityHandler=new C6("related_items",t,function(){if(!e.text())return t.find(".tilebars").show(),e.html(k0.LoadingMessage({message:"Fetching items"})),g.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=ne("#also-found").data("identifier"),t=ne("#js-related");return g.getRelatedItems(e).then(function(o){t.html(o),Qf()}).catch(function(o){ne("#playplayset").hide(),t.html(k0.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,t){return new Promise(function(o,l){var s="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(t?"json":1),a="Related items temporarily unavailable. Please try back later.";ne.get(s,function(r){r===""&&l(new Error("No similar items found.")),r==="service_disabled"&&l(new Error(a)),o(r)}).fail(function(){l(new Error(a))})})}}]),g}(),ne(function(){return uf.setup()})}});function xu(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s;if(n===cl)return n;var a=t!==void 0?(o=e._$Co)==null?void 0:o[t]:e._$Cl,r=Cu(n)?void 0:n._$litDirective$;return(a==null?void 0:a.constructor)!==r&&((l=a==null?void 0:a._$AO)==null||l.call(a,!1),r===void 0?a=void 0:(a=new r(g),a._$AT(g,e,t)),t!==void 0?((s=e._$Co)!=null?s:e._$Co=[])[t]=a:e._$Cl=a),a!==void 0&&(n=xu(g,a._$AS(g,n.values),a,t)),n}var Rc,Dc,x0,S0,Oa,C0,O6,ps,Su,Cu,cf,E6,df,Au,A0,O0,vs,E0,T0,j0,hf,to,qP,WP,cl,zi,P0,ms,T6,ff,j6,pf,$c,P6,I6,M6,L6,I0,R6,D6,vf=Gt({"https-url:https://esm.archive.org/v135/lit-html@3.2.1/esnext/lit-html.mjs":function(){Rc=globalThis,Dc=Rc.trustedTypes,x0=Dc?Dc.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,S0="$lit$",Oa="lit$".concat(Math.random().toFixed(9).slice(2),"$"),C0="?"+Oa,O6="<".concat(C0,">"),ps=document,Su=function(){return ps.createComment("")},Cu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},cf=Array.isArray,E6=function(g){return cf(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},df="[ 	\n\f\r]",Au=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,A0=/-->/g,O0=/>/g,vs=RegExp(">|".concat(df,"(?:([^\\s\"'>=/]+)(").concat(df,"*=").concat(df,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),E0=/'/g,T0=/"/g,j0=/^(?:script|style|textarea|title)$/i,hf=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},to=hf(1),qP=hf(2),WP=hf(3),cl=Symbol.for("lit-noChange"),zi=Symbol.for("lit-nothing"),P0=new WeakMap,ms=ps.createTreeWalker(ps,129),T6=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":n===3?"<math>":"",s=Au,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===Au?d[1]==="!--"?s=A0:d[1]!==void 0?s=O0:d[2]!==void 0?(j0.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=vs):d[3]!==void 0&&(s=vs):s===vs?d[0]===">"?(s=o!=null?o:Au,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?vs:d[3]==='"'?T0:E0):s===T0||s===E0?s=vs:s===A0||s===O0?s=Au:(s=vs,o=void 0);var v=s===vs&&g[a+1].startsWith("/>")?" ":"";l+=s===Au?r+O6:h>=0?(t.push(c),r.slice(0,h)+S0+r.slice(h)+Oa+v):r+Oa+(h===-2?a:v)}return[zk(g,l+(g[e]||"<?>")+(n===2?"</svg>":n===3?"</math>":"")),t]},ff=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(T6(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),ms.currentNode=this.el.content,o===2||o===3){var v,k=this.el.content.firstChild;(v=k).replaceWith.apply(v,_toConsumableArray(k.childNodes))}for(;(l=ms.nextNode())!==null&&c.length<r;){if(l.nodeType===1){var x=!0,S=!1,A=void 0;if(l.hasAttributes())try{for(var E=l.getAttributeNames()[Symbol.iterator](),O;!(x=(O=E.next()).done);x=!0){var T=O.value;if(T.endsWith(S0)){var b=p[a++],u=l.getAttribute(T).split(Oa),f=/([.?@])?(.*)/.exec(b);c.push({type:1,index:s,name:f[2],strings:u,ctor:f[1]==="."?P6:f[1]==="?"?I6:f[1]==="@"?M6:$c}),l.removeAttribute(T)}else T.startsWith(Oa)&&(c.push({type:6,index:s}),l.removeAttribute(T))}}catch(M){S=!0,A=M}finally{try{!x&&E.return!=null&&E.return()}finally{if(S)throw A}}if(j0.test(l.tagName)){var m=l.textContent.split(Oa),y=m.length-1;if(y>0){l.textContent=Dc?Dc.emptyScript:"";for(var w=0;w<y;w++)l.append(m[w],Su()),ms.nextNode(),c.push({type:2,index:++s});l.append(m[y],Su())}}}else if(l.nodeType===8)if(l.data===C0)c.push({type:2,index:s});else for(var C=-1;(C=l.data.indexOf(Oa,C+1))!==-1;)c.push({type:7,index:s}),C+=Oa.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=ps.createElement("template");return o.innerHTML=e,o}}]),g}(),j6=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!=null?t:ps).importNode(s,!0);ms.currentNode=r;for(var c=ms.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new pf(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new L6(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=ms.nextNode(),d++)}return ms.currentNode=ps,r}},{key:"p",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),pf=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=zi,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cv=(l=o==null?void 0:o.isConnected)!=null?l:!0}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)==null?void 0:e._$AU)!=null?t:this._$Cv}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=xu(this,e,t),Cu(e)?e===zi||e==null||e===""?(this._$AH!==zi&&this._$AR(),this._$AH=zi):e!==this._$AH&&e!==cl&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):E6(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==zi&&Cu(this._$AH)?this._$AA.nextSibling.data=e:this.T(ps.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=ff.createElement(zk(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)==null?void 0:t._$AD)===s)this._$AH.p(o);else{var a=new j6(s,this),r=a.u(this.options);a.p(o),this.T(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=P0.get(e.strings);return t===void 0&&P0.set(e.strings,t=new ff(e)),t}},{key:"k",value:function(e){cf(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.O(Su()),this.O(Su()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}}]),g}(),$c=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=zi,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=zi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=xu(this,e,t,0),a=!Cu(e)||e!==this._$AH&&e!==cl,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=xu(this,r[o+c],t,c),d===cl&&(d=this._$AH[c]),a||(a=!Cu(d)||d!==this._$AH[c]),d===zi?e=zi:e!==zi&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===zi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),P6=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===zi?void 0:o}}]),e}($c),I6=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element.toggleAttribute(this.name,!!o&&o!==zi)}}]),e}($c),M6=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=xu(this,o,l,0))!=null?s:zi)!==cl){var a=this._$AH,r=o===zi&&a!==zi||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==zi&&(a===zi||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)==null?void 0:l.host)!=null?s:this.element,o):this._$AH.handleEvent(o)}}]),e}($c),L6=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){xu(this,e)}}]),g}(),I0=Rc.litHtmlPolyfillSupport,I0==null||I0(ff,pf),((R6=Rc.litHtmlVersions)!=null?R6:Rc.litHtmlVersions=[]).push("3.2.1"),D6=function(g,n,e){var t,o,l=(t=e==null?void 0:e.renderBefore)!=null?t:n,s=l._$litPart$;if(s===void 0){var a=(o=e==null?void 0:e.renderBefore)!=null?o:null;l._$litPart$=s=new pf(n.insertBefore(Su(),a),a,void 0,e!=null?e:{})}return s._$AI(g),s}}}),gs,$6,M0,N6,B6=Gt({"https-url:https://esm.archive.org/v135/lit-element@4.1.1/esnext/lit-element.js":function(){tc(),tc(),vf(),vf(),gs=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.renderOptions={host:_assertThisInitialized(t)},t._$Do=void 0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,s=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(l=(o=this.renderOptions).renderBefore)!=null||(o.renderBefore=s.firstChild),s}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=D6(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)==null||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)==null||o.setConnected(!1)}},{key:"render",value:function(){return cl}}]),e}(zs),gs._$litElement$=!0,gs.finalized=!0,($6=globalThis.litElementHydrateSupport)==null||$6.call(globalThis,{LitElement:gs}),M0=globalThis.litElementPolyfillSupport,M0==null||M0({LitElement:gs}),((N6=globalThis.litElementVersions)!=null?N6:globalThis.litElementVersions=[]).push("4.1.1")}}),F6=Gt({"https-url:https://esm.archive.org/v135/lit-html@3.2.1/esnext/is-server.js":function(){}}),YP=Gt({"https-url:https://esm.archive.org/v135/lit@3.2.1/esnext/lit.mjs":function(){tc(),vf(),B6(),F6()}}),L0=Gt({"https-url:https://esm.archive.org/lit":function(){tc(),vf(),B6(),F6(),YP()}}),mf=Gt({"https-url:https://av.prod.archive.org/js/util/strings.js":function(){}}),GP=Gt({"https-url:https://av.prod.archive.org/js/tv/tuners.js":function(){}}),KP=Gt({"https-url:https://av.prod.archive.org/js/items.js":function(){mf()}}),XP=Gt({"https-url:https://av.prod.archive.org/js/util/fetch.js":function(){}}),JP=Gt({"https-url:https://av.prod.archive.org/iso/hostname.js":function(){}}),z6,ZP,H6,QP,eI,U6=Gt({"https-url:https://av.prod.archive.org/js/tv.js":function(){q6(),V6(),GP(),Ds(),R0(),KP(),XP(),JP(),mf(),ZP=(z6=Hk())!=null&&z6.startsWith("tvnix")?Hk().split(".")[0].substr(5).toUpperCase():!1,H6="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",QP="identifier ~ '".concat(H6.slice(1).slice(0,-1),"'"),eI=LT(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),V6=Gt({"https-url:https://av.prod.archive.org/js/tv/recordings.js":function(){U6()}}),q6=Gt({"https-url:https://av.prod.archive.org/js/tv/zones.js":function(){V6(),Ds()}}),W6,tI,R0=Gt({"https-url:https://av.prod.archive.org/js/time.js":function(){Ds(),mf(),q6(),U6(),W6={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},tI=Object.keys(W6)}}),gf,ys,Y6,G6,K6,yf,X6,J6,Z6,Q6,nI=Gt({"https-url:https://av.prod.archive.org/js/player.js":function(){Ds(),Rp(),R0(),mf(),gf=!1,ys=100,Y6=(location==null?void 0:location.host)==="av.dev.archive.org",G6="__ia_thumb.jpg",K6=0,yf=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",gf?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(g){return[g,K6++]})),X6=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],J6=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],Z6=function(){"use strict";function g(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=this;_classCallCheck(this,g),this.identifier=n.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},l={},s={},a={},r={},c={},d={},h={},p=yf.thumbnail2,v={};n.files.forEach(function(Ge){var $e=_slicedToArray(t.filter(Ge),1),ze=$e[0];if(ze){if("original"in ze){var xt=g.val(ze.original);ze.name!==xt&&(o[ze.name]=xt)}ze.name.endsWith(".png")&&!ze.name.endsWith("_spectrogram.png")&&(d[ze.name]=1)}}),Gn(o),n.files.forEach(function(Ge){var $e=_slicedToArray(t.filter(Ge),3),ze=$e[0],xt=$e[1],bt=$e[2];if(ze){var lt=ze.name,Ze=yf[xt],dt="original"in ze,$t=lt;if(dt){$t=g.val(ze.original);for(var qt=10;qt&&$t in o;qt--)$t=o[$t];(bt==="mp4"||bt==="ogv")&&$t in n.files&&n.files[$t].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),$t="{$m2[1]}{$m2[2]}$origSuffix"),$t=g.val($t)}else"artist"in ze?v[$t]=ze.artist:"creatorxxx"in ze&&(v[$t]=ze.creatorxxx);if(!(e&&$t!==e)){if($t in l||(l[$t]={}),"title"in ze&&(dt&&"title"in l[$t]||(l[$t].title=ze.title)),"height"in ze&&(t.heights[lt]=ze.height),"width"in ze&&(t.widths[lt]=ze.width),"autoplay"in ze&&(r[lt]=ze.autoplay),"length"in ze){var Bt=ep(String(g.val(ze.length)));t.durations[lt]=Bt,dt&&(h[$t]=1),(dt||!("length"in l[$t])||!($t in h))&&(l[$t].length=Math.round(Bt))}if(Ze){if(dt){if(xt==="h.264 720p"){l[$t].HD=lt;return}}else{var ut=ze.title;if(xt==="h.264 hd"||xt==="h.264 mpeg4"&&(ut.indexOf("[HD]")>0||ut.indexOf(" HD ")>0||ut.endsWith(" HD"))){l[$t].HD=lt;return}if(gf&&xt==="h.264 4k"){l[$t]["4K"]=lt;return}Ze>1&&(Ze+=ys)}Ze>1&&(X6.indexOf(xt)>=0?(s[$t]=1,c[lt]=1):a[$t]=1),$t in l||(l[$t]={}),Ze in l[$t]?xt==="thumbnail"&&p in l[$t]&&(l[$t][p]=lt):(l[$t][Ze]=lt,Ze<ys&&Ze+ys in l[$t]?delete l[$t][Ze+ys]:Ze>ys&&Ze-ys in l[$t]&&delete l[$t][Ze-ys])}}}}),Gn(l),this.haxLP&&(delete l["".concat(this.identifier,".flac")],delete l["".concat(this.identifier,".ogg")],delete l["".concat(this.identifier,".mp3")],delete l["".concat(this.identifier,".m4a")]);var k=Object.keys(s).length,x=Object.keys(a).length;x>0&&(x>=k||n.metadata.mediatype==="movies")?this.showing="movies":this.showing=k?"audio":!1;var S=Object.values(v);(S.length<=1||_toConsumableArray(new Set(S)).length<=1)&&(v={});var A=this.showing==="movies"?a:s,E=this.showing==="movies"?x:k,O=!0,T=!1,b=void 0;try{for(var u=Object.entries(l)[Symbol.iterator](),f;!(O=(f=u.next()).done);O=!0){var m=_slicedToArray(f.value,2),y=m[0],w=m[1];if(y in A){var C={SRC:[]};if(0 in w)C.POSTER=w[0];else if(1 in w)C.POSTER=w[1];else{var M=!0,I=!1,D=void 0;try{for(var z=Object.entries(w)[Symbol.iterator](),Q;!(M=(Q=z.next()).done);M=!0){var W=_slicedToArray(Q.value,2),me=W[0],oe=W[1];if(parseInt(me,10)){var q=oe.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");q!==oe&&q in d&&(C.POSTER=q)}}}catch(Ge){I=!0,D=Ge}finally{try{!M&&z.return!=null&&z.return()}finally{if(I)throw D}}}y in r&&(C.AUTOPLAY=!1);var ee=!0,we=!1,ie=void 0;try{for(var le=Object.entries(w)[Symbol.iterator](),ye;!(ee=(ye=le.next()).done);ee=!0){var Ee=_slicedToArray(ye.value,2),fe=Ee[0],rt=Ee[1];if(parseInt(fe,10)&&fe>1){if(this.showing==="movies"&&c[rt]||this.showing!=="movies"&&!c[rt])continue;C.SRC.push(rt)}}}catch(Ge){we=!0,ie=Ge}finally{try{!ee&&le.return!=null&&le.return()}finally{if(we)throw ie}}C.SRC.length&&(C.TITLE="title"in w?g.val(w.title):y.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),C.ORIG=y,y in v&&(C.ARTIST=v[y]),"length"in w?C.length=w.length:C.length=this.runtime(n,E,y),"HD"in w&&(C.HD=w.HD),gf&&"4K"in w&&(C["4K"]=w["4K"]),this.groups.push(C))}}}catch(Ge){T=!0,b=Ge}finally{try{!O&&u.return!=null&&u.return()}finally{if(T)throw b}}if(this.captions(),Y6&&Gn("player",this),this.showing==="audio"){var ct=!0,Ot=!1,_t=void 0;try{for(var De=this.groups[Symbol.iterator](),be;!(ct=(be=De.next()).done);ct=!0){var Xe=be.value,Ne=!1,Qe=!1,Me=!0,Ve=!1,st=void 0;try{for(var gt=Object.entries(Xe.SRC)[Symbol.iterator](),Mt;!(Me=(Mt=gt.next()).done);Me=!0){var Ue=_slicedToArray(Mt.value,2),Be=Ue[0],et=Ue[1];et.endsWith("_sample.mp3")?Ne=Be:et.endsWith(".mp3")&&(Qe=!0)}}catch(Ge){Ve=!0,st=Ge}finally{try{!Me&&gt.return!=null&&gt.return()}finally{if(Ve)throw st}}Qe&&Ne!==!1&&Xe.SRC.splice(Ne,1)}}catch(Ge){Ot=!0,_t=Ge}finally{try{!ct&&De.return!=null&&De.return()}finally{if(Ot)throw _t}}}}return _createClass(g,[{key:"filter",value:function(e){var t=e.name,o=t.substr(1+t.lastIndexOf(".")).toLowerCase(),l=e.format.toLowerCase();if(J6.includes(l)||t===G6)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[t]=1,[];if(o==="srt")return this.srts[t]=1,[];var s=yf[l];return o==="mp3"&&!s?[e,"64kbps mp3",o]:[e,l,o]}},{key:"jwplaylist",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=[],s="https://archive.org/download/".concat(this.identifier,"/"),a=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?ma("jest")?a=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:a=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(a=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),a.push("video/x-flv");var r=0;a=Object.fromEntries(a.map(function(D){return[D,r++]}));var c=!0,d=!1,h=void 0;try{for(var p=Object.values(this.groups)[Symbol.iterator](),v;!(c=(v=p.next()).done);c=!0){var k=v.value,x={sources:[],title:MT(k.TITLE,100,!0)};"ORIG"in k&&(x.orig=k.ORIG,"ARTIST"in k&&(x.artist=k.ARTIST)),"AUTOPLAY"in k&&(x.autoplay=k.AUTOPLAY);var S=ma("poster");S?x.image=this.url(S.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in k||this.showing==="audio"&&"POSTER"in k)&&(x.image=this.url(s+k.POSTER),o.length||o.push(this.url(s+k.POSTER))),"length"in k&&(x.duration=k.length),"HD"in k&&k.SRC.push(k.HD);var A={},E=!0,O=!1,T=void 0;try{for(var b=k.SRC[Symbol.iterator](),u;!(E=(u=b.next()).done);E=!0){var f=u.value,m=((f.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(f.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(f.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(t&&(m==="ogg"||m==="ogv"))){var y="",w=[640,480];switch(m){case"mp3":y="mp3";break;case"ogg":y="ogg";break;case"m4a":y="aac";break;case"ogv":y="ogg",w=[400,300];break;case"mp4":y="mp4";break;case"mpeg4":y="mp4";break;case"m4v":y="mp4";break;case"mov":y="mp4";break;case"flv":y="video/x-flv";break;case"swf":y="video/x-flv";break;default:y=""}var C=f in this.widths?this.widths[f]:w[0],M=f in this.heights?this.heights[f]:w[1],I={file:this.url(s+f),width:C,height:M};y!==""&&(I.type=y),this.showing==="movies"&&(I.label="".concat(M,"p").concat(M>=720?" HD":"")),!(y&&parseInt(M,10)===parseInt(A[y],10))&&(A[y]=M,x.sources.push(I),this.showing==="movies"&&"image"in x&&(x.tracks=[{kind:"thumbnails",file:"".concat(x.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),f in this.durations&&(x.duration=Math.max(x.duration,this.durations[f])))}}}catch(D){O=!0,T=D}finally{try{!E&&b.return!=null&&b.return()}finally{if(O)throw T}}Gn(e.tv),l.push(x)}}catch(D){d=!0,h=D}finally{try{!c&&p.return!=null&&p.return()}finally{if(d)throw h}}return l}},{key:"runtime",value:function(e,t,o){return this.xxx="implement runtime() ".concat(t?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),g}(),Q6=Z6}}),eO,tO,rI=Gt({"https-url:https://av.prod.archive.org/js/util/ios.js":function(){eO=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,tO=eO}}),iI=Gt({"https-url:https://av.prod.archive.org/iso/s3.js":function(){}}),nO,oI=Gt({"https-url:https://av.prod.archive.org/js/mdapi.js":function(){iI(),nO=RT}}),aI=Gt({"https-url:https://av.prod.archive.org/js/play/background-play.js":function(){L0(),$s(),customElements.define("background-play",function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.toggle=!Ai.get("nohls"),t}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,Ai.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,Ai.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return to(_templateObject410(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(gs))}}),bs,Ea,D0,bf,$0,$o,To,rO,sI=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/transcript-view@0.0.3/esnext/transcript-view.mjs":function(){Sn(),Wr(),Sn(),Wr(),Sn(),Wr(),bs=function(n,e,t,o){var l=arguments.length,s=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,o);else for(var r=n.length-1;r>=0;r--)(a=n[r])&&(s=(l<3?a(s):l>3?a(e,t,s):a(e,t))||s);return l>3&&s&&Object.defineProperty(e,t,s),s},Ea=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.entry=void 0,t.isActive=!1,t.isSelected=!1,t.isClickable=!1,t.isSearchResult=!1,t.isMusicEntry=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject411(),this.entry?this.entry.displayText:"")}}]),e}(rr),bs([an({type:Object})],Ea.prototype,"entry",void 0),bs([an({type:Boolean,reflect:!0})],Ea.prototype,"isActive",void 0),bs([an({type:Boolean,reflect:!0})],Ea.prototype,"isSelected",void 0),bs([an({type:Boolean,reflect:!0})],Ea.prototype,"isClickable",void 0),bs([an({type:Boolean,reflect:!0})],Ea.prototype,"isSearchResult",void 0),bs([an({type:Boolean,reflect:!0})],Ea.prototype,"isMusicEntry",void 0),Ea=bs([Jr("transcript-entry")],Ea),D0=function(n,e,t,o){var l=arguments.length,s=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,o);else for(var r=n.length-1;r>=0;r--)(a=n[r])&&(s=(l<3?a(s):l>3?a(e,t,s):a(e,t))||s);return l>3&&s&&Object.defineProperty(e,t,s),s},bf=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.seconds=0,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject412(),this.durationString)}},{key:"durationString",get:function(){if(typeof this.seconds!="number")return"";var o=Math.floor(this.seconds/3600),l=Math.floor(this.seconds/60)%60,s=Math.floor(this.seconds%60),a=o>0?"".concat(o):void 0,r=o>0&&l<10?"0".concat(l):"".concat(l),c=s<10?"0".concat(s):"".concat(s),d="".concat(r,":").concat(c);return d=a?"".concat(a,":").concat(d):d,d}}]),e}(rr),D0([an({type:Number})],bf.prototype,"seconds",void 0),bf=D0([Jr("duration-formatter")],bf),$0=function(){"use strict";function g(n){_classCallCheck(this,g),this.entries=[],this.entries=n}return _createClass(g,[{key:"searchResults",get:function(){return this.entries.filter(function(e){return e.searchMatchIndex!==void 0})}}]),g}(),$o=function(n,e,t,o){var l=arguments.length,s=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,o);else for(var r=n.length-1;r>=0;r--)(a=n[r])&&(s=(l<3?a(s):l>3?a(e,t,s):a(e,t))||s);return l>3&&s&&Object.defineProperty(e,t,s),s},To=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.config=void 0,t.currentTime=0,t.topContextHeight=50,t.bottomContextHeight=50,t.autoScroll=!0,t.selectedSearchResultIndex=0,t.showContextZones=!1,t.timeScrollTop=0,t.currentEntries=[],t.scrollTimerDelay=15e3,t.scrollResumeTimerId=-1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){var o=this;return kt(_templateObject413(),this.showContextZones?this.contextZoneDevTemplates:"",this.didScroll,this.didScroll,this.timeDisplayTemplate,this.autoScrollButtonTemplate,this.transcriptEntries.map(function(l){return o.transcriptEntryTemplate(l)}))}},{key:"scrollToSelectedSearchResult",value:function(){var o=this,l=o.selectedSearchResult;l&&(this.autoScroll=!1,this.scrollToElement(l))}},{key:"autoScrollButtonTemplate",get:function(){return kt(_templateObject414(),this.enableAutoScroll,this.autoScroll?"hidden":"")}},{key:"timeDisplayTemplate",get:function(){return kt(_templateObject415(),this.timeScrollTop,this.currentTime)}},{key:"transcriptEntryTemplate",value:function(o){var l=this.currentEntries.find(function(c){return c.id===o.id})!==void 0,s=o.searchMatchIndex===this.selectedSearchResultIndex,a=o.searchMatchIndex!==void 0,r=o.isMusic;return kt(_templateObject416(),o,s,l,a,r,o.searchMatchIndex,o.id,this.transcriptEntrySelected)}},{key:"contextZoneDevTemplates",get:function(){return kt(_templateObject417(),this.topContextZoneDevTemplate,this.bottomContextZoneDevTemplate)}},{key:"topContextZoneDevTemplate",get:function(){return kt(_templateObject418(),this.topContextHeight)}},{key:"bottomContextZoneDevTemplate",get:function(){return kt(_templateObject419(),this.bottomContextHeight)}},{key:"transcriptEntries",get:function(){return this.config?this.config.entries:[]}},{key:"transcriptEntrySelected",value:function(o){var l=o.target,s=l.entry;if(s){var a=new CustomEvent("transcriptEntrySelected",{detail:{entry:s}});this.dispatchEvent(a),s.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=s.searchMatchIndex),this.autoScroll=!1}}},{key:"handleCurrentTimeChange",value:function(){var o=this,l=this.transcriptEntries;if(l.length!==0){var s=l.filter(function(a){return o.currentTime>=a.start&&o.currentTime<=a.end});this.entryArraysMatch(s,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=s)}}},{key:"entryArraysMatch",value:function(o,l){if(o.length!==l.length)return!1;var s=o.map(function(c){return c.id}).sort(),a=l.map(function(c){return c.id}).sort(),r=!0;return s.forEach(function(c,d){a[d]!==c&&(r=!1)}),!!r}},{key:"entryIdentifierClosestToTime",value:function(o){if(this.transcriptEntries.length===0)return null;var l=this.transcriptEntries[0],s=Math.abs(o-l.start),a=l.id;return this.transcriptEntries.forEach(function(r){var c=Math.abs(o-r.start);c<s&&(s=c,a=r.id)}),a}},{key:"elementClosestToTime",value:function(o){var l=this.entryIdentifierClosestToTime(o);return l?this.elementForIdentifier(l):null}},{key:"elementForIdentifier",value:function(o){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-identifier="'.concat(o,'"]'))}},{key:"didScroll",value:function(){var o=this;this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(function(){o.autoScroll=!0},this.scrollTimerDelay)}},{key:"enableAutoScroll",value:function(){this.autoScroll=!0,this.scrollToClosestEntry()}},{key:"updated",value:function(o){o.has("currentTime")&&this.handleCurrentTimeChange(),o.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),o.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),o.has("autoScroll")&&this.handleAutoScrollChange(),o.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}},{key:"scrollView",get:function(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}},{key:"activeTranscriptEntry",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}},{key:"selectedSearchResult",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-search-result-index="'.concat(this.selectedSearchResultIndex,'"]'))}},{key:"closestEntryToCurrentTime",get:function(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}},{key:"handleAutoScrollChange",value:function(){var o=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(o)}},{key:"scrollToClosestEntry",value:function(){if(this.autoScroll){var o=this.closestEntryToCurrentTime;o&&this.scrollToElement(o)}}},{key:"scrollToElement",value:function(o){var l=this,s=l.scrollView;if(s){var a=s.getBoundingClientRect(),r=o.getBoundingClientRect(),c=a.height,d=this,h=d.topContextHeight,p=this,v=p.bottomContextHeight,k=c-v;if(r.bottom>a.top+k||r.top<a.top){var x=r.top-a.top+s.scrollTop-h;this.scrollToOffsetWithDuration(x,1)}}}},{key:"updateTimePosition",value:function(){var o=this.closestEntryToCurrentTime;if(o){var l=o.parentNode.getBoundingClientRect(),s=o.getBoundingClientRect().top-l.top;this.timeScrollTop=s}}},{key:"scrollToOffsetWithDuration",value:function(o,l,s){var a=function(E){return E<.5?2*E*E:-1+(4-2*E)*E},r=this,c=r.scrollView;if(!c)return;var d=c.scrollTop,h=o-d,p=performance.now(),v,k,x;function S(){c&&(v=performance.now(),k=(v-p)/1e3,x=k/l,c.scrollTop=d+h*a(x),x<1?window.requestAnimationFrame(S):s&&s())}S()}}],[{key:"styles",get:function(){var o=zt(_templateObject420()),l=zt(_templateObject421()),s=zt(_templateObject422()),a=zt(_templateObject423()),r=zt(_templateObject424()),c=zt(_templateObject425()),d=zt(_templateObject426()),h=zt(_templateObject427()),p=zt(_templateObject428()),v=zt(_templateObject429()),k=zt(_templateObject430()),x=zt(_templateObject431()),S=zt(_templateObject432()),A=zt(_templateObject433()),E=zt(_templateObject434()),O=zt(_templateObject435()),T=zt(_templateObject436()),b=zt(_templateObject437());return zt(_templateObject438(),k,p,d,h,v,c,r,a,l,s,o,S,A,O,E,x,T,b)}}]),e}(rr),$o([an({type:$0})],To.prototype,"config",void 0),$o([an({type:Number})],To.prototype,"currentTime",void 0),$o([an({type:Number})],To.prototype,"topContextHeight",void 0),$o([an({type:Number})],To.prototype,"bottomContextHeight",void 0),$o([an({type:Boolean})],To.prototype,"autoScroll",void 0),$o([an({type:Number})],To.prototype,"selectedSearchResultIndex",void 0),$o([an({type:Boolean})],To.prototype,"showContextZones",void 0),$o([an({type:Number})],To.prototype,"timeScrollTop",void 0),$o([an({type:Array})],To.prototype,"currentEntries",void 0),To=$o([Jr("transcript-view")],To),rO=function(){"use strict";function g(n,e,t,o,l,s){_classCallCheck(this,g),this.id=n,this.start=e,this.end=t,this.rawText=o,this.isMusic=l,this.searchMatchIndex=s}return _createClass(g,[{key:"displayText",get:function(){return this.isMusic?"[Transcript unavailable]":this.rawText}}]),g}()}}),lI=Gt({"https-url:https://esm.archive.org/@internetarchive/transcript-view":function(){Sn(),Wr(),sI()}}),uI=Gt({"https-url:https://av.prod.archive.org/js/play/transcript-viewer.js":function(){L0(),lI(),R0(),Ds(),customElements.define("transcript-viewer",function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?to(_templateObject442(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?to(_templateObject440()):to(_templateObject441()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):to(_templateObject439())}},{key:"transcript_toggled",value:function(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if(Gn("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var l=document.querySelector("video");if(l){var s=this;this.tracking_time=!0,l.addEventListener("timeupdate",function(){var a;s.currentTime=l.currentTime;var r=(a=s.shadowRoot)==null?void 0:a.querySelector("transcript-view");if(r&&(r.currentTime=s.currentTime,!s.transcript_view_tweaked)){var c=r.shadowRoot.querySelectorAll("transcript-entry");if(c.length){if(s.transcript_view_tweaked=!0,s.kind==="Lyrics (AI)"){var d=function(){return c.forEach(function(p){return p.style.display="block"})};d(),setTimeout(d,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var l=o.detail||{},s=l.entry||{};if(s.start){var a=s.start;this.currentTime=a;var r=document.querySelector("video");Gn({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d,h,p,v,k,x,S,A,E,O,T,b;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(delete this.transcript_view_tweaked,l=this.captions[this.trackno],l){f.next=5;break}return this.transcriptConfig=null,f.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){f.next=46;break}return s=l.replace(/^\/download\//,"https://archive.org/cors/"),Gn({srtUrl:s}),f.next=10,fetch(s);case 10:return a=f.sent,f.next=13,a.text();case 13:r=f.sent,c=[],d=0,h=!0,p=!1,v=void 0,f.prev=17,k=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(x=k.next()).done){f.next=29;break}if(S=x.value,d+=1,A=_slicedToArray(S.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),E=A[1],O=A[2],T=A[3],O){f.next=25;break}return f.abrupt("continue",26);case 25:c.push({id:d,start:ep(E,!0),end:ep(O,!0),text:T,is_music:!1});case 26:h=!0,f.next=19;break;case 29:f.next=35;break;case 31:f.prev=31,f.t0=f.catch(17),p=!0,v=f.t0;case 35:f.prev=35,f.prev=36,!h&&k.return!=null&&k.return();case 38:if(f.prev=38,!p){f.next=41;break}throw v;case 41:return f.finish(38);case 42:return f.finish(35);case 43:Gn({json:c}),b=c.map(function(m){return new rO(m.id,m.start,m.end,m.text,m.is_music,m.search_match_index)}),this.transcriptConfigCache[this.trackno]=new $0(b);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return f.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,l;Gn("<transcript-viewer> firstUpdated()"),this.currentTime=0;var s="Lyrics";this.kind=s,this.captions=[],this.transcriptConfigCache=[];var a=!0,r=!1,c=void 0;try{for(var d=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=_slicedToArray(h.value,2),v=p[0],k=p[1];if(k.tracks){var x={},S=!0,A=!1,E=void 0;try{for(var O=k.tracks[Symbol.iterator](),T;!(S=(T=O.next()).done);S=!0){var b=T.value;b.kind==="subtitles"&&((o=b.file)!=null&&o.endsWith(".srt"))&&(x[(l=b.label)!=null?l:"none"]=b.file)}}catch(u){A=!0,E=u}finally{try{!S&&O.return!=null&&O.return()}finally{if(A)throw E}}this.captions[v]=x.align||x.cc5||x.en||x.asr||x.none,(this.captions[v]===x.align||this.captions[v]===x.asr)&&(this.kind="".concat(s," (AI)"))}}}catch(u){r=!0,c=u}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}Gn(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,l=5,s=1;return Xv(_templateObject443(),io(o),io(l),io(s),io(o+2*s+2*l))}}]),e}(gs))}}),Nc,N0,iO,oO,B0,dl,aO=Gt({"https-url:https://esm.archive.org/v135/colorthief@2.6.0/esnext/dist/color-thief.js":function(){Nc=function(n,e){return n<e?-1:n>e?1:0},N0=function(n){return n.reduce(function(e,t){return e+t},0)},iO=function(){var g=function(t){this.colors=t},n=g.prototype;return n.palette=function(){return this.colors},n.map=function(e){return e},g}(),oO=function(){var g=function(s,a,r){return(s<<10)+(a<<5)+r},n=function(s){var a=[],r=!1;function c(){a.sort(s),r=!0}return{push:function(h){a.push(h),r=!1},peek:function(h){return r||c(),h===void 0&&(h=a.length-1),a[h]},pop:function(){return r||c(),a.pop()},size:function(){return a.length},map:function(h){return a.map(h)},debug:function(){return r||c(),a}}},e=function(s,a,r,c,d,h,p){var v=this;v.r1=s,v.r2=a,v.g1=r,v.g2=c,v.b1=d,v.b2=h,v.histo=p},t=function(){this.vboxes=new n(function(s,a){return Nc(s.vbox.count()*s.vbox.volume(),a.vbox.count()*a.vbox.volume())})},o=function(s,a){if(a.count()){var r=a.r2-a.r1+1,c=a.g2-a.g1+1,d=Math.max.apply(null,[r,c,a.b2-a.b1+1]);if(a.count()==1)return[a.copy()];var h,p,v,k,x=0,S=[],A=[];if(d==r)for(h=a.r1;h<=a.r2;h++){for(k=0,p=a.g1;p<=a.g2;p++)for(v=a.b1;v<=a.b2;v++)k+=s[g(h,p,v)]||0;S[h]=x+=k}else if(d==c)for(h=a.g1;h<=a.g2;h++){for(k=0,p=a.r1;p<=a.r2;p++)for(v=a.b1;v<=a.b2;v++)k+=s[g(p,h,v)]||0;S[h]=x+=k}else for(h=a.b1;h<=a.b2;h++){for(k=0,p=a.r1;p<=a.r2;p++)for(v=a.g1;v<=a.g2;v++)k+=s[g(p,v,h)]||0;S[h]=x+=k}return S.forEach(function(E,O){A[O]=x-E}),function(E){var O,T,b,u,f,m=E+"1",y=E+"2",w=0;for(h=a[m];h<=a[y];h++)if(S[h]>x/2){for(b=a.copy(),u=a.copy(),f=(O=h-a[m])<=(T=a[y]-h)?Math.min(a[y]-1,~~(h+T/2)):Math.max(a[m],~~(h-1-O/2));!S[f];)f++;for(w=A[f];!w&&S[f-1];)w=A[--f];return b[y]=f,u[m]=b[y]+1,[b,u]}}(d==r?"r":d==c?"g":"b")}};return e.prototype={volume:function(s){var a=this;return a._volume&&!s||(a._volume=(a.r2-a.r1+1)*(a.g2-a.g1+1)*(a.b2-a.b1+1)),a._volume},count:function(s){var a=this,r=a.histo;if(!a._count_set||s){var c,d,h,p=0;for(c=a.r1;c<=a.r2;c++)for(d=a.g1;d<=a.g2;d++)for(h=a.b1;h<=a.b2;h++)p+=r[g(c,d,h)]||0;a._count=p,a._count_set=!0}return a._count},copy:function(){var s=this;return new e(s.r1,s.r2,s.g1,s.g2,s.b1,s.b2,s.histo)},avg:function(s){var a=this,r=a.histo;if(!a._avg||s){var c,d,h,p,v=0,k=0,x=0,S=0;if(a.r1===a.r2&&a.g1===a.g2&&a.b1===a.b2)a._avg=[a.r1<<3,a.g1<<3,a.b1<<3];else{for(d=a.r1;d<=a.r2;d++)for(h=a.g1;h<=a.g2;h++)for(p=a.b1;p<=a.b2;p++)v+=c=r[g(d,h,p)]||0,k+=c*(d+.5)*8,x+=c*(h+.5)*8,S+=c*(p+.5)*8;a._avg=v?[~~(k/v),~~(x/v),~~(S/v)]:[~~(8*(a.r1+a.r2+1)/2),~~(8*(a.g1+a.g2+1)/2),~~(8*(a.b1+a.b2+1)/2)]}}return a._avg},contains:function(s){var a=this,r=s[0]>>3;return gval=s[1]>>3,bval=s[2]>>3,r>=a.r1&&r<=a.r2&&gval>=a.g1&&gval<=a.g2&&bval>=a.b1&&bval<=a.b2}},t.prototype={push:function(s){this.vboxes.push({vbox:s,color:s.avg()})},palette:function(){return this.vboxes.map(function(s){return s.color})},size:function(){return this.vboxes.size()},map:function(s){for(var a=this.vboxes,r=0;r<a.size();r++)if(a.peek(r).vbox.contains(s))return a.peek(r).color;return this.nearest(s)},nearest:function(s){for(var a,r,c,d=this.vboxes,h=0;h<d.size();h++)((r=Math.sqrt(Math.pow(s[0]-d.peek(h).color[0],2)+Math.pow(s[1]-d.peek(h).color[1],2)+Math.pow(s[2]-d.peek(h).color[2],2)))<a||a===void 0)&&(a=r,c=d.peek(h).color);return c},forcebw:function(){var s=this.vboxes;s.sort(function(d,h){return Nc(N0(d.color),N0(h.color))});var a=s[0].color;a[0]<5&&a[1]<5&&a[2]<5&&(s[0].color=[0,0,0]);var r=s.length-1,c=s[r].color;c[0]>251&&c[1]>251&&c[2]>251&&(s[r].color=[255,255,255])}},{quantize:function(s,a){var r=function(T,b){for(var u,f=T.size(),m=0;m<1e3;){if(f>=b||m++>1e3)return;if((u=T.pop()).count()){var y=o(k,u),w=y[0],C=y[1];if(!w)return;T.push(w),C&&(T.push(C),f++)}else T.push(u),m++}};if(!Number.isInteger(a)||a<1||a>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!s.length||a<2||a>256||!s.length||a<2||a>256)return!1;for(var c=[],d=new Set,h=0;h<s.length;h++){var p=s[h],v=p.join(",");d.has(v)||(d.add(v),c.push(p))}if(c.length<=a)return new iO(c);var k=function(O){var T,b=new Array(32768);return O.forEach(function(u){T=g(u[0]>>3,u[1]>>3,u[2]>>3),b[T]=(b[T]||0)+1}),b}(s);k.forEach(function(){});var x=function(O,T){var b,u,f,m=1e6,y=0,w=1e6,C=0,M=1e6,I=0;return O.forEach(function(D){(b=D[0]>>3)<m?m=b:b>y&&(y=b),(u=D[1]>>3)<w?w=u:u>C&&(C=u),(f=D[2]>>3)<M?M=f:f>I&&(I=f)}),new e(m,y,w,C,M,I,T)}(s,k),S=new n(function(O,T){return Nc(O.count(),T.count())});S.push(x),r(S,.75*a);for(var A=new n(function(O,T){return Nc(O.count()*O.volume(),T.count()*T.volume())});S.size();)A.push(S.pop());r(A,a);for(var E=new t;A.size();)E.push(A.pop());return E}}}().quantize,B0=function(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=n.naturalWidth,this.height=this.canvas.height=n.naturalHeight,this.context.drawImage(n,0,0,this.width,this.height)},B0.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},dl=function(){},dl.prototype.getColor=function(g,n){return n===void 0&&(n=10),this.getPalette(g,5,n)[0]},dl.prototype.getPalette=function(g,n,e){var t=function(a){var r=a.colorCount,c=a.quality;if(r!==void 0&&Number.isInteger(r)){if(r===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(c===void 0||!Number.isInteger(c)||c<1)&&(c=10),{colorCount:r,quality:c}}({colorCount:n,quality:e}),o=new B0(g),l=function(a,r,c){for(var d,h,p,v,k,x=a,S=[],A=0;A<r;A+=c)h=x[0+(d=4*A)],p=x[d+1],v=x[d+2],((k=x[d+3])===void 0||k>=125)&&(h>250&&p>250&&v>250||S.push([h,p,v]));return S}(o.getImageData().data,o.width*o.height,t.quality),s=oO(l,t.colorCount);return s?s.palette():null},dl.prototype.getColorFromUrl=function(g,n,e){var t=this,o=document.createElement("img");o.addEventListener("load",function(){var l=t.getPalette(o,5,e);n(l[0],g)}),o.src=g},dl.prototype.getImageData=function(g,n){var e=new XMLHttpRequest;e.open("GET",g,!0),e.responseType="arraybuffer",e.onload=function(){if(this.status==200){var t=new Uint8Array(this.response);i=t.length;for(var o=new Array(i),l=0;l<t.length;l++)o[l]=String.fromCharCode(t[l]);var s=o.join(""),a=window.btoa(s);n("data:image/png;base64,"+a)}},e.send()},dl.prototype.getColorAsync=function(g,n,e){var t=this;this.getImageData(g,function(o){var l=document.createElement("img");l.addEventListener("load",function(){var s=t.getPalette(l,5,e);n(s[0],this)}),l.src=o})}}}),sO={};bi(sO,{default:function(){return dl}});var cI=Gt({"https-url:https://esm.archive.org/colorthief/dist/color-thief.mjs":function(){aO(),aO()}}),lO={};bi(lO,{aliceblue:function(){return V0},antiquewhite:function(){return q0},aqua:function(){return W0},aquamarine:function(){return Y0},azure:function(){return G0},beige:function(){return K0},bisque:function(){return X0},black:function(){return J0},blanchedalmond:function(){return Z0},blue:function(){return Q0},blueviolet:function(){return eb},brown:function(){return tb},burlywood:function(){return nb},cadetblue:function(){return rb},chartreuse:function(){return ib},chocolate:function(){return ob},coral:function(){return ab},cornflowerblue:function(){return sb},cornsilk:function(){return lb},crimson:function(){return ub},cyan:function(){return cb},darkblue:function(){return db},darkcyan:function(){return hb},darkgoldenrod:function(){return fb},darkgray:function(){return pb},darkgreen:function(){return vb},darkgrey:function(){return mb},darkkhaki:function(){return gb},darkmagenta:function(){return yb},darkolivegreen:function(){return bb},darkorange:function(){return wb},darkorchid:function(){return _b},darkred:function(){return kb},darksalmon:function(){return xb},darkseagreen:function(){return Sb},darkslateblue:function(){return Cb},darkslategray:function(){return Ab},darkslategrey:function(){return Ob},darkturquoise:function(){return Eb},darkviolet:function(){return Tb},deeppink:function(){return jb},deepskyblue:function(){return Pb},default:function(){return P_},dimgray:function(){return Ib},dimgrey:function(){return Mb},dodgerblue:function(){return Lb},firebrick:function(){return Rb},floralwhite:function(){return Db},forestgreen:function(){return $b},fuchsia:function(){return Nb},gainsboro:function(){return Bb},ghostwhite:function(){return Fb},gold:function(){return zb},goldenrod:function(){return Hb},gray:function(){return Ub},green:function(){return Vb},greenyellow:function(){return qb},grey:function(){return Wb},honeydew:function(){return Yb},hotpink:function(){return Gb},indianred:function(){return Kb},indigo:function(){return Xb},ivory:function(){return Jb},khaki:function(){return Zb},lavender:function(){return Qb},lavenderblush:function(){return ew},lawngreen:function(){return tw},lemonchiffon:function(){return nw},lightblue:function(){return rw},lightcoral:function(){return iw},lightcyan:function(){return ow},lightgoldenrodyellow:function(){return aw},lightgray:function(){return sw},lightgreen:function(){return lw},lightgrey:function(){return uw},lightpink:function(){return cw},lightsalmon:function(){return dw},lightseagreen:function(){return hw},lightskyblue:function(){return fw},lightslategray:function(){return pw},lightslategrey:function(){return vw},lightsteelblue:function(){return mw},lightyellow:function(){return gw},lime:function(){return yw},limegreen:function(){return bw},linen:function(){return ww},magenta:function(){return _w},maroon:function(){return kw},mediumaquamarine:function(){return xw},mediumblue:function(){return Sw},mediumorchid:function(){return Cw},mediumpurple:function(){return Aw},mediumseagreen:function(){return Ow},mediumslateblue:function(){return Ew},mediumspringgreen:function(){return Tw},mediumturquoise:function(){return jw},mediumvioletred:function(){return Pw},midnightblue:function(){return Iw},mintcream:function(){return Mw},mistyrose:function(){return Lw},moccasin:function(){return Rw},navajowhite:function(){return Dw},navy:function(){return $w},oldlace:function(){return Nw},olive:function(){return Bw},olivedrab:function(){return Fw},orange:function(){return zw},orangered:function(){return Hw},orchid:function(){return Uw},palegoldenrod:function(){return Vw},palegreen:function(){return qw},paleturquoise:function(){return Ww},palevioletred:function(){return Yw},papayawhip:function(){return Gw},peachpuff:function(){return Kw},peru:function(){return Xw},pink:function(){return Jw},plum:function(){return Zw},powderblue:function(){return Qw},purple:function(){return e_},rebeccapurple:function(){return t_},red:function(){return n_},rosybrown:function(){return r_},royalblue:function(){return i_},saddlebrown:function(){return o_},salmon:function(){return a_},sandybrown:function(){return s_},seagreen:function(){return l_},seashell:function(){return u_},sienna:function(){return c_},silver:function(){return d_},skyblue:function(){return h_},slateblue:function(){return f_},slategray:function(){return p_},slategrey:function(){return v_},snow:function(){return m_},springgreen:function(){return g_},steelblue:function(){return y_},tan:function(){return b_},teal:function(){return w_},thistle:function(){return __},tomato:function(){return k_},turquoise:function(){return x_},violet:function(){return S_},wheat:function(){return C_},white:function(){return A_},whitesmoke:function(){return O_},yellow:function(){return E_},yellowgreen:function(){return T_}});var uO,wf,cO,dO,hO,fO,pO,vO,_f,mO,F0,z0,H0,U0,V0,q0,W0,Y0,G0,K0,X0,J0,Z0,Q0,eb,tb,nb,rb,ib,ob,ab,sb,lb,ub,cb,db,hb,fb,pb,vb,mb,gb,yb,bb,wb,_b,kb,xb,Sb,Cb,Ab,Ob,Eb,Tb,jb,Pb,Ib,Mb,Lb,Rb,Db,$b,Nb,Bb,Fb,zb,Hb,Ub,Vb,qb,Wb,Yb,Gb,Kb,Xb,Jb,Zb,Qb,ew,tw,nw,rw,iw,ow,aw,sw,lw,uw,cw,dw,hw,fw,pw,vw,mw,gw,yw,bw,ww,_w,kw,xw,Sw,Cw,Aw,Ow,Ew,Tw,jw,Pw,Iw,Mw,Lw,Rw,Dw,$w,Nw,Bw,Fw,zw,Hw,Uw,Vw,qw,Ww,Yw,Gw,Kw,Xw,Jw,Zw,Qw,e_,t_,n_,r_,i_,o_,a_,s_,l_,u_,c_,d_,h_,f_,p_,v_,m_,g_,y_,b_,w_,__,k_,x_,S_,C_,A_,O_,E_,T_,ir,j_,gO,P_,yO=Gt({"https-url:https://esm.archive.org/v135/color-name@1.1.4/esnext/color-name.mjs":function(){uO=Object.create,wf=Object.defineProperty,cO=Object.getOwnPropertyDescriptor,dO=Object.getOwnPropertyNames,hO=Object.getPrototypeOf,fO=Object.prototype.hasOwnProperty,pO=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},vO=function(e,t){for(var o in t)wf(e,o,{get:t[o],enumerable:!0})},_f=function(e,t,o,l){var s=!0,a=!1,r=void 0;if(t&&typeof t=="object"||typeof t=="function")try{for(var c=function(p,v){var k=v.value;!fO.call(e,k)&&k!==o&&wf(e,k,{get:function(){return t[k]},enumerable:!(l=cO(t,k))||l.enumerable})},d=dO(t)[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0)c(d,h)}catch(p){a=!0,r=p}finally{try{!s&&d.return!=null&&d.return()}finally{if(a)throw r}}return e},mO=function(e,t,o){return _f(e,t,"default"),o&&_f(o,t,"default")},F0=function(e,t,o){return o=e!=null?uO(hO(e)):{},_f(t||!e||!e.__esModule?wf(o,"default",{value:e,enumerable:!0}):o,e)},z0=pO(function(e,t){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),H0={},vO(H0,{aliceblue:function(){return V0},antiquewhite:function(){return q0},aqua:function(){return W0},aquamarine:function(){return Y0},azure:function(){return G0},beige:function(){return K0},bisque:function(){return X0},black:function(){return J0},blanchedalmond:function(){return Z0},blue:function(){return Q0},blueviolet:function(){return eb},brown:function(){return tb},burlywood:function(){return nb},cadetblue:function(){return rb},chartreuse:function(){return ib},chocolate:function(){return ob},coral:function(){return ab},cornflowerblue:function(){return sb},cornsilk:function(){return lb},crimson:function(){return ub},cyan:function(){return cb},darkblue:function(){return db},darkcyan:function(){return hb},darkgoldenrod:function(){return fb},darkgray:function(){return pb},darkgreen:function(){return vb},darkgrey:function(){return mb},darkkhaki:function(){return gb},darkmagenta:function(){return yb},darkolivegreen:function(){return bb},darkorange:function(){return wb},darkorchid:function(){return _b},darkred:function(){return kb},darksalmon:function(){return xb},darkseagreen:function(){return Sb},darkslateblue:function(){return Cb},darkslategray:function(){return Ab},darkslategrey:function(){return Ob},darkturquoise:function(){return Eb},darkviolet:function(){return Tb},deeppink:function(){return jb},deepskyblue:function(){return Pb},default:function(){return P_},dimgray:function(){return Ib},dimgrey:function(){return Mb},dodgerblue:function(){return Lb},firebrick:function(){return Rb},floralwhite:function(){return Db},forestgreen:function(){return $b},fuchsia:function(){return Nb},gainsboro:function(){return Bb},ghostwhite:function(){return Fb},gold:function(){return zb},goldenrod:function(){return Hb},gray:function(){return Ub},green:function(){return Vb},greenyellow:function(){return qb},grey:function(){return Wb},honeydew:function(){return Yb},hotpink:function(){return Gb},indianred:function(){return Kb},indigo:function(){return Xb},ivory:function(){return Jb},khaki:function(){return Zb},lavender:function(){return Qb},lavenderblush:function(){return ew},lawngreen:function(){return tw},lemonchiffon:function(){return nw},lightblue:function(){return rw},lightcoral:function(){return iw},lightcyan:function(){return ow},lightgoldenrodyellow:function(){return aw},lightgray:function(){return sw},lightgreen:function(){return lw},lightgrey:function(){return uw},lightpink:function(){return cw},lightsalmon:function(){return dw},lightseagreen:function(){return hw},lightskyblue:function(){return fw},lightslategray:function(){return pw},lightslategrey:function(){return vw},lightsteelblue:function(){return mw},lightyellow:function(){return gw},lime:function(){return yw},limegreen:function(){return bw},linen:function(){return ww},magenta:function(){return _w},maroon:function(){return kw},mediumaquamarine:function(){return xw},mediumblue:function(){return Sw},mediumorchid:function(){return Cw},mediumpurple:function(){return Aw},mediumseagreen:function(){return Ow},mediumslateblue:function(){return Ew},mediumspringgreen:function(){return Tw},mediumturquoise:function(){return jw},mediumvioletred:function(){return Pw},midnightblue:function(){return Iw},mintcream:function(){return Mw},mistyrose:function(){return Lw},moccasin:function(){return Rw},navajowhite:function(){return Dw},navy:function(){return $w},oldlace:function(){return Nw},olive:function(){return Bw},olivedrab:function(){return Fw},orange:function(){return zw},orangered:function(){return Hw},orchid:function(){return Uw},palegoldenrod:function(){return Vw},palegreen:function(){return qw},paleturquoise:function(){return Ww},palevioletred:function(){return Yw},papayawhip:function(){return Gw},peachpuff:function(){return Kw},peru:function(){return Xw},pink:function(){return Jw},plum:function(){return Zw},powderblue:function(){return Qw},purple:function(){return e_},rebeccapurple:function(){return t_},red:function(){return n_},rosybrown:function(){return r_},royalblue:function(){return i_},saddlebrown:function(){return o_},salmon:function(){return a_},sandybrown:function(){return s_},seagreen:function(){return l_},seashell:function(){return u_},sienna:function(){return c_},silver:function(){return d_},skyblue:function(){return h_},slateblue:function(){return f_},slategray:function(){return p_},slategrey:function(){return v_},snow:function(){return m_},springgreen:function(){return g_},steelblue:function(){return y_},tan:function(){return b_},teal:function(){return w_},thistle:function(){return __},tomato:function(){return k_},turquoise:function(){return x_},violet:function(){return S_},wheat:function(){return C_},white:function(){return A_},whitesmoke:function(){return O_},yellow:function(){return E_},yellowgreen:function(){return T_}}),U0=F0(z0()),mO(H0,F0(z0()));var g;g=U0,V0=g.aliceblue,q0=g.antiquewhite,W0=g.aqua,Y0=g.aquamarine,G0=g.azure,K0=g.beige,X0=g.bisque,J0=g.black,Z0=g.blanchedalmond,Q0=g.blue,eb=g.blueviolet,tb=g.brown,nb=g.burlywood,rb=g.cadetblue,ib=g.chartreuse,ob=g.chocolate,ab=g.coral,sb=g.cornflowerblue,lb=g.cornsilk,ub=g.crimson,cb=g.cyan,db=g.darkblue,hb=g.darkcyan,fb=g.darkgoldenrod,pb=g.darkgray,vb=g.darkgreen,mb=g.darkgrey,gb=g.darkkhaki,yb=g.darkmagenta,bb=g.darkolivegreen,wb=g.darkorange,_b=g.darkorchid,kb=g.darkred,xb=g.darksalmon,Sb=g.darkseagreen,Cb=g.darkslateblue,Ab=g.darkslategray,Ob=g.darkslategrey,Eb=g.darkturquoise,Tb=g.darkviolet,jb=g.deeppink,Pb=g.deepskyblue,Ib=g.dimgray,Mb=g.dimgrey,Lb=g.dodgerblue,Rb=g.firebrick,Db=g.floralwhite,$b=g.forestgreen,Nb=g.fuchsia,Bb=g.gainsboro,Fb=g.ghostwhite,zb=g.gold,Hb=g.goldenrod,Ub=g.gray,Vb=g.green,qb=g.greenyellow,Wb=g.grey,Yb=g.honeydew,Gb=g.hotpink,Kb=g.indianred,Xb=g.indigo,Jb=g.ivory,Zb=g.khaki,Qb=g.lavender,ew=g.lavenderblush,tw=g.lawngreen,nw=g.lemonchiffon,rw=g.lightblue,iw=g.lightcoral,ow=g.lightcyan,aw=g.lightgoldenrodyellow,sw=g.lightgray,lw=g.lightgreen,uw=g.lightgrey,cw=g.lightpink,dw=g.lightsalmon,hw=g.lightseagreen,fw=g.lightskyblue,pw=g.lightslategray,vw=g.lightslategrey,mw=g.lightsteelblue,gw=g.lightyellow,yw=g.lime,bw=g.limegreen,ww=g.linen,_w=g.magenta,kw=g.maroon,xw=g.mediumaquamarine,Sw=g.mediumblue,Cw=g.mediumorchid,Aw=g.mediumpurple,Ow=g.mediumseagreen,Ew=g.mediumslateblue,Tw=g.mediumspringgreen,jw=g.mediumturquoise,Pw=g.mediumvioletred,Iw=g.midnightblue,Mw=g.mintcream,Lw=g.mistyrose,Rw=g.moccasin,Dw=g.navajowhite,$w=g.navy,Nw=g.oldlace,Bw=g.olive,Fw=g.olivedrab,zw=g.orange,Hw=g.orangered,Uw=g.orchid,Vw=g.palegoldenrod,qw=g.palegreen,Ww=g.paleturquoise,Yw=g.palevioletred,Gw=g.papayawhip,Kw=g.peachpuff,Xw=g.peru,Jw=g.pink,Zw=g.plum,Qw=g.powderblue,e_=g.purple,t_=g.rebeccapurple,n_=g.red,r_=g.rosybrown,i_=g.royalblue,o_=g.saddlebrown,a_=g.salmon,s_=g.sandybrown,l_=g.seagreen,u_=g.seashell,c_=g.sienna,d_=g.silver,h_=g.skyblue,f_=g.slateblue,p_=g.slategray,v_=g.slategrey,m_=g.snow,g_=g.springgreen,y_=g.steelblue,b_=g.tan,w_=g.teal,__=g.thistle,k_=g.tomato,x_=g.turquoise,S_=g.violet,C_=g.wheat,A_=g.white,O_=g.whitesmoke,E_=g.yellow,T_=g.yellowgreen;var n;ir=U0,n=ir,j_=n.default,gO=Ri(ir,["default"]),P_=j_!==void 0?j_:gO}}),Zo,bO,kf,wO,_O,kO,xO,SO,xf,CO,Sf,AO,I_,M_,OO,L_,R_,EO,ir,D_,TO,$_,jO=Gt({"https-url:https://esm.archive.org/v135/color-convert@2.0.1/esnext/color-convert.mjs":function(){yO(),Zo=function(n){var e=function(o){return _typeof(o.default)<"u"?o.default:o},t=function(o){return Object.assign({},o)};switch(n){case"color-name":return e(lO);default:throw new Error('module "'+n+'" not found')}},bO=Object.create,kf=Object.defineProperty,wO=Object.getOwnPropertyDescriptor,_O=Object.getOwnPropertyNames,kO=Object.getPrototypeOf,xO=Object.prototype.hasOwnProperty,SO=function(n){return(typeof Zo=="undefined"?"undefined":_typeof(Zo))<"u"?Zo:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(n,{get:function(e,t){return((typeof Zo=="undefined"?"undefined":_typeof(Zo))<"u"?Zo:e)[t]}}):n}(function(n){if((typeof Zo=="undefined"?"undefined":_typeof(Zo))<"u")return Zo.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')}),xf=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},CO=function(n,e){for(var t in e)kf(n,t,{get:e[t],enumerable:!0})},Sf=function(n,e,t,o){var l=!0,s=!1,a=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,p){var v=p.value;!xO.call(n,v)&&v!==t&&kf(n,v,{get:function(){return e[v]},enumerable:!(o=wO(e,v))||o.enumerable})},c=_O(e)[Symbol.iterator](),d;!(l=(d=c.next()).done);l=!0)r(c,d)}catch(h){s=!0,a=h}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw a}}return n},AO=function(n,e,t){return Sf(n,e,"default"),t&&Sf(t,e,"default")},I_=function(n,e,t){return t=n!=null?bO(kO(n)):{},Sf(e||!n||!n.__esModule?kf(t,"default",{value:n,enumerable:!0}):t,n)},M_=xf(function(n,e){var t=function(f,m){return ji(f[0]-m[0],2)+ji(f[1]-m[1],2)+ji(f[2]-m[2],2)},o=SO("color-name"),l={},s=!0,a=!1,r=void 0;try{for(var c=Object.keys(o)[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l[o[h]]=h}}catch(u){a=!0,r=u}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}var p={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=p;var v=!0,k=!1,x=void 0;try{for(var S=Object.keys(p)[Symbol.iterator](),A;!(v=(A=S.next()).done);v=!0){var E=A.value;if(!("channels"in p[E]))throw new Error("missing channels property: "+E);if(!("labels"in p[E]))throw new Error("missing channel labels property: "+E);if(p[E].labels.length!==p[E].channels)throw new Error("channel and label counts mismatch: "+E);var O=p[E],T=O.channels,b=O.labels;delete p[E].channels,delete p[E].labels,Object.defineProperty(p[E],"channels",{value:T}),Object.defineProperty(p[E],"labels",{value:b})}}catch(u){k=!0,x=u}finally{try{!v&&S.return!=null&&S.return()}finally{if(k)throw x}}p.rgb.hsl=function(u){var f=u[0]/255,m=u[1]/255,y=u[2]/255,w=Math.min(f,m,y),C=Math.max(f,m,y),M=C-w,I,D;C===w?I=0:f===C?I=(m-y)/M:m===C?I=2+(y-f)/M:y===C&&(I=4+(f-m)/M),I=Math.min(I*60,360),I<0&&(I+=360);var z=(w+C)/2;return C===w?D=0:z<=.5?D=M/(C+w):D=M/(2-C-w),[I,D*100,z*100]},p.rgb.hsv=function(u){var f,m,y,w,C,M=u[0]/255,I=u[1]/255,D=u[2]/255,z=Math.max(M,I,D),Q=z-Math.min(M,I,D),W=function(oe){return(z-oe)/6/Q+1/2};return Q===0?(w=0,C=0):(C=Q/z,f=W(M),m=W(I),y=W(D),M===z?w=y-m:I===z?w=1/3+f-y:D===z&&(w=2/3+m-f),w<0?w+=1:w>1&&(w-=1)),[w*360,C*100,z*100]},p.rgb.hwb=function(u){var f=u[0],m=u[1],y=u[2],w=p.rgb.hsl(u)[0],C=1/255*Math.min(f,Math.min(m,y));return y=1-1/255*Math.max(f,Math.max(m,y)),[w,C*100,y*100]},p.rgb.cmyk=function(u){var f=u[0]/255,m=u[1]/255,y=u[2]/255,w=Math.min(1-f,1-m,1-y),C=(1-f-w)/(1-w)||0,M=(1-m-w)/(1-w)||0,I=(1-y-w)/(1-w)||0;return[C*100,M*100,I*100,w*100]},p.rgb.keyword=function(u){var f=l[u];if(f)return f;var m=1/0,y,w=!0,C=!1,M=void 0;try{for(var I=Object.keys(o)[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value,Q=o[z],W=t(u,Q);W<m&&(m=W,y=z)}}catch(me){C=!0,M=me}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}return y},p.keyword.rgb=function(u){return o[u]},p.rgb.xyz=function(u){var f=u[0]/255,m=u[1]/255,y=u[2]/255;f=f>.04045?ji((f+.055)/1.055,2.4):f/12.92,m=m>.04045?ji((m+.055)/1.055,2.4):m/12.92,y=y>.04045?ji((y+.055)/1.055,2.4):y/12.92;var w=f*.4124+m*.3576+y*.1805,C=f*.2126+m*.7152+y*.0722,M=f*.0193+m*.1192+y*.9505;return[w*100,C*100,M*100]},p.rgb.lab=function(u){var f=p.rgb.xyz(u),m=f[0],y=f[1],w=f[2];m/=95.047,y/=100,w/=108.883,m=m>.008856?ji(m,1/3):7.787*m+16/116,y=y>.008856?ji(y,1/3):7.787*y+16/116,w=w>.008856?ji(w,1/3):7.787*w+16/116;var C=116*y-16,M=500*(m-y),I=200*(y-w);return[C,M,I]},p.hsl.rgb=function(u){var f=u[0]/360,m=u[1]/100,y=u[2]/100,w,C,M;if(m===0)return M=y*255,[M,M,M];y<.5?w=y*(1+m):w=y+m-y*m;for(var I=2*y-w,D=[0,0,0],z=0;z<3;z++)C=f+1/3*-(z-1),C<0&&C++,C>1&&C--,6*C<1?M=I+(w-I)*6*C:2*C<1?M=w:3*C<2?M=I+(w-I)*(2/3-C)*6:M=I,D[z]=M*255;return D},p.hsl.hsv=function(u){var f=u[0],m=u[1]/100,y=u[2]/100,w=m,C=Math.max(y,.01);y*=2,m*=y<=1?y:2-y,w*=C<=1?C:2-C;var M=(y+m)/2,I=y===0?2*w/(C+w):2*m/(y+m);return[f,I*100,M*100]},p.hsv.rgb=function(u){var f=u[0]/60,m=u[1]/100,y=u[2]/100,w=Math.floor(f)%6,C=f-Math.floor(f),M=255*y*(1-m),I=255*y*(1-m*C),D=255*y*(1-m*(1-C));switch(y*=255,w){case 0:return[y,D,M];case 1:return[I,y,M];case 2:return[M,y,D];case 3:return[M,I,y];case 4:return[D,M,y];case 5:return[y,M,I]}},p.hsv.hsl=function(u){var f=u[0],m=u[1]/100,y=u[2]/100,w=Math.max(y,.01),C,M;M=(2-m)*y;var I=(2-m)*w;return C=m*w,C/=I<=1?I:2-I,C=C||0,M/=2,[f,C*100,M*100]},p.hwb.rgb=function(u){var f=u[0]/360,m=u[1]/100,y=u[2]/100,w=m+y,C;w>1&&(m/=w,y/=w);var M=Math.floor(6*f),I=1-y;C=6*f-M,M&1&&(C=1-C);var D=m+C*(I-m),z,Q,W;switch(M){default:case 6:case 0:z=I,Q=D,W=m;break;case 1:z=D,Q=I,W=m;break;case 2:z=m,Q=I,W=D;break;case 3:z=m,Q=D,W=I;break;case 4:z=D,Q=m,W=I;break;case 5:z=I,Q=m,W=D;break}return[z*255,Q*255,W*255]},p.cmyk.rgb=function(u){var f=u[0]/100,m=u[1]/100,y=u[2]/100,w=u[3]/100,C=1-Math.min(1,f*(1-w)+w),M=1-Math.min(1,m*(1-w)+w),I=1-Math.min(1,y*(1-w)+w);return[C*255,M*255,I*255]},p.xyz.rgb=function(u){var f=u[0]/100,m=u[1]/100,y=u[2]/100,w,C,M;return w=f*3.2406+m*-1.5372+y*-.4986,C=f*-.9689+m*1.8758+y*.0415,M=f*.0557+m*-.204+y*1.057,w=w>.0031308?1.055*ji(w,1/2.4)-.055:w*12.92,C=C>.0031308?1.055*ji(C,1/2.4)-.055:C*12.92,M=M>.0031308?1.055*ji(M,1/2.4)-.055:M*12.92,w=Math.min(Math.max(0,w),1),C=Math.min(Math.max(0,C),1),M=Math.min(Math.max(0,M),1),[w*255,C*255,M*255]},p.xyz.lab=function(u){var f=u[0],m=u[1],y=u[2];f/=95.047,m/=100,y/=108.883,f=f>.008856?ji(f,1/3):7.787*f+16/116,m=m>.008856?ji(m,1/3):7.787*m+16/116,y=y>.008856?ji(y,1/3):7.787*y+16/116;var w=116*m-16,C=500*(f-m),M=200*(m-y);return[w,C,M]},p.lab.xyz=function(u){var f=u[0],m=u[1],y=u[2],w,C,M;C=(f+16)/116,w=m/500+C,M=C-y/200;var I=ji(C,3),D=ji(w,3),z=ji(M,3);return C=I>.008856?I:(C-16/116)/7.787,w=D>.008856?D:(w-16/116)/7.787,M=z>.008856?z:(M-16/116)/7.787,w*=95.047,C*=100,M*=108.883,[w,C,M]},p.lab.lch=function(u){var f=u[0],m=u[1],y=u[2],w;w=Math.atan2(y,m)*360/2/Math.PI,w<0&&(w+=360);var C=Math.sqrt(m*m+y*y);return[f,C,w]},p.lch.lab=function(u){var f=u[0],m=u[1],y=u[2]/360*2*Math.PI,w=m*Math.cos(y),C=m*Math.sin(y);return[f,w,C]},p.rgb.ansi16=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=_slicedToArray(u,3),y=m[0],w=m[1],C=m[2],M=f===null?p.rgb.hsv(u)[2]:f;if(M=Math.round(M/50),M===0)return 30;var I=30+(Math.round(C/255)<<2|Math.round(w/255)<<1|Math.round(y/255));return M===2&&(I+=60),I},p.hsv.ansi16=function(u){return p.rgb.ansi16(p.hsv.rgb(u),u[2])},p.rgb.ansi256=function(u){var f=u[0],m=u[1],y=u[2];return f===m&&m===y?f<8?16:f>248?231:Math.round((f-8)/247*24)+232:16+36*Math.round(f/255*5)+6*Math.round(m/255*5)+Math.round(y/255*5)},p.ansi16.rgb=function(u){var f=u%10;if(f===0||f===7)return u>50&&(f+=3.5),f=f/10.5*255,[f,f,f];var m=(~~(u>50)+1)*.5,y=(f&1)*m*255,w=(f>>1&1)*m*255,C=(f>>2&1)*m*255;return[y,w,C]},p.ansi256.rgb=function(u){if(u>=232){var f=(u-232)*10+8;return[f,f,f]}u-=16;var m,y=Math.floor(u/36)/5*255,w=Math.floor((m=u%36)/6)/5*255,C=m%6/5*255;return[y,w,C]},p.rgb.hex=function(u){var f=(((Math.round(u[0])&255)<<16)+((Math.round(u[1])&255)<<8)+(Math.round(u[2])&255)).toString(16).toUpperCase();return"000000".substring(f.length)+f},p.hex.rgb=function(u){var f=u.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!f)return[0,0,0];var m=f[0];f[0].length===3&&(m=m.split("").map(function(I){return I+I}).join(""));var y=parseInt(m,16),w=y>>16&255,C=y>>8&255,M=y&255;return[w,C,M]},p.rgb.hcg=function(u){var f=u[0]/255,m=u[1]/255,y=u[2]/255,w=Math.max(Math.max(f,m),y),C=Math.min(Math.min(f,m),y),M=w-C,I,D;return M<1?I=C/(1-M):I=0,M<=0?D=0:w===f?D=(m-y)/M%6:w===m?D=2+(y-f)/M:D=4+(f-m)/M,D/=6,D%=1,[D*360,M*100,I*100]},p.hsl.hcg=function(u){var f=u[1]/100,m=u[2]/100,y=m<.5?2*f*m:2*f*(1-m),w=0;return y<1&&(w=(m-.5*y)/(1-y)),[u[0],y*100,w*100]},p.hsv.hcg=function(u){var f=u[1]/100,m=u[2]/100,y=f*m,w=0;return y<1&&(w=(m-y)/(1-y)),[u[0],y*100,w*100]},p.hcg.rgb=function(u){var f=u[0]/360,m=u[1]/100,y=u[2]/100;if(m===0)return[y*255,y*255,y*255];var w=[0,0,0],C=f%1*6,M=C%1,I=1-M,D=0;switch(Math.floor(C)){case 0:w[0]=1,w[1]=M,w[2]=0;break;case 1:w[0]=I,w[1]=1,w[2]=0;break;case 2:w[0]=0,w[1]=1,w[2]=M;break;case 3:w[0]=0,w[1]=I,w[2]=1;break;case 4:w[0]=M,w[1]=0,w[2]=1;break;default:w[0]=1,w[1]=0,w[2]=I}return D=(1-m)*y,[(m*w[0]+D)*255,(m*w[1]+D)*255,(m*w[2]+D)*255]},p.hcg.hsv=function(u){var f=u[1]/100,m=u[2]/100,y=f+m*(1-f),w=0;return y>0&&(w=f/y),[u[0],w*100,y*100]},p.hcg.hsl=function(u){var f=u[1]/100,m=u[2]/100*(1-f)+.5*f,y=0;return m>0&&m<.5?y=f/(2*m):m>=.5&&m<1&&(y=f/(2*(1-m))),[u[0],y*100,m*100]},p.hcg.hwb=function(u){var f=u[1]/100,m=u[2]/100,y=f+m*(1-f);return[u[0],(y-f)*100,(1-y)*100]},p.hwb.hcg=function(u){var f=u[1]/100,m=1-u[2]/100,y=m-f,w=0;return y<1&&(w=(m-y)/(1-y)),[u[0],y*100,w*100]},p.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]},p.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]},p.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]},p.gray.hsl=function(u){return[0,0,u[0]]},p.gray.hsv=p.gray.hsl,p.gray.hwb=function(u){return[0,100,u[0]]},p.gray.cmyk=function(u){return[0,0,0,u[0]]},p.gray.lab=function(u){return[u[0],0,0]},p.gray.hex=function(u){var f=Math.round(u[0]/100*255)&255,m=((f<<16)+(f<<8)+f).toString(16).toUpperCase();return"000000".substring(m.length)+m},p.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]}}),OO=xf(function(n,e){var t=function(){for(var c={},d=Object.keys(a),h=d.length,p=0;p<h;p++)c[d[p]]={distance:-1,parent:null};return c},o=function(c){var d=t(),h=[c];for(d[c].distance=0;h.length;)for(var p=h.pop(),v=Object.keys(a[p]),k=v.length,x=0;x<k;x++){var S=v[x],A=d[S];A.distance===-1&&(A.distance=d[p].distance+1,A.parent=p,h.unshift(S))}return d},l=function(c,d){return function(h){return d(c(h))}},s=function(c,d){for(var h=[d[c].parent,c],p=a[d[c].parent][c],v=d[c].parent;d[v].parent;)h.unshift(d[v].parent),p=l(a[d[v].parent][v],p),v=d[v].parent;return p.conversion=h,p},a=M_();e.exports=function(r){for(var c=o(r),d={},h=Object.keys(c),p=h.length,v=0;v<p;v++){var k=h[v];c[k].parent!==null&&(d[k]=s(k,c))}return d}}),L_=xf(function(n,e){var t=function(d){var h=function(){for(var v=arguments.length,k=new Array(v),x=0;x<v;x++)k[x]=arguments[x];var S=k[0];return S==null?S:(S.length>1&&(k=S),d(k))};return"conversion"in d&&(h.conversion=d.conversion),h},o=function(d){var h=function(){for(var v=arguments.length,k=new Array(v),x=0;x<v;x++)k[x]=arguments[x];var S=k[0];if(S==null)return S;S.length>1&&(k=S);var A=d(k);if(typeof A=="object")for(var E=A.length,O=0;O<E;O++)A[O]=Math.round(A[O]);return A};return"conversion"in d&&(h.conversion=d.conversion),h},l=M_(),s=OO(),a={},r=Object.keys(l);r.forEach(function(c){a[c]={},Object.defineProperty(a[c],"channels",{value:l[c].channels}),Object.defineProperty(a[c],"labels",{value:l[c].labels});var d=s(c);Object.keys(d).forEach(function(h){var p=d[h];a[c][h]=o(p),a[c][h].raw=t(p)})}),e.exports=a}),R_={},CO(R_,{default:function(){return $_}}),EO=I_(L_()),AO(R_,I_(L_()));var g;ir=EO,g=ir,D_=g.default,TO=Ri(ir,["default"]),$_=D_!==void 0?D_:TO}}),PO={};bi(PO,{default:function(){return $_}});var dI=Gt({"https-url:https://esm.archive.org/color-convert":function(){yO(),jO(),jO()}}),N_={};bi(N_,{default:function(){return UO}});var Cf,B_,Bc,Qo,IO,MO,ea,LO,RO,DO,F_,$O,Af,z_,NO,BO,FO,zO,Of,H_,Ta,HO,UO,VO=Gt({"https-url:https://av.prod.archive.org/js/play.js":function(){if(VP(),$s(),L0(),Px(),Rp(),Ds(),$p(),nI(),Fp(),rI(),oI(),aI(),uI(),Cf=480,B_=640,Bc=30,Qo=60,IO=10,MO=350,ea=Bc,LO=60,RO=140,DO=200,F_=490,$O=F_+55,Af=152,z_=800,NO=20,BO=370,FO=100,zO=100,Of=1200,H_={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},Ta=function(s){"use strict";_inherits(r,s);var a=_createSuper(r);function r(c,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var p;return p=a.call(this),!c&&p.getAttribute("jid")&&p.getAttribute("playlist")&&p.getAttribute("args")&&(c=p.getAttribute("jid"),d=JSON.parse(p.getAttribute("playlist")),h=JSON.parse(p.getAttribute("args")),h.headless&&(h.onPlaylistItem=r.headless_callback,delete r.headless_callback),Gn("TRIFECTA",{jid:c,playlist:d,args:h})),c||ne(".js-play8-config").each(function(v,k){h=JSON.parse(ne(k).val()),c=h.jid||"jw6";var x=ne(".js-play8");ne("play-av").length||x.attr({id:c}),ma("playset")&&(h.onComplete=Bp.onComplete),d=JSON.parse(ne(".js-play8-playlist").val())}),c?_possibleConstructorReturn(p,p.construct(c,d,h)):p}return _createClass(r,[{key:"construct",value:function(d,h,p){var v=this,k,x,S;this.jid=d;var A=this.cache();if(A)return A;ne("play-av").attr("jid")||ne("play-av").attr("jid",d),r.STASH[d]=this,Gn("PLAY CONFIG:",p);var E=!0,O=!1,T=void 0;try{for(var b=Object.entries(H_)[Symbol.iterator](),u;!(E=(u=b.next()).done);E=!0){var f=_slicedToArray(u.value,2),m=f[0],y=f[1];this[m]=y}}catch(rt){O=!0,T=rt}finally{try{!E&&b.return!=null&&b.return()}finally{if(O)throw T}}var w=!0,C=!1,M=void 0;try{for(var I=Object.entries(p)[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=_slicedToArray(D.value,2),Q=z[0],W=z[1];Q in H_&&(this[Q]=W)}}catch(rt){C=!0,M=rt}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(d),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var me=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((k=this.triggers)!=null&&k.length)&&h.length&&!this.onTime?new HO(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!ne(this.jidsel).length){Gn("play.js requires #",d," element on page -- not found"),this.retry={playlist:h,args:p};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?BO:FO),this.list_height=Math.min(this.list_height,h.length*NO)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var oe=ne(window).width(),q=ne(window).height();this.width=this.audio?Math.min(oe,z_):oe,this.height=this.audio?ea+this.list_height:q-this.list_height}else this.aspectratio||(this.width=this.audio?MO:B_,this.height=this.audio?ea+this.list_height:Cf);ne.each(h,function(rt,ct){if(typeof ct.autoplay!="undefined"&&(me||(me=[]),me[rt-1]=!ct.autoplay),typeof ct.sources=="undefined"&&typeof ct.file!="undefined"&&(ct.sources=[{file:ct.file,height:480}]),typeof ct.sources=="undefined")alert("".concat(rt,": sources undefined!"));else{var Ot=!0,_t=!1,De=void 0;try{for(var be=ct.sources[Symbol.iterator](),Xe;!(Ot=(Xe=be.next()).done);Ot=!0){var Ne=Xe.value;typeof Ne.file!="undefined"&&(!rt&&Ne.file.indexOf("/download")>=0&&(Ne.file=Ne.file.replace(/\/download\//,"/serve/")),Ne.file=r.filename_char_encoder(Ne.file))}}catch(Qe){_t=!0,De=Qe}finally{try{!Ot&&be.return!=null&&be.return()}finally{if(_t)throw De}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var ee=JSON.parse(JSON.stringify(h));ee.forEach(function(rt){return v.audio&&delete rt.tracks,rt});var we={playlist:ee,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Bc:this.height,base:Dp};if(this.responsive&&!this.embed?we.displaytitle=!1:this.aspectratio&&(we.width="100%",we.aspectratio=this.aspectratio,delete we.height),this.identifier!==!1){var ie=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",le='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:B_,'"\n                            height="').concat(this.audio?ea:Cf,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(ie)).replace(/\s+/g," "),ye="[archiveorg ".concat(this.identifier).concat(ie," width=640 height=").concat(this.audio?ea:Cf," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");we.mediaid=this.identifier,ne("#embedcodehere").text(le),ne("#embedcodehereWP").text(ye)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(we.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||me){var Ee=this,fe=this.onComplete;this.onComplete=function(rt){var ct={done:Ee.play_just1||me[rt.getPlaylistIndex()]};ct.done&&rt.stop(),fe&&fe(rt,ct)}}return(x=this.HLS)==null||x.update_playlist(we),Gn(we),this.headless?(this.playN((S=this.headless.playN)!=null?S:0),this):(Pr(d).setup(we),Pr(d).on("ready",function(){var rt=v,ct;Gn("IA ",d," is ready");var Ot=Pr(d);v.player=Ot,Gn("NOTE: JW version: ",Pr.version);{var _t=v.playlist.length,De=Ot.getConfig().playlist.length;_t!==De&&!(v.HLS&&De===1&&_t>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",Ot.getConfig().playlist.length)}if((ct=v.HLS)==null||ct.setup(v),v.onTime&&Gn("NOTE: onTime() is in use!"),v.onTime&&Ot.on("time",function(){return rt.onTime(Ot)}),v.onComplete&&Ot.on("complete",function(){return rt.onComplete(Ot)}),v.onDisplayClick&&Ot.on("displayClick",function(){return rt.onDisplayClick(Ot)}),v.audio?Ot.on("firstFrame",function(){return r.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(Ot.on("firstFrame",function(){return r.track_event("Details-Video|VideoStarted")}),Ot.on("complete",function(){return r.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),Ot.once("meta",function(Xe){Gn("onMeta() fired"),rt.embed&&!rt.audio&&rt.adjust_video_width(Xe),rt.HLS||rt.unpreload(),rt.start&&(Gn("SEEK TO: ",rt.start),rt.pause(),Pr(d).seek(rt.start))}),Ot.on("playlistItem",function(Xe){var Ne=rt,Qe=Xe.index;if(Gn("onPlaylistItem: ",Qe),rt.reloading_playlist_playlist_idx&&!Qe){Gn("onPlaylistItem: ignoring since desired index ".concat(rt.reloading_playlist_playlist_idx," !== ").concat(Qe," -- and this is likely an event from reloading the playlist"));var Me=rt.reloading_playlist_playlist_idx;rt.reloading_playlist_playlist_idx=0,Pr(d).playlistItem(Me);return}rt.track_change(Ot,Qe),rt.seeker_playlist(),rt.speed!==1&&setTimeout(function(){return Ne.set_speed},1e3),rt.waveformer_setup(Ot)}),v.onPlaylistItem){var be=v;Ot.on("playlistItem",function(Xe){Gn("onPlaylistItem",{e:Xe}),be.onPlaylistItem(Ot,Xe)})}Ot.on("playlistComplete",function(){!rt.audio&&rt.collection&&!rt.tv&&rt.related_items_click()}),Ot.on("error",function(Xe){Gn("err"),Gn(Xe),ne(rt.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(Ot)}),this)}},{key:"url_updater",value:function(d,h){if(Gn("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var p=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(p===""?"":"/".concat(encodeURIComponent(p).replace(/%2F/g,"/").replace(/%20/g,"+"))),k=ma("playset",!0)?"?playset=1&autoplay=1":"";Gn("updating url to",v+k),history.replaceState({},null,v+k)}else{var x=this;Gn("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),d==null||d.once("play",function(){Gn("time to start updating urls"),x.update_url_onload=!0,x.url_updater(d,h)})}}}},{key:"waveformer_setup",value:function(d){var h=this,p;if(!(!this.audio||this.waveformed)){ne("#".concat(this.jid)).css("border-radius","".concat(Qo/2,"px 0 0 ").concat(Qo/2,"px")),this.recolor(),ne(".jw-slider-time").remove(),setTimeout(function(){ne("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';ne(".jw-icon-settings svg").html(v),ne(".jw-text-countdown").remove(),this.HLS?(ne(".jw-text-elapsed, .jw-text-duration").remove(),ne(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(r.sec2hms(Math.round((p=this.playlist[0])==null?void 0:p.duration)||0),"</div>"))):(ne(".jw-icon-settings").after(ne(".jw-text-elapsed")),ne(".jw-text-elapsed").after(ne(".jw-text-duration"))),this.canHLS&&(ne("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),ne("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),ne(".jw-settings-backgroundPlay").on("click",function(){ne(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ne("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),ne(".jw-settings-backgroundPlay").attr("aria-expanded","true"),ne(".jw-settings-playbackRates").attr("aria-expanded","")}),ne(".jw-settings-playbackRates").on("click",function(){ne(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ne("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),ne(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){ne("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),ne(".jw-settings-playbackRates").attr("aria-expanded","true"),ne(".jw-settings-backgroundPlay").attr("aria-expanded","")})),ne("#ia-scrubber").on("click",function(k){return h.waveform_clicked(k)}),d.on("time",function(k){var x;if(k.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,k.position/k.duration);var S="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),A=h.shadowRoot.getElementById("waveformer");A.style.width=S,h.waveformer_played_color&&(A.style.backgroundColor=h.waveformer_played_color),ne("#ia-scrubber").find(".jw-knob").css("left",S),ne("#ia-scrubber").find(".jw-progress").css({width:S,backgroundColor:(x=h.waveformer_progress_color)!=null?x:"#000"})}}),d.on("bufferChange",function(k){h.HLS?Gn("xxxhls HLS buffering"):ne("#ia-scrubber").find(".jw-buffer").css("width","".concat(k.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(d){var h=ne(this.shadowRoot.getElementById("waveformer-wrap")).width(),p=Number(d.offsetX/h).toFixed(2);if(Gn("waveform_clicked",{percent:p}),this.HLS)return this.HLS.waveform_clicked(p);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*p)}},{key:"recolor",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function d(){var h,p,v,k,x,S,A,E,O,T;return _regeneratorRuntime.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h=this,!((p=document.querySelector("ia-music-theater"))!=null&&p.hasAttribute("noimageavailable"))){u.next=5;break}return this.recolor_generic(),u.abrupt("return");case 5:if(x=(v=ne("ia-music-theater img"))==null?void 0:v.get(0),x){u.next=8;break}return u.abrupt("return");case 8:return u.t0=_slicedToArray,u.next=11,Promise.all([Promise.resolve().then(function(){return cI(),sO}),Promise.resolve().then(function(){return dI(),PO})]);case 11:u.t1=u.sent.map(function(f){return f.default}),S=(0,u.t0)(u.t1,2),A=S[0],E=S[1],O=function(){var f,m,y=new A,w=y.getPalette(x,5);if(Gn({palette:w}),!!w){var C=w[0];if(Gn({dominantColorRGB:C}),!!C){var M=(f=E.rgb).hsl.apply(f,_toConsumableArray(C));Gn({HSL:M});var I=Math.round(C.reduce(function(Q,W){return Q+W})/C.length),D=I>=128?"black":"white";Gn({avgVal:I});var z=(m=document.getElementById("theatre-ia-wrap"))!=null?m:document.getElementsByTagName("body")[0];z.style.color=D,z.style.backgroundImage="linear-gradient(rgb(".concat(C.join(","),"), black)"),z.style.backgroundRepeat="no-repeat",D==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(M[0],",").concat(M[1],"%,").concat(Math.min(100,1.5*M[2]),"%)")}}},T=(k=document.getElementById("theatre-ia-wrap"))!=null?k:document.getElementsByTagName("body")[0],T.style.backgroundImage="linear-gradient(#aaa, black)",T.style.backgroundRepeat="no-repeat",T.style.backgroundColor="black",x.crossOrigin="Anonymous",x.complete?O():x.addEventListener("load",O);case 22:case"end":return u.stop()}},d,this)}))}},{key:"recolor_generic",value:function(){var d,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],p=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],k=r.hash_string(this.identifier)%6,x=(d=document.getElementById("theatre-ia-wrap"))!=null?d:document.getElementsByTagName("body")[0];x.style.backgroundImage=h[k],this.waveformer_played_color=p[k],this.waveformer_progress_color=v[k]}},{key:"on",value:function(d,h){var p=Pr&&Pr(this.jid);return p&&p.on(d,h),this}},{key:"adjust_video_width",value:function(d){!d.width||!d.height||(d.height&&d.width&&d.height>0&&d.width>0&&parseInt(d.height,10)>0&&(this.DAR=parseInt(d.width,10)/parseInt(d.height,10),Gn("DAR: ",this.DAR,d.width,"x",d.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!Pr||!Pr(this.jid))){if(this.audio){Pr(this.jid).resize(Math.min(z_,ne(window).width()),ea);return}var d=ne(window).width(),h=ne(window).height()-this.list_height;Pr(this.jid).resize(d,h)}}},{key:"playN",value:function(d,h){if(this.headless)return this.onPlaylistItem(d-(this.headless.has_full_album?1:0)),this.track_change(void 0,d);var p=Pr(this.jid);return Gn("playN",{readyIA:this.readyIA,idx:d,load_paused:h,state:p.getState()}),h&&p.once("play",function(){return p.pause()}),this.HLS?(p.seek(d?this.triggers[d-1]-this.HLS.WIGGLE:0),this.track_change(p,d),!1):(p.playlistItem(d),!1)}},{key:"track_change",value:function(d,h){Gn("track_change",{idx:h}),this.trackno=h,this.url_updater(d,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var d=this;Pr(this.jid).once("seek",function(){d.pause(),Gn("... paused first seek!")})}this.start&&(this.pause(),Pr(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var d=this;ne(window).on("resize  orientationchange",function(){var h=d;clearTimeout(r.throttler2),r.throttler2=setTimeout(function(){new r(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var d=Pr(this.jid),h=d.getPlaylist(),p=d.getPlaylistIndex();if(Gn("unpreload:",{startPlaylistIdx:p}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,k=!1,x=void 0;try{for(var S=h[0].sources[Symbol.iterator](),A;!(v=(A=S.next()).done);v=!0){var E=A.value;E.file=E.file.replace(/\/serve\//,"/download/")}}catch(O){k=!0,x=O}finally{try{!v&&S.return!=null&&S.return()}finally{if(k)throw x}}}p?(d.on("playlist",function(){Gn("unpreload: onplaylist:",{startPlaylistIdx:p}),d.playlistIndex=p,d.playlistItem(p)}),this.reloading_playlist_playlist_idx=p):!this.start&&!this.autoplay&&(this.update_url_onload=!1),d.load(h)}},{key:"details_setup",value:function(){Gn("details_setup");var d=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),p=location.pathname.match(h);if(p){var v=decodeURIComponent(p[1].replace(/\+/g,"%20"));Gn("looking for: ",v);for(var k in this.playlist){var x=Number(k);if(this.playlist[x].orig===v){Gn("player should seek to track #",x),d=x;break}}}if(!d&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(d||this.start))if(Gn("seek #",d," to ",this.start),this.HLS){var S=this;setTimeout(function(){return S.playN(0,!0)},500),setTimeout(function(){return S.playN(d,!0)},1e3)}else{var A=Pr(this.jid);A.playlistItem(d)}}},{key:"pause",value:function(){var d=Pr(this.jid);this.readyIA&&d&&d.getState&&d.getState()==="playing"&&d.pause()}},{key:"remove",value:function(){this.pause();var d=Pr(this.jid);this.readyIA&&d&&d.getConfig()&&d.remove(),delete r.STASH[this.jid]}},{key:"set_speed",value:function(){var d,h=ne("#".concat(this.jid," video")).get(0);h.playbackRate=(d=this.speed)!=null?d:1,Gn("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(d){var h=this,p,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',k='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',x='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',S='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var A=this,E=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";d.addButton("/images/glogo-jw.png",E,function(){var m=document.createElement("a");m.setAttribute("href",A.details),m.setAttribute("target","_blank"),document.body.appendChild(m),m.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var O=this;d.addButton("/jw/embed.png","Embedding Examples and Help",function(){globalThis.top.location.href="/help/video.php?identifier=".concat(O.identifier)},"btn-mbd")}globalThis.AJS&&(d.addButton(x,"share",function(){var m=ne(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(m,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),ne(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var T=this;d.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){globalThis.top.location.href=T.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var b=this;d.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){b.related_items_click()},"btn-rel")}if(0)var u;if(ne(".jw-icon-settings").css("display","flex"),ne(".jw-slider-time").remove(),ne(".jw-icon-settings").on("click",function(){return h.settings_opened()}),ne(".jw-settings-close").on("click",function(){return h.settings_closed()}),d.on("playbackRateChanged",function(){return h.settings_closed()}),ne(".jw-icon-volume").on("mouseover",function(){ne('div[button="btn-prv"]').hide(),ne('div[button="btn-nxt"]').hide(),ne(".jw-icon-settings").hide()}),ne("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){ne('div[button="btn-prv"]').show(),ne('div[button="btn-nxt"]').show(),ne(".jw-icon-settings").show()}),!this.tv&&((p=this.playlist)==null?void 0:p.length)>1){var f=this;d.addButton(k,"next",function(){return(f.HLS||d).playlistNext()},"btn-nxt"),d.addButton(v,"previous",function(){return(f.HLS||d).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){ne(this.jidsel).css("overflow","visible"),ne(".jw-controls").css("overflow","visible").show(),ne("#jw-settings-menu").css({overflow:"visible",height:DO,top:Bc+5,bottom:"initial"}),ne(".jw-controlbar").show(),ne(".jw-icon-settings").removeClass("jw-icon-settings");var d=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=d-Af+7;Gn({kebab_left:d,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){ne(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var d=this;if(globalThis.WebKitPlaybackTargetAvailabilityEvent){ne("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(globalThis.chrome){var h=function(v,k){k.play(null,function(x){Gn("media play success",v,k,x)},function(x){Gn("media play fail",x)})};this.cast_retries=0;var p=function(){var v=d;if(Gn("cast_setup #",d.cast_retries),d.cast_retries+=1,d.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(p,d.cast_retries*1e3);var k=globalThis.chrome.cast,x=new k.SessionRequest(k.media.DEFAULT_MEDIA_RECEIVER_APP_ID),S=new k.ApiConfig(x,function(A){A.media.length&&h("onRequestSessionSuccess",A.media[0])},function(A){Gn("receiver listener fail",A)});return k.initialize(S,function(){var A=v;Gn("cast init success"),k.requestSession(function(E){Gn("request session success",E);var O=ne("".concat(A.jidsel," video")).attr("src"),T="".concat(location.protocol,"//").concat(location.host).concat(O),b=new k.media.MediaInfo(T),u=new k.media.LoadRequest(b);E.loadMedia(u,h.bind(A,"loadMedia"),function(f){Gn("onMediaError",f)})},function(E){Gn("request session fail",E),setTimeout(p,500)})},function(){return Gn("cast init failure")}),!0};p()}}},{key:"related_items_click",value:function(){var d=this,h=function(){ne("".concat(d.jidsel," .jw-controlbar")).one("click",function(k){ne("#related-items-bg").hide(),k.preventDefault()})};if(typeof uf!="undefined"&&!ne("#related-items").length){var p=this;ne("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),uf.getRelatedItems(this.identifier,!0).then(function(k){var x=Math.floor(k.length/2),S="",A=!0,E=!1,O=void 0;try{for(var T=Object.entries(k)[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=_slicedToArray(b.value,2),f=u[0],m=u[1];Number(f)===x&&p.collection==="prelinger"?(r.track_event("Details-Video|DonationEndrollDisplayed"),S+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):S+='\n<div>\n  <a href="/details/'.concat(m.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(m.title!==null?m.title:"","\n      ").concat(m.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(m.creator):"","\n      ").concat(m.downloads!==null?"<div>".concat(m.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(m.identifier,'"/>\n  </a>\n</div>\n')}}catch(y){E=!0,O=y}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}ne("#related-items").html(S),ne("#related-items-bg").show(),h()})}else{var v=ne("#related-items-bg:visible").length;v?ne("#related-items-bg").hide():(ne("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return ne("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var d=this;return this.hide_list?"":to(_templateObject448(),this.prior_panel,this.playlist.map(function(h,p){var v;return to(_templateObject446(),d.playlist_track_click,d.trackno===p?"selected":"",p,d.headless?"":to(_templateObject444(),p+1),(v=h.title)!=null?v:"",h.artist?to(_templateObject445(),h.artist):"","",h.duration?r.sec2hms(h.duration):d.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,p){return to(_templateObject447(),d.goto_panel,p,Number(p)===d.panelno?"selected":"",p)}),this.next_panel)}},{key:"playlist_track_click",value:function(d){this.playN(Number(d.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var d=this.shadowRoot.querySelector(".flexbox-pages");d.scrollBy({top:0,left:-1*d.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var d=this.shadowRoot.querySelector(".flexbox-pages");d.scrollBy({top:0,left:d.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(d){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(d.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var d,h=((d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages"))||this,p=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),k=h.scrollLeft;p.style.visibility=k<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var x=h.scrollWidth-h.clientWidth;v.style.visibility=k>=x?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var d;if(!this.always_single_panel&&!(ne(window).width()<Of)){var h=(d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages");h&&(Gn("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(d){if(this.responsive){var h=ne(this.jidsel).offset(),p=ne(window).height()-h.top-zO;if(this.audio)this.playlist&&this.playlist.length>0&&(ea=LO),p-=ea,p=Math.max(RO,p),this.embed||(Gn("responsiveResize() maxH:",p),this.list_height=p);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Gn("aspect ratio appears to be: ",v));var k=ne(".container-ia:last").width();Gn("video max rect avail: ",k,"x",p);var x,S,A=!0,E=!1,O=void 0;try{for(var T=[960,840,720,600,480,360,240,180][Symbol.iterator](),b;!(A=(b=T.next()).done)&&(S=b.value,x=Math.round(S*v),Gn("video size try fit: ",x,"x",S),!(x<=k&&S<=p||x<=320));A=!0);}catch(f){E=!0,O=f}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}this.width=x,this.height=S,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(d){var u=this;ne(window).on("resize  orientationchange",function(){var f=u;clearTimeout(r.throttler),r.throttler=setTimeout(function(){new r(f.jid).responsiveResize()},250)})}else this.audio||Pr(this.jid).resize(this.width,this.height);d||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof r.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return r.STASH[this.jid];delete r.STASH[this.jid]}}},{key:"updated",value:function(d){if(Gn("play updated()",d),"mdapi"in d&&Gn("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){Gn("play firstUpdated up")}},{key:"render",value:function(){var d;Gn("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&ne(this.jidsel).css("margin","auto"),this.add_buttons(this.player),ne(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),ne(".jw-controlbar").css("padding-top","8px"),this.responsive&&ea>Bc&&ne(this.jidsel).css("height",ea),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var p=this.playlist?(d=this.playlist[this.trackno||0])==null?void 0:d.image:"";return to(_templateObject454(),this.audio&&!this.headless?to(_templateObject452(),p?to(_templateObject450(),p,this.waveform_clicked):to(_templateObject451())):"",this.show_transcripts()?to(_templateObject453(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var d=this,h,p,v,k,x=1600,S=1928,A=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!A.filter(function(b){var u;return(u=d.collections)==null?void 0:u.includes(b)}).length)return!0;var E=String((k=(v=(p=JSON.parse((h=ne(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:p.metadata)==null?void 0:v.date)!=null?k:"6666");if(typeof E!="string")return!1;var O=E.match(/^(\d\d\d\d)$/)||E.match(/^(\d\d\d\d)-\d\d$/)||E.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!O)return!1;var T=Number(O[1]);return T<=S&&T>=x}},{key:"from_attr_identifier",value:function(){var d=this;Gn("from_attr_identifier()"),nO(this.identifier).then(function(h){d.mdapi=h}).catch(function(h){return Gn("error",h)})}},{key:"from_attr_mdapi",value:function(d){var h;Gn("from_attr_mdapi()");var p=new Q6(this.mdapi);if(p.showing==="movies"||p.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),k={audio:p.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},x=[],S=p.jwplaylist(k,tO,x);if(Gn(S),p.showing==="audio"){var A=document.getElementsByTagName("body")[0];A.setAttribute("class","".concat((h=A.getAttribute("class"))!=null?h:""," jwaudio")),k&&!this.embed&&(k.waveformer=!0)}this.construct(d,S,k)}}},{key:"draggable_scrubber",value:function(){var d=this,h=function(x){if(p){var S=document.getElementById("ia-scrubber").getBoundingClientRect(),A=Math.min(S.width,Math.max(0,x.clientX-S.left));ne("#ia-scrubber .jw-knob").css({left:"".concat(A,"px")})}},p=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){d.player.pause(),p=!0}),v.addEventListener("mouseup",function(){d.player.play(),p=!1})}},{key:"headless_create",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!d.length){var h=ne("play-av:not(:first)"),p=ne("play-av:first"),v=globalThis.Play(h.attr("jid")),k=globalThis.Play(p.attr("jid"));if(v.remove(),h.remove(),p.show(),Gn("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var x=v.headless.tracks[v.trackno];k.playN(Math.max(0,x),!0)}return}this.pause();var S={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:d,has_full_album:!1}},A=[],E=!0,O=!1,T=void 0;try{for(var b=d[Symbol.iterator](),u;!(E=(u=b.next()).done);E=!0){var f=u.value;Number(f)===-1&&(S.headless.has_full_album=!0),A.push(Number(f)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[f])}}catch(C){O=!0,T=C}finally{try{!E&&b.return!=null&&b.return()}finally{if(O)throw T}}var m=ne("play-av").parent(),y=ne("play-av:first").attr("jid"),w=globalThis.Play(y).trackno;S.headless.playN=Math.max(0,d.indexOf(w)),ne("play-av:first").hide(),ne("play-av[jid=headless]").remove(),delete r.STASH.headless,m.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(A).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(S).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(d){return d.split("").reduce(function(h,p){return h+p.charCodeAt(0)},0)}},{key:"castable",value:function(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}},{key:"styles",get:function(){return Xv(_templateObject449(),io(Qo),io(Qo/2),io(Qo)/2,io(Qo/2),io(Qo),io(Qo),io(Qo/2-9),io(Of-1),io(Of))}},{key:"css",value:function(){var d=document.getElementsByTagName("head")[0];if(d){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(IO,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat(F_,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat($O,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat(Af,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat(Af,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),d.appendChild(h)}}},{key:"sec2hms",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(d),k=Math.floor(v/3600),x=Math.floor((v-k*3600)/60);v-=k*3600+x*60;var S="",A="";(h||k>0)&&(A="00".concat(k),S+=A.substr(A.length-2,2),S+=":"),A="00".concat(x),S+=A.substr(A.length-2,2),S+=":",A="00".concat(v),S+=A.substr(A.length-2,2);var E=p?".".concat((d%1).toFixed(3).slice(2)):"";return"".concat(S).concat(E)}},{key:"seconds",value:function(d){var h=d.replace(",","."),p=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:p.length>1?(v=Number(p[p.length-1]),v+=Number(p[p.length-2])*60,p.length===3&&(v+=Number(p[p.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(d){var h="".concat(d.href,"/").match(/[/#]start\/([\d.]+)\//)||d.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var p=h[1];return Pr().seek(p),typeof history.pushState=="undefined"?location.href=d.href:history.pushState({},null,d.href),!1}},{key:"mute_click",value:function(){var d,h=!Ai.get("unmute");if((d=globalThis.AJS)!=null&&d.emulator)globalThis.AJS.emulator.setMute(!h);else{var p=Pr("jw6");if(p){var v=p.getVolume();v?(r.mute_click_prior_volume=v,p.setVolume(0)):p.setVolume(typeof r.mute_click_prior_volume=="undefined"?100:r.mute_click_prior_volume)}}return ne("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?Ai.set("unmute",1,{path:"/details",expires:30}):Ai.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!globalThis.chrome||globalThis.chrome.cast||function(){var d=function(m){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+m)!=-1||document.currentScript.src.indexOf("&"+m)!=-1)},h=d("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",p=d("loadCastFramework")||d("loadCastApplicationFramework"),v=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},k=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],x=function(f){f.length?A(f.shift(),function(){x(f)}):O()},S=function(m){return"chrome-extension://"+m+h},A=function(m,y,w){var C=document.createElement("script");C.onerror=y,w&&(C.onload=w),C.src=m,(document.head||document.documentElement).appendChild(C)},E=function(m){return 0<=globalThis.navigator.userAgent.indexOf(m)},O=function(){var m=v();m&&m(!1,"No cast extension found")},T=function(){if(p){var m=2,y=v(),w=function(){m--,m==0&&y&&y(!0)};globalThis.__onGCastApiAvailable=w,A("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",O,w)}};if(E("CriOS")){var b=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;b&&(T(),b({command:"cast.sender.init"}))}else if(E("Android")&&E("Chrome/")&&globalThis.navigator.presentation){T();var u=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);x(["//www.gstatic.com/eureka/clank/"+(u?parseInt(u[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else globalThis.chrome&&globalThis.navigator.presentation&&!E("Edge")?(T(),x(k.map(S))):O()}()}},{key:"filename_char_encoder",value:function(d){var h=d.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),p=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=p+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(d){if(globalThis.archive_analytics){var h=_slicedToArray(d.split("|"),2),p=h[0],v=h[1];globalThis.archive_analytics.send_event(p,v,globalThis.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return Gn("track ".concat(v," clicked"))},p=ne("play-av:first").attr("jid");r.headless_callback=h,globalThis.Play(p).headless_create(d,h)}}]),r}(gs),HO=function(){"use strict";function s(a){_classCallCheck(this,s),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=a,Gn(a.triggers)}return _createClass(s,[{key:"setup",value:function(r){var c=this;this.play=r,this.p.player.on("time",function(){return c.on_time()}),this.p.player.on("meta",function(d){return Gn("HLS meta",d)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var c=this.playlist_index;if(r>=this.p.triggers[c]+this.WIGGLE)for(Gn("on_time >=",r,">=",this.p.triggers[c]+this.WIGGLE);r>=this.p.triggers[c]-this.WIGGLE;)c+=1;else if(r<this.p.triggers[c-1]+this.WIGGLE)for(Gn("on_time <",r,"<",this.p.triggers[c-1]-this.WIGGLE);c&&r<this.p.triggers[c-1]-this.WIGGLE;)c-=1;if(c!==this.playlist_index){if(Gn("HLS switching tracks:",this.playlist_index,"=>",c),this.playlist_index=c,this.play.track_change(this.p.player,this.playlist_index),ne("#play-hls-duration").html(Ta.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Gn(this.p.playlist[this.playlist_index]);var d=this.p.playlist[this.playlist_index].image;if(d){ne("#waveformer-loader").length||ne("body").append('<img id="waveformer-loader"></img>');var h=ne("#waveformer-loader").get(0);h.onload=function(){return ne(".jw-preview").css("background-color","transparent")},h.src=d,ne(".jw-preview").css("background-color","black"),ne(".jw-preview").css("background-image",'url("'.concat(d,'")'))}}}var p=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&p){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);ne("#play-hls-elapsed").html(Ta.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/p)}}}},{key:"update_playlist",value:function(r){Gn("HLS.update_playlist",r.playlist);var c=ma("mode")==="aac"?"&mode=aac":"";if(0){var d;for(var h in this.p.triggers)var p,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(c,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,Gn("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){Gn("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){Gn("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var c=this.playlist_index,d=c?this.p.triggers[c-1]:0,h=this.p.triggers[c]-d;this.p.player.seek(d+h*r)}}]),s}(),!globalThis.Play){Ta.STASH={},Ta.css(),globalThis.Play=function(s,a,r){return new Ta(s,a,r)};var g=!0,n=!1,e=void 0;try{for(var t=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(g=(o=t.next()).done);g=!0){var l=o.value;globalThis.Play[l]=Ta[l]}}catch(s){n=!0,e=s}finally{try{!g&&t.return!=null&&t.return()}finally{if(n)throw e}}customElements.define("play-av",Ta)}UO=Ta}}),qO={};bi(qO,{default:function(){return Eu}});var Ou,Ef,U_,Tf,WO,ta,V_,jf,q_,YO,GO,KO,XO,JO,Eu,hI=Gt({"components/play8/play8.js":function(){$s(),Fp(),$p(),Si(),r3(),bo(),Yp(),zx(),Kd(),Ou={},Ef=480,U_=640,Tf=30,WO=350,ta=Tf,V_=140,jf=240,q_=800,YO=20,GO=370,KO=100,XO=100,JO=navigator.userAgent.indexOf("Windows NT ")>=0&&(navigator.userAgent.indexOf(" Trident/")>=0||navigator.userAgent.indexOf("MSIE ")>=0),Eu=function(){"use strict";function s(a,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=c.start,h=d===void 0?0:d,p=c.embed,v=p===void 0?!1:p,k=c.hide_list,x=k===void 0?!1:k,S=c.autoplay,A=S===void 0?!1:S,E=c.audio,O=E===void 0?!1:E,T=c.width,b=T===void 0?0:T,u=c.height,f=u===void 0?0:u,m=c.responsive,y=m===void 0?!1:m,w=c.aspectratio,C=w===void 0?!1:w,M=c.noshare,I=M===void 0?!1:M,D=c.nolinks,z=D===void 0?!1:D,Q=c.logo,W=Q===void 0?!1:Q,me=c.so,oe=me===void 0?!1:me,q=c.tv,ee=q===void 0?!1:q,we=c.tvStart,ie=we===void 0?0:we,le=c.tvEnd,ye=le===void 0?0:le,Ee=c.tvContributor,fe=Ee===void 0?!1:Ee,rt=c.tvSource,ct=rt===void 0?!1:rt,Ot=c.play_just1,_t=Ot===void 0?!1:Ot,De=c.list_height,be=De===void 0?0:De,Xe=c.identifier,Ne=Xe===void 0?!1:Xe,Qe=c.onTime,Me=Qe===void 0?!1:Qe,Ve=c.onComplete,st=Ve===void 0?!1:Ve,gt=c.onDisplayClick,Mt=gt===void 0?!1:gt,Ue=c.onReady,Be=Ue===void 0?!1:Ue,et=c.onPlaylistItem,Ge=et===void 0?!1:et,$e=c.collection,ze=$e===void 0?!1:$e,xt=c.waveformer,bt=xt===void 0?!1:xt,lt=c.speed,Ze=lt===void 0?1:lt,dt=c.details,$t=dt===void 0?location.href:dt,qt=this;_classCallCheck(this,s);var Bt=ee&&r.length===1?r[0].title:"",ut="#".concat(a),Y="#".concat(a,"__list"),Kt=!1,Ft=4/3,Xt=!1,R=!1,nt=0,je=!1,ue=v&&!ee&&!O&&!A&&h,J=!0,K=!1,Z=0,se=0,he=0;this.construct=function(){var Te=qt;if(z&&(Ne=!1,ze=!1,I=!0),Ze=parseFloat(Ze),!ne(ut).length)return On("play8.js requires #",a," element on page -- not found"),!1;if(qt.responsiveResize(!0),Ne!==!1&&($t="https://archive.org/details/".concat(Ne)),ee&&ye&&($t+="/start/".concat(ie,"/end/").concat(ye)),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],h=!0,x=!0),x||(be||(be=O?GO:KO),be=Math.min(be,r.length*YO)),!y&&!(b>0&&f>0))if(v){var He=ne(window).width(),qe=ne(window).height();b=O?Math.min(He,q_):He,f=O?ta+be:qe-be}else C||(b=O?WO:U_,f=O?ta+be:Ef);if(nt=b,ne.each(r,function(Rt,sn){if(typeof sn.autoplay!="undefined"&&(K||(K=[]),K[Rt-1]=!sn.autoplay),typeof sn.sources=="undefined"&&typeof sn.file!="undefined"&&(sn.sources=[{file:sn.file,height:480}]),typeof sn.sources=="undefined")alert("".concat(Rt,": sources undefined!"));else{var ln=!0,jt=!1,rn=void 0;try{for(var Qt=sn.sources[Symbol.iterator](),Rn;!(ln=(Rn=Qt.next()).done);ln=!0){var Vt=Rn.value;typeof Vt.file!="undefined"&&(!Rt&&Vt.file.indexOf("/download")>=0&&(Vt.file=Vt.file.replace(/\/download\//,"/serve/")),Vt.file=s.filename_char_encoder(Vt.file))}}catch(ur){jt=!0,rn=ur}finally{try{!ln&&Qt.return!=null&&Qt.return()}finally{if(jt)throw rn}}}}),!x){var We='<div id="'.concat(a,'__list" style="height:').concat(be,'px"> </div>');ne(We).insertAfter(ut)}Bt&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var Je={playlist:JSON.parse(JSON.stringify(r)),abouttext:"this item, formats, and more at Internet Archive",aboutlink:$t,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:A,fallback:oe,width:isNaN(nt)?"100%":nt,height:O?Tf:f,base:Dp};if(y&&!v?Je.displaytitle=!1:C&&(Je.width="100%",Je.aspectratio=C,delete Je.height),Ne!==!1){var Tt=ee&&ye?"?start=".concat(ie,"&end=").concat(ye):"",It='<iframe src="https://archive.org/embed/MEDIAID"\n                              width="'.concat(O?500:U_,'"\n                              height="').concat(O?ta:Ef,'"\n                              frameborder="0"\n                              webkitallowfullscreen="true"\n                              mozallowfullscreen="true"\n                              allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(Ne).concat(Tt)).replace(/\s+/g," "),Nt="[archiveorg ".concat(Ne).concat(Tt," width=640 height=").concat(O?ta:Ef," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");Je.mediaid=Ne,ne("#embedcodehere").text(It),ne("#embedcodehereWP").text(Nt)}if((v&&!O&&!z||W)&&(Je.logo={file:"//av.prod.archive.org/jw/glogo-ghost.png",link:$t,position:"top-right",margin:2,hide:!1}),_t||K){var Lt=st;st=function(Rt){var sn={done:_t||K[Rt.getPlaylistIndex()]};sn.done&&Rt.stop(),Lt&&Lt(Rt,sn)}}return On(Je),Pr(a).setup(Je),Pr(a).on("ready",function(){var Rt=Te;On("IA ",a," is ready");var sn=Pr(a);On("NOTE: JW version: ",Pr.version),Me&&On("NOTE: onTime() is in use!"),Me&&sn.on("time",function(){return Me(sn)}),st&&sn.on("complete",function(){return st(sn)}),Mt&&sn.on("displayClick",function(){return Mt(sn)}),O?sn.on("firstFrame",function(){return s.track_event("Details-Audio|AudioStarted")}):ee||(sn.on("firstFrame",function(){return s.track_event("Details-Video|VideoStarted")}),sn.on("complete",function(){return s.track_event("Details-Video|VideoEnded")})),Kt=!0,Te.addClickablePlaylist(),O&&y&&!v&&Te.responsiveResize(),y&&!O&&ne(ut).css("margin","auto"),Te.add_buttons(sn),y&&!v&&!O&&typeof wr!="undefined"&&wr.theatre_controls_position(!1,0,b,f),y&&ta>Tf&&ne(ut).css("height",ta),O&&!bt&&ne(ut).find(".jw-preview").css("display","none"),!v&&y?Te.details_setup():v&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&Te.embed_setup(),sn.on("meta",function(ln){R||(R=!0,On("onMeta() fired"),ne("body").addClass("responsive-playing"),!O&&v&&ln.width&&ln.height&&Rt.adjustVideoWidth(Rt,ln),Rt.unpreload(),h&&(On("SEEK TO: ",h),Rt.pause(),Pr(a).seek(h)))}),sn.on("playlistItem",function(ln){var jt=Rt,rn=ln.index;if(On("onPlaylistItem: ",rn),he&&!rn){On("onPlaylistItem: ignoring since desired index ".concat(he," !== ").concat(rn," -- and this is likely an event from reloading the playlist"));var Qt=he;he=0,Pr(a).playlistItem(Qt);return}var Rn=ne(Y).find(".jwrow, .jwrowV2");if(Rn.length){Rn.removeClass("playing");var Vt=ne(Rn.get(rn));Vt.addClass("playing"),ne(Y).scrollTop(Vt.offset().top-ne(Y).offset().top+ne(Y).scrollTop())}Rt.seeker_playlist(),Rt.url_updater(sn,rn),Ze!==1&&setTimeout(function(){jt.speed(Ze)},1e3),Rt.waveformer_setup(sn)}),Ge&&sn.on("playlistItem",function(ln){On("onPlaylistItem",{e:ln}),Ge(sn,ln)}),sn.on("playlistComplete",function(){!O&&ze&&!ee&&Rt.related_items_click()}),sn.on("error",function(ln){On("err"),On(ln),ne(ut).css({"background-color":"black"})}),Be&&Be(sn)}),qt},this.url_updater=function(Te,He){if(!(ee||v||!Ne||typeof history.replaceState=="undefined")){var qe=Te.getConfig();if(!(!qe||!qe.playlist||qe.playlist.length<=1||!qe.playlist[He]||!qe.playlist[He].orig))if(J){var We="/details/".concat(Ne,"/").concat(encodeURIComponent(qe.playlist[He].orig).replace(/%2F/g,"/").replace(/%20/g,"+")),Je=typeof wr!="undefined"&&Jf("playset",!0)?"?playset=1&autoplay=1":"";On("updating url to",We+Je),history.replaceState({},null,We+Je)}else{var Tt=qt;On("looks like /details/ page loaded cold-state -- leave url AS IS"),Te.once("play",function(){On("time to start updating urls"),J=!0,Tt.url_updater(Te,He)})}}},this.waveformer_setup=function(Te){if(!(!bt||je)){var He=Te.getConfig().provider==="flash",qe=ne(ut);He&&(qe=qe.parent()),qe.wrap('<div id="'.concat(bt,'" style="position:relative"></div>')),Z=ne("#".concat(bt)).width(),ne("#".concat(bt)).prepend('<div id="waveformer" style="background-color:rgb(19,160,216); position:absolute; width:0; top:0; bottom:0;"></div>'),Te.on("time",function(We){We.duration&&(se=We.position/We.duration,ne("#waveformer").css({width:Math.round(Z*se)}))}),je=!0,setTimeout(function(){He||ne(ut).css("background-color","transparent"),ne("#".concat(bt)).css("background-color","#ddd")},1e3)}},this.on=function(Te,He){var qe=Pr&&Pr(a);return qe&&qe.on(Te,He),qt},this.adjustVideoWidth=function(Te,He){He.height&&He.width&&He.height>0&&He.width>0&&parseInt(He.height,10)>0&&(Ft=parseInt(He.width,10)/parseInt(He.height,10),On("DAR: ",Ft,He.width,"x",He.height)),v&&qt.embedResize()},this.embedResize=function(){if(!(!Pr||!Pr(a))){if(O){Pr(a).resize(Math.min(q_,ne(window).width()),ta);return}var Te=ne(window).width(),He=ne(window).height()-be;Pr(a).resize(Te,He)}},this.playN=function(Te,He){var qe=Pr(a);return On("playN",{readyIA:Kt,idx:Te,load_paused:He,state:qe.getState()}),He&&qe.once("play",function(){return qe.pause()}),qe.playlistItem(Te),!1},this.seeker_playlist=function(){if(!Xt){if(Xt=!0,ue){var Te=qt;Pr(a).once("seek",function(){Te.pause(),On("... paused first seek!")})}h&&(qt.pause(),Pr(a).seek(h))}},this.embed_setup=function(){ne(window).on("resize  orientationchange",function(){clearTimeout(s.throttler2),s.throttler2=setTimeout(function(){new s(a).embedResize()},250)})},this.unpreload=function(){var Te=Pr(a),He=Te.getPlaylist(),qe=Te.getPlaylistIndex();if(On("unpreload:",{startPlaylistIdx:qe}),He.length&&(typeof He[0].file!="undefined"&&(He[0].file=He[0].file.replace(/\/serve\//,"/download/")),typeof He[0].sources!="undefined")){var We=!0,Je=!1,Tt=void 0;try{for(var It=He[0].sources[Symbol.iterator](),Nt;!(We=(Nt=It.next()).done);We=!0){var Lt=Nt.value;Lt.file=Lt.file.replace(/\/serve\//,"/download/")}}catch(Rt){Je=!0,Tt=Rt}finally{try{!We&&It.return!=null&&It.return()}finally{if(Je)throw Tt}}}qe?(Te.on("playlist",function(){On("unpreload: onplaylist:",{startPlaylistIdx:qe}),Te.playlistIndex=qe,Te.playlistItem(qe)}),he=qe):!h&&!A&&(J=!1),Te.load(He)},this.details_setup=function(){On("details_setup");var Te=0,He="^/details/".concat(Ne,"/([^&?]+)"),qe=location.pathname.match(He);if(qe){var We=decodeURIComponent(qe[1].replace(/\+/g,"%20"));On("looking for: ",We);for(var Je in r){var Tt=Number(Je);if(r[Tt].orig===We){On("player should seek to track #",Tt),Te=Tt;break}}}if(!Te&&!h&&!A&&(J=!1),!A&&(Te||h)){On("seek #",Te," to ",h);var It=Pr(a);It.playlistItem(Te)}},this.pause=function(){var Te=Pr(a);Kt&&Te&&Te.getState&&Te.getState()==="playing"&&Te.pause()},this.remove=function(){qt.pause();var Te=Pr(a);Kt&&Te&&Te.getConfig()&&Te.remove(),delete Ou[a]},this.speed=function(Te){if(typeof Te=="undefined"||typeof Te=="object"){var He=!1;O&&(ne(".jw-controls").css("overflow","initial"),He=ne(ut).height()===jf,ne(ut).css("height",He?V_:jf)),He=He||ne("".concat(ut," .jw-controls")).hasClass("jw-settings-open"),He?(ne("".concat(ut," .jw-controls")).removeClass("jw-settings-open"),O&&ne(".jw-controls").css("overflow","")):ne("".concat(ut," .jw-controls")).toggleClass("jw-settings-open"),ne("".concat(ut," .jw-settings-topbar .jw-icon")).attr("aria-checked","false"),ne("".concat(ut," .jw-settings-playbackRates")).attr("aria-checked","true");var qe=ne('.jw-settings-content-item:contains("0.5x")').parent(),We="".concat(ut," .jw-settings-submenu");return ne(We).attr("aria-expanded","false").removeClass("jw-settings-submenu-active"),qe.attr("aria-expanded","true").addClass("jw-settings-submenu-active"),ne(We).addClass("jw-settings-submenu-active"),!1}var Je=Te;(typeof Je=="undefined"||isNaN(Je))&&(Je=1);var Tt=ne("#".concat(a," video")).get(0);return Tt.playbackRate=Je,On("speed to ".concat(Je)),!1},this.add_buttons=function(Te){var He='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',qe='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',We='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',Je='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(v&&!z){var Tt=Bt?"".concat(Bt.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";Te.addButton("/images/glogo-jw.png",Tt,function(){var Lt=document.createElement("a");Lt.setAttribute("href",$t),Lt.setAttribute("target","_blank"),document.body.appendChild(Lt),Lt.click()},"btn-ia")}if(v&&!O&&!I&&!ee&&(Ne!==!1&&Te.addButton("https://av.prod.archive.org/jw/embed.png","Embedding Examples and Help",function(){window.top.location.href="/help/video.php?identifier=".concat(Ne)},"btn-mbd"),typeof wr!="undefined"&&(Te.addButton(We,"share",function(){var Lt=ne(".jw-icon[button=btn-shr]").get(0);wr.modal_go(Lt,{ignore_lnk:1,shown:wr.embed_codes_adjust})},"btn-shr"),ne(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),ee&&v&&ct!==!1&&Te.addButton("/images/tv/".concat(Ne.split("_")[0],".png"),"Look for this show on ".concat(fe," website"),function(){window.top.location.href=ct},"btn-tv"),!O&&ze&&!ee){var It=qt;Te.addButton("https://av.prod.archive.org/jw/related.png","Related Videos",function(){It.related_items_click()},"btn-rel")}if(qt.castable()){var Nt=qt;window.chrome&&s.cast_sender_setup(),Te.addButton(Je,"Cast media with AirPlay / Chromecast",function(){Nt.cast()},"btn-cast")}!ee&&r.length>1&&(Te.addButton(qe,"next",function(){Te.playlistNext()},"btn-nxt"),Te.addButton(He,"previous",function(){Te.playlistPrev()},"btn-prv"))},this.castable=function(){return window.WebKitPlaybackTargetAvailabilityEvent||window.chrome},this.cast=function(){var Te=qt;if(window.WebKitPlaybackTargetAvailabilityEvent){ne("#".concat(a," video")).get(0).webkitShowPlaybackTargetPicker();return}if(window.chrome){var He=function(We,Je){Je.play(null,function(Tt){On("media play success",We,Je,Tt)},function(Tt){On("media play fail",Tt)})};qt.cast_retries=0;var qe=function(){var We=Te;if(On("cast_setup #",Te.cast_retries),Te.cast_retries+=1,Te.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(qe,Te.cast_retries*1e3);var Je=window.chrome.cast,Tt=new Je.SessionRequest(Je.media.DEFAULT_MEDIA_RECEIVER_APP_ID),It=new Je.ApiConfig(Tt,function(Nt){Nt.media.length&&He("onRequestSessionSuccess",Nt.media[0])},function(Nt){On("receiver listener fail",Nt)});return Je.initialize(It,function(){var Nt=We;On("cast init success"),Je.requestSession(function(Lt){On("request session success",Lt);var Rt=ne("".concat(ut," video")).attr("src"),sn="".concat(location.protocol,"//").concat(location.host).concat(Rt),ln=new Je.media.MediaInfo(sn),jt=new Je.media.LoadRequest(ln);Lt.loadMedia(jt,He.bind(Nt,"loadMedia"),function(rn){On("onMediaError",rn)})},function(Lt){On("request session fail",Lt),setTimeout(qe,500)})},function(){return On("cast init failure")}),!0};qe()}},this.related_items_click=function(){var Te=function(){ne("".concat(ut," .jw-controlbar")).one("click",function(qe){ne("#related-items-bg").hide(),qe.preventDefault()})};if(typeof Sd!="undefined"&&!ne("#related-items").length)ne("".concat(ut)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),Qr("#related-items-bg",function(){return ne("#related-items-bg").hide()},"default"),Sd.getRelatedItems(Ne,!0).then(function(qe){var We=Math.floor(qe.length/2),Je="",Tt=!0,It=!1,Nt=void 0;try{for(var Lt=Object.entries(qe)[Symbol.iterator](),Rt;!(Tt=(Rt=Lt.next()).done);Tt=!0){var sn=_slicedToArray(Rt.value,2),ln=sn[0],jt=sn[1];Number(ln)===We&&ze==="prelinger"?(s.track_event("Details-Video|DonationEndrollDisplayed"),Je+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):Je+='\n<div>\n  <a href="/details/'.concat(jt.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n    <div class="related-ttl">\n      ').concat(jt.title!==null?jt.title:"","\n      ").concat(jt.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(jt.creator):"","\n      ").concat(jt.downloads!==null?"<div>".concat(jt.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(jt.identifier,'"/>\n  </a>\n</div>\n')}}catch(rn){It=!0,Nt=rn}finally{try{!Tt&&Lt.return!=null&&Lt.return()}finally{if(It)throw Nt}}ne("#related-items").html(Je),ne("#related-items-bg").show(),Te()});else{var He=ne("#related-items-bg:visible").length;He?ne("#related-items-bg").hide():(ne("#related-items-bg").show(),setTimeout(Te,500))}},this.addClickablePlaylist=function(){if(!x){var Te=Pr(a).getPlaylist(),He=!0;Te.length!==r.length&&(On("NOTE: jw playlist filtered down -- ",r.length,"==>",Te.length," items"),He=!1);var qe="";ne.each(Te,function(Je,Tt){var It=(typeof Tt.title=="undefined"?"":Tt.title).concat(typeof Tt.artist=="undefined"?"":" - ".concat(Tt.artist)),Nt=typeof Tt.duration!="undefined"?Tt.duration:!1;Nt===!1&&(Nt=He&&typeof r[Je]!="undefined"&&typeof r[Je].duration!="undefined"?r[Je].duration:0),Nt<=0&&(Nt=!1),qe+='\n<a href="#" class="js-play8-play-track" data-idx="'.concat(Je,'">\n  <div class="jwrow">\n    <div class="tm">\n      ').concat(Nt?s.sec2hms(Nt):"",'\n    </div>\n    <div class="n">\n      ').concat(Je+1,'\n    </div>\n    <div class="ttl">\n      ').concat(It,"\n    </div>\n  </div>\n</a>")});var We={};y&&(We.width=b,We.margin="auto",O||ne(ut).css("margin","auto")),ne(Y).addClass("jwlist").css(We).html(qe),Qr(".js-play8-play-track",function(Je){return window.Play("".concat(a)).playN(ne(Je.currentTarget).data().idx)}),On(r)}},this.debug=function(){debugger},this.responsiveResize=function(Te){if(y){var He=ne(ut).offset(),qe=ne(window).height()-He.top-XO;if(O)r&&r.length>0&&r[0].image&&bt&&(ta=V_),qe-=ta,qe=Math.max(jf,qe),v||(On("responsiveResize() maxH:",qe),be=qe,On(ne(Y).length),ne(Y).css({"max-height":qe,"overflow-x":"hidden","overflow-y":"auto"}),bt&&(Z=ne("#".concat(bt)).width(),ne("#waveformer").css({width:Math.round(Z*se)}))),b="100%",ne("#theatre-controls .fave-share").removeClass("fave-share"),ne("#theatre-controls").offset({top:He.top}).css({visibility:"visible","background-color":"black"});else{var We=Ft;r&&r.length>0&&r[0].sources&&r[0].sources.length>0&&r[0].sources[0].width&&r[0].sources[0].height&&(We=r[0].sources[0].width/r[0].sources[0].height,On("aspect ratio appears to be: ",We));var Je=ne(".container-ia:last").width();On("video max rect avail: ",Je,"x",qe);var Tt,It,Nt=!0,Lt=!1,Rt=void 0;try{for(var sn=[960,840,720,600,480,360,240,180][Symbol.iterator](),ln;!(Nt=(ln=sn.next()).done)&&(It=ln.value,Tt=Math.round(It*We),On("video size try fit: ",Tt,"x",It),!(Tt<=Je&&It<=qe||Tt<=320));Nt=!0);}catch(jt){Lt=!0,Rt=jt}finally{try{!Nt&&sn.return!=null&&sn.return()}finally{if(Lt)throw Rt}}b=Tt,f=It,typeof wr!="undefined"&&wr.theatre_controls_position(!1,0,b,f)}Te?ne(window).on("resize  orientationchange",function(){clearTimeout(s.throttler),s.throttler=setTimeout(function(){new s(a).responsiveResize()},250)}):O||Pr(a).resize(b,f)}},this.cache=function(){if(!a)return alert("please pass in a unique identifier for this object");if(typeof Ou[a]!="undefined"){if(typeof r=="undefined")return Ou[a];delete Ou[a]}return!1};var Ae=this.cache();if(Ae)return Ae;Ou[a]=this,On("PLAY CONFIG:",arguments[2]),this.construct()}return _createClass(s,null,[{key:"sec2hms",value:function(r,c){var d=Math.round(r),h=Math.floor(d/3600),p=Math.floor((d-h*3600)/60);d-=h*3600+p*60;var v="",k="";return(c||h>0)&&(k="00".concat(h),v+=k.substr(k.length-2,2),v+=":"),k="00".concat(p),v+=k.substr(k.length-2,2),v+=":",k="00".concat(d),v+=k.substr(k.length-2,2),v}},{key:"seconds",value:function(r){var c=r.replace(",","."),d=c.split(":"),h=0;return c.substr(-1)==="s"?h=Number(c.substr(0,c.length-1)):c.substr(-1)==="m"?h=Number(c.substr(0,c.length-1))*60:c.substr(-1)==="h"?h=Number(c.substr(0,c.length-1))*3600:d.length>1?(h=Number(d[d.length-1]),h+=Number(d[d.length-2])*60,d.length===3&&(h+=Number(d[d.length-3])*3600)):h=Number(c),h}},{key:"seek",value:function(r){var c="".concat(r.href,"/").match(/[/#]start\/([\d.]+)\//)||r.href.match(/[?&]start=([\d.]+)/);if(!c)return!0;var d=c[1];return Pr().seek(d),typeof history.pushState=="undefined"?location.href=r.href:history.pushState({},null,r.href),!1}},{key:"mute_click",value:function(){var r=!Ai.get("unmute");if(wr.emulator)wr.emulator.setMute(!r);else{var c=Pr("jw6");if(c){var d=c.getVolume();d?(s.mute_click_prior_volume=d,c.setVolume(0)):c.setVolume(typeof s.mute_click_prior_volume=="undefined"?100:s.mute_click_prior_volume)}}return ne("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),r?Ai.set("unmute",1,{path:"/details",expires:30}):Ai.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!window.chrome||window.chrome.cast||function(){var r=function(u){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+u)!=-1||document.currentScript.src.indexOf("&"+u)!=-1)},c=r("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",d=r("loadCastFramework")||r("loadCastApplicationFramework"),h=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},p=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],v=function(b){b.length?x(b.shift(),function(){v(b)}):A()},k=function(u){return"chrome-extension://"+u+c},x=function(u,f,m){var y=document.createElement("script");y.onerror=f,m&&(y.onload=m),y.src=u,(document.head||document.documentElement).appendChild(y)},S=function(u){return 0<=window.navigator.userAgent.indexOf(u)},A=function(){var u=h();u&&u(!1,"No cast extension found")},E=function(){if(d){var u=2,f=h(),m=function(){u--,u==0&&f&&f(!0)};window.__onGCastApiAvailable=m,x("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",A,m)}};if(S("CriOS")){var O=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;O&&(E(),O({command:"cast.sender.init"}))}else if(S("Android")&&S("Chrome/")&&window.navigator.presentation){E();var T=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);v(["//www.gstatic.com/eureka/clank/"+(T?parseInt(T[1],10):0)+c,"//www.gstatic.com/eureka/clank"+c])}else window.chrome&&window.navigator.presentation&&!S("Edge")?(E(),v(p.map(k))):A()}()}},{key:"filename_char_encoder",value:function(r){var c=r.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),d=c.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),h=d+(c.length?".".concat(c.shift(),"?"):"");return h+c.join("")}},{key:"track_event",value:function(r){if(window.archive_analytics){var c=_slicedToArray(r.split("|"),2),d=c[0],h=c[1];window.archive_analytics.send_event(d,h,window.location.pathname)}}},{key:"setup",value:function(){ne(".js-play8-config").each(function(r,c){var d=JSON.parse(ne(c).val()),h=d.jid||"jw6",p=ne(".js-play8");p.attr({id:h}),Jf("playset",!0)&&(d.onComplete=Bp.onComplete),window.Play(h,JSON.parse(ne(".js-play8-playlist").val()),d),Qr(".js-play8-speed",window.Play(h).speed),Qr(".js-play8-gofullscreen",Pr(h).setFullscreen)})}}]),s}(),window.Play=function(s,a,r){return new Eu(s,a,r)};var g=!0,n=!1,e=void 0;try{for(var t=["sec2hms","seconds","seek","filename_char_encoder","mute_click"][Symbol.iterator](),o;!(g=(o=t.next()).done);g=!0){var l=o.value;window.Play[l]=Eu[l]}}catch(s){n=!0,e=s}finally{try{!g&&t.return!=null&&t.return()}finally{if(n)throw e}}JO?Eu.setup():ne(Eu.setup),ne(function(){Qr(".js-play8-soon",function(){return alert("coming soon!")}),Qr(".js-play8-thumbzilla",function(s){return wr.thumbzilla(ne(s.currentTarget).data().identifier)}),Qr(".js-play8-mute-click",window.Play.mute_click),Qr(".js-play8-seek",function(s){return window.Play.seek(s.currentTarget)})})}}),W_,fI=Gt({"https-url:https://esm.archive.org/v135/idb-keyval@6.2.1/esnext/idb-keyval.mjs":function(){}}),ZO,QO=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/local-cache@0.2.1/esnext/local-cache.mjs":function(){fI(),ZO=function(){"use strict";function g(n){_classCallCheck(this,g);var e,t,o,l;if(this.namespace=(e=n==null?void 0:n.namespace)!==null&&e!==void 0?e:"LocalCache",this.defaultTTL=(t=n==null?void 0:n.defaultTTL)!==null&&t!==void 0?t:15*60,(!((o=n==null?void 0:n.immediateClean)!==null&&o!==void 0)||o)&&this.cleanExpired(),!(n!=null&&n.disableCleaning)){var s=this,a=(l=n==null?void 0:n.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(function(){s.cleanExpired()},a*1e3)}}return _createClass(g,[{key:"set",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s,a,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l={value:e.value},s=(o=e.ttl)!==null&&o!==void 0?o:this.defaultTTL,a=HT(new Date,s),l.expires=a,r=this.getNamespacedKey(e.key),d.prev=4,d.next=7,NT(r,l);case 7:d.next=11;break;case 9:d.prev=9,d.t0=d.catch(4);case 11:case"end":return d.stop()}},t,this,[[4,9]])}))}},{key:"get",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=this.getNamespacedKey(e),r.prev=1,r.next=4,$T(o);case 4:l=r.sent,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:if(l){r.next=11;break}return r.abrupt("return");case 11:if(s=new Date,!(l.expires&&l.expires<s)){r.next=16;break}return r.next=15,this.delete(e);case 15:return r.abrupt("return");case 16:return r.abrupt("return",l.value);case 17:case"end":return r.stop()}},t,this,[[1,7]])}))}},{key:"delete",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=this.getNamespacedKey(e),s.prev=1,s.next=4,BT(o);case 4:s.next=8;break;case 6:s.prev=6,s.t0=s.catch(1);case 8:case"end":return s.stop()}},t,this,[[1,6]])}))}},{key:"cleanExpired",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=this,s.next=3,this.getAllKeys();case 3:return o=s.sent,s.next=6,Promise.all(o.map(function(a){return Bn(t,null,_regeneratorRuntime.default.mark(function r(){return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",this.get(a));case 1:case"end":return d.stop()}},r,this)}))}));case 6:case"end":return s.stop()}},e,this)}))}},{key:"getAllKeys",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o,l,s,a,r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return t=this,o=[],v.prev=2,v.next=5,zT();case 5:o=v.sent,v.next=10;break;case 8:v.prev=8,v.t0=v.catch(2);case 10:for(l=[],s=!0,a=!1,r=void 0,v.prev=12,c=o[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)h=d.value,typeof h=="string"&&l.push(h);v.next=20;break;case 16:v.prev=16,v.t1=v.catch(12),a=!0,r=v.t1;case 20:v.prev=20,v.prev=21,!s&&c.return!=null&&c.return();case 23:if(v.prev=23,!a){v.next=26;break}throw r;case 26:return v.finish(23);case 27:return v.finish(20);case 28:return v.abrupt("return",l.filter(function(k){return k.startsWith(t.namespace)}).map(function(k){return t.removeNamespace(k)}));case 29:case"end":return v.stop()}},e,this,[[2,8],[12,16,20,28],[21,,23,27]])}))}},{key:"getNamespacedKey",value:function(e){return"".concat(this.namespace,"-").concat(e)}},{key:"removeNamespace",value:function(e){return e.replace("".concat(this.namespace,"-"),"")}}]),g}()}}),Y_=Gt({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/html.js":function(){md()}}),eE,tE,nE=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/icon-info@1.3.5/esnext/icon-info.js":function(){Sn(),Sn(),eE=kt(_templateObject455()),tE=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return eE}}],[{key:"styles",get:function(){return zt(_templateObject456())}}]),e}(rr),customElements.define("ia-icon-info",tE)}}),po,na,ui,ws,hl,Fc,G_,K_,X_,rE,iE,oE,Pf,aE,sE,If,lE,uE,Mf,cE,dE,hE,fE,fl,J_,pE,vE,mE,gE,Lf,yE,bE,wE,_E,kE,xE,SE,Xi,CE,AE,OE,EE,vo,TE,jE=Gt({"https-url:https://esm.archive.org/v135/@internetarchive/ia-book-actions@1.4.1/esnext/ia-book-actions.mjs":function(){Sn(),$l(),Vu(),QO(),Sn(),Y_(),sf(),Sn(),Y_(),Sn(),Sn(),Sn(),Sn(),Sn(),Sn(),Sn(),Sn(),Bh(),nE(),Sn(),Sn(),po=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"isInIframe",value:function(){var e;try{return window.self!==window.top}catch(t){return(e=window==null?void 0:window.Sentry)==null||e.captureException(t),!0}}},{key:"getRedirectUrl",value:function(){var e;return g.isInIframe()?e=window.top.location.href:e=window.location.href,e}},{key:"goToUrl",value:function(e,t){var o;g.isInIframe()&&t?o=window.top.location:o=window.location,o.href===e?o.reload():o.href=e}},{key:"isOnStreamPage",value:function(){return window.location.href.indexOf("/stream/")>-1}},{key:"getQueryParam",value:function(e){for(var t=window.location.search.substring(1).split("&"),o="",l=0;l<t.length;l+=1)if(o=t[l].split("="),o[0]===e)return o[1];return Yn}},{key:"getBackHref",value:function(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}},{key:"formatUrl",value:function(e,t){return/^https?:/.test(t)?t:"".concat(e).concat(t)}}]),g}(),na={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},ui=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):function(){},ws={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},hl={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseRenew:"BookRenew",browseReturn:"BookReturn",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},Fc={browseAutoRenew:"BookAutoRenew",browseAutoReturn:"BookAutoReturn",browseManualRenew:"BookManualRenew",browseManualReturn:"BookManualReturn"},G_=function(){"use strict";function g(){_classCallCheck(this,g),this.identifier=void 0,this.gaStats={}}return _createClass(g,[{key:"storeLoanStatsCount",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.identifier=e,a.prev=1,a.next=4,this.getLoanStatsCount(t);case 4:return this.sendMatrixStatsEvents(t),l=new Date,l.setHours(l.getHours()+2),a.next=9,od(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),l,"/");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),ui(a.t0),this.sendEvent("Cookies-Error-Actions",a.t0,this.identifier);case 14:case"end":return a.stop()}},o,this,[[1,11]])}))}},{key:"getLoanStatsCount",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s,a,r,c,d,h,p,v;return _regeneratorRuntime.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.t0=JSON,x.next=4,UT(this.getLoanCountStorageKey);case 4:x.t1=x.sent,this.lendingEventCounts=x.t0.parse.call(x.t0,x.t1),this.gaStats=(o=this.lendingEventCounts)!=null?o:{browse:0,renew:0,expire:0},h=(s=(l=this.lendingEventCounts)==null?void 0:l.browse)!=null?s:0,p=(r=(a=this.lendingEventCounts)==null?void 0:a.renew)!=null?r:0,v=(d=(c=this.lendingEventCounts)==null?void 0:c.expire)!=null?d:0,x.t2=e,x.next=x.t2==="browse"?11:x.t2==="autorenew"?13:x.t2==="return"?15:17;break;case 11:return h=h?Number(h)+1:1,this.gaStats.browse=h,p=0,v=0,x.abrupt("break",18);case 13:return p=p?Number(p)+1:1,this.gaStats.renew=p,x.abrupt("break",18);case 15:return v=v?Number(v)+1:1,this.gaStats.expire=v,p=0,v=0,x.abrupt("break",18);case 17:return x.abrupt("break",18);case 18:this.lendingEventCounts={browse:h,renew:p,expire:v};case 19:case"end":return x.stop()}},t,this)}))}},{key:"sendMatrixStatsEvents",value:function(e){var t,o,l=ws.browse,s="browse".concat(this.paddedNumber((t=this.gaStats)==null?void 0:t.browse),"-autorenew").concat(this.paddedNumber((o=this.gaStats)==null?void 0:o.renew),":").concat(e);this.sendEvent(l,s,this.identifier)}},{key:"paddedNumber",value:function(e){return e?e.toString().padStart(3,"0"):"000"}},{key:"getLoanCountStorageKey",get:function(){return"br-browse-".concat(this.identifier)}},{key:"sendEvent",value:function(e,t,o,l){var s;ui("eventCategory:-",e,"||	eventAction:-",t,"||	label:-",o,"||	extraParams:-",l),(s=window==null?void 0:window.archive_analytics)==null||s.send_event_no_sampling(e,t,o||this.identifier,l)}}]),g}(),K_=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.waitUntillBorrowComplete=6,t.loanAnanlytics=new G_,t.bindEvents(),_possibleConstructorReturn(t)}return _createClass(e,[{key:"bindEvents",value:function(){var o=this;this.addEventListener("browseBook",function(){return Bn(o,null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleBrowseIt(),r.next=4,(s=this.loanAnanlytics)==null?void 0:s.storeLoanStatsCount(this.identifier,"browse");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("browseBookAgain",function(){return Bn(o,null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleBrowseIt(),r.next=4,(s=this.loanAnanlytics)==null?void 0:s.storeLoanStatsCount(this.identifier,"browseagain");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("autoRenew",function(l){return Bn(o,[l],_regeneratorRuntime.default.mark(function s(a){var r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=a.detail,this.handleLoanRenewNow(),v.next=5,(c=this.loanAnanlytics)==null?void 0:c.storeLoanStatsCount(this.identifier,"autorenew");case 5:h=(r==null?void 0:r.renewType)==="auto"?Fc.browseAutoRenew:Fc.browseManualRenew,(d=this.loanAnanlytics)==null||d.sendEvent(ws.browse,hl.browseRenew,h,this.identifier);case 7:case"end":return v.stop()}},s,this)}))}),this.addEventListener("autoReturn",function(){return Bn(o,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.handleReturnIt(),c.next=4,(s=this.loanAnanlytics)==null?void 0:s.storeLoanStatsCount(this.identifier,"autoreturn");case 4:(a=this.loanAnanlytics)==null||a.sendEvent(ws.browse,hl.browseReturn,Fc.browseAutoReturn,this.identifier);case 5:case"end":return c.stop()}},l,this)}))}),this.addEventListener("returnNow",function(l){var s=l.detail,a,r,c;if((s==null?void 0:s.borrowType)==="browse"&&((a=o.loanAnanlytics)==null||a.storeLoanStatsCount(o.identifier,"return"),(r=o.loanAnanlytics)==null||r.sendEvent(ws.browse,hl.browseReturn,Fc.browseManualReturn,o.identifier)),o.handleReturnIt("returnNow"),(s==null?void 0:s.borrowType)==="borrow"){var d=s.event,h=d.category,p=d.action;(c=o.loanAnanlytics)==null||c.sendEvent(h,p,o.identifier)}}),this.addEventListener("borrowBook",function(l){var s=l.detail,a;o.handleBorrowIt();var r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier)}),this.addEventListener("loginAndBorrow",function(l){var s=l.detail,a;o.handleLoginOk();var r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier)}),this.addEventListener("leaveWaitlist",function(l){var s=l.detail,a;o.handleRemoveFromWaitingList();var r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier)}),this.addEventListener("joinWaitlist",function(l){var s=l.detail,a;o.handleReserveIt();var r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier)}),this.addEventListener("purchaseBook",function(l){var s=l.detail,a,r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier)}),this.addEventListener("adminAccess",function(l){var s=l.detail,a,r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier),o.setStickyAdminAccess(!0);var h=new URL(window.location.href);h.searchParams.append("admin",1),window.location.search=h.search}),this.addEventListener("exitAdminAccess",function(l){var s=l.detail,a,r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier),o.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",function(l){var s=l.detail,a,r=s.event,c=r.category,d=r.action;(a=o.loanAnanlytics)==null||a.sendEvent(c,d,o.identifier)})}},{key:"handleBrowseIt",value:function(){var o=this,l="browse_book";this.dispatchToggleActionGroup(),js({action:l,identifier:this.identifier,success:function(){o.setBrowseTimeSession(),o.handleReadItNow()},error:function(s){o.dispatchActionError(l,s)}})}},{key:"handleLoanRenewNow",value:function(){var o=this,l="renew_loan";js({action:l,identifier:this.identifier,success:function(s){var a;ui("RENEW_LOAN --- ",s,l,s.loan,o.identifier);var r=s.loan?s.loan:void 0,c=r.renewal;r&&c?o.setBrowseTimeSession():(ui("RENEW_LOAN ERROR --- ",{action:l,isRenewal:c,activeLoan:r,data:s,id:o.identifier}),(a=window==null?void 0:window.Sentry)==null||a.captureMessage("".concat(na.bookRenewFailed," - Error: ").concat(JSON.stringify(s))),o.dispatchActionError(l,{data:s,error:!0,message:"Loan renewal failed: no loan active."})),o.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:l,data:pi(ei({},s),{loan:r})}}))},error:function(s){o.dispatchActionError(l,s)}})}},{key:"handleReturnIt",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=this,s="return_loan";o==="returnNow"&&this.dispatchToggleActionGroup(),js({action:s,identifier:this.identifier,success:function(){l.deleteLoanCookies(),o==="returnNow"&&po.goToUrl(l.returnUrl,!0)},error:function(a){l.dispatchActionError(s,a)}})}},{key:"handleBorrowIt",value:function(){var o=this,l="borrow_book";this.dispatchToggleActionGroup(),js({action:l,identifier:this.identifier,success:function(){o.handleReadItNow()},error:function(s){o.dispatchActionError(l,s)}})}},{key:"handleReserveIt",value:function(){var o=this,l="join_waitlist";this.dispatchToggleActionGroup(),js({action:l,identifier:this.identifier,success:function(){po.goToUrl(po.getRedirectUrl(),!0)},error:function(s){o.dispatchActionError(l,s)}})}},{key:"handleRemoveFromWaitingList",value:function(){var o=this,l="leave_waitlist";this.dispatchToggleActionGroup(),js({action:l,identifier:this.identifier,success:function(){po.goToUrl(po.getRedirectUrl(),!0)},error:function(s){o.dispatchActionError(l,s)}})}},{key:"dispatchActionError",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s;(s=this.loanAnanlytics)==null||s.sendEvent("LendingServiceError",o),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:o,data:l}}))}},{key:"dispatchToggleActionGroup",value:function(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}},{key:"handleLoginOk",value:function(){var o="/account/login?referer=".concat(encodeURIComponent(po.getRedirectUrl()));po.goToUrl(o,!0)}},{key:"handleReadItNow",value:function(o){var l=new URLSearchParams(window.location.search);if(o){var s=new URLSearchParams(o),a=!0,r=!1,c=void 0;try{for(var d=s.entries()[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=_slicedToArray(h.value,2),v=p[0],k=p[1];l.append(v,k)}}catch(E){r=!0,c=E}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}var x=l.toString(),S=x?"?".concat(x):"",A=window.location.origin+window.location.pathname+S;setTimeout(function(){po.goToUrl(A,!0)},this.waitUntillBorrowComplete*1e3)}},{key:"setBrowseTimeSession",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l=new Date(new Date().getTime()+this.loanTotalTime*1e3),a.next=4,this.localCache.set({key:"".concat(this.identifier,"-loanTime"),value:l,ttl:Number(this.loanTotalTime)});case 4:return a.next=6,this.localCache.delete("".concat(this.identifier,"-pageChangedTime"));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ui(a.t0);case 11:case"end":return a.stop()}},o,this,[[0,8]])}))}},{key:"deleteLoanCookies",value:function(){var o=new Date;o.setTime(o.getTime()-24*60*60*1e3),od("loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org"),od("br-loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org")}},{key:"setStickyAdminAccess",value:function(o){var l=window.location.hostname==="localhost"?"localhost":".archive.org";od("sticky-admin-access",o,"","/",l)}}]),e}(rr),X_=zt(_templateObject457()),rE=zt(_templateObject458()),iE=zt(_templateObject459()),oE=zt(_templateObject460()),Pf=zt(_templateObject461()),aE=zt(_templateObject462()),sE=zt(_templateObject463()),If=zt(_templateObject464()),lE=zt(_templateObject465()),uE=zt(_templateObject466()),Mf=zt(_templateObject467()),cE=zt(_templateObject468()),dE=zt(_templateObject469()),hE=zt(_templateObject470()),fE=zt(_templateObject471(),X_,X_,rE,iE,dE,hE,oE,aE,Pf,Pf,Pf,sE,lE,If,If,If,uE,cE,Mf,Mf,Mf),fl=zt(_templateObject472()),J_=zt(_templateObject473()),pE=zt(_templateObject474()),vE=zt(_templateObject475(),fl,fl,J_,fl,pE,J_,fl,fl,fl),mE=kt(_templateObject476()),gE=kt(_templateObject477()),Lf=kt(_templateObject478()),yE=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.userid="",t.identifier="",t.primaryActions=[],t.secondaryActions=[],t.primaryColor="",t.dropdownState="close",t.width=0,t.hasAdminAccess=!1,t.dropdownArrow=Lf,t.initialButton=!1,t.title="",t.loaderIcon="https://archive.org/upload/images/tree/loading.gif",t.disabled=!1,t.returnUrl="",t.autoRenew=!1,t.loanRenewType="",t.autoReturn=!1,t.returnNow=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"updated",value:function(o){(o.has("width")||o.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),o.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew",{renewType:this.loanRenewType});var l=o.has("autoReturn")&&this.autoReturn;l&&this.dispatchLoanEvent("autoReturn"),o.has("returnNow")&&this.returnNow&&!l&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}},{key:"dispatchLoanEvent",value:function(o,l){this.dispatchEvent(new CustomEvent(o,{detail:l}))}},{key:"resetActions",value:function(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}},{key:"sortActionButtonOrder",value:function(){var o=1,l=0;this.secondaryActions.length===2&&(o=2),o=this.primaryActions.length-o;var s=this.primaryActions[o],a=this.primaryActions;a.splice(o,1),a.splice(l,0,s),this.primaryActions=a}},{key:"render",value:function(){return kt(_templateObject479(),_u({actiongroup:!0,disabled:this.disabled}),this.getLoaderIcon,this.renderPrimaryActions,this.renderSecondaryActions)}},{key:"renderPrimaryActions",get:function(){return this.primaryActions.length===0?Yn:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:kt(_templateObject480(),this.initialActionTemplate,this.primaryColor,this.toggleDropdown,this.dropdownArrow,this.dropdownState,this.getPrimaryItems))}},{key:"renderSecondaryActions",get:function(){var o=this;return this.secondaryActions.length?this.secondaryActions.map(function(l){return o.renderActionButton(l)}):Yn}},{key:"renderActionLink",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this;return kt(_templateObject481(),this.getDeviceType,o.className,o.className,l?"initial":"",o.url,o.target,function(){s.clickHandler(o.id,o.analyticsEvent,o==null?void 0:o.borrowType)},o.id==="purchaseBook"?mE:"",o.text,o.subText)}},{key:"renderActionButton",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this;if(o.url)return this.renderActionLink(o,l);var a=o.analyticsEvent;return kt(_templateObject482(),o.className,l?"initial":"",function(){s.clickHandler(o.id,a,o==null?void 0:o.borrowType)},o.text)}},{key:"clickHandler",value:function(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.dropdownState="close",this.dropdownArrow=Lf,!(!l||!o)){var a=l.category,r=l.action;this.dispatchEvent(new CustomEvent(o,{detail:{event:{category:a,action:r},borrowType:s}}))}}},{key:"initialActionTemplate",get:function(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}},{key:"getPrimaryItems",get:function(){var o=this;return this.primaryActions.slice(1).map(function(l){return kt(_templateObject483(),o.renderActionButton(l,o.initialButton))})}},{key:"getLoaderIcon",get:function(){return kt(_templateObject484(),_u({actionloader:!0,disabled:this.disabled}),this.loaderIcon)}},{key:"isBelowTabletContainer",get:function(){return this.width<=800}},{key:"getDeviceType",get:function(){return this.isBelowTabletContainer?"mobile":"desktop"}},{key:"toggleDropdown",value:function(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=Lf,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=gE,this.primaryColor="dark")}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},loanRenewType:{type:String},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}},{key:"styles",get:function(){return[fE,vE]}}]),e}(K_),window.customElements.define("collapsible-action-group",yE),bE=kt(_templateObject485()),wE=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.identifier="",t.bookTitle="",t.analyticsCategories=ws,t.analyticsActions=hl,_possibleConstructorReturn(t)}return _createClass(e,[{key:"clickHandler",value:function(){var o={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar},l=o.category,s=o.action;this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:l,action:s}}}))}},{key:"render",value:function(){var o=this;return kt(_templateObject486(),function(){o.clickHandler()},this.identifier,bE,this.bookTitle)}}],[{key:"properties",get:function(){return{identifier:{type:String},bookTitle:{type:String}}}},{key:"styles",get:function(){return zt(_templateObject487())}}]),e}(K_),window.customElements.define("book-title-bar",wE),_E=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.texts="",t.textClass="",_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject488(),this.textClass,this.texts)}}],[{key:"properties",get:function(){return{texts:{type:String},textClass:{type:String}}}},{key:"styles",get:function(){return zt(_templateObject489())}}]),e}(rr),window.customElements.define("text-group",_E),kE=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.iconClass="",t.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library",_possibleConstructorReturn(t)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject490(),this.iconClass,this.helpURL)}},{key:"getInfoIcon",get:function(){return Mo(_templateObject491(),Zg(this.icon))}}],[{key:"properties",get:function(){return{iconClass:{type:String}}}},{key:"styles",get:function(){return zt(_templateObject492())}}]),e}(rr),window.customElements.define("info-icon",kE),xE=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.secondsLeftOnLoan=0,t.displayTime=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"minutesLeftOnLoan",get:function(){var o=Math.round(this.secondsLeftOnLoan);return o=Math.ceil(o/60),o<10?o="0:0".concat(o):o===60?o="1:00":o="0:".concat(o),o}},{key:"remainingTime",get:function(){var o="minute",l=this.minutesLeftOnLoan;return l!==1?"".concat(l," ").concat(o,"s"):"".concat(l," ").concat(o)}},{key:"render",value:function(){var o=this,l=this.displayTime?"view":"hide";return kt(_templateObject493(),l,function(){o.displayTime=!o.displayTime},this.minutesLeftOnLoan,Number(this.secondsLeftOnLoan),this.remainingTime)}}],[{key:"properties",get:function(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}},{key:"styles",get:function(){return zt(_templateObject494())}}]),e}(rr),window.customElements.define("timer-countdown",xE),window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:function(){window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:function(){window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:function(){window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:function(){var g,n,e;(g=window==null?void 0:window.IALendingIntervals)==null||g.clearTokenPoller(),(n=window==null?void 0:window.IALendingIntervals)==null||n.clearTimerCountdown(),(e=window==null?void 0:window.IALendingIntervals)==null||e.clearBrowseExpireTimeout()}},SE=function(){"use strict";function g(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,g),this.userid=n,this.identifier=e,this.lendingStatus=t,this.bwbPurchaseUrl=o,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=ws,this.analyticsActions=hl}return _createClass(g,[{key:"firstBrowseConfig",value:function(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}},{key:"browseAgainConfig",value:function(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}},{key:"returnBookConfig",value:function(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}},{key:"borrowBookConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}},{key:"loginAndBorrowBookConfig",value:function(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"leaveWaitlistConfig",value:function(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}},{key:"loginAndWaitlistConfig",value:function(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"waitlistConfig",value:function(){var e=!!this.userid,t=this.lendingStatus||{};return!t.available_to_waitlist||t.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}},{key:"purchaseConfig",value:function(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}},{key:"printDisabilityConfig",value:function(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}},{key:"adminAccessConfig",value:function(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}},{key:"adminOrPrintDisabledExitConfig",value:function(){return{id:"exitAdminAccess",text:"\u2190 Exit ".concat(po.getQueryParam("admin")==="1"?"admin":"print-disabled"," access mode"),url:po.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}},{key:"unavailableBookConfig",value:function(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}},{key:"isEmbed",value:function(e){return{primaryTitle:"<img src=/images/glogo-jw.png> <a href=/details/".concat(this.identifier,">").concat(e,"</a>"),primaryActions:[],primaryColor:""}}}]),g}(),Xi={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},CE=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g),this.userid=n,this.identifier=e,this.lendingStatus=t,this.bwbPurchaseUrl=o,this.analyticsCategories=ws,this.analyticsActions=hl,this.actionsConfig=new SE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}return _createClass(g,[{key:"onlyAdminAction",value:function(){return{primaryTitle:Xi.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"adminOrPrintDisabledReadingAction",value:function(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}},{key:"patronIsReadingAction",value:function(){var e=this.lendingStatus||{},t=e.loanCount>=e.maxLoans,o="",l=e.user_has_browsed&&!e.browsingExpired;return l?o=Xi.available_1hr:o="Your loan of this book has ".concat(e.daysLeftOnLoan," days left."),{primaryTitle:o,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(t),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:l?"browsed":"borrowed"}}},{key:"claimWaitlistAction",value:function(){var e=this.lendingStatus||{},t=this.actionsConfig.leaveWaitlistConfig(),o=this.actionsConfig.borrowBookConfig(),l=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,s=[o];return l&&s.push(l),s.push(t),{primaryTitle:Xi.claim_waitlist,primaryActions:s,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowPrintDisabledAction",value:function(){return{primaryTitle:Xi.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"onlyPrintDisabledAction",value:function(){var e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:Xi.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}},{key:"onWaitlistAction",value:function(){return{primaryTitle:Xi.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"restrictedAction",value:function(){var e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?Xi.being_borrowed:Xi.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"loggedOutOptions",value:function(){var e=this.lendingStatus||{},t=!e.available_to_waitlist&&!e.available_to_borrow,o=this.actionsConfig.waitlistConfig(),l=null;e.available_to_borrow||e.available_to_browse?l=this.actionsConfig.loginAndBorrowBookConfig():t&&(l=this.actionsConfig.unavailableBookConfig());var s=this.actionsConfig.printDisabilityConfig(),a=[l,o,s].filter(function(r){return r!==null});return{primaryTitle:e.available_to_browse?Xi.available_1hr:e.available_to_borrow?Xi.available_14d:Xi.unavailable,primaryActions:a,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrow1HrAction",value:function(){var e=this.lendingStatus||{},t=!e.available_to_browse&&e.browsingExpired,o=e.available_to_browse||t,l=o&&e.available_to_borrow,s=o&&!e.available_to_borrow&&e.available_to_waitlist,a=o&&!e.available_to_borrow&&!e.available_to_waitlist,r=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,c=t?Xi.session_expired:!o&&r?Xi.being_borrowed:!o&&e.available_to_waitlist?Xi.available_waitlist:Xi.available_1hr,d=t?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),h=this.actionsConfig.borrowBookConfig(),p=this.actionsConfig.waitlistConfig(),v=this.actionsConfig.printDisabilityConfig();return{primaryTitle:c,primaryActions:a?[d,v]:l?[d,h,v]:s?[d,p,v]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowAction",value:function(){var e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();var t=null,o=this.actionsConfig.waitlistConfig(),l=this.actionsConfig.printDisabilityConfig(),s=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!o?t=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(t=this.actionsConfig.borrowBookConfig(s));var a=[t,o,l].filter(function(r){return r!==null});return{primaryTitle:o?Xi.being_borrowed:"",primaryActions:a,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"getBrowseCountdownTitle",value:function(){var e=this.lendingStatus.secondsLeftOnLoan,t=new Date(+new Date+e*1e3),o=t.getHours()%12,l=(""+t.getMinutes()).replace(/^(\d{1})$/,"0$1"),s=t.getHours()>11?" PM":" AM";return o===0&&(o=12),"Borrow ends at "+o+":"+l+s}},{key:"getCurrentLendingActions",value:function(){var e,t=this.lendingStatus||{},o=po.getQueryParam("admin")=="1"&&t.isAdmin,l=po.getQueryParam("access")=="1"&&t.user_is_printdisabled,s=t.user_has_borrowed||t.user_has_browsed&&!t.browsingExpired,a=!t.user_has_borrowed&&!t.user_has_browsed,r=!t.available_to_borrow&&!t.available_to_browse,c=t.is_printdisabled&&t.user_is_printdisabled,d=(t.available_to_browse||t.available_to_borrow)&&a&&!t.user_on_waitlist;return o||l?e=this.adminOrPrintDisabledReadingAction():t.isAdmin&&a&&r?e=this.onlyAdminAction():s?e=this.patronIsReadingAction():t.user_can_claim_waitlist?e=this.claimWaitlistAction():c?e=this.borrowPrintDisabledAction():d||t.browsingExpired?e=this.borrowAction():t.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():t.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}}]),g}(),AE=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.identifier=n,this.borrowType=e,this.successCallback=t,this.errorCallback=o,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new G_,this.bookAccessed()}return _createClass(g,[{key:"disconnectedCallback",value:function(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}},{key:"bookAccessed",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=this,this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(function(){t.handleLoanTokenPoller()},this.pollerDelay*1e3))):((o=window==null?void 0:window.Sentry)==null||o.captureMessage("".concat(na.bookAccessed," - not borrowed")),this.disconnectedCallback());case 3:case"end":return s.stop()}},e,this)}))}},{key:"handleLoanTokenPoller",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=this,l="create_token",js({identifier:this.identifier,action:l,error:function(r){var c,d;o.errorCallback({detail:{action:l,data:r}}),(c=window==null?void 0:window.Sentry)==null||c.captureMessage("".concat(na.handleLoanTokenPoller," - Error: ").concat(JSON.stringify(r))),(d=o.loanAnalytics)==null||d.sendEvent("LendingServiceLoanError",l,o.identifier)},success:function(){e&&o.successCallback()}});case 3:case"end":return a.stop()}},t,this)}))}}]),g}(),OE=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g),this.hasPageChanged=n,this.identifier=e,this.localCache=t,this.loanRenewTimeConfig=o,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1,renewType:""}}return _createClass(g,[{key:"handleLoanRenew",value:function(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){ui(e)}return Yn}},{key:"pageChanged",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o,l,s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=this.loanRenewTimeConfig,o=t.loanRenewAtLast,l=new Date,c.next=5,this.localCache.get("".concat(this.identifier,"-loanTime"));case 5:return s=c.sent,a=this.changeTime(s,o,"sub"),c.abrupt("return",(a!==null&&l>=a&&(this.result={texts:this.loanRenewMessage,renewNow:!0,renewType:"auto"}),this.setPageChangedTime(),this.result));case 8:case"end":return c.stop()}},e,this)}))}},{key:"autoChecker",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=this.loanRenewTimeConfig,o=t.pageChangedInLast,r.next=4,this.localCache.get("".concat(this.identifier,"-pageChangedTime"));case 4:return l=r.sent,s=this.changeTime(new Date,o,"sub"),r.abrupt("return",(l===void 0||l<=s?this.result={texts:this.loanReturnWarning,renewNow:!1,renewType:""}:l>=s&&(this.result={texts:"",renewNow:!0,renewType:"auto"}),this.result));case 7:case"end":return r.stop()}},e,this)}))}},{key:"setPageChangedTime",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.localCache.set({key:"".concat(this.identifier,"-pageChangedTime"),value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)});case 2:case"end":return o.stop()}},e,this)}))}},{key:"getMessageTexts",value:function(e,t){var o="minute",l=e,s=t;return s=Math.ceil(s/60),s>59&&(s=1,o="hour"),l=l==null?void 0:l.replace(/#time/,s),l==null?void 0:l.replace(/#unitsOfTime/,s!==1?"".concat(o,"s"):o)}},{key:"changeTime",value:function(e,t,o){return e===void 0?null:o==="sub"?new Date(e.getTime()-t*1e3):new Date(e.getTime()+t*1e3)}}]),g}(),EE={browseExpired:"IABookReader:BrowsingHasExpired"},vo={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},TE=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.userid="",t.identifier="",t.bookTitle="",t.returnUrl="",t.lendingStatus={},t.width=0,t.bwbPurchaseUrl="",t.lendingBarPostInit=function(){},t.barType="action",t.sharedObserver=void 0,t.disableActionGroup=!1,t.tokenDelay=120,t.timerExecutionSeconds=30,t.postInitComplete=!1,t.primaryActions=[],t.primaryTitle="",t.primaryColor="primary",t.secondaryActions=[],t.lendingOptions={},t.borrowType=null,t.browseTimer=void 0,t.timeWhenTimerStart=void 0,t.returnNow=!1,t.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},t.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0,renewType:""},_possibleConstructorReturn(t)}return _createClass(e,[{key:"disconnectedCallback",value:function(){var o;(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.sentryCaptureMsg(na.disconnectedCallback),this.disconnectResizeObserver()}},{key:"sentryCaptureMsg",value:function(o){var l;ui(window==null?void 0:window.Sentry),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(o)}},{key:"firstUpdated",value:function(){this.bindLoanRenewEvents(),this.localCache=new ZO({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new Ha,this.setupResizeObserver())}},{key:"updated",value:function(o){(o.has("lendingStatus")||o.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),o.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),o.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}},{key:"handleResize",value:function(o){var l=o.target;if(l===this.shadowRoot.host){var s=o.contentRect;this.width=Math.round(s.width)}}},{key:"disconnectResizeObserver",value:function(){var o;(o=this.sharedObserver)==null||o.removeObserver({handler:this,target:this.shadowRoot.host})}},{key:"setupResizeObserver",value:function(){var o;this.shadowRoot&&((o=this.sharedObserver)==null||o.addObserver({handler:this,target:this.shadowRoot.host}))}},{key:"setupLendingToolbarActions",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(l=this,this.lendingOptions=new CE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl),d=this.lendingOptions.getCurrentLendingActions(),d){v.next=6;break}return v.abrupt("return");case 6:if(this.primaryTitle=d.primaryTitle,this.primaryActions=(s=d.primaryActions)==null?void 0:s.filter(function(k){return k!=null}),this.primaryColor=d.primaryColor,this.secondaryActions=(a=d.secondaryActions)==null?void 0:a.filter(function(k){return k!=null}),this.borrowType=d.borrowType?d.borrowType:null,h="browsingExpired"in this.lendingStatus&&((r=this.lendingStatus)==null?void 0:r.browsingExpired),!h){v.next=11;break}return ui("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(na.bookWasExpired),(c=window==null?void 0:window.IALendingIntervals)==null||c.clearAll(),this.dispatchEvent(new Event(EE.browseExpired,{bubbles:!0,cancelable:!1,composed:!0})),v.abrupt("return");case 11:if(v.t0=this.borrowType==="browsed",!v.t0){v.next=17;break}return v.next=15,this.startTimerCountdown();case 15:return v.next=17,this.startBrowseTimer();case 17:if(v.t0&&(v.sent,v.sent),!(!this.borrowType||this.barType==="title")){v.next=20;break}return this.lendingBarPostInit(),v.abrupt("return");case 20:setTimeout(function(){!h&&!window.IALendingIntervals.tokenPoller&&l.startLoanTokenPoller()},100),this.requestUpdate();case 21:case"end":return v.stop()}},o,this)}))}},{key:"bindLoanRenewEvents",value:function(){var o=this;window.addEventListener("BookReader:userAction",function(){ui("IABookActions:BookReader:userAction"),o.borrowType==="browsed"&&o.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",function(){return Bn(o,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(!document.hidden&&(ui("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1))){c.next=6;break}return c.next=3,this.localCache.get("".concat(this.identifier,"-loanTime"));case 3:s=c.sent,a=Math.round((s-new Date)/1e3),a>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(a)):(this.browseHasExpired(),this.disconnectedCallback());case 6:case"end":return c.stop()}},l,this)}))})}},{key:"autoLoanRenewChecker",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Bn(this,null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.loanRenewHelper=new OE(o,this.identifier,this.localCache,this.loanRenewTimeConfig),a.next=3,this.loanRenewHelper.handleLoanRenew();case 3:this.loanRenewResult=this.loanRenewHelper.result;case 4:case"end":return a.stop()}},l,this)}))}},{key:"modal",get:function(){var o=document.body.querySelector("modal-manager");return o==null||o.setAttribute("id","action-bar-modal"),o}},{key:"showWarningModal",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d,h,p;return _regeneratorRuntime.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return l=this,ui("****** showWarningModal ******"),this.modal.customModalContent=Yn,(s=this.modal)==null||s.closeModal(),this.loanRenewResult={texts:"",renewNow:!1},c=this.loanRenewResult,d=c.secondsLeft,d===void 0?d=this.lendingStatus.secondsLeftOnLoan:d=d>60?d:60,h=new va({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(a=this.loanRenewHelper)==null?void 0:a.getMessageTexts(this.loanRenewResult.texts,d)}),p=kt(_templateObject495(),vo.iaButton,vo.renew,function(){return l.patronWantsToRenewBook()},vo.iaButton,vo.return,function(){return l.patronWantsToReturnBook()}),this.modal.setAttribute("aria-live","assertive"),k.next=9,(r=this.modal)==null?void 0:r.showModal({config:h,customModalContent:p});case 9:case"end":return k.stop()}},o,this)}))}},{key:"showWarningDisabledModal",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"renewBook";return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a,r,c,d,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=this.loanRenewResult,c=r.secondsLeft,c===void 0?c=this.lendingStatus.secondsLeftOnLoan:c=c>60?c:60,d=new va({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(s=this.loanRenewHelper)==null?void 0:s.getMessageTexts(this.loanRenewResult.texts,c)}),h=kt(_templateObject498(),vo.iaButton,vo.renew,o==="renewBook"?kt(_templateObject496(),vo.loaderIcon):"Keep reading",vo.iaButton,vo.return,o==="returnBook"?kt(_templateObject497(),vo.loaderIcon):"Return the book"),v.next=6,(a=this.modal)==null?void 0:a.showModal({config:d,customModalContent:h});case 6:case"end":return v.stop()}},l,this)}))}},{key:"patronWantsToRenewBook",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0,renewType:"manual"};case 1:case"end":return s.stop()}},o,this)}))}},{key:"patronWantsToReturnBook",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0;case 1:case"end":return s.stop()}},o,this)}))}},{key:"showExpiredModal",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=this,a=new va({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),r=kt(_templateObject499(),vo.iaButton,vo.renew,function(){po.goToUrl(l.returnUrl,!0)}),d.next=5,(s=this.modal)==null?void 0:s.showModal({config:a,customModalContent:r});case 5:case"end":return d.stop()}},o,this)}))}},{key:"browseHasExpired",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return ui("BrowseHasExpired ---"),(l=window==null?void 0:window.IALendingIntervals)==null||l.clearAll(),s=pi(ei({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0}),this.lendingStatus=s,r.next=6,this.localCache.delete("".concat(this.identifier,"-loanTime"));case 6:return r.next=8,this.localCache.delete("".concat(this.identifier,"-pageChangedTime"));case 8:return this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",r.next=12,this.showExpiredModal();case 12:this.sentryCaptureMsg(na.browseHasExpired);case 13:case"end":return r.stop()}},o,this)}))}},{key:"startBrowseTimer",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l=this,(s=window==null?void 0:window.IALendingIntervals)==null||s.clearBrowseExpireTimeout(),a=this.lendingStatus,r=a.browsingExpired,c=a.user_has_browsed,d=a.secondsLeftOnLoan,!(!c||r)){p.next=7;break}return ui("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:c,browsingExpired:r,secondsLeftOnLoan:d}),p.abrupt("return");case 7:window.IALendingIntervals.browseExpireTimeout=setTimeout(function(){ui("startBrowseTimer > browseExpireTimeout --- will expire loan",d),l.browseHasExpired()},d*1e3);case 8:case"end":return p.stop()}},o,this)}))}},{key:"render",value:function(){return this.barType==="title"?kt(_templateObject500(),this.bookTitleBar):kt(_templateObject501(),this.bookActionBar)}},{key:"bookTitleBar",get:function(){return kt(_templateObject502(),this.identifier,this.bookTitle)}},{key:"timerCountdownEl",get:function(){return this.shadowRoot.querySelector("timer-countdown")}},{key:"bookActionBar",get:function(){return kt(_templateObject503(),this.userid,this.identifier,this.primaryColor,this.primaryActions,this.secondaryActions,this.width,this.borrowType,this.returnUrl,this.localCache,this.loanRenewTimeConfig.loanTotalTime,this.loanRenewResult.renewType,this.hasAdminAccess,this.disableActionGroup,this.loanRenewResult.renewNow,this.lendingStatus.browsingExpired,this.returnNow,this.handleLoanAutoRenewed,this.handleLendingActionError,this.handleToggleActionGroup,this.textGroupTemplate,this.infoIconTemplate,Math.round(Number(this.lendingStatus.secondsLeftOnLoan)))}},{key:"handleLoanAutoRenewed",value:function(o){return Bn(this,arguments,_regeneratorRuntime.default.mark(function l(s){var a,r,c,d,h,p,v,k,x;return _regeneratorRuntime.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(a=s.detail,h=(r=a==null?void 0:a.data)==null?void 0:r.loan,p="Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ".concat((c=a==null?void 0:a.data)==null?void 0:c.error,")"),h){A.next=6;break}return this.showErrorModal(p,"handleLoanAutoRenewed"),A.abrupt("return");case 6:if(!this.loanRenewResult.renewNow){A.next=14;break}return A.next=9,this.localCache.get("".concat(this.identifier,"-loanTime"));case 9:v=A.sent,k=Math.round((v-new Date)/1e3),ui(v,k),ui("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:a==null?void 0:a.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:k}),x=pi(ei({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:k}),this.lendingStatus=x,(d=this.modal)==null||d.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=Yn,this.sentryCaptureMsg(na.bookHasRenewed);case 14:case"end":return A.stop()}},l,this)}))}},{key:"startTimerCountdown",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:l=this,(s=window==null?void 0:window.IALendingIntervals)==null||s.clearTimerCountdown(),a=Number(this.lendingStatus.secondsLeftOnLoan),this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(function(){return Bn(l,null,_regeneratorRuntime.default.mark(function d(){return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.loanStatusCheckInterval(a);case 2:case"end":return p.stop()}},d,this)}))},this.timerExecutionSeconds*1e3);case 5:case"end":return c.stop()}},o,this)}))}},{key:"loanStatusCheckInterval",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=o,s-=this.timerExecutionSeconds,s=Math.round(s),c.next=4,this.reSyncTimerIfGoneOff(s);case 4:if(a=c.sent,a.hasSynced&&(s=a.whatShouldLeft,ui("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:s})),ui("startTimerCountdown --- countdown still valid. continue...",{resyncd:a,secondsLeft:s,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),c.t0=s<=this.loanRenewTimeConfig.loanRenewAtLast,!c.t0){c.next=11;break}return c.next=11,this.loanRenewAttempt(s);case 11:s<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(na.clearOneHourTimer));case 12:case"end":return c.stop()}},l,this)}))}},{key:"reSyncTimerIfGoneOff",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a,r,c,d,h,p;return _regeneratorRuntime.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return s=new Date,a=s.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,r=this.lendingStatus.secondsLeftOnLoan-a,ui("currentTime: ",s),ui("timeWhenTimerStart: ",this.timeWhenTimerStart),ui("diffInSeconds: ",a),ui("secondsShouldLeft: ",r),ui("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan),c=Math.round(o),d=Math.round(r),h=this.timerCountdownEl.secondsLeftOnLoan||0,ui("reSyncTimerIfGoneOff?",{whatIsleft:c,whatShouldLeft:d,timerElSeconds:h,timeLeftInMin:Math.ceil(o/60)}),(h!==d||c!==d)&&(p=pi(ei({},this.lendingStatus),{secondsLeftOnLoan:d}),this.lendingStatus=p),k.abrupt("return",c!==d?(ui("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:d}):{hasSynced:!1,whatShouldLeft:d});case 5:case"end":return k.stop()}},l,this)}))}},{key:"loanRenewAttempt",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(ui("loanRenewAttempt ---",{secondsLeft:o,loanRenewResult:this.loanRenewResult}),s=o,!(s<50)){r.next=7;break}return ui("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),r.next=6,this.browseHasExpired();case 6:return r.abrupt("return");case 7:return r.next=9,this.autoLoanRenewChecker(!1);case 9:this.loanRenewResult.renewNow===!1&&(s-=60,this.loanRenewResult.secondsLeft=s,this.showWarningModal());case 10:case"end":return r.stop()}},l,this)}))}},{key:"startLoanTokenPoller",value:function(){var o=this,l=function(){o.postInitComplete||o.lendingBarPostInit(),o.postInitComplete=!0},s=function(a){o.handleLendingActionError(a)};this.tokenPoller=new AE(this.identifier,this.borrowType,l,s,this.tokenDelay)}},{key:"handleToggleActionGroup",value:function(){this.disableActionGroup=!this.disableActionGroup}},{key:"handleLendingActionError",value:function(o){var l,s,a,r;this.disableActionGroup=!1,(l=window==null?void 0:window.IALendingIntervals)==null||l.clearAll();var c=(s=o==null?void 0:o.detail)==null?void 0:s.action,d=(r=(a=o==null?void 0:o.detail)==null?void 0:a.data)==null?void 0:r.error;if(d&&c!=="create_token"&&this.showErrorModal(d,c),c==="create_token"){var h=pi(ei({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=h}if(d&&d.match(/not available to borrow/gm)){var p=this.lendingStatus;c==="browse_book"?p=pi(ei({},this.lendingStatus),{available_to_browse:!1}):c==="borrow_book"&&(p=pi(ei({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=p}}},{key:"showErrorModal",value:function(o,l){return Bn(this,null,_regeneratorRuntime.default.mark(function s(){var a,r,c;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=new va({title:"Lending error",message:o,headerColor:"#d9534f",showCloseButton:!0}),l==="create_token"&&(c=kt(_templateObject504(),vo.refresh,function(){return window.location.reload(!0)}),r.message=kt(_templateObject505(),c,this.identifier,o)),h.next=5,(a=this.modal)==null?void 0:a.showModal({config:r});case 5:case"end":return h.stop()}},s,this)}))}},{key:"iconClass",get:function(){return this.width<=700?"mobile":"desktop"}},{key:"textClass",get:function(){return this.width>=700?"visible":"hidden"}},{key:"infoIconTemplate",get:function(){return kt(_templateObject506(),this.iconClass)}},{key:"textGroupTemplate",get:function(){return this.primaryTitle?kt(_templateObject507(),this.textClass,this.primaryTitle):Yn}},{key:"hasAdminAccess",get:function(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object:Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}},{key:"styles",get:function(){return zt(_templateObject508())}}]),e}(rr),window.customElements.define("ia-book-actions",TE)}}),pI=Gt({"https-url:https://esm.archive.org/@internetarchive/ia-book-actions@1.4.1":function(){Sn(),$l(),Vu(),QO(),Y_(),Bh(),nE(),sf(),jE(),jE()}}),PE={};bi(PE,{IaBookTheater:function(){return Z_}});var Z_,vI=Gt({"components/ia-book-theater/ia-book-theater.js":function(){cA(),bv(),bo(),pI(),On("** ia-book-actions loaded 1.4.1 **"),Z_=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call(this),t.item=void 0,t.baseHost="",t.signedIn=null,t.viewportInFullscreen=!1,t.sharedObserver=void 0,t.manifest=null,t.actionBarHeightPx=0,t.primaryReaderHeightPx=0,t}return _createClass(e,[{key:"firstUpdated",value:function(){var o,l=(o=document.querySelector(".js-ia-metadata"))==null?void 0:o.value;l&&(this.item=JSON.parse(l)),this.loadObserver()}},{key:"modal",get:function(){return document.querySelector("modal-manager")}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("ia-item-navigator")}},{key:"loadObserver",value:function(){this.sharedObserver=new Ha}},{key:"manageFullscreen",value:function(o){var l,s=(l=o.detail)==null?void 0:l.fullscreen;this.viewportInFullscreen=s||null}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"manageSideMenuEvents",value:function(o){var l=o.detail,s=l.menuId,a=l.action;s&&(a==="open"?(this.itemNav.openShortcut(s),this.openShortcut(s)):a==="toggle"&&(this.itemNav.openMenu(s),this.itemNav.toggleMenu()))}},{key:"render",value:function(){return lu(_templateObject510(),this.item,this.baseHost,this.signedIn,this.sharedObserver,this.modal,this.manageFullscreen)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:function(o){return o==="false"?null:o==="true"||o===!0}},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}},{key:"styles",get:function(){return ay(_templateObject509())}}]),e}(nl),customElements.define("ia-book-theater",Z_),On("** ia-book-theater defined **")}}),mI={},gI=Gt({"www/sf/bookreader/SearchInsideAccess.js":function(){fa.prototype.init=function(){this.initiateRequest()},fa.prototype.grantAccess=function(){this.startTimer();var g=this.requestCount===1&&this.postInitCB;g&&this.postInitCB()},fa.prototype.requestError=function(g){if(typeof archive_analytics!="undefined"){var n=g.responseJSON?g.responseJSON.error.replace(/\s/g,"_"):"unknown",e="BRSearchInsideToken-ReqErr-"+g.status+"-From-"+n;window.Sentry&&g.status>=400&&window.Sentry.captureMessage(e)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})},fa.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()},fa.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(g){this.grantAccess()}.bind(this),function(g){this.requestError(g)}.bind(this))},fa.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null},fa.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)},fa.prototype.hasValidLoanToken=function(){var g="loan-"+this.bookId,n;try{n=document.cookie}catch(e){n=""}return n.indexOf(g)>-1},window.SearchInsideAccess=fa}}),yI={},bI=Gt({"www/sf/bookreader/BookReaderJSIA.js":function(){window.BookReaderJSIAinit=function(){var g=function(d,h,p){var v=h||{};return jQuery.extend(!0,v,n(d)),jQuery.extend(!0,v,e(d)),jQuery.extend(!0,v,t(d)),jQuery.extend(!0,v,o(d)),v.bookUrl=d.bookUrl,d.lendingInfo.isOpenLibraryLending?(v.bookUrlText=v.bookTitle+"<br>&larr; Back to book details on Open Library",v.bookUrlTitle="Go to this book's page on Open Library",v.bookUrlMoreInfo="More information on Open Library"):(v.bookUrlText=v.bookTitle+"<br>&larr; Back to item details",v.bookUrlTitle="Go to this book's page on Archive.org",v.bookUrlMoreInfo="More information on Archive.org"),v.imagesBaseURL="/includes/build/BookReader/images/",v.olHost=d.olHost,v.protected=d.lendingInfo.shouldProtectImages,v.thumbnail="//archive.org/download/"+d.id+"/page/cover_t.jpg",v.enableExperimentalControls=!0,v.enablePageResume=!0,isNaN(parseInt(v.defaultStartLeaf))||(v.titleLeaf=v.defaultStartLeaf),p&&jQuery.extend(v,p),v},n=function(d){var h={},p=[],v=Array(d.metadata.title).join(", ");if(v&&p.push({label:"Title",value:v,extraValueClass:"larger"}),d.metadata.creator&&p.push({label:"Author",value:Array(d.metadata.creator).join(", "),extraValueClass:"larger"}),d.metadata.publishDate&&p.push({label:"Publish Data",value:d.metadata.publishDate,extraValueClass:""}),d.metadata.collection&&d.metadata.collection.length>0){var k=$.map(d.metadata.collection,function(S){return'<a href="/details/'+S+'">'+S+"</a>"}).join(", ");p.push({label:"Collections",value:k,extraValueClass:""})}if(d.metadata.sponsor&&d.metadata.contributor&&d.metadata.sponsor==d.metadata.contributor?p.push({label:"Sponsor &amp; Contributor",value:d.metadata.sponsor,extraValueClass:""}):(d.metadata.sponsor&&p.push({label:"Sponsor",value:d.metadata.sponsor,extraValueClass:""}),d.metadata.contributor&&p.push({label:"Contributor",value:d.metadata.contributor,extraValueClass:""})),h.metadata=p,d.metadata.language){var x=typeof d.metadata.language=="string"?d.metadata.language:d.metadata[0]?d.metadata[0]:null;h.bookLanguage=x}return h},e=function(d){var h={},p={};return d.lendingInfo.loanId&&(p.loanId=d.lendingInfo.loanId),h.lendingInfo=p,h},t=function(d){var h={},p=function(k,x){var S="https://"+window.location.host+"/stream/"+d.id;return d.subPrefix!=d.id&&(S+="/"+urlencodePath(d.subPrefix)),S+="?ui=embed",typeof x!="undefined"&&(S+="#"+k.fragmentFromParams(x)),S};return h.getEmbedCode=function(v,k,x){return"<iframe src='"+p(this,x)+"' width='"+v+"' height='"+k+"' frameborder='0' ></iframe>"},h},o=function(d){var h=[],p=BookReader.prototype.getPageURI;return h.getPageURI=function(v,k,x){typeof k=="undefined"&&(k=1),typeof x=="undefined"&&(x=0),k=Math.pow(2,Math.floor(Math.log2(Math.max(1,k))));var S=p.call(this,v,k,x);return S?(S=S+(S.indexOf("?")>-1?"&":"?"),S=S+"scale="+k+"&rotate="+x,S):""},h},l=function(d){var h=BookReader.prototype.getResumeValue;BookReader.prototype.getResumeValue=function(){var v=null;return d.lendingInfo.userid&&BookReader.docCookies&&(v=BookReader.docCookies.getItem("br-resume-"+d.lendingInfo.userid)),v===null&&(v=h?h.call(this):0),v!==null&&(v=parseInt(v)),v};var p=BookReader.prototype.updateResumeValue;BookReader.prototype.updateResumeValue=function(v){var k=d.lendingInfo.userid?"br-resume-"+d.lendingInfo.userid:null;p.call(this,v,k)}},s=function(d){if(CustomEvent){var h=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:d});document.dispatchEvent(h)}},a=function(d,h){if(CustomEvent){var p=d.lendingStatus,v=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:h||[],lendingStatus:p||{},isAdmin:d.isAdmin}});document.dispatchEvent(v)}},r=function(d,h,p,v){var k=h,x=h.lendingStatus;k=Object.assign({},k,x),k.lendingStatus="";var S=k.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+p.bookId,A=document.querySelector("ia-book-actions");A||(A=document.createElement("ia-book-actions")),A.userid=k.userid,A.identifier=p.bookId,A.bookTitle=p.bookTitle,A.lendingStatus=k,A.bwbPurchaseUrl=p.purchaseUrl,A.barType=v||"action",A.lendingBarPostInit=d,A.returnUrl=S,A.classList.add("focus-on-child-only");var E={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};A.loanRenewTimeConfig=E;var O=document.querySelector("#IABookReaderMessageWrapper");O?(O.appendChild(A),O.style.display=""):d()};return function(c,d){var h=c.data,p=c.brOptions,v=c.lendingInfo,k=v.lendingStatus||{},x=c.metadata;h.lendingInfo=v,h.metadata=x,window.onerror=logError;var S=g(h,p,d);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}l(h);var A=new BookReader(S);window.br=A;var E=v.isPrintDisabledOnly||h.isRestricted&&!k.is_login_required||v.isLendingRequired&&v.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",E));var O=!E,T=S.ui==="embed";E&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),s({brVersion:BookReader.version,downloadURLs:h.downloadUrls.filter(function(m){return!m[1].includes("media_url")}),isRestricted:h.isRestricted});var b=function(){setTimeout(function(){A.init()},100)},u=function(){setTimeout(function(){a(v,h.downloadUrls.filter(function(y){return!y[1].includes("media_url")})),b()},100)};if(O){b(),T&&r(function(){},v,S,"title");return}var f=function(y){y&&typeof y!="undefined"&&y.errorMessage==="no access token"&&(A.options.enableSearch=!1);var w=T?"title":"action";r(u,v,S,w)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(A,x.identifier,f),this.searchInside.init()):f(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:k.available_to_browse||"",available_to_borrow:k.available_to_borrow||"",available_to_waitlist:k.available_to_waitlist||"",user_has_browsed:k.user_has_browsed||"",user_has_borrowed:k.user_has_borrowed||"",user_on_waitlist:k.user_on_waitlist||"",user_can_claim_waitlist:k.user_can_claim_waitlist||""})}}()}});rp(),Br(),Sn(),Wr(),Uu(),mx(),Vu(),Fp(),Kd(),$s(),Si(),bo();function IE(){var g=function(){ne("#theatre-ia-wrap").removeClass("flagged"),ne(".bookreader-playlist-container").removeClass("hide")};ne(".toggle-flag-overlay").on("click",function(n){n.preventDefault(),g()}),ne("#flag-checkboxes a").on("click",function(e){e.preventDefault(),ne(this).children(".my-checkbox").toggleClass("checked"),ne.get(ne(this).attr("href")),g()}),VT()&&Ai.get("logged-in-user")!==void 0&&(ne("#flag-popover li").on("click",function(){return ne(this).find("a").trigger("click"),!1}),ne("#flag-popover a").on("click",function(e){e.preventDefault();var t=ne("#item-flags-popup"),o=ne(this),l=ne(o).parent();return ne(l).toggleClass("selected"),ne(t).removeClass("open"),ne.getJSON("".concat(ne(this).attr("href"),"&no_chrome=1"),function(s){var a=ne(s.button);ne(t).replaceWith(a),ne("#flag-button-container").html(s.button),ne("#flag-overlay").html(s.overlay),s.has_flags?ne("#theatre-ia-wrap").addClass("flagged"):ne("#theatre-ia-wrap").removeClass("flagged"),IE()}),!1}))}ne(document).ready(function(){On("initialize item flags"),IE()}),bo(),Br(),Sn(),Wr(),tc();var ME={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},Q_=Symbol(),wI=function(){"use strict";function g(n,e,t){_classCallCheck(this,g);var o,l,s;this.p=0,this.i=0,(this._=n).addController(this);var a=typeof e=="object"?e:{task:e,args:t};this.v=a.task,this.j=a.args,this.m=(o=a.argsEqual)!=null?o:_I,this.k=a.onComplete,this.A=a.onError,this.autoRun=(l=a.autoRun)!=null?l:!0,"initialValue"in a&&(this.u=a.initialValue,this.i=2,this.O=(s=this.T)==null?void 0:s.call(this))}return _createClass(g,[{key:"taskComplete",get:function(){var e=this;return this.t||(this.i===1?this.t=new Promise(function(t,o){e.o=t,e.h=o}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}},{key:"hostUpdate",value:function(){this.autoRun===!0&&this.S()}},{key:"hostUpdated",value:function(){this.autoRun==="afterUpdate"&&this.S()}},{key:"T",value:function(){if(this.j!==void 0){var e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}}},{key:"S",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t=this.T(),o=this.O,this.O=t,s.t0=t===o||t===void 0||o!==void 0&&this.m(o,t),s.t0){s.next=6;break}return s.next=6,this.run(t);case 6:case"end":return s.stop()}},e,this)}))}},{key:"run",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s,a,r,c,d,h,p,v;return _regeneratorRuntime.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return o=this,e!=null||(e=this.T()),this.O=e,this.i===1?(l=this.q)==null||l.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(function(){return o._.requestUpdate()}):this._.requestUpdate(),p=++this.p,this.q=new AbortController,v=!1,x.prev=7,x.next=10,this.v(e,{signal:this.q.signal});case 10:d=x.sent,x.next=16;break;case 13:x.prev=13,x.t0=x.catch(7),v=!0,h=x.t0;case 16:if(this.p===p){if(d===Q_)this.i=0;else{if(v===!1){try{(s=this.k)==null||s.call(this,d)}catch(S){}this.i=2,(a=this.o)==null||a.call(this,d)}else{try{(r=this.A)==null||r.call(this,h)}catch(S){}this.i=3,(c=this.h)==null||c.call(this,h)}this.u=d,this.l=h}this._.requestUpdate()}case 17:case"end":return x.stop()}},t,this,[[7,13]])}))}},{key:"abort",value:function(e){var t;this.i===1&&((t=this.q)==null||t.abort(e))}},{key:"value",get:function(){return this.u}},{key:"error",get:function(){return this.l}},{key:"status",get:function(){return this.i}},{key:"render",value:function(e){var t,o,l,s;switch(this.i){case 0:return(t=e.initial)==null?void 0:t.call(e);case 1:return(o=e.pending)==null?void 0:o.call(e);case 2:return(l=e.complete)==null?void 0:l.call(e,this.value);case 3:return(s=e.error)==null?void 0:s.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}}]),g}(),_I=function(g,n){return g===n||g.length===n.length&&g.every(function(e,t){return!Qd(e,n[t])})};Br(),Sn(),Wr();var ek,Rf=window,Tu=Rf.trustedTypes,LE=Tu?Tu.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,tk="$lit$",_s="lit$".concat((Math.random()+"").slice(9),"$"),RE="?"+_s,kI="<".concat(RE,">"),pl=document,Df=function(){return pl.createComment("")},zc=function(g){return g===null||typeof g!="object"&&typeof g!="function"},DE=Array.isArray,xI=function(g){return DE(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},nk="[ 	\n\f\r]",Hc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$E=/-->/g,NE=/>/g,vl=RegExp(">|".concat(nk,"(?:([^\\s\"'>=/]+)(").concat(nk,"*=").concat(nk,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),BE=/'/g,FE=/"/g,zE=/^(?:script|style|textarea|title)$/i,HE=function(g){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return{_$litType$:g,strings:n,values:t}}},A1=HE(1),O1=HE(2),Uc=Symbol.for("lit-noChange"),Hi=Symbol.for("lit-nothing"),UE=new WeakMap,ml=pl.createTreeWalker(pl,129,null,!1),SI=function(g,n){for(var e=g.length-1,t=[],o,l=n===2?"<svg>":"",s=Hc,a=0;a<e;a++){for(var r=g[a],c=void 0,d=void 0,h=-1,p=0;p<r.length&&(s.lastIndex=p,d=s.exec(r),d!==null);)p=s.lastIndex,s===Hc?d[1]==="!--"?s=$E:d[1]!==void 0?s=NE:d[2]!==void 0?(zE.test(d[2])&&(o=RegExp("</"+d[2],"g")),s=vl):d[3]!==void 0&&(s=vl):s===vl?d[0]===">"?(s=o!=null?o:Hc,h=-1):d[1]===void 0?h=-2:(h=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?vl:d[3]==='"'?FE:BE):s===FE||s===BE?s=vl:s===$E||s===NE?s=Hc:(s=vl,o=void 0);var v=s===vl&&g[a+1].startsWith("/>")?" ":"";l+=s===Hc?r+kI:h>=0?(t.push(c),r.slice(0,h)+tk+r.slice(h)+_s+v):r+_s+(h===-2?(t.push(void 0),a):v)}return[Uk(g,l+(g[e]||"<?>")+(n===2?"</svg>":"")),t]},rk=function(){"use strict";function g(n,e){var t=n.strings,o=n._$litType$;_classCallCheck(this,g);var l;this.parts=[];var s=0,a=0,r=t.length-1,c=this.parts,d=_slicedToArray(SI(t,o),2),h=d[0],p=d[1];if(this.el=g.createElement(h,e),ml.currentNode=this.el.content,o===2){var v,k=this.el.content,x=k.firstChild;x.remove(),(v=k).append.apply(v,_toConsumableArray(x.childNodes))}for(;(l=ml.nextNode())!==null&&c.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var S=[],A=!0,E=!1,O=void 0;try{for(var T=l.getAttributeNames()[Symbol.iterator](),b;!(A=(b=T.next()).done);A=!0){var u=b.value;if(u.endsWith(tk)||u.startsWith(_s)){var f=p[a++];if(S.push(u),f!==void 0){var m=l.getAttribute(f.toLowerCase()+tk).split(_s),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?AI:y[1]==="?"?EI:y[1]==="@"?TI:$f})}else c.push({type:6,index:s})}}}catch(q){E=!0,O=q}finally{try{!A&&T.return!=null&&T.return()}finally{if(E)throw O}}var w=!0,C=!1,M=void 0;try{for(var I=S[Symbol.iterator](),D;!(w=(D=I.next()).done);w=!0){var z=D.value;l.removeAttribute(z)}}catch(q){C=!0,M=q}finally{try{!w&&I.return!=null&&I.return()}finally{if(C)throw M}}}if(zE.test(l.tagName)){var Q=l.textContent.split(_s),W=Q.length-1;if(W>0){l.textContent=Tu?Tu.emptyScript:"";for(var me=0;me<W;me++)l.append(Q[me],Df()),ml.nextNode(),c.push({type:2,index:++s});l.append(Q[W],Df())}}}else if(l.nodeType===8)if(l.data===RE)c.push({type:2,index:s});else for(var oe=-1;(oe=l.data.indexOf(_s,oe+1))!==-1;)c.push({type:7,index:s}),oe+=_s.length-1;s++}}return _createClass(g,null,[{key:"createElement",value:function(e,t){var o=pl.createElement("template");return o.innerHTML=e,o}}]),g}();function ju(g,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,t=arguments.length>3?arguments[3]:void 0,o,l,s,a;if(n===Uc)return n;var r=t!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[t]:e._$Cl,c=zc(n)?void 0:n._$litDirective$;return(r==null?void 0:r.constructor)!==c&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),c===void 0?r=void 0:(r=new c(g),r._$AT(g,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=r:e._$Cl=r),r!==void 0&&(n=ju(g,r._$AS(g,n.values),r,t)),n}var CI=function(){"use strict";function g(n,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,o=this._$AD,l=o.el,s=l.content,a=o.parts,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:pl).importNode(s,!0);ml.currentNode=r;for(var c=ml.nextNode(),d=0,h=0,p=a[0];p!==void 0;){if(d===p.index){var v=void 0;p.type===2?v=new VE(c,c.nextSibling,this,e):p.type===1?v=new p.ctor(c,p.name,p.strings,this,e):p.type===6&&(v=new jI(c,this,e)),this._$AV.push(v),p=a[++h]}d!==(p==null?void 0:p.index)&&(c=ml.nextNode(),d++)}return ml.currentNode=pl,r}},{key:"v",value:function(e){var t=0,o=!0,l=!1,s=void 0;try{for(var a=this._$AV[Symbol.iterator](),r;!(o=(r=a.next()).done);o=!0){var c=r.value;c!==void 0&&(c.strings!==void 0?(c._$AI(e,c,t),t+=c.strings.length-2):c._$AI(e[t])),t++}}catch(d){l=!0,s=d}finally{try{!o&&a.return!=null&&a.return()}finally{if(l)throw s}}}}]),g}(),VE=function(){"use strict";function g(n,e,t,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Hi,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=ju(this,e,t),zc(e)?e===Hi||e==null||e===""?(this._$AH!==Hi&&this._$AR(),this._$AH=Hi):e!==this._$AH&&e!==Uc&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):xI(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Hi&&zc(this._$AH)?this._$AA.nextSibling.data=e:this.$(pl.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t,o=e.values,l=e._$litType$,s=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=rk.createElement(Uk(l.h,l.h[0]),this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(o);else{var a=new CI(s,this),r=a.u(this.options);a.v(o),this.$(r),this._$AH=a}}},{key:"_$AC",value:function(e){var t=UE.get(e.strings);return t===void 0&&UE.set(e.strings,t=new rk(e)),t}},{key:"T",value:function(e){DE(this._$AH)||(this._$AH=[],this._$AR());var t=this._$AH,o,l=0,s=!0,a=!1,r=void 0;try{for(var c=e[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;l===t.length?t.push(o=new g(this.k(Df()),this.k(Df()),this,this.options)):o=t[l],o._$AI(h),l++}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,t);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}]),g}(),$f=function(){"use strict";function g(n,e,t,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Hi,this._$AN=void 0,this.element=n,this.name=e,this._$AM=o,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Hi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,a=!1;if(s===void 0)e=ju(this,e,t,0),a=!zc(e)||e!==this._$AH&&e!==Uc,a&&(this._$AH=e);else{var r=e,c,d;for(e=s[0],c=0;c<s.length-1;c++)d=ju(this,r[o+c],t,c),d===Uc&&(d=this._$AH[c]),a||(a=!zc(d)||d!==this._$AH[c]),d===Hi?e=Hi:e!==Hi&&(e+=(d!=null?d:"")+s[c+1]),this._$AH[c]=d}a&&!l&&this.j(e)}},{key:"j",value:function(e){e===Hi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),AI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=3,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Hi?void 0:o}}]),e}($f),OI=Tu?Tu.emptyScript:"",EI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.type=4,_possibleConstructorReturn(t)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Hi?this.element.setAttribute(this.name,OI):this.element.removeAttribute(this.name)}}]),e}($f),TI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l,s,a){_classCallCheck(this,e);var r;return r=n.call(this,t,o,l,s,a),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((o=(s=ju(this,o,l,0))!==null&&s!==void 0?s:Hi)!==Uc){var a=this._$AH,r=o===Hi&&a!==Hi||o.capture!==a.capture||o.once!==a.once||o.passive!==a.passive,c=o!==Hi&&(a===Hi||r);r&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,o):this._$AH.handleEvent(o)}}]),e}($f),jI=function(){"use strict";function g(n,e,t){_classCallCheck(this,g),this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){ju(this,e)}}]),g}(),qE=Rf.litHtmlPolyfillSupport;qE==null||qE(rk,VE),((ek=Rf.litHtmlVersions)!==null&&ek!==void 0?ek:Rf.litHtmlVersions=[]).push("2.8.0");var WE=function(g){return g!=null?g:Hi};Sn(),Sn(),Br(),Sn(),Wr();var PI=Mo(_templateObject511()),II=Mo(_templateObject512()),Ji=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.open=!1,t.isDisabled=!1,t.displayCaret=!1,t.closeOnSelect=!1,t.openViaButton=!0,t.openViaCaret=!0,t.includeSelectedOption=!1,t.selectedOption="",t.options=[],t.optionGroup="options",t.optionSelected=function(){},t.isCustomList=!1,t.hasCustomClickHandler=!1,t.closeOnEscape=!1,t.closeOnBackdropClick=!1,t.boundKeyboardListener=function(o){switch(o.key){case"Escape":case"Esc":t.closeOptions();break;default:break}},t.closeOptions=function(o){o&&o.type==="click"&&o.stopPropagation(),t.open=!1},t.handlingCaretClick=!1,_possibleConstructorReturn(t)}return _createClass(e,[{key:"firstUpdated",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,new Promise(function(a){return setTimeout(a,0)});case 2:this.addEventListener("closeDropdown",this.closeOptions);case 3:case"end":return s.stop()}},o,this)}))}},{key:"disconnectedCallback",value:function(){var o;(o=_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this))===null||o===void 0||o.call(this),this.removeKeyboardListener()}},{key:"setupKeyboardListener",value:function(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}},{key:"removeKeyboardListener",value:function(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}},{key:"dropdownState",get:function(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"mainButtonClicked",value:function(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}},{key:"caretInteracted",value:function(){this.openViaCaret&&this.toggleOptions()}},{key:"caretClicked",value:function(){this.handlingCaretClick=!0,this.caretInteracted()}},{key:"caretKeyDown",value:function(o){(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),this.caretInteracted())}},{key:"renderOption",value:function(o){var l=this,s=o.label,a=o.url,r=a===void 0?void 0:a,c=o.id,d,h=this.selectedOption===c?"selected":"";return r?d=kt(_templateObject513(),r,function(p){return l.optionClicked(p,o)},s):d=kt(_templateObject514(),function(p){return l.optionClicked(p,o)},s),kt(_templateObject515(),h,d)}},{key:"optionClicked",value:function(o,l){var s;o.stopPropagation(),this.selectedOption!==l.id&&(this.selectedOption=l.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:l}})),(s=l.selectedHandler)===null||s===void 0||s.call(l,l)),this.closeOnSelect&&this.closeOptions()}},{key:"availableOptions",get:function(){var o=this;return this.includeSelectedOption?this.options:this.options.filter(function(l){return o.selectedOption!==l.id})}},{key:"caretTemplate",get:function(){if(!this.displayCaret)return kt(_templateObject516());var o=this.openViaCaret&&!this.openViaButton?"0":void 0,l=this.openViaCaret?"button":void 0;return kt(_templateObject517(),WE(o),WE(l),this.isDisabled||this.hasCustomClickHandler?Yn:this.caretClicked,this.isDisabled||this.hasCustomClickHandler?Yn:this.caretKeyDown,!this.open,PI,this.open,II)}},{key:"dropdownTemplate",get:function(){var o=this;return this.isCustomList?kt(_templateObject518()):kt(_templateObject519(),this.availableOptions.map(function(l){return o.renderOption(l)}))}},{key:"backdropTemplate",get:function(){return this.closeOnBackdropClick?this.open?kt(_templateObject520(),this.closeOptions,this.closeOptions):kt(_templateObject521()):kt(_templateObject522())}},{key:"render",value:function(){return kt(_templateObject523(),this.isDisabled||this.hasCustomClickHandler?Yn:this.mainButtonClicked,this.isDisabled,this.optionGroup,this.caretTemplate,this.dropdownState,this.dropdownTemplate,this.backdropTemplate)}}],[{key:"styles",get:function(){var o=zt(_templateObject524()),l=zt(_templateObject525()),s=zt(_templateObject526()),a=zt(_templateObject527()),r=zt(_templateObject528()),c=zt(_templateObject529()),d=zt(_templateObject530());return zt(_templateObject531(),r,r,a,o,o,o,o,s,l,l,l,l,c,c,c,d,d,c,d,a,a,a,r)}}]),e}(rr);Ie([an({type:Boolean,reflect:!0})],Ji.prototype,"open",void 0),Ie([an({type:Boolean,reflect:!0})],Ji.prototype,"isDisabled",void 0),Ie([an({type:Boolean})],Ji.prototype,"displayCaret",void 0),Ie([an({type:Boolean})],Ji.prototype,"closeOnSelect",void 0),Ie([an({type:Boolean})],Ji.prototype,"openViaButton",void 0),Ie([an({type:Boolean})],Ji.prototype,"openViaCaret",void 0),Ie([an({type:Boolean})],Ji.prototype,"includeSelectedOption",void 0),Ie([an({type:String})],Ji.prototype,"selectedOption",void 0),Ie([an({attribute:!1})],Ji.prototype,"options",void 0),Ie([an({type:String})],Ji.prototype,"optionGroup",void 0),Ie([an({attribute:!1})],Ji.prototype,"optionSelected",void 0),Ie([an({type:Boolean,reflect:!0})],Ji.prototype,"isCustomList",void 0),Ie([an({type:Boolean,reflect:!0})],Ji.prototype,"hasCustomClickHandler",void 0),Ie([an({type:Boolean,reflect:!0})],Ji.prototype,"closeOnEscape",void 0),Ie([an({type:Boolean,reflect:!0})],Ji.prototype,"closeOnBackdropClick",void 0),Ji=Ie([Jr("ia-dropdown")],Ji);var ik=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return kt(_templateObject532())}}]),e}(rr);ik.styles=zt(_templateObject533()),ik=Ie([Jr("ia-icon-label")],ik),Br(),Sn(),Wr(),Sn(),Br(),wo();var ok=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}}]),g}();ok.shared=new ok;var Nf=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var t=parseFloat(e);if(!Number.isNaN(t))return t}}}]),g}();Nf.shared=new Nf;var ak=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return Nf.shared.parseValue(e)}}]),g}();ak.shared=new ak;var sk=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));var o=Date.parse(t);if(!Number.isNaN(o)){var l=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(l=new Date(l.getTime()+l.getTimezoneOffset()*1e3*60)),l}}}}]),g}();sk.shared=new sk;var lk=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var t=e.split(":"),o;return t.length===1?o=this.parseNumberFormat(t[0]):o=this.parseColonSeparatedFormat(t),o}}},{key:"parseNumberFormat",value:function(e){var t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}},{key:"parseColonSeparatedFormat",value:function(e){var t=!1,o=e.map(function(l,s){var a=parseFloat(l);if(Number.isNaN(a))return t=!0,0;var r=ji(60,e.length-1-s);return a*Math.floor(r)}).reduce(function(l,s){return l+s},0);return t?void 0:o}}]),g}();lk.shared=new lk;var uk=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}();uk.shared=new uk;var MI=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.separators=[";",","],this.parser=n,e&&e.separators&&(this.separators=e.separators)}return _createClass(g,[{key:"parseValue",value:function(e){var t=String(e),o=[],l=!0,s=!1,a=void 0;try{for(var r=this.separators[Symbol.iterator](),c;!(l=(c=r.next()).done);l=!0){var d=c.value;if(o=t.split(d),o.length>1)break}}catch(h){s=!0,a=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(s)throw a}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var t=this,o=e.map(function(s){return s.trim()}).map(function(s){return t.parser.parseValue(s)}),l=[];return o.forEach(function(s){s!==void 0&&l.push(s)}),l}}]),g}(),ck=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}();ck.shared=new ck;var Bf=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return String(e)}}]),g}();Bf.shared=new Bf,Br(),wo(),Br(),wo(),Br(),wo(),Br(),wo(),Br(),wo(),Br(),wo(),Br(),wo(),Br(),wo();var No=function(){"use strict";function g(n,e){_classCallCheck(this,g),this.parser=n,this.rawValue=e}return _createClass(g,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var t=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return t.forEach(function(l){var s,a=e.parser.parseValue(l);Array.isArray(a)?(s=o).push.apply(s,_toConsumableArray(a)):a!==void 0&&o.push(a)}),o}}]),g}();Ie([Yt()],No.prototype,"values",null),Ie([Yt()],No.prototype,"value",null);var gl=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,ok.shared,t)}return e}(No),ci=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,sk.shared,t)}return e}(No),dk=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,lk.shared,t)}return e}(No),ii=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Nf.shared,t)}return e}(No),hr=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,Bf.shared,t)}return e}(No),LI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,ck.shared,t)}return e}(No),Ff=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,ak.shared,t)}return e}(No),Vc=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,uk.shared,t)}return e}(No),RI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o){return _classCallCheck(this,e),n.call(this,o,t)}return e}(No),DI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o=new MI(Bf.shared);return n.call(this,t,o)}return e}(RI),xr=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new ci(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new hr(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new ii(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new ii(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new hr(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new hr(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new Ff(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new hr(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new hr(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new hr(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new ci(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new hr(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new ii(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new dk(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new hr((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new ii(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new ci(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new hr(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new hr(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new ii(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new Ff(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new hr(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new dk(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new hr(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new ii(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new Vc(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new gl(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new hr(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new ii(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new ii(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new hr(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new hr(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new LI(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new hr(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new ii(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new ci(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new hr(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new ci(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new dk(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new hr(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new hr(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new ci(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new ci(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new ci(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new DI(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new hr(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new hr(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new hr(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new ii(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new hr(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new hr(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new ii(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new hr(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new hr(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new ii(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new ci(this.rawMetadata.year):void 0}},{key:"query",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new hr(this.rawMetadata.fields.query):void 0}},{key:"date_favorited",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new ci(this.rawMetadata.fields.date_favorited):void 0}},{key:"__href__",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}}]),g}();Ie([Yt()],xr.prototype,"addeddate",null),Ie([Yt()],xr.prototype,"audio_codec",null),Ie([Yt()],xr.prototype,"audio_sample_rate",null),Ie([Yt()],xr.prototype,"avg_rating",null),Ie([Yt()],xr.prototype,"collection",null),Ie([Yt()],xr.prototype,"collections_raw",null),Ie([Yt()],xr.prototype,"collection_size",null),Ie([Yt()],xr.prototype,"contributor",null),Ie([Yt()],xr.prototype,"coverage",null),Ie([Yt()],xr.prototype,"creator",null),Ie([Yt()],xr.prototype,"date",null),Ie([Yt()],xr.prototype,"description",null),Ie([Yt()],xr.prototype,"downloads",null),Ie([Yt()],xr.prototype,"duration",null),Ie([Yt()],xr.prototype,"external-identifier",null),Ie([Yt()],xr.prototype,"files_count",null),Ie([Yt()],xr.prototype,"indexdate",null),Ie([Yt()],xr.prototype,"isbn",null),Ie([Yt()],xr.prototype,"issue",null),Ie([Yt()],xr.prototype,"item_count",null),Ie([Yt()],xr.prototype,"item_size",null),Ie([Yt()],xr.prototype,"language",null),Ie([Yt()],xr.prototype,"length",null),Ie([Yt()],xr.prototype,"lineage",null),Ie([Yt()],xr.prototype,"month",null),Ie([Yt()],xr.prototype,"mediatype",null),Ie([Yt()],xr.prototype,"noindex",null),Ie([Yt()],xr.prototype,"notes",null),Ie([Yt()],xr.prototype,"num_favorites",null),Ie([Yt()],xr.prototype,"num_reviews",null),Ie([Yt()],xr.prototype,"openlibrary_edition",null),Ie([Yt()],xr.prototype,"openlibrary_work",null),Ie([Yt()],xr.prototype,"page_progression",null),Ie([Yt()],xr.prototype,"partner",null),Ie([Yt()],xr.prototype,"ppi",null),Ie([Yt()],xr.prototype,"publicdate",null),Ie([Yt()],xr.prototype,"publisher",null),Ie([Yt()],xr.prototype,"reviewdate",null),Ie([Yt()],xr.prototype,"runtime",null),Ie([Yt()],xr.prototype,"scanner",null),Ie([Yt()],xr.prototype,"source",null),Ie([Yt()],xr.prototype,"start_localtime",null),Ie([Yt()],xr.prototype,"start_time",null),Ie([Yt()],xr.prototype,"stop_time",null),Ie([Yt()],xr.prototype,"subject",null),Ie([Yt()],xr.prototype,"taper",null),Ie([Yt()],xr.prototype,"title",null),Ie([Yt()],xr.prototype,"transferer",null),Ie([Yt()],xr.prototype,"track",null),Ie([Yt()],xr.prototype,"type",null),Ie([Yt()],xr.prototype,"uploader",null),Ie([Yt()],xr.prototype,"utc_offset",null),Ie([Yt()],xr.prototype,"venue",null),Ie([Yt()],xr.prototype,"volume",null),Ie([Yt()],xr.prototype,"week",null),Ie([Yt()],xr.prototype,"year",null),Ie([Yt()],xr.prototype,"query",null),Ie([Yt()],xr.prototype,"date_favorited",null),Ie([Yt()],xr.prototype,"__href__",null);var Yr=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}},{key:"addeddate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new ci(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new ii(this.rawMetadata.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new hr(this.rawMetadata.fields.collection):void 0}},{key:"collection_files_count",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_files_count)!=null?new ii(this.rawMetadata.fields.collection_files_count):void 0}},{key:"collection_size",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_size)!=null?new Ff(this.rawMetadata.fields.collection_size):void 0}},{key:"creator",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new hr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new ci(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new hr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new ii(this.rawMetadata.fields.downloads):void 0}},{key:"files_count",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.files_count)!=null?new ii(this.rawMetadata.fields.files_count):void 0}},{key:"genre",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.genre?new hr(this.rawMetadata.fields.genre):void 0}},{key:"indexflag",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.indexflag?new hr(this.rawMetadata.fields.indexflag):void 0}},{key:"issue",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new hr(this.rawMetadata.fields.issue):void 0}},{key:"item_count",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_count)!=null?new ii(this.rawMetadata.fields.item_count):void 0}},{key:"item_size",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_size)!=null?new Ff(this.rawMetadata.fields.item_size):void 0}},{key:"language",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.language?new hr(this.rawMetadata.fields.language):void 0}},{key:"lending___available_to_borrow",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_borrow)!=null?new gl(this.rawMetadata.fields.lending___available_to_borrow):void 0}},{key:"lending___available_to_browse",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_browse)!=null?new gl(this.rawMetadata.fields.lending___available_to_browse):void 0}},{key:"lending___available_to_waitlist",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_waitlist)!=null?new gl(this.rawMetadata.fields.lending___available_to_waitlist):void 0}},{key:"lending___status",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.lending___status?new hr(this.rawMetadata.fields.lending___status):void 0}},{key:"licenseurl",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.licenseurl?new hr(this.rawMetadata.fields.licenseurl):void 0}},{key:"mediatype",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Vc(this.rawMetadata.fields.mediatype):void 0}},{key:"month",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.month)!=null?new ii(this.rawMetadata.fields.month):void 0}},{key:"noindex",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.noindex)!=null?new gl(this.rawMetadata.fields.noindex):void 0}},{key:"num_favorites",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_favorites)!=null?new ii(this.rawMetadata.fields.num_favorites):void 0}},{key:"num_reviews",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_reviews)!=null?new ii(this.rawMetadata.fields.num_reviews):void 0}},{key:"publicdate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new ci(this.rawMetadata.fields.publicdate):void 0}},{key:"reviewdate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new ci(this.rawMetadata.fields.reviewdate):void 0}},{key:"review",get:function(){var e,t=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return t?{body:t.reviewbody,title:t.reviewtitle,author:t.reviewer,authorItem:t.reviewer_itemname,updatedate:new Date(t.reviewdate),createdate:new Date(t.createdate),stars:Number(t.stars)||0,__href__:t.__href__}:void 0}},{key:"source",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new hr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new hr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}},{key:"type",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.type?new hr(this.rawMetadata.fields.type):void 0}},{key:"volume",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.volume?new hr(this.rawMetadata.fields.volume):void 0}},{key:"week",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.week)!=null?new ii(this.rawMetadata.fields.week):void 0}},{key:"year",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new ii(this.rawMetadata.fields.year):void 0}}]),g}();Ie([Yt()],Yr.prototype,"addeddate",null),Ie([Yt()],Yr.prototype,"avg_rating",null),Ie([Yt()],Yr.prototype,"collection",null),Ie([Yt()],Yr.prototype,"collection_files_count",null),Ie([Yt()],Yr.prototype,"collection_size",null),Ie([Yt()],Yr.prototype,"creator",null),Ie([Yt()],Yr.prototype,"date",null),Ie([Yt()],Yr.prototype,"description",null),Ie([Yt()],Yr.prototype,"downloads",null),Ie([Yt()],Yr.prototype,"files_count",null),Ie([Yt()],Yr.prototype,"genre",null),Ie([Yt()],Yr.prototype,"indexflag",null),Ie([Yt()],Yr.prototype,"issue",null),Ie([Yt()],Yr.prototype,"item_count",null),Ie([Yt()],Yr.prototype,"item_size",null),Ie([Yt()],Yr.prototype,"language",null),Ie([Yt()],Yr.prototype,"lending___available_to_borrow",null),Ie([Yt()],Yr.prototype,"lending___available_to_browse",null),Ie([Yt()],Yr.prototype,"lending___available_to_waitlist",null),Ie([Yt()],Yr.prototype,"lending___status",null),Ie([Yt()],Yr.prototype,"licenseurl",null),Ie([Yt()],Yr.prototype,"mediatype",null),Ie([Yt()],Yr.prototype,"month",null),Ie([Yt()],Yr.prototype,"noindex",null),Ie([Yt()],Yr.prototype,"num_favorites",null),Ie([Yt()],Yr.prototype,"num_reviews",null),Ie([Yt()],Yr.prototype,"publicdate",null),Ie([Yt()],Yr.prototype,"reviewdate",null),Ie([Yt()],Yr.prototype,"review",null),Ie([Yt()],Yr.prototype,"source",null),Ie([Yt()],Yr.prototype,"subject",null),Ie([Yt()],Yr.prototype,"title",null),Ie([Yt()],Yr.prototype,"type",null),Ie([Yt()],Yr.prototype,"volume",null),Ie([Yt()],Yr.prototype,"week",null),Ie([Yt()],Yr.prototype,"year",null);var mi=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}},{key:"highlight",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new hr(this.rawMetadata.highlight.text):void 0}},{key:"addeddate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new ci(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new ii(this.rawMetadata.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new hr(this.rawMetadata.fields.collection):void 0}},{key:"created_on",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new ci(this.rawMetadata.fields.created_on):void 0}},{key:"creator",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new hr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new ci(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new hr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new ii(this.rawMetadata.fields.downloads):void 0}},{key:"filename",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new hr(this.rawMetadata.fields.filename):void 0}},{key:"file_basename",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new hr(this.rawMetadata.fields.file_basename):void 0}},{key:"file_creation_mtime",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime)!=null?new ii(this.rawMetadata.fields.file_creation_mtime):void 0}},{key:"issue",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new hr(this.rawMetadata.fields.issue):void 0}},{key:"mediatype",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Vc(this.rawMetadata.fields.mediatype):void 0}},{key:"page_num",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.page_num)!=null?new ii(this.rawMetadata.fields.page_num):void 0}},{key:"publicdate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new ci(this.rawMetadata.fields.publicdate):void 0}},{key:"result_in_subfile",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile)!=null?new gl(this.rawMetadata.fields.result_in_subfile):void 0}},{key:"reviewdate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new ci(this.rawMetadata.fields.reviewdate):void 0}},{key:"source",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new hr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new hr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}},{key:"updated_on",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new ci(this.rawMetadata.fields.updated_on):void 0}},{key:"year",get:function(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new ii(this.rawMetadata.fields.year):void 0}},{key:"__href__",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}}]),g}();Ie([Yt()],mi.prototype,"highlight",null),Ie([Yt()],mi.prototype,"addeddate",null),Ie([Yt()],mi.prototype,"avg_rating",null),Ie([Yt()],mi.prototype,"collection",null),Ie([Yt()],mi.prototype,"created_on",null),Ie([Yt()],mi.prototype,"creator",null),Ie([Yt()],mi.prototype,"date",null),Ie([Yt()],mi.prototype,"description",null),Ie([Yt()],mi.prototype,"downloads",null),Ie([Yt()],mi.prototype,"filename",null),Ie([Yt()],mi.prototype,"file_basename",null),Ie([Yt()],mi.prototype,"file_creation_mtime",null),Ie([Yt()],mi.prototype,"issue",null),Ie([Yt()],mi.prototype,"mediatype",null),Ie([Yt()],mi.prototype,"page_num",null),Ie([Yt()],mi.prototype,"publicdate",null),Ie([Yt()],mi.prototype,"result_in_subfile",null),Ie([Yt()],mi.prototype,"reviewdate",null),Ie([Yt()],mi.prototype,"source",null),Ie([Yt()],mi.prototype,"subject",null),Ie([Yt()],mi.prototype,"title",null),Ie([Yt()],mi.prototype,"updated_on",null),Ie([Yt()],mi.prototype,"year",null),Ie([Yt()],mi.prototype,"__href__",null);var qc;(function(g){g[g.COUNT=0]="COUNT",g[g.ALPHABETICAL=1]="ALPHABETICAL",g[g.NUMERIC=2]="NUMERIC"})(qc||(qc={}));var YE=function(){"use strict";function g(n){_classCallCheck(this,g),this.buckets=n.buckets,this.doc_count_error_upper_bound=n.doc_count_error_upper_bound,this.sum_other_doc_count=n.sum_other_doc_count,this.first_bucket_key=n.first_bucket_key,this.last_bucket_key=n.last_bucket_key,this.number_buckets=n.number_buckets,this.interval=n.interval}return _createClass(g,[{key:"getSortedBuckets",value:function(e){var t=_toConsumableArray(this.buckets);if(this.isRawNumberBuckets(t))return t;var o=new Intl.Collator;switch(e){case qc.ALPHABETICAL:return t.sort(function(l,s){return o.compare(l.key.toString(),s.key.toString())});case qc.NUMERIC:return t.sort(function(l,s){return Number(s.key)-Number(l.key)});case qc.COUNT:default:return t}}},{key:"isRawNumberBuckets",value:function(e){return typeof this.buckets[0]=="number"}}]),g}();Ie([Yt()],YE.prototype,"getSortedBuckets",null);var Wc=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}},{key:"title",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}},{key:"query",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new hr(this.rawMetadata.fields.query):void 0}},{key:"date_favorited",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new ci(this.rawMetadata.fields.date_favorited):void 0}},{key:"__href__",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}}]),g}();Ie([Yt()],Wc.prototype,"title",null),Ie([Yt()],Wc.prototype,"query",null),Ie([Yt()],Wc.prototype,"date_favorited",null),Ie([Yt()],Wc.prototype,"__href__",null);var zf=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.url}},{key:"mediatype",get:function(){return new Vc("web")}},{key:"title",get:function(){var e,t,o;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.url?new hr((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.url):void 0}},{key:"capture_dates",get:function(){var e,t,o;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.capture_dates?new ci((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.capture_dates):void 0}},{key:"__href__",get:function(){var e,t,o;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.__href__):void 0}}]),g}();Ie([Yt()],zf.prototype,"title",null),Ie([Yt()],zf.prototype,"capture_dates",null),Ie([Yt()],zf.prototype,"__href__",null);var gi=function(){"use strict";function g(n){_classCallCheck(this,g),this.rawMetadata=n}return _createClass(g,[{key:"identifier",get:function(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}},{key:"highlight",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new hr(this.rawMetadata.highlight.text):void 0}},{key:"addeddate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new ci(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,t,o,l=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating;return l||l===0?new ii((o=this.rawMetadata)===null||o===void 0?void 0:o.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new hr(this.rawMetadata.fields.collection):void 0}},{key:"created_on",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new ci(this.rawMetadata.fields.created_on):void 0}},{key:"creator",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new hr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new ci(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new hr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,t,o,l=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads;return l||l===0?new ii((o=this.rawMetadata)===null||o===void 0?void 0:o.fields.downloads):void 0}},{key:"filename",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new hr(this.rawMetadata.fields.filename):void 0}},{key:"file_basename",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new hr(this.rawMetadata.fields.file_basename):void 0}},{key:"file_creation_mtime",get:function(){var e,t,o,l=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime;return l||l===0?new ii((o=this.rawMetadata)===null||o===void 0?void 0:o.fields.file_creation_mtime):void 0}},{key:"issue",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new hr(this.rawMetadata.fields.issue):void 0}},{key:"mediatype",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Vc(this.rawMetadata.fields.mediatype):void 0}},{key:"publicdate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new ci(this.rawMetadata.fields.publicdate):void 0}},{key:"result_in_subfile",get:function(){var e,t,o,l=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile;return l||l===!1?new gl((o=this.rawMetadata)===null||o===void 0?void 0:o.fields.result_in_subfile):void 0}},{key:"reviewdate",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new ci(this.rawMetadata.fields.reviewdate):void 0}},{key:"source",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new hr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new hr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}},{key:"updated_on",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new ci(this.rawMetadata.fields.updated_on):void 0}},{key:"year",get:function(){var e,t,o,l=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year;return l||l===0?new ii((o=this.rawMetadata)===null||o===void 0?void 0:o.fields.year):void 0}},{key:"start",get:function(){var e,t,o,l=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.start;return l||l===0?new hr((o=this.rawMetadata)===null||o===void 0?void 0:o.fields.start):void 0}},{key:"__href__",get:function(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}}]),g}();Ie([Yt()],gi.prototype,"highlight",null),Ie([Yt()],gi.prototype,"addeddate",null),Ie([Yt()],gi.prototype,"avg_rating",null),Ie([Yt()],gi.prototype,"collection",null),Ie([Yt()],gi.prototype,"created_on",null),Ie([Yt()],gi.prototype,"creator",null),Ie([Yt()],gi.prototype,"date",null),Ie([Yt()],gi.prototype,"description",null),Ie([Yt()],gi.prototype,"downloads",null),Ie([Yt()],gi.prototype,"filename",null),Ie([Yt()],gi.prototype,"file_basename",null),Ie([Yt()],gi.prototype,"file_creation_mtime",null),Ie([Yt()],gi.prototype,"issue",null),Ie([Yt()],gi.prototype,"mediatype",null),Ie([Yt()],gi.prototype,"publicdate",null),Ie([Yt()],gi.prototype,"result_in_subfile",null),Ie([Yt()],gi.prototype,"reviewdate",null),Ie([Yt()],gi.prototype,"source",null),Ie([Yt()],gi.prototype,"subject",null),Ie([Yt()],gi.prototype,"title",null),Ie([Yt()],gi.prototype,"updated_on",null),Ie([Yt()],gi.prototype,"year",null),Ie([Yt()],gi.prototype,"start",null),Ie([Yt()],gi.prototype,"__href__",null);var $I=["loans","waitlist","loan_history"],NI=function(){"use strict";function g(n,e){_classCallCheck(this,g);var t,o,l,s,a,r,c,d,h,p,v,k,x,S;this.schema=e,this.schemaHitType=e==null?void 0:e.hit_type;var A;n!=null&&n.page_elements&&(this.pageElements=n.page_elements,A=Object.values(this.pageElements)[0]);var E=(t=n==null?void 0:n.hits)===null||t===void 0?void 0:t.hits;this.totalResults=(l=(o=n==null?void 0:n.hits)===null||o===void 0?void 0:o.total)!==null&&l!==void 0?l:0,this.returnedCount=(a=(s=n==null?void 0:n.hits)===null||s===void 0?void 0:s.returned)!==null&&a!==void 0?a:0,!(E!=null&&E.length)&&!((r=this.pageElements)===null||r===void 0)&&r.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(E!=null&&E.length)&&!((c=A==null?void 0:A.hits)===null||c===void 0)&&c.hits?(E=A.hits.hits,this.totalResults=(d=A.hits.total)!==null&&d!==void 0?d:0,this.returnedCount=(h=A.hits.returned)!==null&&h!==void 0?h:0):!((p=this.pageElements)===null||p===void 0)&&p.lending?E=this.handleLendingPageElement():!((v=this.pageElements)===null||v===void 0)&&v.web_archives&&(E=this.handleWebArchivesPageElement()),this.results=this.formatHits(E);var O=n==null?void 0:n.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(A!=null&&A.aggregations)&&(O=A.aggregations),O&&this.buildAggregations(O),n!=null&&n.collection_titles&&(this.collectionTitles=(k=n.collection_titles)!==null&&k!==void 0?k:{}),n!=null&&n.collection_extra_info&&(this.collectionExtraInfo=(x=n.collection_extra_info)!==null&&x!==void 0?x:null),n!=null&&n.account_extra_info&&(this.accountExtraInfo=(S=n.account_extra_info)!==null&&S!==void 0?S:null)}return _createClass(g,[{key:"formatHits",value:function(e){var t=this,o;return(o=e==null?void 0:e.map(function(l){var s;return g.createResult((s=l.hit_type)!==null&&s!==void 0?s:t.schemaHitType,l)}))!==null&&o!==void 0?o:[]}},{key:"buildAggregations",value:function(e){this.aggregations=Object.entries(e).reduce(function(t,o){var l=_slicedToArray(o,2),s=l[0],a=l[1];return t[s]=new YE(a),t},{})}},{key:"handleLendingPageElement",value:function(){var e,t,o=(e=this.pageElements)===null||e===void 0?void 0:e.lending,l=(t=o.loans)!==null&&t!==void 0?t:[];this.totalResults=l.length,this.returnedCount=this.totalResults;var s=!0,a=!1,r=void 0;try{for(var c=$I[Symbol.iterator](),d;!(s=(d=c.next()).done);s=!0){var h=d.value;o[h]=this.formatHits(o[h])}}catch(p){a=!0,r=p}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw r}}return l}},{key:"handleWebArchivesPageElement",value:function(){var e,t=WT((e=this.pageElements)===null||e===void 0?void 0:e.web_archives);return this.totalResults=t.length,this.returnedCount=this.totalResults,t}},{key:"handleFederatedPageElements",value:function(){var e,t,o,l,s=["service___fts","service___tvs","service___rcs","service___whisper"],a=!0,r=!1,c=void 0;try{for(var d=s[Symbol.iterator](),h;!(a=(h=d.next()).done);a=!0){var p=h.value,v=this.removeServicePrefix(p);this.federatedResults?this.federatedResults[p]=[]:this.federatedResults=_defineProperty({},v,[]);var k=(t=(e=this.pageElements)===null||e===void 0?void 0:e[p])===null||t===void 0?void 0:t.hits;k!=null&&k.hits&&(this.federatedResults[v]=this.formatHits(k==null?void 0:k.hits)),this.totalResults+=(o=k==null?void 0:k.total)!==null&&o!==void 0?o:0,this.returnedCount+=(l=k==null?void 0:k.returned)!==null&&l!==void 0?l:0}}catch(x){r=!0,c=x}finally{try{!a&&d.return!=null&&d.return()}finally{if(r)throw c}}}},{key:"removeServicePrefix",value:function(e){return e.split("___")[1]}}],[{key:"createResult",value:function(e,t){switch(e){case"item":return new Yr(t);case"text":case"asr_text":return new mi(t);case"favorited_search":return new Wc(t);case"web_archive":return new zf(t);case"tv_clip":return new gi(t);default:return new Yr(t)}}}]),g}(),BI=function g(n){"use strict";_classCallCheck(this,g),this.clientParameters=n.client_parameters,this.backendRequests=n.backend_requests,this.kind=n.kind},FI=function g(n){"use strict";_classCallCheck(this,g);var e,t,o;this.rawResponse=n,this.request=new BI(n.request),this.responseHeader=(e=n.response)===null||e===void 0?void 0:e.header,this.sessionContext=n.session_context,this.response=new NI((t=n.response)===null||t===void 0?void 0:t.body,(o=n.response)===null||o===void 0?void 0:o.hit_schema)},Hf=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.omit)return"false";if(e.advancedParams){var t=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field,":").concat(e.direction)}},{key:"filterParamsAsString",value:function(e){return JSON.stringify(e)}},{key:"generateURLSearchParams",value:function(e){var t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){var o="[".concat(e.pageElements.map(function(h){return'"'.concat(h,'"')}).join(","),"]");t.append("page_elements",o)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){var l=this.filterParamsAsString(e.filters);l&&l!=="{}"&&t.append("filter_map",l)}if(e.sort&&e.sort.length>0){var s=this,a=e.sort.map(function(h){return s.sortParamsAsString(h)});t.append("sort",a.join(","))}var r=e.aggregations;if(r){var c=this.aggregateSearchParamsAsString(r);c&&t.append("aggregations",c)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){var d=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",d)}return t}}]),g}(),Yc;(function(g){g.networkError="SearchService.NetworkError",g.itemNotFound="SearchService.ItemNotFound",g.decodingError="SearchService.DecodingError",g.searchEngineError="SearchService.SearchEngineError"})(Yc||(Yc={}));var zI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l){_classCallCheck(this,e);var s;return s=n.call(this,o),s.name=t,s.type=t,s.details=l,_possibleConstructorReturn(s)}return e}(_wrapNativeSuper(Error)),GE={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},Uf=function(){"use strict";function g(n){_classCallCheck(this,g);var e,t;this.baseUrl=(e=n==null?void 0:n.baseUrl)!==null&&e!==void 0?e:"archive.org",(n==null?void 0:n.includeCredentials)!==void 0?this.includeCredentials=n.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;var o=new URL(window.location.href).searchParams,l=o.get("scope"),s=o.get("verbose"),a=o.get("debugging"),r=o.get("cacheDebug"),c="",d=!0,h=!1,p=void 0;try{for(var v=Object.keys(GE)[Symbol.iterator](),k;!(d=(k=v.next()).done);d=!0){var x=k.value;if(o.get(x)){c=GE[x];break}}}catch(S){h=!0,p=S}finally{try{!d&&v.return!=null&&v.return()}finally{if(h)throw p}}c=(t=o.get("caching"))!==null&&t!==void 0?t:c,(n==null?void 0:n.caching)!==void 0?this.cachingFlags=n.caching:c&&(this.cachingFlags=c),(n==null?void 0:n.debuggingEnabled)!==void 0?this.debuggingEnabled=n.debuggingEnabled:(a||r)&&(this.debuggingEnabled=!0),(n==null?void 0:n.scope)!==void 0?this.requestScope=n.scope:l&&(this.requestScope=l),(n==null?void 0:n.verbose)!==void 0?this.verbose=n.verbose:s&&(this.verbose=!!s)}return _createClass(g,[{key:"fetchUrl",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r,c,d,h,p,v;return _regeneratorRuntime.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return a=new URL(e),this.requestScope&&a.searchParams.set("scope",this.requestScope),this.cachingFlags&&a.searchParams.set("caching",this.cachingFlags),x.prev=4,c=(l=t==null?void 0:t.requestOptions)!==null&&l!==void 0?l:{credentials:this.includeCredentials?"include":"same-origin"},x.next=8,fetch(a.href,c);case 8:r=x.sent,x.next=15;break;case 11:return x.prev=11,x.t0=x.catch(4),d=_instanceof(x.t0,Error)?x.t0.message:typeof x.t0=="string"?x.t0:"Unknown error",x.abrupt("return",this.getErrorResult(Yc.networkError,d));case 15:return x.prev=15,x.next=18,r.json();case 18:return h=x.sent,this.verbose&&this.printResponse(h),h.debugging&&this.printDebuggingInfo(h),p=(s=h.response)===null||s===void 0?void 0:s.error,x.abrupt("return",p?this.getErrorResult(Yc.searchEngineError,p.message,p.forensics):{success:h});case 24:return x.prev=24,x.t1=x.catch(15),v=_instanceof(x.t1,Error)?x.t1.message:typeof x.t1=="string"?x.t1:"Unknown error",x.abrupt("return",this.getErrorResult(Yc.decodingError,v));case 28:case"end":return x.stop()}},o,this,[[4,11],[15,24]])}))}},{key:"getErrorResult",value:function(e,t,o){return{error:new zI(e,t,o)}}},{key:"printResponse",value:function(e){var t,o,l,s,a;try{var r=JSON.parse(JSON.stringify(e)),c=(l=(o=(t=r==null?void 0:r.response)===null||t===void 0?void 0:t.body)===null||o===void 0?void 0:o.hits)===null||l===void 0?void 0:l.hits;if(Array.isArray(c)&&c.length>1){var d=[];d.push(c[0]),d.push("*** ".concat(c.length-1," hits omitted ***")),r.response.body.hits.hits=d}var h=(a=(s=r==null?void 0:r.response)===null||s===void 0?void 0:s.body)===null||a===void 0?void 0:a.aggregations;h&&Object.entries(h).forEach(function(p){var v=_slicedToArray(p,2),k=v[0],x=v[1],S,A,E,O;if(((A=(S=x)===null||S===void 0?void 0:S.buckets)===null||A===void 0?void 0:A.length)>0){var T=JSON.parse(JSON.stringify(x));T.buckets="*** ".concat((O=(E=T.buckets)===null||E===void 0?void 0:E.length)!==null&&O!==void 0?O:0," buckets omitted ***"),r.response.body.aggregations[k]=T}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(r,null,2)),console.groupEnd()}catch(p){console.error("Error printing search response:",p)}}},{key:"printDebuggingInfo",value:function(e){var t,o,l=e.debugging,s=(t=l.messages)!==null&&t!==void 0?t:[],a=(o=l.data)!==null&&o!==void 0?o:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");var r=!0,c=!1,d=void 0;try{for(var h=s[Symbol.iterator](),p;!(r=(p=h.next()).done);r=!0){var v=p.value;console.log(v)}}catch(u){c=!0,d=u}finally{try{!r&&h.return!=null&&h.return()}finally{if(c)throw d}}console.groupEnd(),console.group("Debug data");var k=!0,x=!1,S=void 0;try{for(var A=Object.entries(a)[Symbol.iterator](),E;!(k=(E=A.next()).done);k=!0){var O=_slicedToArray(E.value,2),T=O[0],b=O[1];console.log(T,b)}}catch(u){x=!0,S=u}finally{try{!k&&A.return!=null&&A.return()}finally{if(x)throw S}}console.groupEnd(),console.log("***** END DEBUGGING *****")}}]),g}(),HI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o,l;return o=n.call(this,t),o.servicePath=(l=t==null?void 0:t.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),s=Hf.generateURLSearchParams(o).toString(),a="https://".concat(this.baseUrl).concat(this.servicePath,"/?").concat(s),c.abrupt("return",this.fetchUrl(a));case 3:case"end":return c.stop()}},l,this)}))}}]),e}(Uf),UI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o,l;return o=n.call(this,t),o.servicePath=(l=t==null?void 0:t.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),s=Hf.generateURLSearchParams(o).toString(),a="https://".concat(this.baseUrl).concat(this.servicePath,"/?service_backend=fts&").concat(s),c.abrupt("return",this.fetchUrl(a));case 3:case"end":return c.stop()}},l,this)}))}}]),e}(Uf),VI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o,l;return o=n.call(this,t),o.servicePath=(l=t==null?void 0:t.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),s=Hf.generateURLSearchParams(o).toString(),a="https://".concat(this.baseUrl).concat(this.servicePath,"/?service_backend=rcs&").concat(s),c.abrupt("return",this.fetchUrl(a));case 3:case"end":return c.stop()}},l,this)}))}}]),e}(Uf),ks;(function(g){g[g.METADATA=0]="METADATA",g[g.FULLTEXT=1]="FULLTEXT",g[g.RADIO=3]="RADIO",g[g.FEDERATED=4]="FEDERATED"})(ks||(ks={}));var qI=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t){_classCallCheck(this,e);var o,l;return o=n.call(this,t),o.servicePath=(l=t==null?void 0:t.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),s=Hf.generateURLSearchParams(o).toString(),a="https://".concat(this.baseUrl).concat(this.servicePath,"/?page_type=simple_federation&").concat(s),c.abrupt("return",this.fetchUrl(a));case 3:case"end":return c.stop()}},l,this)}))}}]),e}(Uf),Vf=function(){"use strict";function g(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck(this,g),this.backendOptions=n}return _createClass(g,[{key:"search",value:function(e){return Bn(this,arguments,_regeneratorRuntime.default.mark(function t(o){var l,s,a=arguments;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=a.length>1&&a[1]!==void 0?a[1]:ks.METADATA,c.next=3,g.getBackendForSearchType(l,this.backendOptions).performSearch(o);case 3:return s=c.sent,c.abrupt("return",s.error?s:{success:new FI(s.success)});case 5:case"end":return c.stop()}},t,this)}))}}],[{key:"getBackendForSearchType",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(e){case ks.FULLTEXT:return new UI(t);case ks.RADIO:return new VI(t);case ks.FEDERATED:return new qI(t);case ks.METADATA:default:return new HI(t)}}}]),g}();Vf.default=new Vf,Ie([Yt(function(g){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.includeCredentials,t=e===void 0?!1:e,o=n.verbose,l=o===void 0?!1:o,s=n.scope,a=s===void 0?"":s,r=n.baseUrl,c=r===void 0?"":r;return"".concat(g,";").concat(t,";").concat(l,";").concat(a,";").concat(c)})],Vf,"getBackendForSearchType",null);var KE;(function(g){g.INCLUDE="inc",g.EXCLUDE="exc",g.GREATER_THAN="gt",g.GREATER_OR_EQUAL="gte",g.LESS_THAN="lt",g.LESS_OR_EQUAL="lte"})(KE||(KE={}));var XE=zt(_templateObject534()),WI=zt(_templateObject535()),YI=zt(_templateObject536()),GI=zt(_templateObject537()),hk=zt(_templateObject538()),KI=zt(_templateObject539()),XI=zt(_templateObject540()),fk=zt(_templateObject541()),JI=zt(_templateObject542()),ZI=zt(_templateObject543()),pk=zt(_templateObject544()),QI=zt(_templateObject545()),e1=zt(_templateObject546()),t1=zt(_templateObject547()),n1=zt(_templateObject548(),XE,XE,WI,YI,e1,t1,GI,KI,hk,hk,hk,XI,JI,fk,fk,fk,ZI,QI,pk,pk,pk),Gc;(function(g){g.NETWORK="failed to connect to user lists backend service",g.BAD_RESPONSE="malformed response from backend",g.USER_NOT_FOUND="user with the given id was not found",g.LIST_NOT_FOUND="user list with the given id was not found",g.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",g.ITEM_NOT_TOUND="item with the given id was not found"})(Gc||(Gc={}));var r1=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o,l){_classCallCheck(this,e);var s;return s=n.call(this,o,l),s.reason=t,_possibleConstructorReturn(s)}return e}(_wrapNativeSuper(Error)),vk="application/json; charset=utf-8",mk=function(){"use strict";function g(n){var e=n.fetchHandler,t=n.searchService,o=n.userService,l=n.baseUrl,s=l===void 0?g.DEFAULT_BASE_URL:l;_classCallCheck(this,g),this.fetchHandler=e,this.searchService=t,this.userService=o,this.baseUrl=s}return _createClass(g,[{key:"fetchEndpoint",value:function(e,t,o,l){return Bn(this,null,_regeneratorRuntime.default.mark(function s(){var a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,this.fetchHandler.fetchApiResponse(e,{method:t,body:o,headers:l,includeCredentials:!0});case 3:return a=c.sent,c.abrupt("return",a.success?{success:a.value}:{error:g.getErrorResult(Gc.LIST_NOT_FOUND,a.error)});case 7:return c.prev=7,c.t0=c.catch(0),c.abrupt("return",{error:g.getErrorResult(Gc.NETWORK,c.t0)});case 10:case"end":return c.stop()}},s,this,[[0,7]])}))}},{key:"fetchListsForUser",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.userService.getLoggedInUser();case 3:if(r.t1=o=r.sent,r.t0=r.t1===null,r.t0){r.next=7;break}r.t0=o===void 0;case 7:if(!r.t0){r.next=11;break}r.t2=void 0,r.next=12;break;case 11:r.t2=o.success;case 12:return l=r.t2,s=(l==null?void 0:l.itemname)===e?"me":e,r.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/").concat(s,"/lists")));case 15:case"end":return r.stop()}},t,this)}))}},{key:"fetchList",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/").concat(e,"/lists/").concat(t)));case 1:case"end":return s.stop()}},o,this)}))}},{key:"fetchOwnListsContainingItem",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists?item=").concat(e)));case 1:case"end":return l.stop()}},t,this)}))}},{key:"fetchListMembers",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.fetchList(e,t);case 2:if(l=c.sent,l.success){c.next=5;break}return c.abrupt("return",l);case 5:if(s=l.success,a=s.members,a){c.next=8;break}throw g.getErrorResult(Gc.BAD_RESPONSE);case 8:return c.abrupt("return",{success:a});case 9:case"end":return c.stop()}},o,this)}))}},{key:"fetchListMemberSearchResults",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s,a,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.fetchListMembers(e,t);case 2:if(l=d.sent,l.success){d.next=5;break}return d.abrupt("return",l);case 5:if(s=l.success,s.length!==0){d.next=8;break}return d.abrupt("return",{success:[]});case 8:return a="identifier:(".concat(s.map(function(h){return h.identifier}).join(" OR "),")"),d.next=11,this.searchService.search({query:a,rows:s.length,aggregations:{omit:!0}},ks.METADATA);case 11:return r=d.sent,d.abrupt("return",r.success?{success:r.success.response.results}:{error:r.error});case 13:case"end":return d.stop()}},o,this)}))}},{key:"createList",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists"),"POST",JSON.stringify(e),{"Content-Type":vk}));case 1:case"end":return l.stop()}},t,this)}))}},{key:"updateList",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e),"PATCH",JSON.stringify(t),{"Content-Type":vk}));case 1:case"end":return s.stop()}},o,this)}))}},{key:"deleteList",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e),"DELETE"));case 1:case"end":return l.stop()}},t,this)}))}},{key:"addMemberToList",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e,"/members"),"POST",JSON.stringify(t),{"Content-Type":vk}));case 1:case"end":return s.stop()}},o,this)}))}},{key:"removeMemberFromList",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e,"/members/").concat(t),"DELETE"));case 1:case"end":return s.stop()}},o,this)}))}}],[{key:"getErrorResult",value:function(e,t){return new r1(e,g.getErrorMessage(t),{cause:t})}},{key:"getErrorMessage",value:function(e){return _instanceof(e,Error)?e.message:typeof e=="string"?e:"Unknown error"}}]),g}();mk.DEFAULT_BASE_URL="https://archive.org";var ja=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.apply(this,arguments)}return _createClass(e,[{key:"saveListDetails",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s,a,r,c,d,h,p;return _regeneratorRuntime.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(o.preventDefault(),d=(s=o.target)===null||s===void 0?void 0:s.querySelector("button#save-list-settings"),d==null||d.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving")),k.prev=4,h={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},!(!((a=this.userList)===null||a===void 0)&&a.id)){k.next=12;break}return k.next=9,(r=this.userListsService)===null||r===void 0?void 0:r.updateList(this.userList.id,h);case 9:p=k.sent,k.next=15;break;case 12:return k.next=14,(c=this.userListsService)===null||c===void 0?void 0:c.createList(h);case 14:p=k.sent;case 15:if(!p.success){k.next=19;break}this.dispatchEvent(new CustomEvent("userListSaved",{detail:p.success})),k.next=20;break;case 19:throw p.error;case 20:k.next=25;break;case 22:k.prev=22,k.t0=k.catch(4),this.dispatchEvent(new CustomEvent("userListError",{detail:{error:k.t0}})),console.log("error",k.t0),d==null||d.removeAttribute("disabled");case 25:case"end":return k.stop()}},l,this,[[4,22]])}))}},{key:"emitCloseModalEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}},{key:"render",value:function(){var o,l,s,a,r,c,d,h;return kt(_templateObject549(),this.saveListDetails,(l=(o=this.userList)===null||o===void 0?void 0:o.id)!==null&&l!==void 0?l:"",(a=(s=this.userList)===null||s===void 0?void 0:s.list_name)!==null&&a!==void 0?a:"",(c=(r=this.userList)===null||r===void 0?void 0:r.description)!==null&&c!==void 0?c:"",(h=(d=this.userList)===null||d===void 0?void 0:d.is_private)!==null&&h!==void 0?h:!1,this.emitCloseModalEvent)}}]),e}(rr);ja.styles=[n1,zt(_templateObject550())],Ie([an({type:Object}),Vr("design:type",Object)],ja.prototype,"userList",void 0),Ie([an({type:Object}),Vr("design:type",mk)],ja.prototype,"userListsService",void 0),Ie([li("#id"),Vr("design:type",HTMLInputElement)],ja.prototype,"listId",void 0),Ie([li("#name"),Vr("design:type",HTMLInputElement)],ja.prototype,"listName",void 0),Ie([li("#description"),Vr("design:type",HTMLInputElement)],ja.prototype,"listDescription",void 0),Ie([li("#private"),Vr("design:type",HTMLInputElement)],ja.prototype,"listPrivate",void 0),ja=Ie([Jr("iaux-userlist-settings")],ja);function Pu(){if(!_instanceof(this,Pu))return new Pu}Pu.prototype={get:function(n){for(var e=n+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var l=t[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(e)==0)return decodeURI(l.substring(e.length,l.length))}return!1},set:function(n,e,t){if(tp(n))for(var o in n)this.set(o,n[o],e,t);else if(typeof n=="string"){var l=tp(t)?t:{expires:t},s=l.path!==void 0?";path=".concat(l.path,";path=/"):";path=/",a=l.domain?";domain=".concat(l.domain):"",r=l.secure?";secure":"",c=l.expires!==void 0?l.expires:"";typeof c=="string"&&c!==""?c=new Date(c):typeof c=="number"&&(c=new Date(+new Date+1e3*60*60*24*c)),c!==""&&"toGMTString"in c&&(c=";expires=".concat(c.toGMTString()));var d=l.sameSite?";SameSite=".concat(l.sameSite):"";document.cookie="".concat(n,"=").concat(encodeURI(e)+c+s+a+r+d)}},remove:function(n){n=GT(n)?n:KT(arguments);for(var e=0,t=n.length;e<t;e++)this.set(n[e],"",-1);return n},clear:function(n){return n?this.remove(n):this.remove(YT(this.all()))},all:function(){if(document.cookie==="")return{};for(var n=document.cookie.split("; "),e={},t=0,o=n.length;t<o;t++){var l=n[t].split("=");e[decodeURI(l[0])]=decodeURI(l[1])}return e}};var yl=null,JE=function(n,e,t){var o=arguments;if(yl||(yl=Pu()),o.length===0)return yl.all();if(o.length===1&&n===null)return yl.clear();if(o.length===2&&!e)return yl.clear(n);if(typeof n=="string"&&!e)return yl.get(n);if(typeof n=="string"&&e||tp(n))return yl.set(n,e,t)};for(var ZE in Pu.prototype)JE[ZE]=Pu.prototype[ZE];Ci();var i1=function(){"use strict";function g(n){_classCallCheck(this,g),this.name=n.name,this.source=n.source,this.mtime=n.mtime,this.size=n.size,this.md5=n.md5,this.crc32=n.crc32,this.sha1=n.sha1,this.format=n.format,this.rotation=n.rotation}return _createClass(g,null,[{key:"fromResponse",value:function(e){var t=co.shared,o=Ua.shared,l,s,a;return e.mtime&&(l=t.parseValue(e.mtime)),e.size&&(s=o.parseValue(e.size)),e.rotation&&(a=t.parseValue(e.rotation)),new g({name:e.name,source:e.source,mtime:l,size:s,md5:e.md5,crc32:e.crc32,sha1:e.sha1,format:e.format,rotation:a})}}]),g}(),QE=function(){"use strict";function g(n){_classCallCheck(this,g),this.username=n.username,this.itemname=n.itemname,this.screenname=n.screenname,this.privs=n.privs,this.image_info=n.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");var e=n.itemname;this.userid=e.startsWith("@")?e.substring(1):e}return _createClass(g,null,[{key:"fromUserResponse",value:function(e){return new g({username:e.username,itemname:e.itemname,screenname:e.screenname,privs:e.privs,image_info:i1.fromResponse(e.image_info)})}}]),g}(),Iu;(function(g){g.userNotLoggedIn="UserService.userNotLoggedIn",g.networkError="UserService.networkError",g.decodingError="UserService.decodingError"})(Iu||(Iu={}));var qf=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(t,o){_classCallCheck(this,e);var l;return l=n.call(this,o),l.name=t,l.type=t,_possibleConstructorReturn(l)}return e}(_wrapNativeSuper(Error)),o1=function(){"use strict";function g(n){_classCallCheck(this,g);var e,t;this.userServiceEndpoint=(e=n==null?void 0:n.userServiceEndpoint)!==null&&e!==void 0?e:"https://archive.org/services/user.php?op=whoami",this.cache=n==null?void 0:n.cache,this.cacheTTL=n==null?void 0:n.cacheTTL,this.userCacheKey=(t=n==null?void 0:n.userCacheKey)!==null&&t!==void 0?t:"loggedInUserInfo"}return _createClass(g,[{key:"getLoggedInUser",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=JE.get("logged-in-user"),t!==!1){r.next=3;break}return r.abrupt("return",{error:new qf(Iu.userNotLoggedIn)});case 3:return r.next=5,this.getPersistedUser();case 5:if(o=r.sent,!o){r.next=10;break}if(l=QE.fromUserResponse(o),t!==l.username){r.next=10;break}return r.abrupt("return",{success:l});case 10:if(!this.fetchPromise){r.next=12;break}return r.abrupt("return",(this.fetchPromise=this.fetchPromise.then(function(c){return c}),this.fetchPromise));case 12:return this.fetchPromise=this.fetchUser(),r.next=15,this.fetchPromise;case 15:return s=r.sent,r.abrupt("return",(this.fetchPromise=void 0,s));case 17:case"end":return r.stop()}},e,this)}))}},{key:"fetchUser",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t,o,l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,fetch(this.userServiceEndpoint,{credentials:"include"});case 4:t=r.sent,r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(1),r.abrupt("return",{error:new qf(Iu.networkError,r.t0.message)});case 10:return r.prev=11,r.next=14,t.json();case 14:o=r.sent,r.next=20;break;case 17:return r.prev=17,r.t1=r.catch(11),r.abrupt("return",{error:new qf(Iu.decodingError,r.t1.message)});case 20:if(!(!o.success||!o.value)){r.next=22;break}return r.abrupt("return",{error:new qf(Iu.userNotLoggedIn,o.error)});case 22:return l=o.value,s=QE.fromUserResponse(l),r.next=25,this.persistUser(l);case 25:return r.abrupt("return",(r.sent,{success:s}));case 26:case"end":return r.stop()}},e,this,[[1,7],[11,17]])}))}},{key:"getPersistedUser",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function e(){var t;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(t=this.cache)===null||t===void 0?void 0:t.get(this.userCacheKey));case 2:case"end":return l.stop()}},e,this)}))}},{key:"persistUser",value:function(e){return Bn(this,null,_regeneratorRuntime.default.mark(function t(){var o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(o=this.cache)===null||o===void 0?void 0:o.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL});case 3:case"end":return s.stop()}},t,this)}))}}]),g}();Vu(),Br(),Sn(),Wr(),Br(),Sn(),Wr(),Sn(),Vu(),Sn(),Sn(),Sn();var a1=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"fetchApiResponse",value:function(e,t){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={},t!=null&&t.includeCredentials&&(l.credentials="include"),t!=null&&t.method&&(l.method=t.method),t!=null&&t.body&&(l.body=t.body),t!=null&&t.headers&&(l.headers=t.headers),a.next=7,fetch(e,l);case 7:return a.next=9,a.sent.json();case 9:return a.abrupt("return",a.sent);case 10:case"end":return a.stop()}},o)}))}}]),g}(),s1="https://archive.org",eT={create:function(n){var e=n.serviceUrl,t=n.serviceProtocol,o=t===void 0?"https://":t,l=e?"".concat(o).concat(e):s1;return new mk({fetchHandler:new a1,searchService:Vf.default,userService:new o1,baseUrl:l})}},tT=Mo(_templateObject551()),nT=Mo(_templateObject552()),Kc=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.itemId="",t.lists=[],t.closeDropdown=function(){t.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},t.selectDropdown=function(){t.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},t.updateDropdown=function(){t.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},t.optionClicked=function(o,l){var s;o.stopPropagation(),(s=l.selectedHandler)===null||s===void 0||s.call(l,l)},t.onSelected=function(o){return Bn(_assertThisInitialized(t),null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.selectDropdown(),s=this.lists.find(function(c){return o.id===c.id})||{},!s.item_is_member){r.next=7;break}return r.next=5,this.removeMember(s.id,s.member_id);case 5:r.next=9;break;case 7:return r.next=9,this.addMember(s.id);case 9:this.updateDropdown();case 10:case"end":return r.stop()}},l,this)}))},t.addCreatedList=function(o){return Bn(_assertThisInitialized(t),null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.addMember(o);case 2:this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown();case 4:case"end":return a.stop()}},l,this)}))},t.createList=function(){t.closeDropdown(),XT(t.userListsService,t.selectDropdown,t.addCreatedList)},t.userListOptions=function(){var o=[];return o=t.lists.map(function(l){return t.listOption(l)}),o.push(t.newListOption),o},_possibleConstructorReturn(t)}return _createClass(e,[{key:"listOption",value:function(o){var l=this;return{id:o.id,label:this.labelTemplate(o),isSelected:o.item_is_member,selectedHandler:function(s){return l.onSelected(s)}}}},{key:"newListOption",get:function(){var o=this;return{id:"create-new-list",label:kt(_templateObject553(),tT),selectedHandler:function(){return o.createList()}}}},{key:"addMember",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){var s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(s=this.userListsService)===null||s===void 0?void 0:s.addMemberToList(o,{identifier:this.itemId});case 3:this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:o,itemId:this.itemId}}));case 4:case"end":return r.stop()}},l,this)}))}},{key:"removeMember",value:function(o,l){return Bn(this,null,_regeneratorRuntime.default.mark(function s(){var a;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,(a=this.userListsService)===null||a===void 0?void 0:a.removeMemberFromList(o,l);case 3:this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:o,itemId:this.itemId}}));case 4:case"end":return c.stop()}},s,this)}))}},{key:"labelTemplate",value:function(o){var l=o.item_is_member,s=o.list_name;return kt(_templateObject554(),l?nT:Yn,s)}},{key:"optionTemplate",value:function(o){return kt(_templateObject555(),o.isSelected?"selected":"",this.buttonTemplate(o))}},{key:"buttonTemplate",value:function(o){var l=this;return kt(_templateObject556(),function(s){return l.optionClicked(s,o)},o.label)}},{key:"render",value:function(){var o=this;return kt(_templateObject557(),this.userListOptions().map(function(l){return o.optionTemplate(l)}))}}],[{key:"styles",get:function(){return zt(_templateObject558())}}]),e}(rr);Ie([an({type:String})],Kc.prototype,"itemId",void 0),Ie([an({type:Array})],Kc.prototype,"lists",void 0),Ie([an({type:Object})],Kc.prototype,"userListsService",void 0),Kc=Ie([Jr("item-user-lists")],Kc);var rT=kt(_templateObject559()),ra=function(g){"use strict";_inherits(e,g);var n=_createSuper(e);function e(){_classCallCheck(this,e);var t;return t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),t.baseHost="archive.org",t.item="",t.selectedCount=0,t.userListData=[],t.dataAction="initial",t.userListsService=eT.create({serviceUrl:t.baseHost}),t.listID="",t.closeListener=function(){t.dropdown.open=!1},t.selectListener=function(){t.dropdown.open=!1,t.dataActionTask.run(["initial"])},t.updateListener=function(){t.dataActionTask.run(["load"])},t.dataActionTask=new wI(_assertThisInitialized(t),{task:function(o){return Bn(_assertThisInitialized(t),[o],_regeneratorRuntime.default.mark(function l(s){var a,r;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=_slicedToArray(s,1),r=a[0],!(!this.item||!this.userListsService)){d.next=3;break}return d.abrupt("return",Q_);case 3:d.t0=r,d.next=d.t0==="load"?6:7;break;case 6:return d.abrupt("return",this.updateSelectedCount());case 7:return d.abrupt("return",Q_);case 8:case"end":return d.stop()}},l,this)}))},args:function(){return[t.dataAction]},autoRun:!1}),_possibleConstructorReturn(t)}return _createClass(e,[{key:"dropdownClicked",value:function(o){return Bn(this,null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o.preventDefault(),!this.dropdown.open){a.next=5;break}this.dropdown.open=!1,a.next=8;break;case 5:return a.next=7,this.dataActionTask.run(["load"]);case 7:this.dropdown.open=!0;case 8:case"end":return a.stop()}},l,this)}))}},{key:"firstUpdated",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=this,r.next=4,new Promise(function(c){return setTimeout(c,0)});case 4:this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(s=this.dataActionTask.run(["load"]))===null||s===void 0||s.then(function(){l.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:l.userListData.length}}))});case 8:case"end":return r.stop()}},o,this)}))}},{key:"updated",value:function(o){o.has("baseHost")&&this.baseHost&&o.get("baseHost")&&this.reloadService()}},{key:"reloadService",value:function(){this.userListsService=eT.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}},{key:"updateItemUserList",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l,s;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.userListsService.fetchOwnListsContainingItem(this.item);case 3:if(s=r.sent,s.success){r.next=6;break}throw new Error((l=s.error)===null||l===void 0?void 0:l.message);case 6:return r.abrupt("return",(this.userListData=s.success,this.userListData));case 7:case"end":return r.stop()}},o,this)}))}},{key:"updateSelectedCount",value:function(){return Bn(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.updateItemUserList();case 2:return l=a.sent,a.abrupt("return",(this.selectedCount=l.filter(function(r){return r.item_is_member}).length,this.selectedCount));case 4:case"end":return a.stop()}},o,this)}))}},{key:"renderIcon",value:function(o){return kt(_templateObject560(),o)}},{key:"renderError",value:function(){return kt(_templateObject561())}},{key:"mainButton",value:function(o){return kt(_templateObject562(),o?this.renderIcon(o):this.renderError())}},{key:"isFetched",get:function(){return this.dataActionTask.status===ME.COMPLETE}},{key:"isDisabled",get:function(){return this.dataActionTask.status!==ME.COMPLETE}},{key:"itemUserListsTemplate",get:function(){var o=this;return kt(_templateObject563(),this.item,this.userListData,this.userListsService,function(l){return o.dispatchEvent(new CustomEvent("memberAdded",{detail:pi(ei({},l.detail),{total_items:o.selectedCount})}))},function(l){return o.dispatchEvent(new CustomEvent("memberRemoved",{detail:pi(ei({},l.detail),{total_items:o.selectedCount})}))},function(l){o.dispatchEvent(new CustomEvent("userListError",{detail:ei({},l.detail)}))},function(l){o.dispatchEvent(new CustomEvent("listCreated",{detail:pi(ei({},l.detail),{total_lists:o.selectedCount})}))})}},{key:"render",value:function(){var o=this;return kt(_templateObject564(),this.isDisabled,!1,!0,!0,!0,!0,this.isDisabled?Yn:this.dropdownClicked,this.dataActionTask.render({initial:function(){return o.mainButton(rT)},pending:function(){return o.mainButton(rT)},complete:function(l){return o.mainButton(l===0?tT:nT)},error:function(){return o.mainButton(void 0)}}),this.itemUserListsTemplate)}}]),e}(rr);ra.styles=zt(_templateObject565()),Ie([an({type:String})],ra.prototype,"baseHost",void 0),Ie([an({type:String})],ra.prototype,"item",void 0),Ie([Wi()],ra.prototype,"selectedCount",void 0),Ie([Wi({hasChanged:function(n,e){if((n==null?void 0:n.length)!==(e==null?void 0:e.length))return!0;for(var t=0;t<n.length;t+=1)if(n[t].item_is_member!==e[t].item_is_member)return!0;return!1}})],ra.prototype,"userListData",void 0),Ie([Wi()],ra.prototype,"dataAction",void 0),Ie([Wi()],ra.prototype,"userListsService",void 0),Ie([li("ia-dropdown")],ra.prototype,"dropdown",void 0),ra=Ie([Jr("ia-item-user-lists")],ra),bo(),document.addEventListener("DOMContentLoaded",function(){var g=function(){var c,d=!!((c=window.localStorage)!=null&&c.getItem(l));d||(e==null||e.setAttribute("aria-label","New feature: Add to list"),s==null||s.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",a),s==null||s.addEventListener("click",a))},n,e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){var t=(n=archive_analytics.mediaType)!=null?n:"unknown mediatype",o="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",function(r){var c,d,h=(d=(c=r.detail)==null?void 0:c.listCount)!=null?d:0;On("UserLists - onload, we send total lists",r.detail),archive_analytics.send_event(o,"onload",h)}),e.addEventListener("memberAdded",function(r){On("UserLists - memberAdded, we send mediatype",t),archive_analytics.send_event(o,"memberAdded",t)}),e.addEventListener("memberRemoved",function(r){On("UserLists - memberRemoved, we send mediatype",t),archive_analytics.send_event(o,"memberRemoved",t)}),e.addEventListener("listCreated",function(){On("UserLists - listCreated, we send mediatype",t),archive_analytics.send_event(o,"listCreated",t)})}var l="UserLists-itemBtnCalloutDismissed",s=document.querySelector("#item-user-lists > .callout");function a(){var r;(r=window.localStorage)==null||r.setItem(l,!0),s==null||s.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",a)}g()}),Si(),window.$=ne,function(){var n=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)};if(window.archive_analytics){var e=document.head.querySelector('meta[property="mediatype"]');if(e){var t=e.getAttribute("content");t==="texts"&&setTimeout(function(){for(var o=document.getElementsByClassName("BRpagecontainer")||[],l=0;l<o.length;l++)if(n(o[l]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)}}}(),ne(function(){return Bn(this,null,_regeneratorRuntime.default.mark(function n(){var e,t,o;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=!ne(".js-bookreader").length,s.next=4,Promise.resolve().then(function(){return Gj(),J7});case 4:return s.next=6,Promise.resolve().then(function(){return Kj(),u9});case 6:return s.next=8,Promise.resolve().then(function(){return Xj(),_9});case 8:return s.next=10,Promise.resolve().then(function(){return Jj(),M9});case 10:return s.next=12,Promise.resolve().then(function(){return Zj(),q9});case 12:return s.next=14,Promise.resolve().then(function(){return Qj(),r4});case 14:return s.next=16,Promise.resolve().then(function(){return eP(),v4});case 16:return s.next=18,Promise.resolve().then(function(){return tP(),O4});case 18:return s.next=20,Promise.resolve().then(function(){return nP(),B4});case 20:return s.next=22,Promise.resolve().then(function(){return iP(),rP});case 22:return s.next=24,Promise.resolve().then(function(){return _P(),KC});case 24:if(On("** BR Resources loaded **",(e=window.BookReader)==null?void 0:e.version),!t){s.next=32;break}return o=document.body.classList.contains("embedded"),s.next=29,Promise.all([Promise.resolve().then(function(){return NP(),x6}),o?Promise.resolve().then(function(){return hI(),qO}):document.querySelector("body").classList.contains("devbox")?Promise.resolve().then(function(){return VO(),N_}):Promise.resolve().then(function(){return VO(),N_})]);case 29:On("** Liner Notes loaded **"),s.next=35;break;case 32:return s.next=34,Promise.all([Promise.resolve().then(function(){return vI(),PE}),Promise.resolve().then(function(){return gI(),mI}),Promise.resolve().then(function(){return bI(),yI})]);case 34:On("** BR Resources loaded **");case 35:ne(".js-bookreader").each(function(a,r){var c=JSON.parse(ne(r).val());ne.ajax({url:c.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(d){var h=wr.paramsToJSON(),p=function(){return{autoflip:parseInt(h.autoflip,10)===1,flipSpeed:h.flipSpeed||2e3,flipDelay:h.flipDelay||5e3}},v={el:"#BookReader",urlHistoryBasePath:c.urlHistoryBasePath,resumeCookiePath:c.resumeCookiePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:h.view==="theater",initialSearchTerm:c.initialSearchTerm,searchInsidePreTag:"<IA_FTS_MATCH>",searchInsidePostTag:"</IA_FTS_MATCH>",onePage:{autofit:c.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:c.purchase_url};c.br_ui==="embed"&&(v.mode=1,v.ui="embed",v.enableFSLogoShortcut=!1),c.has_multiple_readable_files&&(v.enableMultipleBooks=!0,v.multipleBooksList=c.multipleBooksList);var k=p();window.BookReaderJSIAinit(d.data,v),k.autoflip&&window.br.autoToggle(k);var x=decodeURIComponent(h.options).split("|"),S=h.wrapper==="false"||x.indexOf("view-only")>-1;S&&v.ui!=="embed"&&ne("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})});case 36:case"end":return s.stop()}},n)}))})})();/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*//*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright  [YEAR] W3C (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*//*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*//*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT  Zeno Rocha
   *)
*//*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*//*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes |  2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*//*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*//*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*//*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2022 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/

// @license-end
//# sourceMappingURL=details-bookreader.min.js.map